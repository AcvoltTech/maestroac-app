<!DOCTYPE html>
<html lang="es">
<head>
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#f39c12">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Maestro ACVOLT">
    <link rel="apple-touch-icon" href="icons/icon-152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/icon-180.png">
    <link rel="apple-touch-icon" sizes="167x167" href="icons/icon-167.png">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Maestro ACVOLT">
    <meta name="msapplication-TileColor" content="#1a1a2e">
    <meta name="msapplication-TileImage" content="icons/icon-144.png">
    <meta name="msapplication-config" content="browserconfig.xml">
    
    <!-- Open Graph / Social -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Maestro ACVOLT - Certificación HVAC Profesional">
    <meta property="og:description" content="App #1 de certificación HVAC en español. 1,124 preguntas para EPA 608, NATE, OSHA 30. Por Maestro Mario - Nivel 33.">
    <meta property="og:image" content="icons/icon-512.png">
    <meta name="twitter:card" content="summary_large_image">

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#1565C0">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>Maestro ACVOLT - HVAC Training App</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f0f2f5; min-height: 100vh; color: #1e293b; }
    .container { max-width: 600px; margin: 0 auto; padding: 20px; min-height: 100vh; }
    .screen { display: none; }
    .screen.active { display: flex !important; flex-direction: column; }
    .header { text-align: center; padding: 30px 0; }
    .logo { font-size: 50px; margin-bottom: 10px; }
    .logo-img { max-width: 200px; height: auto; margin-bottom: 15px; }
    h1 { font-size: 28px; margin-bottom: 5px; }
    h2 { font-size: 22px; color: #E31937; margin-bottom: 10px; }
    .subtitle { color: #64748b; font-size: 16px; }
    .card { background: #ffffff; border-radius: 15px; padding: 25px; margin: 15px 0; box-shadow: 0 2px 12px rgba(0,0,0,0.08); border: 1px solid #e2e8f0; }
    .form-group { margin-bottom: 20px; }
    .form-group label { display: block; margin-bottom: 8px; color: #64748b; font-size: 14px; }
    .form-group input { width: 100%; padding: 15px; border: 2px solid #e2e8f0; border-radius: 10px; background: #f8fafc; color: #1e293b; font-size: 16px; }
    .form-group input::placeholder { color: #94a3b8; }
    .form-group input:focus { outline: none; border-color: #f39c12; background: #fff; }
    .btn { width: 100%; padding: 18px; border: none; border-radius: 12px; font-size: 18px; font-weight: bold; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; }
    .btn-primary { background: linear-gradient(135deg, #E31937, #C62828); color: white; }
    .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(227,25,55,0.3); }
    .btn-secondary { background: #f0f2f5; color: #1e293b; margin-top: 10px; border: 1px solid #e2e8f0; }
    .btn-secondary:hover { background: #e2e8f0; }
    .level-card { background: #ffffff; border-radius: 12px; padding: 15px 18px; margin: 8px 0; cursor: pointer; transition: all 0.3s; display: flex; justify-content: space-between; align-items: center; }
    .level-card:hover { background: #f8fafc; transform: translateX(5px); border-color: #f39c12; }
    .level-info h3 { font-size: 18px; margin-bottom: 5px; }
    .level-icon { font-size: 30px; }
    .progress-bar { height: 8px; background: #e2e8f0; border-radius: 4px; margin-top: 10px; overflow: hidden; }
    .progress-fill { height: 100%; background: #f39c12; border-radius: 4px; transition: width 0.5s; }
    .progress-text { font-size: 12px; color: #64748b; margin-top: 5px; }
    .question-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    .question-count { background: #e2e8f0; padding: 8px 15px; border-radius: 20px; font-size: 14px; color: #1e293b; }
    .question-category { background: #f39c12; padding: 5px 12px; border-radius: 15px; font-size: 12px; color: #000; }
    .question-text { font-size: 20px; line-height: 1.5; margin-bottom: 25px; padding: 20px; background: #f8fafc; border-radius: 12px; border: 1px solid #e2e8f0; }
    .options { display: flex; flex-direction: column; gap: 12px; }
    .option { padding: 18px; background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 12px; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; gap: 15px; }
    .option:hover:not(.disabled) { background: #fff; border-color: #f39c12; }
    .option.correct { background: rgba(39,174,96,0.3); border-color: #27ae60; }
    .option.incorrect { background: rgba(231,76,60,0.3); border-color: #e74c3c; }
    .option.disabled { cursor: not-allowed; opacity: 0.7; }
    .option-letter { width: 35px; height: 35px; background: #e2e8f0; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0; }
    .option.correct .option-letter { background: #27ae60; }
    .option.incorrect .option-letter { background: #e74c3c; }
    .feedback { margin-top: 20px; padding: 15px; border-radius: 12px; display: none; }
    .feedback.show { display: block; }
    .feedback.correct { background: rgba(39,174,96,0.2); border: 1px solid #27ae60; }
    .feedback.incorrect { background: rgba(231,76,60,0.2); border: 1px solid #e74c3c; }
    .results { text-align: center; }
    .score-circle { width: 180px; height: 180px; margin: 30px auto; position: relative; }
    .score-circle svg { transform: rotate(-90deg); }
    .score-bg { fill: none; stroke: #e2e8f0; stroke-width: 12; }
    .score-fill { fill: none; stroke-width: 12; stroke-linecap: round; transition: stroke-dashoffset 1s ease-out; }
    .score-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; }
    .score-value { font-size: 48px; font-weight: bold; }
    .score-label { font-size: 14px; color: #64748b; }
    .stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 25px 0; }
    .stat { background: #f8fafc; padding: 20px 10px; border-radius: 12px; text-align: center; }
    .stat-value { font-size: 28px; font-weight: bold; }
    .stat-label { font-size: 12px; color: #64748b; margin-top: 5px; }
    .stat.correct .stat-value { color: #27ae60; }
    .stat.incorrect .stat-value { color: #e74c3c; }
    .stat.time .stat-value { color: #3498db; }
    .greeting { font-size: 18px; color: #f39c12; margin-bottom: 5px; }
    .back-btn { background: #e2e8f0; border: none; color: #1e293b; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-size: 14px; }
    .back-btn:hover { background: #cbd5e1; }
    .quiz-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    /* Study Sections Styles */
    .study-category-card { background: #ffffff; border-radius: 15px; padding: 20px; margin: 12px 0; cursor: pointer; transition: all 0.3s; display: flex; justify-content: space-between; align-items: center; }
    .study-category-card:hover { background: #f8fafc; transform: translateX(5px); }
    .study-category-info h3 { font-size: 18px; margin-bottom: 5px; }
    .study-category-info p { font-size: 14px; color: #64748b; }
    .study-category-icon { font-size: 30px; }
    .study-question-card { background: #f8fafc; border-radius: 12px; padding: 20px; margin: 15px 0; border-left: 4px solid #f39c12; }
    .study-question-text { font-size: 18px; line-height: 1.5; margin-bottom: 15px; color: #1e293b; }
    .study-options { margin-bottom: 15px; }
    .study-option { padding: 12px 15px; margin: 8px 0; background: #ffffff; border-radius: 8px; display: flex; align-items: center; gap: 12px; }
    .study-option.correct-answer { background: rgba(39,174,96,0.2); border: 1px solid #27ae60; }
    .study-option-letter { width: 28px; height: 28px; background: #e2e8f0; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 14px; flex-shrink: 0; }
    .study-option.correct-answer .study-option-letter { background: #27ae60; }
    .study-explanation { background: #fff8e7; border-radius: 8px; padding: 15px; margin-top: 10px; border-left: 3px solid #f39c12; }
    .study-explanation-title { font-weight: bold; color: #f39c12; margin-bottom: 5px; font-size: 14px; }
    .study-explanation-text { color: #64748b; font-size: 14px; line-height: 1.5; }
    .study-question-number { background: #f39c12; color: #000; padding: 4px 10px; border-radius: 12px; font-size: 12px; font-weight: bold; display: inline-block; margin-bottom: 10px; }
    .study-level-tabs { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
    .study-level-tab { padding: 10px 20px; background: #e2e8f0; border: none; border-radius: 20px; color: #1e293b; cursor: pointer; transition: all 0.3s; font-size: 14px; }
    .study-level-tab:hover { background: #cbd5e1; }
    .study-level-tab.active { background: #f39c12; color: #000; }
    .study-back-nav { display: flex; align-items: center; gap: 15px; margin-bottom: 20px; }
    .study-breadcrumb { color: #64748b; font-size: 14px; }
    /* Video Lesson Styles */
    .video-lesson-card { background: #ffffff; border-radius: 15px; padding: 20px; margin: 12px 0; cursor: pointer; transition: all 0.3s; display: flex; justify-content: space-between; align-items: center; }
    .video-lesson-card:hover { background: #f8fafc; transform: translateX(5px); }
    .video-lesson-info h3 { font-size: 18px; margin-bottom: 5px; }
    .video-lesson-info p { font-size: 14px; color: #64748b; }
    .video-lesson-icon { font-size: 30px; }
    .video-lesson-progress { margin-top: 8px; }
    .video-progress-bar { height: 6px; background: #e2e8f0; border-radius: 3px; overflow: hidden; }
    .video-progress-fill { height: 100%; background: #27ae60; border-radius: 3px; transition: width 0.3s; }
    .video-progress-text { font-size: 11px; color: #64748b; margin-top: 4px; }
    .video-player-container { background: #000; border-radius: 12px; overflow: hidden; margin-bottom: 20px; position: relative; }
    .video-player-container video { width: 100%; display: block; }
    .video-player-container iframe { width: 100%; aspect-ratio: 16/9; border: none; display: block; }
    .video-info { margin-bottom: 20px; }
    .video-title { font-size: 20px; margin-bottom: 8px; }
    .video-description { color: #64748b; font-size: 14px; line-height: 1.5; }
    .video-controls { display: flex; flex-direction: column; gap: 10px; }
    .video-status { display: flex; align-items: center; gap: 10px; padding: 15px; background: #f8fafc; border-radius: 12px; margin-bottom: 15px; }
    .video-status-icon { font-size: 24px; }
    .video-status-text { flex: 1; }
    .video-status-title { font-weight: bold; }
    .video-status-detail { font-size: 12px; color: #64748b; }
    .video-completed-badge { background: rgba(39,174,96,0.2); border: 1px solid #27ae60; }
    .video-in-progress-badge { background: rgba(243,156,18,0.2); border: 1px solid #f39c12; }
    .btn-video-primary { background: linear-gradient(135deg, #27ae60, #2ecc71); }
    .btn-video-primary:hover { box-shadow: 0 10px 30px rgba(39,174,96,0.3); }
    .btn-video-completed { background: rgba(39,174,96,0.3); border: 2px solid #27ae60; cursor: default; }
    .btn-video-secondary { background: #f0f2f5; border: 1px solid #e2e8f0; color: #1e293b; }
    .btn-video-secondary:hover { background: #e2e8f0; }
    .video-lesson-completed { border-left: 4px solid #27ae60; }
    /* YouTube Video Integration Styles */
    .video-level-tabs { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 15px; justify-content: center; }
    .video-level-tab { padding: 10px 16px; background: #e2e8f0; border: none; border-radius: 20px; color: #1e293b; cursor: pointer; transition: all 0.3s; font-size: 13px; }
    .video-level-tab:hover { background: #cbd5e1; }
    .video-level-tab.active { background: #f39c12; color: #000; font-weight: bold; }
    .video-progress-summary { display: flex; justify-content: space-between; padding: 12px 15px; background: #f8fafc; border-radius: 10px; margin-bottom: 15px; font-size: 14px; }
    .video-category-section { margin-bottom: 20px; }
    .video-category-header { background: rgba(243,156,18,0.2); padding: 12px 15px; border-radius: 10px; margin-bottom: 10px; display: flex; align-items: center; gap: 10px; }
    .video-category-header h3 { font-size: 16px; color: #f39c12; margin: 0; }
    .video-card { background: #ffffff; border-radius: 12px; padding: 12px; margin-bottom: 10px; cursor: pointer; transition: all 0.3s; display: flex; gap: 12px; align-items: center; }
    .video-card:hover { background: #f8fafc; transform: translateX(5px); }
    .video-thumbnail { width: 120px; height: 68px; border-radius: 8px; object-fit: cover; flex-shrink: 0; background: rgba(0,0,0,0.3); }
    .video-card-info { flex: 1; min-width: 0; }
    .video-card-info h4 { font-size: 14px; margin-bottom: 4px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .video-card-info p { font-size: 12px; color: #64748b; margin-bottom: 6px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
    .video-card-meta { font-size: 11px; color: #888; display: flex; gap: 10px; }
    .video-card.completed { border-left: 3px solid #27ae60; }
    .video-card.in-progress { border-left: 3px solid #f39c12; }
    .youtube-embed { width: 100%; aspect-ratio: 16/9; border: none; border-radius: 12px; }
    .video-lesson-in-progress { border-left: 4px solid #f39c12; }
    /* Certificates Styles */
    .certificates-header { text-align: center; padding: 20px 0; }
    .certificate-card { background: #ffffff; border-radius: 15px; padding: 25px; margin: 15px 0; border: 2px solid rgba(255,215,0,0.3); position: relative; overflow: hidden; }
    .certificate-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, #f39c12, #ffd700, #f39c12); }
    .certificate-badge { width: 70px; height: 70px; background: linear-gradient(135deg, #ffd700, #f39c12); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 35px; margin: 0 auto 15px; box-shadow: 0 4px 15px rgba(243,156,18,0.4); }
    .certificate-level { font-size: 22px; font-weight: bold; color: #ffd700; margin-bottom: 5px; text-align: center; }
    .certificate-title { font-size: 14px; color: #64748b; text-align: center; margin-bottom: 15px; }
    .certificate-details { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px; }
    .certificate-detail { background: #f8fafc; padding: 12px; border-radius: 8px; text-align: center; }
    .certificate-detail-label { font-size: 11px; color: #64748b; margin-bottom: 3px; }
    .certificate-detail-value { font-size: 16px; font-weight: bold; color: #1e293b; }
    .certificate-id { font-size: 10px; color: #94a3b8; text-align: center; margin-top: 15px; font-family: monospace; }
    .btn-print-cert { margin-top: 15px; background: linear-gradient(135deg, #3498db, #2980b9); font-size: 14px; padding: 12px; }
    .btn-print-cert:hover { background: linear-gradient(135deg, #2980b9, #1f6dad); }
    
    /* Print Certificate Styles */
    @media print {
      body * { visibility: hidden; }
      #printableCertificate, #printableCertificate * { visibility: visible; }
      #printableCertificate { position: absolute; left: 0; top: 0; width: 100%; }
    }
    
    .printable-certificate {
      display: none;
      width: 800px;
      min-height: 600px;
      margin: 0 auto;
      background: white;
      padding: 40px;
      font-family: 'Georgia', serif;
      color: #333;
      position: relative;
      border: 15px solid #1565C0;
      box-shadow: inset 0 0 0 5px #E31937, inset 0 0 0 10px #FFD700;
    }
    
    .cert-header { text-align: center; margin-bottom: 30px; }
    .cert-logo { max-width: 200px; height: auto; margin-bottom: 15px; }
    .cert-school-name { font-size: 28px; font-weight: bold; color: #1565C0; margin: 10px 0; letter-spacing: 2px; }
    .cert-subtitle { font-size: 14px; color: #666; letter-spacing: 1px; }
    
    .cert-body { text-align: center; margin: 30px 0; }
    .cert-title { font-size: 36px; color: #E31937; font-weight: bold; margin-bottom: 20px; letter-spacing: 3px; }
    .cert-level-badge { display: inline-block; background: linear-gradient(135deg, #FFD700, #FFA500); color: #333; padding: 10px 30px; border-radius: 25px; font-size: 20px; font-weight: bold; margin-bottom: 25px; }
    .cert-recipient { font-size: 16px; color: #666; margin-bottom: 10px; }
    .cert-recipient-name { font-size: 32px; color: #1565C0; font-weight: bold; border-bottom: 2px solid #1565C0; display: inline-block; padding-bottom: 5px; margin-bottom: 20px; }
    .cert-description { font-size: 14px; color: #555; line-height: 1.6; max-width: 600px; margin: 0 auto 25px; }
    
    .cert-details { display: flex; justify-content: space-around; margin: 30px 0; padding: 20px; background: #f9f9f9; border-radius: 10px; }
    .cert-detail-item { text-align: center; }
    .cert-detail-label { font-size: 12px; color: #888; text-transform: uppercase; letter-spacing: 1px; }
    .cert-detail-value { font-size: 18px; color: #333; font-weight: bold; margin-top: 5px; }
    
    .cert-footer { display: flex; justify-content: space-between; align-items: flex-end; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; }
    .cert-signature { text-align: center; }
    .cert-signature-line { width: 200px; border-bottom: 1px solid #333; margin-bottom: 5px; }
    .cert-signature-name { font-size: 14px; font-weight: bold; }
    .cert-signature-title { font-size: 11px; color: #666; }
    .cert-qr { text-align: center; }
    .cert-id-text { font-size: 10px; color: #888; margin-top: 10px; font-family: monospace; }
    
    .cert-seal { position: absolute; bottom: 30px; right: 140px; width: 80px; height: 80px; border: 3px solid #FFD700; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, rgba(255,215,0,0.1), rgba(255,165,0,0.1)); }
    .cert-seal-text { font-size: 10px; text-align: center; color: #B8860B; font-weight: bold; text-transform: uppercase; }
    .no-certificates { text-align: center; padding: 40px 20px; }
    .no-certificates-icon { font-size: 60px; margin-bottom: 20px; opacity: 0.5; }
    .no-certificates-text { color: #64748b; font-size: 16px; line-height: 1.6; }
    .certificates-nav-btn { display: flex; align-items: center; justify-content: center; gap: 10px; background: linear-gradient(135deg, rgba(255,215,0,0.2), rgba(243,156,18,0.2)); border: 1px solid rgba(255,215,0,0.3); }
    .certificates-nav-btn:hover { background: linear-gradient(135deg, rgba(255,215,0,0.3), rgba(243,156,18,0.3)); }
    .certificate-earned-badge { position: absolute; top: 15px; right: 15px; background: #27ae60; color: white; padding: 5px 10px; border-radius: 12px; font-size: 11px; font-weight: bold; }
    /* Mi Perfil Styles */
    .profile-section { border-bottom: 1px solid #e2e8f0; padding-bottom: 20px; }
    .profile-section:last-of-type { border-bottom: none; }
    .profile-field { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid #f0f2f5; }
    .profile-field:last-child { border-bottom: none; }
    
    /* Avatar and Badge System */
    .profile-avatar-section { text-align: center; padding: 20px 0 30px; }
    .profile-avatar-container { position: relative; display: inline-block; }
    .profile-avatar { width: 120px; height: 120px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 60px; margin: 0 auto 15px; position: relative; box-shadow: 0 8px 32px rgba(0,0,0,0.15); border: 4px solid #e2e8f0; }
    .profile-avatar.nivel-nuevo { background: linear-gradient(135deg, #607D8B, #455A64); }
    .profile-avatar.nivel-principiante { background: linear-gradient(135deg, #4CAF50, #2E7D32); }
    .profile-avatar.nivel-intermedio { background: linear-gradient(135deg, #2196F3, #1565C0); }
    .profile-avatar.nivel-avanzado { background: linear-gradient(135deg, #9C27B0, #6A1B9A); }
    .profile-avatar.nivel-elite { background: linear-gradient(135deg, #FF9800, #E65100); }
    .profile-avatar.nivel-platino { background: linear-gradient(135deg, #FFD700, #FFA000); border-color: #FFD700; }
    .profile-badge { position: absolute; bottom: -5px; right: -5px; width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 22px; box-shadow: 0 4px 15px rgba(0,0,0,0.15); border: 3px solid #e2e8f0; }
    .profile-badge.badge-nuevo { background: linear-gradient(135deg, #607D8B, #455A64); }
    .profile-badge.badge-principiante { background: linear-gradient(135deg, #4CAF50, #2E7D32); }
    .profile-badge.badge-intermedio { background: linear-gradient(135deg, #2196F3, #1565C0); }
    .profile-badge.badge-avanzado { background: linear-gradient(135deg, #9C27B0, #6A1B9A); }
    .profile-badge.badge-elite { background: linear-gradient(135deg, #FF9800, #E65100); }
    .profile-badge.badge-platino { background: linear-gradient(135deg, #FFD700, #FFA000); }
    .profile-level-title { font-size: 22px; font-weight: bold; margin-bottom: 5px; }
    .profile-level-title.titulo-nuevo { color: #90A4AE; }
    .profile-level-title.titulo-principiante { color: #81C784; }
    .profile-level-title.titulo-intermedio { color: #64B5F6; }
    .profile-level-title.titulo-avanzado { color: #BA68C8; }
    .profile-level-title.titulo-elite { color: #FFB74D; }
    .profile-level-title.titulo-platino { color: #FFD700; text-shadow: 0 0 10px rgba(255,215,0,0.5); }
    .profile-level-subtitle { color: #64748b; font-size: 14px; }
    .profile-progress-bar { width: 80%; max-width: 250px; height: 8px; background: #e2e8f0; border-radius: 4px; margin: 15px auto 5px; overflow: hidden; }
    .profile-progress-fill { height: 100%; border-radius: 4px; transition: width 0.5s ease; }
    .profile-progress-fill.progress-nuevo { background: #607D8B; }
    .profile-progress-fill.progress-principiante { background: linear-gradient(90deg, #4CAF50, #81C784); }
    .profile-progress-fill.progress-intermedio { background: linear-gradient(90deg, #2196F3, #64B5F6); }
    .profile-progress-fill.progress-avanzado { background: linear-gradient(90deg, #9C27B0, #BA68C8); }
    .profile-progress-fill.progress-elite { background: linear-gradient(90deg, #FF9800, #FFB74D); }
    .profile-progress-fill.progress-platino { background: linear-gradient(90deg, #FFD700, #FFEB3B); }
    .profile-progress-text { color: #64748b; font-size: 12px; }
    .profile-badges-earned { display: flex; justify-content: center; gap: 10px; margin-top: 20px; flex-wrap: wrap; }
    .mini-badge { width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; opacity: 0.3; transition: all 0.3s; }
    .mini-badge.earned { opacity: 1; box-shadow: 0 4px 15px rgba(0,0,0,0.3); transform: scale(1.1); }
    .mini-badge.badge-principiante { background: linear-gradient(135deg, #4CAF50, #2E7D32); }
    .mini-badge.badge-intermedio { background: linear-gradient(135deg, #2196F3, #1565C0); }
    .mini-badge.badge-avanzado { background: linear-gradient(135deg, #9C27B0, #6A1B9A); }
    .mini-badge.badge-elite { background: linear-gradient(135deg, #FF9800, #E65100); }
    .mini-badge.badge-platino { background: linear-gradient(135deg, #FFD700, #FFA000); }
    .profile-label { color: #64748b; font-size: 14px; }
    .profile-value { color: #1e293b; font-size: 14px; font-weight: 500; text-align: right; max-width: 60%; word-break: break-word; }
    .technician-number-card { background: linear-gradient(135deg, rgba(243,156,18,0.2) 0%, rgba(230,126,34,0.2) 100%); border: 2px solid rgba(243,156,18,0.5); border-radius: 15px; padding: 25px; text-align: center; margin-top: 10px; }
    .technician-number-value { font-size: 24px; font-weight: bold; color: #f39c12; font-family: monospace; letter-spacing: 2px; margin-bottom: 10px; word-break: break-all; }
    .technician-number-date { font-size: 12px; color: #64748b; }
    .profile-nav-btn { display: flex; align-items: center; justify-content: center; gap: 10px; background: linear-gradient(135deg, rgba(52,152,219,0.2), rgba(41,128,185,0.2)); border: 1px solid rgba(52,152,219,0.3); }
    .profile-nav-btn:hover { background: linear-gradient(135deg, rgba(52,152,219,0.3), rgba(41,128,185,0.3)); }
    /* Login Screen Styles */
    .login-error { color: #e74c3c; background: rgba(231,76,60,0.2); padding: 12px; border-radius: 8px; margin-bottom: 15px; text-align: center; display: none; }
    .login-error.show { display: block; }
    .form-group input[type="password"] { width: 100%; padding: 15px; border: 2px solid #e2e8f0; border-radius: 10px; background: #f8fafc; color: #1e293b; font-size: 16px; }
    /* Admin Section Styles */
    .admin-link { color: #f39c12; text-decoration: underline; cursor: pointer; font-size: 14px; margin-top: 15px; display: inline-block; }
    .admin-link:hover { color: #ffd700; }
    .admin-container { max-width: 1400px !important; width:100% !important; margin:0 auto; padding:15px 25px !important; min-height:100vh; }
    /* When admin dashboard is active, expand the parent container */
    #adminDashboardScreen.active { position:fixed; top:0; left:0; right:0; bottom:0; z-index:400; overflow-y:auto; background:linear-gradient(135deg,#fef9f0,#fff7ed); width:100vw !important; max-width:100vw !important; padding:0; }
    #adminTechnicianProfileScreen.active { position:fixed; top:0; left:0; right:0; bottom:0; z-index:400; overflow-y:auto; background:linear-gradient(135deg,#fef9f0,#fff7ed); width:100vw !important; max-width:100vw !important; padding:0; }
    .admin-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-wrap: wrap; gap: 15px; }
    .admin-title { display: flex; align-items: center; gap: 10px; }
    .admin-title h1 { font-size: 24px; margin: 0; }
    .admin-stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 25px; }
    .admin-stat-card { background: #f8fafc; border-radius: 12px; padding: 20px; text-align: center; transition: transform 0.2s, background 0.2s; }
    .admin-stat-card:hover { background: #ffffff; transform: translateY(-2px); }
    .admin-stat-value { font-size: 32px; font-weight: bold; color: #f39c12; }
    .admin-stat-label { font-size: 12px; color: #64748b; margin-top: 5px; }
    .admin-section { background: #f8fafc; border-radius: 15px; padding: 20px; margin-bottom: 20px; }
    .admin-section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
    .admin-section-title { font-size: 18px; font-weight: bold; color: #f39c12; }
    /* Admin 2-column layout for wide screens */
    .admin-grid-2col { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
    .admin-grid-full { grid-column: 1 / -1; }
    /* Force landscape message on mobile portrait */
    .admin-landscape-msg { display:none; text-align:center; padding:60px 20px; }
    .admin-landscape-msg .icon { font-size:60px; margin-bottom:15px; }
    .admin-landscape-msg p { color:#64748b; font-size:16px; line-height:1.6; }
    .admin-main-content { display:block; }
    @media (max-width: 768px) and (orientation: portrait) {
      .admin-landscape-msg { display:block; }
      .admin-main-content { display:none; }
    }
    @media (max-width: 900px) {
      .admin-grid-2col { grid-template-columns: 1fr; }
      .admin-stats-grid { grid-template-columns: repeat(2, 1fr); }
    }
    .technician-list { max-height: 400px; overflow-y: auto; }
    .technician-card { background: #ffffff; border-radius: 10px; padding: 15px; margin-bottom: 10px; cursor: pointer; transition: all 0.3s; border-left: 4px solid #3498db; }
    .technician-card:hover { background: #f8fafc; transform: translateX(5px); }
    .technician-card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
    .technician-name { font-size: 16px; font-weight: bold; color: #1e293b; }
    .technician-id { font-size: 11px; color: #64748b; font-family: monospace; }
    .technician-meta { display: flex; gap: 15px; flex-wrap: wrap; font-size: 12px; color: #64748b; }
    .technician-meta-item { display: flex; align-items: center; gap: 5px; }
    .admin-filter-bar { display: flex; gap: 10px; margin-bottom: 15px; flex-wrap: wrap; }
    .admin-filter-input { padding: 10px 15px; border: 2px solid #e2e8f0; border-radius: 8px; background: #f8fafc; color: #1e293b; font-size: 14px; flex: 1; min-width: 200px; }
    .admin-filter-input::placeholder { color: #94a3b8; }
    .admin-filter-select { padding: 10px 15px; border: 2px solid #e2e8f0; border-radius: 8px; background: #f8fafc; color: #1e293b; font-size: 14px; cursor: pointer; }
    .admin-filter-select option { background: #ffffff; color: #1e293b; }
    /* Admin Profile Detail */
    .admin-profile-card { background: #ffffff; border-radius: 15px; padding: 25px; margin-bottom: 20px; }
    .admin-profile-header { display: flex; align-items: center; gap: 20px; margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid #e2e8f0; }
    .admin-profile-avatar { width: 80px; height: 80px; background: linear-gradient(135deg, #f39c12, #e67e22); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 36px; }
    .admin-profile-info h2 { margin: 0 0 5px 0; font-size: 22px; }
    .admin-profile-info p { margin: 0; color: #64748b; font-size: 14px; }
    .admin-profile-details { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; }
    .admin-detail-item { background: #f8fafc; padding: 12px; border-radius: 8px; }
    .admin-detail-label { font-size: 11px; color: #64748b; margin-bottom: 3px; text-transform: uppercase; }
    .admin-detail-value { font-size: 14px; color: #1e293b; font-weight: 500; }
    /* Progress Timeline */
    .progress-timeline { margin-top: 20px; }
    .timeline-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
    .timeline-tabs { display: flex; gap: 8px; }
    .timeline-tab { padding: 8px 16px; border: none; border-radius: 20px; background: #e2e8f0; color: #1e293b; cursor: pointer; font-size: 13px; transition: all 0.3s; }
    .timeline-tab:hover { background: #cbd5e1; }
    .timeline-tab.active { background: #f39c12; color: #000; }
    .timeline-content { background: #f8fafc; border-radius: 12px; padding: 20px; }
    .timeline-entry { display: flex; gap: 15px; padding: 15px 0; border-bottom: 1px solid #e2e8f0; }
    .timeline-entry:last-child { border-bottom: none; }
    .timeline-date { min-width: 100px; color: #64748b; font-size: 13px; }
    .timeline-event { flex: 1; }
    .timeline-event-title { font-weight: bold; color: #1e293b; margin-bottom: 3px; }
    .timeline-event-detail { font-size: 13px; color: #64748b; }
    .timeline-empty { text-align: center; padding: 30px; color: #64748b; }
    /* Admin Charts */
    .admin-chart { background: #f8fafc; border-radius: 12px; padding: 20px; margin-bottom: 15px; }
    .admin-chart-title { font-size: 14px; color: #64748b; margin-bottom: 15px; }
    .admin-bar-chart { display: flex; flex-direction: column; gap: 10px; }
    .admin-bar-item { display: flex; align-items: center; gap: 10px; }
    .admin-bar-label { min-width: 100px; font-size: 13px; color: #1e293b; }
    .admin-bar-container { flex: 1; height: 24px; background: #e2e8f0; border-radius: 12px; overflow: hidden; }
    .admin-bar-fill { height: 100%; border-radius: 12px; transition: width 0.5s; display: flex; align-items: center; justify-content: flex-end; padding-right: 8px; font-size: 11px; color: white; font-weight: bold; }
    .no-data-message { text-align: center; padding: 40px 20px; color: #64748b; }
    .no-data-icon { font-size: 50px; margin-bottom: 15px; opacity: 0.5; }
    /* Lock System Styles */
    .level-card.locked { opacity: 0.6; cursor: not-allowed; position: relative; border: 2px solid #fecaca; }
    .level-card.locked:hover { transform: none; background: #fff; }
    .cert-card, .membership-card { background: #ffffff; border-radius:12px; padding:10px 6px; text-align:center; cursor:pointer; transition: all 0.3s; border: 1px solid #e2e8f0; position:relative; box-shadow: 0 1px 4px rgba(0,0,0,0.06); }
    .cert-card:hover, .membership-card:hover { transform: translateY(-2px); background: #f8fafc; border-color: #f39c12; }
    .cert-icon { font-size:28px; margin-bottom:4px; }
    .cert-name { color:#1e293b; font-size:11px; font-weight:bold; line-height:1.2; margin-bottom:3px; }
    .cert-price { color:#f39c12; font-size:11px; font-weight:bold; }
    .cert-lock { position:absolute; top:4px; right:4px; font-size:10px; opacity:0.7; }
    .membership-card.bronze { border-color: rgba(205,127,50,0.5); background: linear-gradient(135deg, rgba(205,127,50,0.15), rgba(139,90,43,0.15)); }
    .membership-card.silver { border-color: rgba(192,192,192,0.5); background: linear-gradient(135deg, rgba(192,192,192,0.15), rgba(150,150,150,0.15)); }
    .membership-card.gold { border-color: rgba(255,215,0,0.5); background: linear-gradient(135deg, rgba(255,215,0,0.15), rgba(218,165,32,0.15)); }
    .level-locked-overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.4); border-radius: 15px; display: flex; align-items: center; justify-content: center; }
    .level-locked-icon { font-size: 40px; }
    .matrix-unlock-modal { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center; z-index: 1000; }
    .matrix-unlock-content { background: linear-gradient(135deg, #1a5276 0%, #154360 100%); border-radius: 20px; padding: 30px; max-width: 400px; width: 90%; text-align: center; border: 2px solid #f39c12; }
    .matrix-unlock-content h3 { color: #f39c12; margin-bottom: 20px; font-size: 20px; }
    .matrix-unlock-content p { color: #64748b; margin-bottom: 20px; font-size: 14px; }
    .matrix-unlock-input { width: 100%; padding: 15px; border: 2px solid #e2e8f0; border-radius: 10px; background: #f8fafc; color: #1e293b; font-size: 16px; text-align: center; letter-spacing: 2px; font-family: monospace; margin-bottom: 15px; }
    .matrix-unlock-input:focus { outline: none; border-color: #f39c12; }
    .matrix-unlock-input::placeholder { color: #94a3b8; letter-spacing: normal; }
    .matrix-unlock-error { color: #e74c3c; background: rgba(231,76,60,0.2); padding: 10px; border-radius: 8px; margin-bottom: 15px; display: none; font-size: 14px; }
    .matrix-unlock-error.show { display: block; }
    .matrix-unlock-buttons { display: flex; gap: 10px; }
    .matrix-unlock-buttons .btn { flex: 1; padding: 15px; font-size: 14px; }
    .admin-lock-section { background: rgba(231,76,60,0.1); border: 1px solid rgba(231,76,60,0.3); border-radius: 12px; padding: 20px; margin-top: 20px; }
    .admin-lock-title { color: #e74c3c; font-size: 16px; font-weight: bold; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; }
    .admin-lock-status { display: flex; align-items: center; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #e2e8f0; }
    .admin-lock-status:last-child { border-bottom: none; }
    .admin-lock-toggle { padding: 8px 16px; border-radius: 20px; border: none; cursor: pointer; font-size: 12px; font-weight: bold; transition: all 0.3s; }
    .admin-lock-toggle.locked { background: #e74c3c; color: white; }
    .admin-lock-toggle.unlocked { background: #27ae60; color: white; }
    .matrix-id-display { font-family: monospace; background: rgba(243,156,18,0.2); padding: 5px 10px; border-radius: 5px; color: #f39c12; font-size: 12px; }
    .admin-lock-disabled-notice { background: rgba(243,156,18,0.1); border: 1px solid rgba(243,156,18,0.3); border-radius: 8px; padding: 15px; margin-top: 15px; color: #f39c12; font-size: 13px; text-align: center; }
  </style>
  <!-- Supabase SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<style id="wow-theme">
/* WOW THEME - Vibrant overrides */
body { background: linear-gradient(180deg, #f0f4ff 0%, #faf8ff 50%, #f0f4ff 100%) !important; }
.card { box-shadow: 0 4px 24px rgba(99,102,241,0.10), 0 1px 4px rgba(0,0,0,0.05) !important; border: 1px solid rgba(99,102,241,0.08) !important; border-radius: 20px !important; }
.form-group input:focus { border-color: #6366f1 !important; box-shadow: 0 0 0 4px rgba(99,102,241,0.15) !important; }
.btn { border-radius: 14px !important; font-weight: 700 !important; transition: all 0.3s !important; }
.btn-primary { box-shadow: 0 4px 15px rgba(227,25,55,0.35) !important; }
.btn-primary:hover { transform: translateY(-2px); box-shadow: 0 6px 25px rgba(227,25,55,0.45) !important; }
.btn-secondary { border: 2px solid #e0e7ff !important; }
.btn-secondary:hover { border-color: #6366f1 !important; box-shadow: 0 4px 16px rgba(99,102,241,0.15) !important; transform: translateY(-1px); }
.level-card { border: 2px solid #eef2ff !important; border-radius: 16px !important; box-shadow: 0 2px 12px rgba(99,102,241,0.08) !important; transition: all 0.3s !important; }
.level-card:hover { transform: translateX(5px) !important; border-color: #6366f1 !important; box-shadow: 0 4px 20px rgba(99,102,241,0.2) !important; }
.progress-fill { background: linear-gradient(90deg, #6366f1, #8b5cf6) !important; }
.progress-text { color: #6366f1 !important; font-weight: 600 !important; }
.question-number { background: linear-gradient(135deg, #6366f1, #8b5cf6) !important; color: white !important; box-shadow: 0 2px 10px rgba(99,102,241,0.3) !important; }
.question-text { background: linear-gradient(135deg, #fafbff, #f0f4ff) !important; border: 1px solid #e0e7ff !important; border-radius: 16px !important; }
.option { border: 2px solid #eef2ff !important; border-radius: 14px !important; transition: all 0.3s !important; }
.option:hover:not(.disabled) { border-color: #6366f1 !important; box-shadow: 0 4px 16px rgba(99,102,241,0.15) !important; transform: translateY(-2px); }
.option.correct { border-color: #10b981 !important; background: linear-gradient(135deg, #ecfdf5, #d1fae5) !important; box-shadow: 0 4px 16px rgba(16,185,129,0.2) !important; }
.option.incorrect { border-color: #ef4444 !important; background: linear-gradient(135deg, #fef2f2, #fee2e2) !important; }
.option-letter { background: linear-gradient(135deg, #eef2ff, #e0e7ff) !important; color: #6366f1 !important; font-weight: 700 !important; border-radius: 12px !important; }
.score-fill { filter: drop-shadow(0 0 6px rgba(99,102,241,0.4)) !important; }
.stat { background: linear-gradient(135deg, #fafbff, #f0f4ff) !important; border: 1px solid #e0e7ff !important; border-radius: 16px !important; }
.stat-value { color: #6366f1 !important; font-weight: 800 !important; }
.video-lesson-card, .video-card { border: 2px solid #eef2ff !important; border-radius: 16px !important; box-shadow: 0 2px 10px rgba(99,102,241,0.06) !important; transition: all 0.3s !important; }
.video-lesson-card:hover, .video-card:hover { border-color: #6366f1 !important; box-shadow: 0 4px 20px rgba(99,102,241,0.15) !important; transform: translateY(-2px) !important; }
.video-level-tab, .study-level-tab { border: 2px solid #eef2ff !important; border-radius: 25px !important; transition: all 0.3s !important; }
.video-level-tab:hover, .study-level-tab:hover { border-color: #6366f1 !important; color: #6366f1 !important; }
.video-level-tab.active, .study-level-tab.active { background: linear-gradient(135deg, #6366f1, #8b5cf6) !important; color: white !important; border-color: transparent !important; box-shadow: 0 4px 12px rgba(99,102,241,0.35) !important; }
.study-category-card { border: 2px solid #eef2ff !important; border-radius: 16px !important; box-shadow: 0 2px 10px rgba(99,102,241,0.06) !important; transition: all 0.3s !important; }
.study-category-card:hover { border-color: #6366f1 !important; box-shadow: 0 4px 20px rgba(99,102,241,0.15) !important; transform: translateY(-2px) !important; }
.cert-card, .membership-card { border: 2px solid #eef2ff !important; border-radius: 16px !important; box-shadow: 0 2px 10px rgba(99,102,241,0.08) !important; transition: all 0.3s !important; }
.cert-card:hover, .membership-card:hover { transform: translateY(-3px) !important; border-color: #6366f1 !important; box-shadow: 0 8px 25px rgba(99,102,241,0.2) !important; }
.certificate-card { box-shadow: 0 4px 20px rgba(255,215,0,0.15) !important; border-radius: 20px !important; }
.certificate-earned-badge { background: linear-gradient(135deg, #10b981, #059669) !important; box-shadow: 0 2px 8px rgba(16,185,129,0.3) !important; }
.profile-avatar { box-shadow: 0 8px 30px rgba(99,102,241,0.2) !important; border: 4px solid #e0e7ff !important; }
.admin-stat-card { border: 2px solid #eef2ff !important; border-radius: 16px !important; box-shadow: 0 2px 10px rgba(99,102,241,0.06) !important; transition: all 0.3s !important; }
.admin-stat-card:hover { transform: translateY(-3px) !important; box-shadow: 0 8px 25px rgba(99,102,241,0.15) !important; border-color: #6366f1 !important; }
.admin-section { border: 2px solid #eef2ff !important; border-radius: 20px !important; box-shadow: 0 2px 12px rgba(99,102,241,0.06) !important; }
.technician-card { border-left: 4px solid #6366f1 !important; transition: all 0.3s !important; }
.technician-card:hover { box-shadow: 0 4px 16px rgba(99,102,241,0.12) !important; transform: translateX(5px) !important; }
.admin-lock-toggle.locked { background: linear-gradient(135deg, #ef4444, #dc2626) !important; box-shadow: 0 2px 8px rgba(239,68,68,0.3) !important; }
.admin-lock-toggle.unlocked { background: linear-gradient(135deg, #10b981, #059669) !important; box-shadow: 0 2px 8px rgba(16,185,129,0.3) !important; }
.timeline-tab.active { background: linear-gradient(135deg, #6366f1, #8b5cf6) !important; color: white !important; }

/* TEXT BRILLO */
h1, h2, h3, .level-info h3, .technician-name, .cert-name, .video-lesson-info h3, .study-category-info h3 { color: #000000 !important; font-weight: 800 !important; text-shadow: 0 1px 2px rgba(0,0,0,0.08) !important; }
.subtitle, .profile-level-subtitle, .study-breadcrumb, .certificate-title, .admin-chart-title, .video-progress-text, .progress-text, .timeline-date, .score-label { color: #4f46e5 !important; font-weight: 700 !important; }
.stat-value, .admin-stat-value { color: #4338ca !important; font-weight: 900 !important; text-shadow: 0 1px 3px rgba(67,56,202,0.15) !important; }
.btn-primary { background: linear-gradient(135deg, #E31937, #b91c1c) !important; text-shadow: 0 1px 2px rgba(0,0,0,0.2) !important; }
.option-text, .question-text, .profile-value, .admin-detail-value, .certificate-detail-value, .cert-detail-value, .admin-bar-label { color: #0f172a !important; font-weight: 600 !important; }
.profile-label, .certificate-detail-label, .cert-detail-label, .admin-detail-label, .stat-label, .admin-stat-label, .video-card-info p, .technician-meta, .technician-id { color: #475569 !important; }

/* PREMIUM BADGE ICONS - Metallic circles behind emojis */
.level-icon {
  font-size: 32px !important;
  width: 56px !important; height: 56px !important;
  display: flex !important; align-items: center !important; justify-content: center !important;
  border-radius: 50% !important;
  background: linear-gradient(145deg, #f8fafc, #e2e8f0) !important;
  box-shadow: 0 4px 12px rgba(0,0,0,0.12), inset 0 2px 4px rgba(255,255,255,0.8), inset 0 -2px 4px rgba(0,0,0,0.06) !important;
  border: 2px solid rgba(0,0,0,0.08) !important;
  position: relative !important;
}
.level-icon::after {
  content: '' !important;
  position: absolute !important;
  top: 3px !important; left: 3px !important; right: 3px !important; bottom: 3px !important;
  border-radius: 50% !important;
  border: 1.5px solid rgba(255,255,255,0.6) !important;
  pointer-events: none !important;
}
.cert-icon {
  font-size: 32px !important;
  width: 52px !important; height: 52px !important;
  display: inline-flex !important; align-items: center !important; justify-content: center !important;
  border-radius: 50% !important;
  background: linear-gradient(145deg, #fffbeb, #fde68a) !important;
  box-shadow: 0 4px 12px rgba(245,158,11,0.25), inset 0 2px 4px rgba(255,255,255,0.8) !important;
  border: 2px solid rgba(245,158,11,0.3) !important;
}
.mini-badge {
  font-size: 16px !important;
  width: 32px !important; height: 32px !important;
  display: inline-flex !important; align-items: center !important; justify-content: center !important;
  border-radius: 50% !important;
  background: linear-gradient(145deg, #f8fafc, #e2e8f0) !important;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1), inset 0 1px 2px rgba(255,255,255,0.8) !important;
  border: 1.5px solid rgba(0,0,0,0.08) !important;
}

/* Per-level badge colors */
.badge-principiante, .level-card:nth-child(1) .level-icon { background: linear-gradient(145deg, #d1fae5, #6ee7b7) !important; border-color: rgba(16,185,129,0.3) !important; box-shadow: 0 4px 12px rgba(16,185,129,0.2), inset 0 2px 4px rgba(255,255,255,0.6) !important; }
.badge-intermedio, .level-card:nth-child(2) .level-icon { background: linear-gradient(145deg, #dbeafe, #93c5fd) !important; border-color: rgba(59,130,246,0.3) !important; box-shadow: 0 4px 12px rgba(59,130,246,0.2), inset 0 2px 4px rgba(255,255,255,0.6) !important; }
.badge-avanzado, .level-card:nth-child(3) .level-icon { background: linear-gradient(145deg, #fef3c7, #fcd34d) !important; border-color: rgba(245,158,11,0.3) !important; box-shadow: 0 4px 12px rgba(245,158,11,0.25), inset 0 2px 4px rgba(255,255,255,0.6) !important; }
.badge-elite, .level-card:nth-child(4) .level-icon { background: linear-gradient(145deg, #ede9fe, #c4b5fd) !important; border-color: rgba(139,92,246,0.3) !important; box-shadow: 0 4px 12px rgba(139,92,246,0.2), inset 0 2px 4px rgba(255,255,255,0.6) !important; }
.badge-platino, .level-card:nth-child(5) .level-icon { background: linear-gradient(145deg, #ccfbf1, #5eead4) !important; border-color: rgba(20,184,166,0.3) !important; box-shadow: 0 4px 12px rgba(20,184,166,0.2), inset 0 2px 4px rgba(255,255,255,0.6) !important; }

/* Study category icons */
.study-category-card .level-icon { width: 48px !important; height: 48px !important; font-size: 28px !important; }

/* CERT COURSE CARDS - Bigger, 3-column grid */
div[style*="grid-template-columns: repeat(4, 1fr)"] {
  grid-template-columns: repeat(3, 1fr) !important;
  gap: 12px !important;
}
.cert-card {
  padding: 16px 10px !important;
  border-radius: 16px !important;
  min-height: 110px !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
}
.cert-card .cert-icon {
  width: 60px !important; height: 60px !important;
  display: flex !important; align-items: center !important; justify-content: center !important;
  border-radius: 16px !important;
  background: linear-gradient(145deg, #f8fafc, #e2e8f0) !important;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08), inset 0 2px 4px rgba(255,255,255,0.9) !important;
  margin-bottom: 8px !important;
  font-size: 32px !important;
}
.cert-card .cert-icon svg {
  width: 38px !important; height: 38px !important;
}
.cert-card .cert-name {
  font-size: 13px !important; font-weight: 700 !important; color: #0f172a !important;
  margin-bottom: 2px !important;
}
.cert-card .cert-price, .cert-card .cert-status {
  font-size: 11px !important; font-weight: 600 !important;
}
    /* ============================================ */
    /* SISTEMA DE ASISTENCIA */
    /* ============================================ */
    .attendance-card {
      background: #ffffff;
      border-radius: 15px;
      padding: 25px;
      margin: 15px 0;
      text-align: center;
      box-shadow: 0 2px 12px rgba(0,0,0,0.08);
      border: 1px solid #e2e8f0;
    }
    .attendance-timer {
      font-size: 48px;
      font-weight: bold;
      color: #E31937;
      margin: 20px 0;
      font-family: 'Courier New', monospace;
    }
    .attendance-status {
      display: inline-block;
      padding: 8px 20px;
      border-radius: 20px;
      font-weight: bold;
      font-size: 14px;
      margin: 10px 0;
    }
    .status-active { background: #e8f5e9; color: #2e7d32; border: 1px solid #a5d6a7; }
    .status-inactive { background: #fce4ec; color: #c62828; border: 1px solid #ef9a9a; }
    .btn-checkin {
      width: 100%;
      padding: 18px;
      border: none;
      border-radius: 12px;
      font-size: 20px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
      margin: 10px 0;
    }
    .btn-checkin-in { background: linear-gradient(135deg, #27ae60, #2ecc71); color: white; box-shadow: 0 4px 15px rgba(46,204,113,0.3); }
    .btn-checkin-in:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(46,204,113,0.4); }
    .btn-checkin-out { background: linear-gradient(135deg, #E31937, #C62828); color: white; box-shadow: 0 4px 15px rgba(227,25,55,0.3); }
    .btn-checkin-out:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(227,25,55,0.4); }
    .attendance-type-selector { display: flex; gap: 10px; margin: 15px 0; }
    .type-option {
      flex: 1; padding: 12px; border-radius: 10px; border: 2px solid #e2e8f0;
      background: #f8fafc; color: #1e293b; cursor: pointer; text-align: center; transition: all 0.3s;
    }
    .type-option.selected { border-color: #E31937; background: #fce4ec; color: #E31937; font-weight: bold; }
    .attendance-history { margin-top: 20px; }
    .history-item {
      display: flex; justify-content: space-between; align-items: center;
      padding: 12px 15px; background: #f8fafc; border-radius: 10px; margin: 8px 0; font-size: 14px; border: 1px solid #e2e8f0;
    }
    .history-date { color: #64748b; }
    .history-hours { color: #E31937; font-weight: bold; }
    .history-type { padding: 3px 10px; border-radius: 10px; font-size: 12px; }
    .type-presencial { background: #e8f5e9; color: #2e7d32; }
    .type-zoom { background: #e3f2fd; color: #1565c0; }
    .admin-attendance-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 15px; margin: 15px 0; }
    .admin-att-card { background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); border-radius: 12px; padding: 15px; border-left: 4px solid #f39c12; }
    .admin-att-card h4 { margin: 0 0 5px 0; color: #f39c12; font-size: 13px; }
    .admin-att-stat { font-size: 28px; font-weight: bold; color: white; }
    .admin-att-label { font-size: 12px; color: #ccc; }
    .live-indicator { display: inline-block; width: 8px; height: 8px; background: #2ecc71; border-radius: 50%; margin-right: 5px; animation: pulse-dot 1.5s infinite; }
    @keyframes pulse-dot { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
    .attendance-table { width: 100%; border-collapse: collapse; margin: 10px 0; font-size: 13px; }
    .attendance-table th { background: rgba(243,156,18,0.2); padding: 10px 8px; text-align: left; color: #f39c12; border-bottom: 1px solid rgba(255,255,255,0.15); }
    .attendance-table td { padding: 10px 8px; border-bottom: 1px solid rgba(255,255,255,0.08); color: #ddd; }
    .attendance-table tr:hover td { background: rgba(255,255,255,0.05); }
    .attendance-summary-cards { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin: 15px 0; }
    .att-summary-card { background: #f8fafc; border-radius: 10px; padding: 15px; text-align: center; border: 1px solid #e2e8f0; }
    .att-summary-number { font-size: 24px; font-weight: bold; color: #E31937; }
    .att-summary-text { font-size: 11px; color: #64748b; margin-top: 5px; }
    .filter-bar { display: flex; gap: 10px; margin: 15px 0; flex-wrap: wrap; }
    .filter-bar select { padding: 8px 12px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.3); background: rgba(255,255,255,0.15); color: white; font-size: 13px; }

/* ===== NOTIFICATION BELL SYSTEM ===== */
.notif-bell-container { position: fixed; top: 15px; right: 15px; z-index: 500; }
.notif-bell-btn { background: linear-gradient(135deg, #6366f1, #8b5cf6); border: none; width: 48px; height: 48px; border-radius: 50%; font-size: 22px; cursor: pointer; position: relative; box-shadow: 0 4px 15px rgba(99,102,241,0.4); transition: transform 0.2s; display: flex; align-items: center; justify-content: center; }
.notif-bell-btn:hover { transform: scale(1.1); }
.notif-badge { position: absolute; top: -2px; right: -2px; background: #ef4444; color: white; font-size: 11px; font-weight: bold; min-width: 20px; height: 20px; border-radius: 10px; display: flex; align-items: center; justify-content: center; border: 2px solid white; }
.notif-badge.hidden { display: none; }
.notif-panel { position: fixed; top: 70px; right: 10px; width: 340px; max-width: calc(100vw - 20px); max-height: 70vh; background: linear-gradient(135deg, #1e293b, #0f172a); border: 1px solid rgba(99,102,241,0.3); border-radius: 16px; box-shadow: 0 20px 60px rgba(0,0,0,0.5); overflow: hidden; display: none; z-index: 501; }
.notif-panel.open { display: block; }
.notif-panel-header { display: flex; justify-content: space-between; align-items: center; padding: 15px 18px; border-bottom: 1px solid rgba(255,255,255,0.1); }
.notif-panel-title { color: white; font-size: 16px; font-weight: bold; }
.notif-clear-btn { background: none; border: none; color: #64748b; font-size: 12px; cursor: pointer; padding: 5px 10px; border-radius: 8px; }
.notif-clear-btn:hover { background: rgba(255,255,255,0.1); color: #94a3b8; }
.notif-list { overflow-y: auto; max-height: calc(70vh - 55px); padding: 8px; }
.notif-item { display: flex; gap: 12px; padding: 12px; border-radius: 12px; margin-bottom: 4px; transition: background 0.2s; }
.notif-item:hover { background: rgba(255,255,255,0.05); }
.notif-item.unread { background: rgba(99,102,241,0.1); border-left: 3px solid #6366f1; }
.notif-icon { font-size: 24px; flex-shrink: 0; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; border-radius: 10px; }
.notif-icon.checkin { background: rgba(39,174,96,0.2); }
.notif-icon.quiz { background: rgba(243,156,18,0.2); }
.notif-icon.payment { background: rgba(46,204,113,0.2); }
.notif-icon.register { background: rgba(52,152,219,0.2); }
.notif-content { flex: 1; min-width: 0; }
.notif-text { color: #e2e8f0; font-size: 13px; line-height: 1.4; }
.notif-time { color: #64748b; font-size: 11px; margin-top: 3px; }
.notif-empty { text-align: center; padding: 40px 20px; color: #64748b; }
.notif-empty-icon { font-size: 40px; margin-bottom: 10px; opacity: 0.5; }
</style>
</head>
<body>
  <div class="container">
    <!-- Login Screen -->
    <div class="screen active" id="loginScreen">
      <div class="header">
        <div class="logo" style="font-size:14px; line-height:1;">
          <svg width="72" height="72" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <!-- Left gauge (blue/low pressure) -->
            <circle cx="30" cy="38" r="22" fill="none" stroke="#3498db" stroke-width="3"/>
            <circle cx="30" cy="38" r="18" fill="rgba(52,152,219,0.15)"/>
            <line x1="30" y1="38" x2="22" y2="26" stroke="#e74c3c" stroke-width="2" stroke-linecap="round"/>
            <circle cx="30" cy="38" r="2" fill="#e74c3c"/>
            <text x="30" y="52" text-anchor="middle" fill="#3498db" font-size="5" font-weight="bold">PSI</text>
            <!-- Right gauge (red/high pressure) -->
            <circle cx="70" cy="38" r="22" fill="none" stroke="#e74c3c" stroke-width="3"/>
            <circle cx="70" cy="38" r="18" fill="rgba(231,76,60,0.15)"/>
            <line x1="70" y1="38" x2="80" y2="28" stroke="#e74c3c" stroke-width="2" stroke-linecap="round"/>
            <circle cx="70" cy="38" r="2" fill="#e74c3c"/>
            <text x="70" y="52" text-anchor="middle" fill="#e74c3c" font-size="5" font-weight="bold">PSI</text>
            <!-- Hoses -->
            <path d="M30 60 Q30 75 40 80" stroke="#3498db" stroke-width="3" fill="none" stroke-linecap="round"/>
            <path d="M50 65 Q50 78 50 85" stroke="#f1c40f" stroke-width="3" fill="none" stroke-linecap="round"/>
            <path d="M70 60 Q70 75 60 80" stroke="#e74c3c" stroke-width="3" fill="none" stroke-linecap="round"/>
            <!-- Manifold bar -->
            <rect x="18" y="58" width="64" height="6" rx="3" fill="#2c3e50"/>
            <!-- Valve knobs -->
            <circle cx="35" cy="61" r="4" fill="#3498db"/>
            <circle cx="65" cy="61" r="4" fill="#e74c3c"/>
          </svg>
        </div>
        <h1>MAESTRO ACVOLT</h1>
      </div>

      <!-- YA TIENES CUENTA - Zona de Login -->
      <div class="card" style="border:2px solid rgba(243,156,18,0.4); background:linear-gradient(135deg, rgba(243,156,18,0.08), rgba(230,126,34,0.05));">
        <div style="text-align:center; margin-bottom:15px;">
          <p style="color:#f39c12; font-size:20px; font-weight:bold; margin:0;">🔑 ¿YA TIENES CUENTA?</p>
          <p style="color:#94a3b8; font-size:14px; margin-top:5px;">Inicia sesión con tu correo y contraseña</p>
        </div>
        <div class="login-error" id="loginError">Correo o contraseña incorrectos</div>
        <form id="loginForm" onsubmit="return handleLogin(event)">
          <div class="form-group">
            <label>Correo Electrónico</label>
            <input type="email" id="loginEmail" placeholder="tucorreo@ejemplo.com" required>
          </div>
          <div class="form-group">
            <label>Contraseña</label>
            <input type="password" id="loginPassword" placeholder="Ingresa tu contraseña" required>
          </div>
          <button type="submit" class="btn btn-primary" style="font-size:18px; padding:16px;">🔓 INICIAR SESIÓN</button>
        </form>
        <div style="text-align:center; margin-top:12px;">
          <span onclick="showForgotPassword()" style="color:#3498db; cursor:pointer; font-size:15px; text-decoration:underline;">🔑 ¿Olvidaste tu contraseña?</span>
        </div>
        <div id="forgotPasswordBox" style="display:none; margin-top:15px; padding:15px; background:rgba(52,152,219,0.1); border:1px solid rgba(52,152,219,0.3); border-radius:12px;">
          <p style="color:#3498db; font-size:14px; font-weight:bold; margin:0 0 10px; text-align:center;">Ingresa tu correo para recibir un link de recuperación</p>
          <input type="email" id="forgotEmail" placeholder="tucorreo@ejemplo.com" style="width:100%; padding:12px; border-radius:8px; border:2px solid rgba(52,152,219,0.4); background:white; color:#333; font-size:15px; box-sizing:border-box; margin-bottom:10px;">
          <button onclick="sendPasswordReset()" class="btn btn-primary" style="width:100%; background:linear-gradient(135deg, #3498db, #2980b9); font-size:15px; padding:12px;">📧 ENVIAR LINK DE RECUPERACIÓN</button>
          <div id="forgotPasswordMsg" style="display:none; margin-top:10px; text-align:center; font-size:14px;"></div>
        </div>
      </div>

      <!-- Separador -->
      <div style="text-align:center; margin:20px 0; position:relative;">
        <div style="border-top:2px solid rgba(255,255,255,0.15); position:absolute; top:50%; left:20%; right:20%;"></div>
        <span style="background:#0f172a; padding:5px 20px; color:#f39c12; font-size:18px; font-weight:bold; position:relative; border:1px solid rgba(243,156,18,0.3); border-radius:20px;">ó</span>
      </div>

      <!-- Zona de Registro -->
      <div class="card" style="border:2px solid rgba(46,204,113,0.3); background:linear-gradient(135deg, rgba(46,204,113,0.08), rgba(39,174,96,0.05));">
        <div style="text-align:center;">
          <p style="color:#2ecc71; font-size:18px; font-weight:bold; margin:0 0 5px;">📝 ¿ERES NUEVO?</p>
          <p style="color:#94a3b8; font-size:13px; margin-bottom:12px;">Crea tu cuenta gratis — Acceso al Nivel 1 Principiante</p>
          <button class="btn btn-secondary" onclick="showScreen('registerScreen')" style="background: linear-gradient(135deg, #27ae60, #2ecc71); color:white; font-size:16px; padding:14px; width:100%; font-weight:bold;">REGÍSTRATE GRATIS</button>
        </div>
      </div>

      <div style="text-align:center; margin-top:15px;">
        <span class="admin-link" onclick="showScreen('adminLoginScreen')">🔑 Acceso Administrador</span>
      </div>
    </div>

    <!-- Register Screen -->
    <div class="screen" id="registerScreen">
      <div class="header">
        <div class="logo">📝</div>
        <h1>MAESTRO ACVOLT</h1>
        <h2>Crear Cuenta Gratis</h2>
        <p class="subtitle">Acceso al Nivel 1 Principiante gratis</p>
      </div>
      <div class="card" style="max-height:80vh;overflow-y:auto;">
        <div class="login-error" id="registerError">Error al registrar</div>
        <form id="newRegisterForm" onsubmit="return handleRegister(event)">
          <div class="form-group">
            <label>Nombre Completo *</label>
            <input type="text" id="regName" placeholder="Nombre y Apellido" required minlength="3">
          </div>
          <div class="form-group">
            <label>Correo Electrónico *</label>
            <input type="email" id="regEmail" placeholder="tucorreo@ejemplo.com" required>
          </div>
          <div class="form-group">
            <label>Teléfono *</label>
            <input type="tel" id="regPhone" placeholder="(000) 000-0000" required minlength="7">
          </div>
          <div class="form-group">
            <label>Ciudad / Estado *</label>
            <input type="text" id="regCity" placeholder="Ej: Los Angeles, CA" required minlength="3">
          </div>
          <div class="form-group">
            <label>Años de Experiencia en HVAC *</label>
            <select id="regExperience" required>
              <option value="">-- Selecciona --</option>
              <option value="Estudiante">Estudiante (sin experiencia)</option>
              <option value="0-2 años">0-2 años</option>
              <option value="3-5 años">3-5 años</option>
              <option value="6-10 años">6-10 años</option>
              <option value="10+ años">10+ años</option>
              <option value="20+ años">20+ años</option>
            </select>
          </div>
          <p style="color:#f39c12;font-size:12px;margin:10px 0 5px;text-align:center;">Certificaciones (opcional - si las tienes)</p>
          <div class="form-group">
            <label>Número EPA 608</label>
            <input type="text" id="regEPA" placeholder="Opcional">
          </div>
          <div class="form-group">
            <label>Número OSHA</label>
            <input type="text" id="regOSHA" placeholder="Opcional">
          </div>
          <div class="form-group">
            <label>HVAC Excellence / NATE</label>
            <input type="text" id="regHVACE" placeholder="Opcional">
          </div>
          <div class="form-group">
            <label>Contraseña *</label>
            <input type="password" id="regPassword" placeholder="Mínimo 6 caracteres" required minlength="6">
          </div>
          <div class="form-group">
            <label>Confirmar Contraseña *</label>
            <input type="password" id="regPasswordConfirm" placeholder="Repite tu contraseña" required minlength="6">
          </div>
          <button type="submit" class="btn btn-primary">Crear Cuenta</button>
        </form>
        <div style="text-align:center; margin-top:20px; padding-top:15px; border-top:2px solid rgba(243,156,18,0.3);">
          <p style="color:#94a3b8; font-size:15px; margin-bottom:10px;">¿Ya tienes cuenta?</p>
          <button class="btn btn-primary" onclick="showScreen('loginScreen')" style="background: linear-gradient(135deg, #f39c12, #e67e22); font-size:16px; padding:14px; width:100%; font-weight:bold;">🔑 INICIAR SESIÓN</button>
        </div>
      </div>
    </div>

    <!-- Email Confirmation Pending Screen -->
    <div class="screen" id="emailPendingScreen">
      <div class="header">
        <div class="logo">📧</div>
        <h1>MAESTRO ACVOLT</h1>
        <h2>Confirma tu Correo</h2>
      </div>
      <div class="card" style="text-align:center;">
        <div style="font-size:60px;margin-bottom:15px;">📬</div>
        <h3 style="color:#f39c12;margin-bottom:10px;">¡Revisa tu correo electrónico!</h3>
        <p style="color:#64748b;font-size:14px;margin-bottom:15px;" id="pendingEmailText">Te enviamos un link de confirmación a tu correo.</p>
        <div style="background:rgba(243,156,18,0.15);border:1px solid rgba(243,156,18,0.4);border-radius:12px;padding:15px;margin-bottom:15px;">
          <p style="color:#64748b;font-size:13px;">📌 Pasos:</p>
          <p style="color:#64748b;font-size:13px;margin-top:8px;">1. Abre tu correo electrónico</p>
          <p style="color:#64748b;font-size:13px;">2. Busca el email de <strong>ACVOLT Tech School</strong></p>
          <p style="color:#64748b;font-size:13px;">3. Haz click en el link de confirmación</p>
          <p style="color:#64748b;font-size:13px;">4. Regresa aquí e inicia sesión</p>
        </div>
        <p style="color:#7f8c8d;font-size:12px;margin-bottom:15px;">Si no lo ves, revisa tu carpeta de spam o correo no deseado.</p>
        <button class="btn btn-primary" onclick="showScreen('loginScreen')">Ya confirmé - Ir al Login</button>
        <button class="btn btn-secondary" onclick="resendConfirmation()" style="margin-top:8px;font-size:13px;">📧 Reenviar correo de confirmación</button>
      </div>
    </div>

    <!-- Admin Login Screen -->
    <!-- Membership Login Screen -->
    <div class="screen" id="membershipLoginScreen">
      <div class="header">
        <div class="logo">🎥</div>
        <h1>Clases en Vivo</h1>
        <h2 style="color:#9b59b6;">Solo para Miembros Exclusivos</h2>
        <p class="subtitle">Acceso exclusivo para estudiantes registrados de ACVOLT Tech School</p>
      </div>
      <div class="card">
        <div class="login-error" id="membershipLoginError">Código inválido o no autorizado para tu cuenta</div>
        <p style="color:#64748b;font-size:13px;text-align:center;margin-bottom:15px;">Ingresa el código que te dio Maestro Mario para acceder a las clases en vivo.</p>
        <form id="membershipLoginForm" onsubmit="return handleMembershipLogin(event)">
          <div class="form-group">
            <label>🎫 Código de Membresía</label>
            <input type="text" id="membershipCode" placeholder="Ingresa tu código" maxlength="10" style="text-align:center;letter-spacing:3px;text-transform:uppercase;font-family:monospace;font-size:18px;" required>
          </div>
          <button type="submit" class="btn btn-primary" style="background: linear-gradient(135deg, #9b59b6, #8e44ad);">🔓 Acceder a Clases en Vivo</button>
        </form>
        <p style="color:#7f8c8d;font-size:11px;text-align:center;margin-top:10px;">¿No tienes código? Contacta a Maestro Mario en clase o por WhatsApp.</p>
        <button class="btn btn-secondary" onclick="showScreen('welcomeScreen')" style="margin-top:10px;">← Volver al Inicio</button>
      </div>
    </div>

    <!-- Membership Zone Screen -->
    <div class="screen" id="membershipZoneScreen">
      <div class="header">
        <div class="logo">🎥</div>
        <h1>Clases en Vivo</h1>
        <h2 style="color:#9b59b6;">Miembro Exclusivo ⭐</h2>
        <p class="subtitle" id="memberWelcomeName">Bienvenido</p>
      </div>
      <div class="card">
        <p style="text-align:center; margin-bottom:20px; color:#f39c12;">Accede a contenido exclusivo para miembros de ACVOLT Tech School</p>
        <button class="btn btn-secondary" onclick="window.open('https://t.me/+Cm9rjthVu8pjMjJh', '_blank')" style="margin-top:10px; background: linear-gradient(135deg, #0088cc, #005f99);">✈️ Telegram - Canal Exclusivo</button>
        <div style="margin-top:25px; padding-top:20px; border-top:1px solid rgba(255,255,255,0.1);">
          <button class="btn btn-secondary" onclick="membershipLogout()" style="background: rgba(231,76,60,0.3);">🚪 Salir de Clases en Vivo</button>
          <button class="btn btn-secondary" onclick="showScreen('welcomeScreen')" style="margin-top:10px;">← Volver al Inicio</button>
        </div>
      </div>
    </div>

    <!-- Admin Login Screen -->
    <div class="screen" id="adminLoginScreen">
      <div class="header">
        <div class="logo">👨‍💼</div>
        <h1>Panel de Administrador</h1>
        <h2>Acceso Restringido</h2>
        <p class="subtitle">Solo personal autorizado</p>
      </div>
      <div class="card">
        <div class="login-error" id="adminLoginError">Credenciales de administrador incorrectas</div>
        <form id="adminLoginForm" onsubmit="return handleAdminLogin(event)">
          <div class="form-group">
            <label>Usuario Admin</label>
            <input type="text" id="adminLoginUser" placeholder="Usuario administrador" required>
          </div>
          <div class="form-group">
            <label>Contraseña Admin</label>
            <input type="password" id="adminLoginPassword" placeholder="Contraseña administrador" required>
          </div>
          <button type="submit" class="btn btn-primary">Acceder al Panel</button>
        </form>
        <button class="btn btn-secondary" onclick="showScreen('loginScreen')">← Volver al Login</button>
      </div>
    </div>

    <!-- Admin Dashboard Screen -->
    <div class="screen" id="adminDashboardScreen">
      <div class="admin-container">
        <div class="admin-header">
          <div class="admin-title">
            <span style="font-size: 28px;">👨‍💼</span>
            <h1>Panel de Administrador</h1>
          </div>
          <button class="back-btn" onclick="adminLogout()">🚪 Cerrar Sesión</button>
        </div>

        <!-- Landscape message for mobile portrait -->
        <div class="admin-landscape-msg">
          <div class="icon">📱🔄</div>
          <p><strong>Gira tu teléfono en modo horizontal</strong><br>para ver el Panel de Administrador completo.</p>
          <p style="font-size:40px; margin-top:20px;">↻</p>
        </div>

        <!-- Main admin content (hidden in mobile portrait) -->
        <div class="admin-main-content">

        <!-- Quick Stats -->
        <div class="admin-stats-grid" id="adminStatsGrid">
          <div class="admin-stat-card" onclick="showStatDetail('tecnicos')" style="cursor:pointer;">
            <div class="admin-stat-value" id="statTotalTecnicos">0</div>
            <div class="admin-stat-label">Técnicos Registrados</div>
          </div>
          <div class="admin-stat-card" onclick="showStatDetail('certificados')" style="cursor:pointer;">
            <div class="admin-stat-value" id="statTotalCertificados">0</div>
            <div class="admin-stat-label">Certificados Otorgados</div>
          </div>
          <div class="admin-stat-card" onclick="showStatDetail('promedio')" style="cursor:pointer;">
            <div class="admin-stat-value" id="statPromedioScore">0%</div>
            <div class="admin-stat-label">Promedio General</div>
          </div>
          <div class="admin-stat-card" onclick="showStatDetail('activos')" style="cursor:pointer;">
            <div class="admin-stat-value" id="statActivosHoy">0</div>
            <div class="admin-stat-label">Activos Hoy</div>
          </div>
        </div>

        <!-- Stat Detail Modal -->
        <div id="statDetailPanel" style="display:none;background:rgba(255,255,255,0.08);border-radius:12px;padding:15px;margin-bottom:15px;border:1px solid rgba(243,156,18,0.3);">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;">
            <h3 id="statDetailTitle" style="color:#f39c12;font-size:15px;margin:0;"></h3>
            <button onclick="document.getElementById('statDetailPanel').style.display='none'" style="background:none;border:none;color:#64748b;font-size:18px;cursor:pointer;">✕</button>
          </div>
          <div id="statDetailContent"></div>
        </div>

        <!-- 2 Column Grid Layout -->
        <div class="admin-grid-2col">

        <!-- Technicians List Section -->
        <div class="admin-section admin-grid-full">
          <div class="admin-section-header">
            <span class="admin-section-title">👥 Técnicos Inscritos</span>
            <span id="technicianCount" style="color: #64748b; font-size: 14px;">0 técnicos</span>
          </div>
          <div class="admin-filter-bar">
            <input type="text" class="admin-filter-input" id="searchTechnician" placeholder="🔍 Buscar por nombre, email o número..." oninput="filterTechnicians()">
            <select class="admin-filter-select" id="filterPeriod" onchange="filterTechnicians()">
              <option value="all">Todos los períodos</option>
              <option value="today">Hoy</option>
              <option value="week">Esta semana</option>
              <option value="month">Este mes</option>
            </select>
          </div>
          <div class="technician-list" id="technicianList">
            <div class="no-data-message">
              <div class="no-data-icon">👥</div>
              <p>No hay técnicos registrados aún.</p>
            </div>
          </div>
        </div>

        <!-- Activity Chart -->
        <div class="admin-section admin-grid-full">
          <div class="admin-section-header">
            <span class="admin-section-title">📊 Rendimiento por Nivel</span>
          </div>
          <div class="admin-chart" id="levelPerformanceChart">
            <div class="admin-bar-chart" id="levelBarChart"></div>
          </div>
        </div>

        <!-- ===== SECCIÓN ASISTENCIA ADMIN ===== -->
        <div class="admin-section admin-grid-full">
          <div class="admin-section-header">
            <span class="admin-section-title">📋 Control de Asistencia</span>
          </div>
          <div class="admin-attendance-grid">
            <div class="admin-att-card">
              <h4><span class="live-indicator"></span> En Clase Ahora</h4>
              <div class="admin-att-stat" id="adminLiveCount">0</div>
              <div class="admin-att-label">técnicos activos</div>
            </div>
            <div class="admin-att-card">
              <h4>📅 Asistencia Hoy</h4>
              <div class="admin-att-stat" id="adminTodayCount">0</div>
              <div class="admin-att-label">check-ins hoy</div>
            </div>
            <div class="admin-att-card">
              <h4>⏱️ Horas Semana</h4>
              <div class="admin-att-stat" id="adminWeekHours">0</div>
              <div class="admin-att-label">horas totales</div>
            </div>
          </div>
          <div class="filter-bar">
            <select id="adminAttFilter" onchange="loadAdminAttendance()">
              <option value="today">Hoy</option>
              <option value="week">Esta Semana</option>
              <option value="month">Este Mes</option>
              <option value="all">Todo</option>
            </select>
            <select id="adminAttTypeFilter" onchange="loadAdminAttendance()">
              <option value="all">Todos los tipos</option>
              <option value="presencial">Presencial</option>
              <option value="zoom">Zoom</option>
              <option value="computadora">Computadora</option>
              <option value="movil">Móvil</option>
            </select>
          </div>
          <div style="overflow-x:auto;">
            <table class="attendance-table">
              <thead>
                <tr>
                  <th>Técnico</th>
                  <th>Tipo</th>
                  <th>Check-in</th>
                  <th>Check-out</th>
                  <th>Horas</th>
                  <th>Estado</th>
                </tr>
              </thead>
              <tbody id="adminAttendanceBody">
                <tr><td colspan="6" style="text-align:center; color:#888;">Cargando...</td></tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- ===== EXÁMENES SOLICITADOS ===== -->
        <div class="admin-section">
          <div class="admin-section-header">
            <span class="admin-section-title">🎓 Exámenes Solicitados</span>
            <span id="examRequestCount" style="color:#64748b; font-size:14px;">0 solicitudes</span>
          </div>
          <div id="adminExamRequestsList" style="max-height:400px; overflow-y:auto;">
            <div class="no-data-message">
              <div class="no-data-icon">🎓</div>
              <p>No hay solicitudes de examen aún.</p>
            </div>
          </div>
        </div>

        <!-- ===== ACTIVIDAD DE ESTUDIANTES ===== -->
        <div class="admin-section">
          <div class="admin-section-header">
            <span class="admin-section-title">📊 Actividad de Estudiantes</span>
            <button onclick="loadAdminStudentActivity()" style="background:#f39c12;color:white;border:none;padding:6px 12px;border-radius:8px;font-size:12px;cursor:pointer;">🔄 Actualizar</button>
          </div>
          <div id="adminStudentActivityList" style="max-height:500px; overflow-y:auto;">
            <div class="no-data-message">
              <div class="no-data-icon">📊</div>
              <p>Cargando actividad...</p>
            </div>
          </div>
        </div>

        
        <!-- Centro de Mando Section -->
        <div class="admin-section admin-grid-full" style="border: 2px solid #e67e22; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);">
            <h3 style="color: #f39c12; font-size: 1.3em; margin-bottom: 15px;">🎯 Centro de Mando</h3>
            
            <!-- Generar Código Manual -->
            <div style="background: rgba(243,156,18,0.1); border-radius: 12px; padding: 15px; margin-bottom: 15px;">
                <h4 style="color: #f39c12; margin-bottom: 10px;">🔑 Generar Código de Acceso</h4>
                <div style="display: flex; gap: 10px; flex-wrap: wrap; align-items: center;">
                    <input type="text" id="manualCodeName" placeholder="Nombre del técnico" style="flex: 1; min-width: 150px; padding: 10px; border-radius: 8px; border: 1px solid #444; background: #1a1a2e; color: #fff;">
                    <input type="email" id="manualCodeEmail" placeholder="Email del técnico" style="flex: 1; min-width: 150px; padding: 10px; border-radius: 8px; border: 1px solid #444; background: #1a1a2e; color: #fff;">
                    <select id="manualCodeLevel" style="padding: 10px; border-radius: 8px; border: 1px solid #444; background: #1a1a2e; color: #fff; min-width: 150px;">
                        <option value="full_app">🔓 App Completa</option>
                        <option value="principiante">🔧 Principiante</option>
                        <option value="intermedio">📊 Intermedio</option>
                        <option value="avanzado">⚡ Avanzado</option>
                        <option value="elite">🏆 Elite</option>
                        <option value="platino">💎 Platino</option>
                        <option value="clases_vivo">🎬 Clases en Vivo</option>
                    </select>
                    <select id="manualCodeDuration" style="padding: 10px; border-radius: 8px; border: 1px solid #444; background: #1a1a2e; color: #fff;">
                        <option value="30">30 días</option>
                        <option value="90">90 días</option>
                        <option value="180">6 meses</option>
                        <option value="365">1 año</option>
                        <option value="lifetime">De por vida</option>
                    </select>
                    <button onclick="generateManualAccessCode()" style="padding: 10px 20px; background: #f39c12; color: #000; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; white-space: nowrap;">⚡ GENERAR CÓDIGO</button>
                </div>
                <div id="generatedCodeDisplay" style="margin-top: 10px; display: none; background: rgba(46,204,113,0.15); border: 1px solid #2ecc71; border-radius: 8px; padding: 12px; text-align: center;">
                    <span style="color: #2ecc71; font-size: 0.9em;">Código generado:</span>
                    <div id="generatedCodeValue" style="color: #2ecc71; font-size: 1.5em; font-weight: bold; letter-spacing: 3px; margin: 5px 0;"></div>
                    <button onclick="copyGeneratedCode()" style="padding: 6px 15px; background: #2ecc71; color: #000; border: none; border-radius: 6px; cursor: pointer; font-weight: bold;">📋 Copiar Código</button>
                </div>
            </div>

            <!-- Solicitudes de Acceso -->
            <div style="background: rgba(52,152,219,0.1); border-radius: 12px; padding: 15px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <h4 style="color: #3498db;">📋 Solicitudes de Técnicos</h4>
                    <button onclick="renderAccessCodes()" style="padding: 6px 15px; background: #3498db; color: #fff; border: none; border-radius: 6px; cursor: pointer;">🔄 Actualizar</button>
                </div>
                <div id="accessCodesList" style="color: #ccc;">Cargando solicitudes...</div>
            </div>

            <!-- Códigos Activos -->
            <div style="background: rgba(46,204,113,0.1); border-radius: 12px; padding: 15px; margin-top: 15px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <h4 style="color: #2ecc71;">✅ Códigos Activos</h4>
                    <button onclick="loadActiveCodes()" style="padding: 6px 15px; background: #2ecc71; color: #000; border: none; border-radius: 6px; cursor: pointer;">🔄 Actualizar</button>
                </div>
                <div id="activeCodesList" style="color: #ccc;">Cargando códigos activos...</div>
            </div>
        </div>

        </div><!-- close admin-grid-2col -->
        </div><!-- close admin-main-content -->

      </div>
    </div>
    <div class="screen" id="adminTechnicianProfileScreen">
      <div class="admin-container">
        <div class="admin-header">
          <button class="back-btn" onclick="showScreen('adminDashboardScreen')">← Volver al Panel</button>
        </div>

        <!-- Profile Card -->
        <div class="admin-profile-card" id="adminProfileCard">
          <div class="admin-profile-header">
            <div class="admin-profile-avatar">👤</div>
            <div class="admin-profile-info">
              <h2 id="adminViewName">Nombre del Técnico</h2>
              <p id="adminViewTechNumber">TECH-0000-N33-XXXX</p>
            </div>
          </div>
          <div class="admin-profile-details">
            <div class="admin-detail-item">
              <div class="admin-detail-label">Email</div>
              <div class="admin-detail-value" id="adminViewEmail">-</div>
            </div>
            <div class="admin-detail-item">
              <div class="admin-detail-label">Teléfono</div>
              <div class="admin-detail-value" id="adminViewPhone">-</div>
            </div>
            <div class="admin-detail-item">
              <div class="admin-detail-label">EPA 608</div>
              <div class="admin-detail-value" id="adminViewEPA">-</div>
            </div>
            <div class="admin-detail-item">
              <div class="admin-detail-label">NATE</div>
              <div class="admin-detail-value" id="adminViewNATE">-</div>
            </div>
            <div class="admin-detail-item">
              <div class="admin-detail-label">ESCO</div>
              <div class="admin-detail-value" id="adminViewESCO">-</div>
            </div>
            <div class="admin-detail-item">
              <div class="admin-detail-label">Fecha de Registro</div>
              <div class="admin-detail-value" id="adminViewRegDate">-</div>
            </div>
          </div>
        </div>

        <!-- Progress Section -->
        <div class="admin-section">
          <div class="admin-section-header">
            <span class="admin-section-title">📈 Progreso del Técnico</span>
          </div>
          <div class="admin-chart">
            <div class="admin-chart-title">Rendimiento por Nivel</div>
            <div class="admin-bar-chart" id="technicianLevelProgress"></div>
          </div>
        </div>

        <!-- Activity Timeline -->
        <div class="admin-section">
          <div class="admin-section-header">
            <span class="admin-section-title">🕐 Historial de Actividad</span>
          </div>
          <div class="progress-timeline">
            <div class="timeline-header">
              <div class="timeline-tabs">
                <button class="timeline-tab active" onclick="setTimelineView('minutes', this)">Minutos</button>
                <button class="timeline-tab" onclick="setTimelineView('hours', this)">Horas</button>
                <button class="timeline-tab" onclick="setTimelineView('days', this)">Días</button>
                <button class="timeline-tab" onclick="setTimelineView('months', this)">Meses</button>
              </div>
            </div>
            <div class="timeline-content" id="activityTimeline">
              <div class="timeline-empty">
                <p>📭 No hay actividad registrada</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Certificates Section -->
        <div class="admin-section">
          <div class="admin-section-header">
            <span class="admin-section-title">🏅 Certificados Obtenidos</span>
          </div>
          <div id="adminTechnicianCertificates">
            <div class="no-data-message">
              <p>No hay certificados aún</p>
            </div>
          </div>
        </div>

        <!-- Lock Management Section -->
        <div class="admin-section">
          <div class="admin-section-header">
            <span class="admin-section-title">🔓 Verificación y Acceso</span>
          </div>
          <div id="adminAppAccess" style="padding:10px;">
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:10px;">
              <button class="btn btn-primary" id="adminVerifyBtn" onclick="toggleVerification()" style="margin:0;font-size:13px;background:linear-gradient(135deg,#f39c12,#e67e22);">
                ✅ Verificar Cuenta
              </button>
              <button class="btn btn-primary" id="adminActivateAppBtn" onclick="toggleAppAccess()" style="margin:0;font-size:13px;background:linear-gradient(135deg,#2ecc71,#27ae60);">
                🔓 Activar App Completa
              </button>
            </div>
            <p id="adminVerifyStatus" style="color:#64748b;font-size:12px;text-align:center;margin-bottom:4px;"></p>
            <p id="adminAppAccessStatus" style="color:#64748b;font-size:12px;text-align:center;"></p>
            
            <!-- Code Generation Section -->
            <div style="border-top:1px solid rgba(255,255,255,0.1);margin-top:12px;padding-top:12px;">
              <p style="color:#f39c12;font-size:13px;font-weight:bold;margin-bottom:8px;">🔑 Código de Acceso Individual</p>
              <div id="adminCodeSection">
                <button class="btn btn-primary" onclick="generateAccessCode()" style="width:100%;font-size:13px;background:linear-gradient(135deg,#9b59b6,#8e44ad);margin-bottom:8px;">
                  🎫 Generar Código Único
                </button>
              </div>
              <div id="adminCodeDisplay" style="display:none;">
                <div style="background:rgba(155,89,182,0.2);border:2px solid #9b59b6;border-radius:12px;padding:12px;text-align:center;margin-bottom:8px;">
                  <p style="color:#64748b;font-size:11px;margin-bottom:4px;">Código para este técnico:</p>
                  <div id="adminCodeValue" style="color:#f39c12;font-size:24px;font-weight:bold;letter-spacing:3px;font-family:monospace;"></div>
                  <p style="color:#7f8c8d;font-size:10px;margin-top:4px;">Válido solo para: <span id="adminCodeFor"></span></p>
                </div>
                <button class="btn btn-secondary" onclick="copyAccessCode()" style="width:100%;font-size:12px;margin-bottom:4px;">
                  📋 Copiar Código
                </button>
                <button class="btn btn-secondary" onclick="revokeAccessCode()" style="width:100%;font-size:12px;background:rgba(231,76,60,0.2);color:#e74c3c;">
                  ❌ Revocar Código
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Membership Code Section -->
        <div class="admin-section">
          <div class="admin-section-header">
            <span class="admin-section-title">🎥 Clases en Vivo - Membresía</span>
          </div>
          <div style="padding:10px;">
            <button class="btn btn-primary" onclick="generateMembershipCode()" style="width:100%;font-size:13px;background:linear-gradient(135deg,#9b59b6,#8e44ad);margin-bottom:8px;">
              🎫 Generar Código de Membresía
            </button>
            <div id="adminMemberCodeDisplay" style="display:none;">
              <div style="background:rgba(155,89,182,0.2);border:2px solid #9b59b6;border-radius:12px;padding:12px;text-align:center;margin-bottom:8px;">
                <p style="color:#64748b;font-size:11px;margin-bottom:4px;">Código de Clases en Vivo:</p>
                <div id="adminMemberCodeValue" style="color:#9b59b6;font-size:24px;font-weight:bold;letter-spacing:3px;font-family:monospace;"></div>
                <p style="color:#7f8c8d;font-size:10px;margin-top:4px;">Para: <span id="adminMemberCodeFor"></span></p>
              </div>
              <button class="btn btn-secondary" onclick="copyMembershipCode()" style="width:100%;font-size:12px;margin-bottom:4px;">
                📋 Copiar Código de Membresía
              </button>
              <button class="btn btn-secondary" onclick="revokeMembershipCode()" style="width:100%;font-size:12px;background:rgba(231,76,60,0.2);color:#e74c3c;">
                ❌ Revocar Membresía
              </button>
            </div>
          </div>
        </div>

        <!-- Lock Management Section -->
        <div class="admin-section">
          <div class="admin-section-header">
            <span class="admin-section-title">🔐 Control de Acceso por Nivel</span>
          </div>
          <div id="adminLockManagement">
            <div class="admin-lock-disabled-notice" id="lockSystemNotice">
              ✅ Sistema de acceso ACTIVADO. Nivel 1 gratis. Niveles 2-5 requieren compra ($20/mo) o acceso de estudiante ACVOLT.
            </div>
            <div id="adminLockControls" style="display: none;">
              <!-- Lock controls will be rendered by JavaScript -->
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Welcome Screen -->
    <div class="screen" id="welcomeScreen">
      <div class="header">
        <img src="logo.png" alt="ACVOLT" class="logo-img">
        <h1>MAESTRO ACVOLT</h1>
        <p class="subtitle">Bienvenido</p>
      </div>
      <div class="card">
        <p style="text-align:center; margin-bottom:20px;">Crea tu perfil de técnico HVACR</p>
        <button class="btn btn-primary" onclick="handleComenzar()">Comenzar</button>
        <button class="btn btn-secondary" onclick="showScreen('quizOnlyScreen')">Prueba tu Conocimiento</button>
        <button class="btn btn-secondary certificates-nav-btn" onclick="showCertificates('welcomeScreen')" style="margin-top:10px;">🏅 Mis Certificados</button>
        <button class="btn btn-secondary profile-nav-btn" onclick="showProfile('welcomeScreen')" style="margin-top:10px;">👤 Mi Perfil</button>
        <button class="btn btn-secondary" onclick="showScreen('studySectionsScreen')" style="margin-top:10px;">📚 Secciones de Estudio</button>
        <button class="btn btn-secondary" onclick="showScreen('videoLessonsScreen')" style="margin-top:10px;">🎬 Video Lecciones</button>
        <button class="btn btn-secondary" onclick="showScreen('attendanceScreen'); loadAttendanceData();" style="margin-top:10px; background: linear-gradient(135deg, #27ae60, #2ecc71); color: white;">📋 Mi Asistencia - Check In/Out</button>
        
        <!-- Zona de Membresía - Botón de acceso -->
        <div style="margin-top:25px; padding-top:20px; border-top:1px solid rgba(255,255,255,0.1);">
          <button class="btn btn-secondary" onclick="showScreen('membershipLoginScreen')" style="margin-top:10px; background: linear-gradient(135deg, #9b59b6, #8e44ad);">🎥 Clases en Vivo - Solo Miembros</button>
        </div>
        
        <div style="text-align:center; margin-top:25px; padding-top:20px; border-top:1px solid rgba(255,255,255,0.1);">
          <span class="admin-link" onclick="showScreen('adminLoginScreen')">🔐 Acceso Administrador</span>
        </div>
        <div style="text-align:center; margin-top:15px;">
          <button class="btn btn-secondary" onclick="cerrarSesion()" style="background:rgba(231,76,60,0.15); border:1px solid rgba(231,76,60,0.4); color:#e74c3c; font-size:13px; padding:8px 20px;">🚪 Cerrar Sesión</button>
        </div>
      </div>
    </div>

    <!-- Register Screen -->
    <div class="screen" id="registerScreen">
      <div class="header">
        <img src="logo.png" alt="ACVOLT" class="logo-img">
        <h1>MAESTRO ACVOLT</h1>
        <h2>Registro de Técnico</h2>
      </div>
      <div class="card">
        <form id="registerForm">
          <div class="form-group">
            <label>Nombre Completo *</label>
            <input type="text" id="nombre" placeholder="Ingresa tu nombre completo" required>
          </div>
          <div class="form-group">
            <label>Email *</label>
            <input type="email" id="email" placeholder="tu@email.com" required>
          </div>
          <div class="form-group">
            <label>Teléfono</label>
            <input type="tel" id="telefono" placeholder="(123) 456-7890">
          </div>
          <div class="form-group">
            <label>Ciudad</label>
            <input type="text" id="ciudad" placeholder="Tu ciudad">
          </div>
          <div class="form-group">
            <label>Estado</label>
            <input type="text" id="estado" placeholder="Tu estado (ej: California)">
          </div>
          <div class="form-group">
            <label>Número EPA 608</label>
            <input type="text" id="epa" placeholder="Número de certificación EPA">
          </div>
          <div class="form-group">
            <label>Número NATE</label>
            <input type="text" id="nate" placeholder="Número de certificación NATE">
          </div>
          <div class="form-group">
            <label>Número ESCO</label>
            <input type="text" id="esco" placeholder="Número de certificación ESCO">
          </div>
          <button type="submit" class="btn btn-primary">Crear Perfil</button>
        </form>
      </div>
    </div>

    <!-- Levels Screen -->
    <div class="screen" id="levelsScreen">
      <div class="header">
        <img src="logo.png" alt="ACVOLT" class="logo-img" style="max-width:120px;">
        <p class="greeting" id="userGreeting">Hola, Técnico</p>
        <h1>Selecciona tu Nivel</h1>
        <p class="subtitle">Elige un nivel para comenzar el quiz</p>
      </div>
      <button class="btn btn-secondary" onclick="showScreen('welcomeScreen')" style="margin-bottom:12px;">← Volver al Menú</button>
      <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-bottom:15px;"><button class="btn btn-secondary certificates-nav-btn" onclick="showCertificates('levelsScreen')" style="margin:0;font-size:13px;padding:12px 8px;border-radius:12px;font-weight:600;">🏅 Mis Certificados</button><button class="btn btn-secondary profile-nav-btn" onclick="showProfile('levelsScreen')" style="margin:0;font-size:13px;padding:12px 8px;border-radius:12px;font-weight:600;">👤 Mi Perfil</button><button class="btn btn-secondary" onclick="showScreen('studySectionsScreen')" style="margin:0;font-size:13px;padding:12px 8px;border-radius:12px;font-weight:600;">📚 Secciones de Estudio</button><button class="btn btn-secondary" onclick="showScreen('videoLessonsScreen')" style="margin:0;font-size:13px;padding:12px 8px;border-radius:12px;font-weight:600;">🎬 Video Lecciones</button></div>
      <div id="levelsList"></div>

      <!-- Certification Courses Grid -->
      <div style="margin-top:20px;">
        <h3 style="color:#f39c12; text-align:center; margin-bottom:12px; font-size:16px;">📜 Cursos de Certificación</h3>
        <div style="display:grid; grid-template-columns: repeat(4, 1fr); gap:8px;">
          <div class="cert-card" onclick="openCertCourse('epa608')">
            <div class="cert-icon"><svg width="28" height="28" viewBox="0 0 32 32"><rect x="4" y="2" width="24" height="28" rx="3" fill="#1565C0"/><rect x="7" y="5" width="18" height="4" rx="1" fill="#fff"/><text x="16" y="8.2" text-anchor="middle" font-size="3.2" fill="#1565C0" font-weight="bold">EPA 608</text><rect x="7" y="22" width="8" height="5" rx="1" fill="#FFD700"/><text x="11" y="25.5" text-anchor="middle" font-size="3" fill="#1565C0" font-weight="bold">ID</text><circle cx="22" cy="24" r="3" fill="#4CAF50"/><path d="M20.5 24L21.5 25L23.5 23" stroke="#fff" stroke-width=".8"/></svg></div>
            <div class="cert-name">EPA 608</div>
            <div class="cert-price">Estudio Gratis</div>
          </div>
          <div class="cert-card" onclick="openCertCourse('osha')">
            <div class="cert-icon"><svg width="28" height="28" viewBox="0 0 32 32"><rect x="10" y="4" width="3" height="22" rx="1" fill="#FF9800"/><rect x="19" y="4" width="3" height="22" rx="1" fill="#FF9800"/><rect x="8" y="8" width="16" height="2" rx=".5" fill="#FFB74D"/><rect x="8" y="15" width="16" height="2" rx=".5" fill="#FFB74D"/><rect x="8" y="22" width="16" height="2" rx=".5" fill="#FFB74D"/><rect x="1" y="24" width="10" height="6" rx="2" fill="#E53935"/><rect x="1" y="17" width="3" height="9" rx="1" fill="#E53935"/><circle cx="2.5" cy="16" r="1.5" fill="#E53935"/></svg></div>
            <div class="cert-name">OSHA</div>
            <div class="cert-price">Estudio Gratis</div>
          </div>
          <div class="cert-card" onclick="openCertCourse('a2l')">
            <div class="cert-icon"><svg width="28" height="28" viewBox="0 0 32 32"><rect x="10" y="2" width="12" height="24" rx="5" fill="#42A5F5"/><rect x="12" y="4" width="8" height="20" rx="3.5" fill="#BBDEFB"/><text x="16" y="16" text-anchor="middle" font-size="5" fill="#1565C0" font-weight="bold">R32</text><circle cx="16" cy="6" r="1.5" fill="#1565C0"/><rect x="13" y="24" width="6" height="4" rx="1" fill="#1565C0"/></svg></div>
            <div class="cert-name">A2L</div>
            <div class="cert-price">Estudio Gratis</div>
          </div>
          <div class="cert-card" onclick="openCertCourse('calefaccion')">
            <div class="cert-icon">🔥</div>
            <div class="cert-name">Calefacción</div>
            <div class="cert-price">Estudio Gratis</div>
          </div>
          <div class="cert-card" onclick="openCertCourse('hvaccore')">
            <div class="cert-icon">❄️</div>
            <div class="cert-name">HVAC Core</div>
            <div class="cert-price">Estudio Gratis</div>
          </div>
          <div class="cert-card" onclick="openCertCourse('hvacr')">
            <div class="cert-icon"><svg width="28" height="28" viewBox="0 0 32 32"><rect width="16" height="32" fill="#E3F2FD" rx="2"/><rect x="16" width="16" height="32" fill="#FFF3E0" rx="2"/><path d="M8 8L5 14L8 12L11 14Z" fill="#42A5F5"/><circle cx="8" cy="6" r="1.5" fill="#42A5F5"/><path d="M24 16C24 13 22 11 22 9C22 7 23 6 24 6C25 6 26 7 26 9C26 11 24 13 24 16Z" fill="#FF9800"/><circle cx="24" cy="18" r="1.5" fill="#E65100"/></svg></div>
            <div class="cert-name">HVACR</div>
            <div class="cert-price">Estudio Gratis</div>
          </div>
        </div>
      </div>

      <!-- Memberships Grid -->
      <!-- Access Code Section -->
      <div style="background:linear-gradient(135deg,#2c3e50,#3498db);border-radius:16px;padding:20px;margin:20px 0;text-align:center;color:white;">
        <h3 style="margin:0 0 8px 0;font-size:18px;">🔓 Desbloquear Niveles</h3>
        <p style="margin:0 0 15px 0;font-size:13px;opacity:0.9;">Ingresa tu código de acceso o solicita uno</p>
        <div style="display:flex;gap:10px;justify-content:center;flex-wrap:wrap;">
          <input type="text" id="accessCodeInput" placeholder="Ingresa tu código" 
            style="padding:10px 15px;border-radius:8px;border:2px solid rgba(255,255,255,0.3);background:rgba(255,255,255,0.15);color:white;font-size:14px;width:180px;text-align:center;text-transform:uppercase;" 
            maxlength="8">
          <button onclick="redeemAccessCode()" 
            style="padding:10px 20px;border-radius:8px;border:none;background:#27ae60;color:white;font-weight:bold;cursor:pointer;font-size:14px;">✅ Activar</button>
        </div>
        <button onclick="requestAccessCode()" 
          style="margin-top:12px;padding:8px 20px;border-radius:8px;border:2px solid rgba(255,255,255,0.4);background:transparent;color:white;cursor:pointer;font-size:13px;">📩 Solicitar Código de Acceso</button>
        <div id="accessCodeMessage" style="margin-top:10px;font-size:13px;display:none;"></div>
      </div>

      <div style="margin-top:20px;">
        <h3 style="color:#9b59b6; text-align:center; margin-bottom:12px; font-size:16px;">👑 Membresías en Vivo</h3>
        <div style="display:grid; grid-template-columns: repeat(3, 1fr); gap:8px;">
          <div class="membership-card bronze" onclick="window.open('https://buy.stripe.com/9B6cN52rB6tagjd1nV3sI04','_blank')">
            <div class="cert-icon">🥉</div>
            <div class="cert-name">Principiante</div>
            <div class="cert-price">$119/mes</div>
            <div class="cert-lock">💳</div>
          </div>
          <div class="membership-card silver" onclick="window.open('https://buy.stripe.com/7sYcN5d6feZG3wr2rZ3sI0e','_blank')">
            <div class="cert-icon">🥈</div>
            <div class="cert-name">Intermedio</div>
            <div class="cert-price">$299/mes</div>
            <div class="cert-lock">💳</div>
          </div>
          <div class="membership-card gold" onclick="window.open('https://buy.stripe.com/6oU28r3vF5p6aYTaYv3sI0d','_blank')">
            <div class="cert-icon">🥇</div>
            <div class="cert-name">Mentoría</div>
            <div class="cert-price">$699/mes</div>
            <div class="cert-lock">💳</div>
          </div>
        </div>
      </div>

      <!-- Trade Master CRM -->
      <div style="margin-top:20px;">
        <h3 style="color:#3498db; text-align:center; margin-bottom:12px; font-size:16px;">💼 Trade Master CRM</h3>
        <div style="display:grid; grid-template-columns: repeat(3, 1fr); gap:8px;">
          <div class="cert-card" style="border-color:rgba(46,204,113,0.5); background:linear-gradient(135deg, rgba(46,204,113,0.15), rgba(39,174,96,0.15));" onclick="window.open('https://trademastersusa.org', '_blank')">
            <div class="cert-icon">🆓</div>
            <div class="cert-name">CRM Gratis</div>
            <div class="cert-price" style="color:#2ecc71;">Registrarse</div>
          </div>
          <div class="cert-card" style="border-color:rgba(52,152,219,0.5); background:linear-gradient(135deg, rgba(52,152,219,0.15), rgba(41,128,185,0.15));" onclick="window.open('https://trademastersusa.org', '_blank')">
            <div class="cert-icon">🚀</div>
            <div class="cert-name">CRM Pro</div>
            <div class="cert-price">$149/mes</div>
            <div class="cert-lock">🔒</div>
          </div>
          <div class="cert-card" style="border-color:rgba(155,89,182,0.5); background:linear-gradient(135deg, rgba(155,89,182,0.15), rgba(142,68,173,0.15));" onclick="window.open('https://trademastersusa.org', '_blank')">
            <div class="cert-icon">🏢</div>
            <div class="cert-name">Enterprise</div>
            <div class="cert-price">$299/mes</div>
            <div class="cert-lock">🔒</div>
          </div>
        </div>
      </div>

      <!-- Soporte -->
      <div style="margin-top:20px;background:#fff;border-radius:12px;padding:18px;border:1px solid #e2e8f0;"><h3 style="color:#1565C0;text-align:center;margin-bottom:12px;font-size:16px;">🛠️ Soporte Técnico</h3><p style="text-align:center;color:#64748b;font-size:13px;margin-bottom:12px;">¿Necesitas ayuda?</p><div style="display:grid;grid-template-columns:repeat(2,1fr);gap:8px;"><button onclick="window.open('https://wa.me/19096390448?text=Hola%20ACVOLT','_blank')" style="background:linear-gradient(135deg,#25D366,#128C7E);color:white;border:none;border-radius:10px;padding:12px 8px;cursor:pointer;font-size:12px;font-weight:600;">💬 WhatsApp</button><button onclick="window.location.href='mailto:techschoolacvolt@gmail.com'" style="background:linear-gradient(135deg,#1565C0,#0D47A1);color:white;border:none;border-radius:10px;padding:12px 8px;cursor:pointer;font-size:12px;font-weight:600;">📧 Email</button></div></div>
    </div>

    <!-- Certification Course Screen -->
    <div class="screen" id="certCourseScreen">
      <div class="quiz-header">
        <button class="back-btn" onclick="showScreen('levelsScreen')">← Volver</button>
        <span class="question-category" id="certCourseTitle">Certificación</span>
      </div>
      <div style="text-align:center; padding:20px 10px;">
        <div id="certCourseIcon" style="font-size:60px; margin-bottom:10px;"></div>
        <h2 id="certCourseName" style="color:#1e293b; margin-bottom:5px;"></h2>
        <p id="certCourseDesc" style="color:#64748b; font-size:14px; margin-bottom:20px;"></p>
        
        <div style="background:rgba(255,255,255,0.1); border-radius:15px; padding:15px; margin-bottom:15px;">
          <h3 style="color:#2ecc71; margin-bottom:10px; font-size:16px;">📚 Secciones de Estudio (GRATIS)</h3>
          <p style="color:#64748b; font-size:13px; margin-bottom:12px;">700 preguntas de práctica para prepararte</p>
          <div id="certStudySections" style="display:grid; grid-template-columns: 1fr 1fr; gap:8px;"></div>
          <button class="btn btn-primary" id="certStartStudyBtn" onclick="startCertStudy()" style="margin-top:12px; width:100%; background:linear-gradient(135deg, #27ae60, #2ecc71);">
            📖 Comenzar Estudio
          </button>
        </div>

        <div style="background:linear-gradient(135deg, rgba(243,156,18,0.2), rgba(231,76,60,0.2)); border:2px solid rgba(243,156,18,0.5); border-radius:15px; padding:15px;">
          <h3 style="color:#f39c12; margin-bottom:8px; font-size:16px;">🎓 Solicitar Examen de Certificación</h3>
          <p style="color:#64748b; font-size:13px; margin-bottom:5px;">Cuando estés listo, solicita tu examen oficial</p>
          <p id="certExamPrice" style="color:#f39c12; font-size:22px; font-weight:bold; margin-bottom:12px;"></p>
          <button class="btn btn-primary" id="certExamBtn" onclick="requestCertExam()" style="width:100%; background:linear-gradient(135deg, #f39c12, #e67e22);">
            🔒 Solicitar Examen
          </button>
        </div>
      </div>
    </div>

    <!-- Quiz Screen -->
    <div class="screen" id="quizScreen">
      <div class="quiz-header">
        <button class="back-btn" onclick="confirmExit()">← Volver</button>
        <span class="question-category" id="questionCategory">Categoría</span>
        <span class="question-count" id="questionCount">1/50</span>
      </div>
      <div class="question-text" id="questionText">Pregunta...</div>
      <div class="options" id="optionsContainer"></div>
      <div class="feedback" id="feedback">
        <strong id="feedbackTitle">Correcto!</strong>
        <p id="feedbackText"></p>
      </div>
      <button class="btn btn-primary" id="nextBtn" style="display:none; margin-top:20px;" onclick="nextQuestion()">Siguiente →</button>
    </div>

    <!-- Results Screen -->
    <div class="screen" id="resultsScreen">
      <div class="results">
        <div class="header">
          <div class="logo" id="resultsIcon">🏆</div>
          <h1 id="resultsTitle">¡Excelente!</h1>
          <p class="subtitle" id="resultsSubtitle">Quiz completado</p>
        </div>
        <div class="score-circle">
          <svg width="180" height="180">
            <circle class="score-bg" cx="90" cy="90" r="78"/>
            <circle class="score-fill" id="scoreCircle" cx="90" cy="90" r="78" stroke-dasharray="490" stroke-dashoffset="490"/>
          </svg>
          <div class="score-text">
            <div class="score-value" id="scoreValue">0%</div>
            <div class="score-label">Puntuación</div>
          </div>
        </div>
        <div class="stats">
          <div class="stat correct">
            <div class="stat-value" id="correctCount">0</div>
            <div class="stat-label">Correctas</div>
          </div>
          <div class="stat incorrect">
            <div class="stat-value" id="incorrectCount">0</div>
            <div class="stat-label">Incorrectas</div>
          </div>
          <div class="stat time">
            <div class="stat-value" id="timeSpent">0:00</div>
            <div class="stat-label">Tiempo</div>
          </div>
        </div>
        <button class="btn btn-primary" onclick="retryQuiz()">🔄 Intentar de Nuevo</button>
        <button class="btn btn-secondary" onclick="showScreen('levelsScreen')">← Volver a Niveles</button>
      </div>
    </div>

    <!-- Quiz Only Screen (without registration) -->
    <div class="screen" id="quizOnlyScreen">
      <div class="header">
        <div class="logo">❄️🔧</div>
        <h1>Prueba tu Conocimiento</h1>
        <p class="subtitle">50 Preguntas de HVAC</p>
      </div>
      <div class="card">
        <p style="margin-bottom:20px;">Este quiz incluye preguntas sobre:</p>
        <ul style="margin-left:20px; margin-bottom:20px; line-height:1.8;">
          <li>Herramientas y equipos</li>
          <li>Instalación</li>
          <li>Tubería</li>
          <li>Soldadura</li>
          <li>Vacío</li>
          <li>Recuperación de refrigerante</li>
          <li>Electricidad básica</li>
          <li>Refrigeración básica</li>
        </ul>
        <button class="btn btn-primary" onclick="startQuickQuiz()">Comenzar Quiz</button>
        <button class="btn btn-secondary" onclick="showScreen('welcomeScreen')">← Volver</button>
      </div>
    </div>

    <!-- Study Sections Screen -->
    <div class="screen" id="studySectionsScreen">
      <div class="header">
        <div class="logo">📚</div>
        <h1>Secciones de Estudio</h1>
        <p class="subtitle">Estudia todas las preguntas organizadas por categoría</p>
      </div>
      <div class="study-level-tabs" id="studyLevelTabs"></div>
      <div id="studyCategoriesList"></div>
      <button class="btn btn-secondary" onclick="showScreen('welcomeScreen')" style="margin-top:20px;">← Volver al Inicio</button>
    </div>

    <!-- Study Category Detail Screen -->
    <div class="screen" id="studyCategoryDetailScreen">
      <div class="study-back-nav">
        <button class="back-btn" onclick="showScreen('studySectionsScreen')">← Volver</button>
        <span class="study-breadcrumb" id="studyBreadcrumb">Principiante > Herramientas</span>
      </div>
      <div class="header" style="padding: 15px 0;">
        <h2 id="studyCategoryTitle">Categoría</h2>
        <p class="subtitle" id="studyCategorySubtitle">0 preguntas</p>
      </div>
      <div id="studyQuestionsList"></div>
      <button class="btn btn-secondary" onclick="showScreen('studySectionsScreen')" style="margin-top:20px;">← Volver a Categorías</button>
    </div>

    <!-- Video Lessons Screen -->
    <div class="screen" id="videoLessonsScreen">
      <div style="position:sticky;top:0;z-index:50;background:linear-gradient(135deg,#1a5276,#154360);padding:8px 15px;display:flex;align-items:center;justify-content:space-between;border-bottom:2px solid rgba(255,255,255,0.1);">
        <button onclick="showScreen('welcomeScreen')" style="background:#e2e8f0;border:none;color:#1e293b;padding:8px 15px;border-radius:8px;font-size:14px;cursor:pointer;">← Volver</button>
        <span style="color:#f39c12;font-weight:bold;font-size:14px;">🎬 Videolecciones</span>
      </div>
      <div class="header" style="padding-top:10px;">
        <div class="logo">🎬</div>
        <h1>Videolecciones</h1>
        <p class="subtitle">Aprende con videos organizados por nivel y categoría</p>
      </div>
      
      <!-- Level Filter Tabs -->
      <div class="video-level-tabs" id="videoLevelTabs">
        <button class="video-level-tab active" data-level="all" onclick="filterVideosByLevel('all')">📚 Todos</button>
      </div>
      
      <!-- Progress Summary -->
      <div class="video-progress-summary" id="videoProgressSummary">
        <span>Videos vistos: <span style="color:#f39c12;" id="videosWatchedCount">0</span> / <span id="videosTotalCount">0</span></span>
        <span><span style="color:#27ae60;" id="videosCompletionPercent">0%</span> completado</span>
      </div>
      
      <!-- Loading indicator -->
      <div id="videoLoadingIndicator" style="text-align:center; padding:40px; display:none;">
        <div style="font-size:40px; margin-bottom:15px;">⏳</div>
        <p style="color:#64748b;">Cargando videos desde YouTube...</p>
      </div>
      
      <!-- Error message -->
      <div id="videoErrorMessage" style="text-align:center; padding:40px; display:none;">
        <div style="font-size:40px; margin-bottom:15px;">⚠️</div>
        <p style="color:#e74c3c;" id="videoErrorText">Error al cargar videos</p>
        <button class="btn btn-secondary" onclick="loadYouTubeVideos()" style="margin-top:15px;">Reintentar</button>
      </div>
      
      <div id="videoLessonsList"></div>
      <button class="btn btn-secondary" onclick="showScreen('welcomeScreen')" style="margin-top:20px;">← Volver al Inicio</button>
    </div>

    <!-- Video Player Screen -->
    <div class="screen" id="videoPlayerScreen">
      <div class="study-back-nav">
        <button class="back-btn" onclick="exitVideoPlayer()">← Volver</button>
        <span class="study-breadcrumb" id="videoBreadcrumb">Video Lecciones > Video</span>
      </div>
      <div class="video-player-container" id="videoPlayerContainer">
        <div id="youtubePlayerWrapper"></div>
        <video id="videoPlayer" playsinline style="display:none;">
          Tu navegador no soporta video HTML5.
        </video>
      </div>
      <div class="video-info">
        <h2 class="video-title" id="videoTitle">Título del Video</h2>
        <p class="video-description" id="videoDescription">Descripción del video.</p>
      </div>
      <div class="video-status" id="videoStatusBadge">
        <span class="video-status-icon" id="videoStatusIcon">▶️</span>
        <div class="video-status-text">
          <div class="video-status-title" id="videoStatusTitle">En progreso</div>
          <div class="video-status-detail" id="videoStatusDetail">0% completado</div>
        </div>
      </div>
      <div class="video-lesson-progress" style="margin-bottom:20px;">
        <div class="video-progress-bar" style="height:10px;">
          <div class="video-progress-fill" id="videoProgressFill" style="width:0%"></div>
        </div>
        <div class="video-progress-text" id="videoProgressText" style="font-size:13px; margin-top:8px;">0:00 / 0:00</div>
      </div>
      <div class="video-controls">
        <button class="btn btn-video-primary" id="videoCTAButton" onclick="handleVideoCTA()">
          Continuar video
        </button>
        <button class="btn btn-video-secondary" id="videoMarkAsWatchedBtn" onclick="markVideoAsWatched()">
          Marcar como Visto
        </button>
      </div>
    </div>

    <!-- Certificates Screen -->
    <div class="screen" id="certificatesScreen">
      <div class="certificates-header">
        <div class="logo">🏅</div>
        <h1>Mis Certificados</h1>
        <p class="subtitle">Certificados obtenidos al aprobar cada nivel</p>
      </div>
      <div id="certificatesList"></div>
      <button class="btn btn-secondary" onclick="goBackFromCertificates()" style="margin-top:20px;">← Volver</button>
    </div>

    <!-- Mi Perfil Screen -->
    <!-- ============================================ -->
    <!-- PANTALLA: ASISTENCIA (TÉCNICO) -->
    <!-- ============================================ -->
    <div class="screen" id="attendanceScreen">
      <div class="container">
        <div class="header">
          <h1>📋 Mi Asistencia</h1>
          <p class="subtitle">Control de horas de entrenamiento</p>
        </div>
        <button class="btn btn-secondary" onclick="showScreen('welcomeScreen')" style="margin-bottom:15px;">← Volver al Menú</button>
        <div class="attendance-card">
          <div id="attendanceStatusBadge" class="attendance-status status-inactive">⭕ Sin Check-in</div>
          <div id="attendanceTimer" class="attendance-timer">00:00:00</div>
          <p style="margin-bottom:5px; color:#64748b; font-size:14px;">Tipo de clase:</p>
          <div class="attendance-type-selector" style="flex-wrap:wrap;">
            <div class="type-option selected" id="typePresencial" onclick="selectClassType('presencial')">🏫 Presencial</div>
            <div class="type-option" id="typeZoom" onclick="selectClassType('zoom')">📹 Zoom</div>
            <div class="type-option" id="typeComputadora" onclick="selectClassType('computadora')">🖥️ Computadora</div>
            <div class="type-option" id="typeMovil" onclick="selectClassType('movil')">📱 Móvil</div>
          </div>
          <button id="btnCheckIn" class="btn-checkin btn-checkin-in" onclick="doCheckIn()">✅ HACER CHECK-IN</button>
          <button id="btnCheckOut" class="btn-checkin btn-checkin-out" onclick="doCheckOut()" style="display:none;">🛑 HACER CHECK-OUT</button>
        </div>
        <div class="attendance-card">
          <h2 style="color:#E31937; margin-bottom:10px;">⏱️ Horas Acumuladas</h2>
          <div class="attendance-summary-cards">
            <div class="att-summary-card">
              <div class="att-summary-number" id="attHoursToday">0</div>
              <div class="att-summary-text">Hoy</div>
            </div>
            <div class="att-summary-card">
              <div class="att-summary-number" id="attHoursWeek">0</div>
              <div class="att-summary-text">Esta Semana</div>
            </div>
            <div class="att-summary-card">
              <div class="att-summary-number" id="attHoursTotal">0</div>
              <div class="att-summary-text">Total</div>
            </div>
          </div>
        </div>
        <div class="attendance-card">
          <h2 style="color:#E31937; margin-bottom:10px;">📅 Historial Reciente</h2>
          <div id="attendanceHistory" class="attendance-history">
            <p style="color:#94a3b8; text-align:center;">Cargando historial...</p>
          </div>
        </div>
        <button class="btn btn-secondary" onclick="showScreen('welcomeScreen')" style="margin-top:15px;">← Volver al Menú</button>
      </div>
    </div>

    <div class="screen" id="miPerfilScreen">
      <div class="header">
        <h1>Mi Perfil</h1>
        <p class="subtitle">Técnico HVACR - Nivel 33</p>
      </div>
      <div class="card">
        <div id="profileContent">
          <!-- Avatar and Level Section -->
          <div class="profile-avatar-section" id="profileAvatarSection">
            <label for="profilePhotoInput" style="display:block;cursor:pointer;position:relative;display:inline-block;"><div class="profile-avatar nivel-nuevo" id="profileAvatar" style="overflow:hidden;position:relative;"><img id="profilePhotoImg" src="" style="display:none;width:100%;height:100%;object-fit:cover;border-radius:50%;position:absolute;top:0;left:0;">👤</div><div class="profile-badge badge-nuevo" id="profileBadge">🔰</div><div style="position:absolute;bottom:5px;right:calc(50% - 55px);background:#f39c12;color:white;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;border:2px solid white;z-index:10;">📷</div></label><input type="file" id="profilePhotoInput" accept="image/*" capture="environment" style="position:absolute;left:-9999px;opacity:0;width:0;height:0;" onchange="handleProfilePhoto(this)"><p style="color:#64748b;font-size:11px;margin-top:5px;">Toca para cambiar foto</p>
            <div class="profile-level-title titulo-nuevo" id="profileLevelTitle">Técnico Nuevo</div>
            <div class="profile-level-subtitle" id="profileLevelSubtitle">Completa niveles para subir de rango</div>
            <div class="profile-progress-bar">
              <div class="profile-progress-fill progress-nuevo" id="profileProgressFill" style="width: 0%;"></div>
            </div>
            <div class="profile-progress-text" id="profileProgressText">0/5 niveles completados</div>
            
            <!-- Mini badges earned -->
            <div class="profile-badges-earned">
              <div class="mini-badge badge-principiante" id="miniBadgePrincipiante" title="Principiante">🌱</div>
              <div class="mini-badge badge-intermedio" id="miniBadgeIntermedio" title="Intermedio">📘</div>
              <div class="mini-badge badge-avanzado" id="miniBadgeAvanzado" title="Avanzado">⚡</div>
              <div class="mini-badge badge-elite" id="miniBadgeElite" title="Elite">🏆</div>
              <div class="mini-badge badge-platino" id="miniBadgePlatino" title="Platino">💎</div>
            </div>
          </div>

          <div class="profile-section">
            <h3 style="color:#f39c12; margin-bottom:15px; font-size:18px;">📋 Datos Personales</h3>
            <div class="profile-field">
              <span class="profile-label">Nombre:</span>
              <span class="profile-value" id="profileNombre">-</span>
            </div>
            <div class="profile-field">
              <span class="profile-label">Email:</span>
              <span class="profile-value" id="profileEmail">-</span>
            </div>
            <div class="profile-field">
              <span class="profile-label">Teléfono:</span>
              <span class="profile-value" id="profileTelefono">-</span>
            </div>
            <div class="profile-field">
              <span class="profile-label">Ciudad:</span>
              <span class="profile-value" id="profileCiudad">-</span>
            </div>
            <div class="profile-field">
              <span class="profile-label">Estado:</span>
              <span class="profile-value" id="profileEstado">-</span>
            </div>
          </div>

          <div class="profile-section" style="margin-top:25px;">
            <h3 style="color:#f39c12; margin-bottom:15px; font-size:18px;">🎖️ Certificaciones</h3>
            <div class="profile-field">
              <span class="profile-label">EPA 608:</span>
              <span class="profile-value" id="profileEPA">-</span>
            </div>
            <div class="profile-field">
              <span class="profile-label">NATE:</span>
              <span class="profile-value" id="profileNATE">-</span>
            </div>
            <div class="profile-field">
              <span class="profile-label">ESCO:</span>
              <span class="profile-value" id="profileESCO">-</span>
            </div>
          </div>

          <div class="profile-section" style="margin-top:25px;">
            <h3 style="color:#f39c12; margin-bottom:15px; font-size:18px;">🔢 Mi Número de Técnico</h3>
            <div id="technicianNumberSection">
              <div id="technicianNumberDisplay" style="display:none;">
                <div class="technician-number-card">
                  <div class="technician-number-value" id="technicianNumberValue">-</div>
                  <div class="technician-number-date" id="technicianNumberDate">-</div>
                </div>
              </div>
              <div id="technicianNumberGenerator">
                <p style="color:#64748b; margin-bottom:15px; font-size:14px; line-height:1.5;">
                  Genera tu número único de técnico para identificarte en la plataforma Nivel 33.
                </p>
                <button class="btn btn-primary" onclick="generateTechnicianNumber()" style="margin-top:10px;">
                  🔢 Generar Mi Número de Técnico
                </button>
              </div>
            </div>
          </div>
          <div class="profile-section" style="margin-top:25px;">
            <h3 style="color:#f39c12; margin-bottom:15px; font-size:18px;">🪪 Mi Credencial de Estudiante</h3>
            <div id="credentialSection">
              <p style="color:#64748b; font-size:14px;">Cargando credencial...</p>
            </div>
          </div>
        </div>

        <div id="noProfileContent" style="display:none; text-align:center; padding:30px 0;">
          <div style="font-size:60px; margin-bottom:20px; opacity:0.5;">👤</div>
          <p style="color:#64748b; font-size:16px; line-height:1.6; margin-bottom:20px;">
            No has creado tu perfil todavía.<br>Regístrate para acceder a todas las funciones.
          </p>
          <button class="btn btn-primary" onclick="showScreen('registerScreen')">Crear Perfil</button>
        </div>
      </div>
      <button class="btn btn-secondary" onclick="goBackFromProfile()" style="margin-top:20px;">← Volver</button>
    </div>
  </div>

  <!-- Matrix Unlock Modal -->
  <div class="matrix-unlock-modal" id="matrixUnlockModal" style="display: none;">
    <div class="matrix-unlock-content">
      <h3>🔐 Nivel Bloqueado</h3>
      <p>Este nivel requiere un código de acceso Matrix generado por el administrador.</p>
      <div class="matrix-unlock-error" id="matrixUnlockError">Código Matrix inválido. Intenta de nuevo.</div>
      <input type="text" class="matrix-unlock-input" id="matrixIdInput" placeholder="Ingresa tu código Matrix" maxlength="20">
      <div class="matrix-unlock-buttons">
        <button class="btn btn-secondary" onclick="closeMatrixModal()">Cancelar</button>
        <button class="btn btn-primary" onclick="validateMatrixId()">Desbloquear</button>
      </div>
    </div>
  </div>

  <script>
    // ============================================
    // PROFILE PHOTO
    function handleProfilePhoto(i){
      if(i.files&&i.files[0]){
        var file=i.files[0];
        // Compress image before saving
        var reader=new FileReader();
        reader.onload=function(e){
          var img=new Image();
          img.onload=function(){
            var canvas=document.createElement('canvas');
            var maxSize=300;
            var w=img.width, h=img.height;
            if(w>h){h=Math.round(h*maxSize/w);w=maxSize;}
            else{w=Math.round(w*maxSize/h);h=maxSize;}
            canvas.width=w;canvas.height=h;
            var ctx=canvas.getContext('2d');
            ctx.drawImage(img,0,0,w,h);
            var compressed=canvas.toDataURL('image/jpeg',0.7);
            var profileImg=document.getElementById('profilePhotoImg');
            if(profileImg){profileImg.src=compressed;profileImg.style.display='block';}
            try{
              var emailKey=localStorage.getItem('maestroac_email')||(currentUser?currentUser.email:'default');
              localStorage.setItem('maestroac_photo_'+emailKey,compressed);
              alert('✅ Foto actualizada correctamente');
            }catch(x){
              alert('⚠️ Error guardando foto: '+x.message);
            }
          };
          img.onerror=function(){alert('⚠️ No se pudo leer la imagen');};
          img.src=e.target.result;
        };
        reader.onerror=function(){alert('⚠️ Error leyendo el archivo');};
        reader.readAsDataURL(file);
      }
    }
    document.addEventListener("DOMContentLoaded",function(){
      setTimeout(function(){
        var emailKey=localStorage.getItem('maestroac_email')||(typeof currentUser!=='undefined'&&currentUser?currentUser.email:'default');
        var p=localStorage.getItem('maestroac_photo_'+emailKey);
        if(!p)p=localStorage.getItem('maestroac_photo_default');
        if(p){var img=document.getElementById('profilePhotoImg');if(img){img.src=p;img.style.display='block';}}
      },500);
    });
    // SUPABASE CONFIGURATION
    // ============================================
    const SUPABASE_URL = 'https://htklsowiyjwsjnacnvnr.supabase.co';
    const SUPABASE_KEY = 'sb_publishable_Appokp_k6dAzxDjjmlED9g_bLi4kLQs';
    const supabaseClient = window.supabase ? window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY, {
        auth: {
            persistSession: true,
            autoRefreshToken: true,
            detectSessionInUrl: true
        }
    }) : null;
    let supabaseUserId = null;
    let isOnline = navigator.onLine;

    window.addEventListener('online', () => { isOnline = true; syncToSupabase(); });
    window.addEventListener('offline', () => { isOnline = false; });

    // Auth state change listener
    if (supabaseClient) {
        supabaseClient.auth.onAuthStateChange((event, session) => {
            console.log('[MaestroAC] Auth event:', event);
            if (event === 'SIGNED_IN' && session) {
                const userEmail = session.user.email;
                localStorage.setItem('tecnico_authenticated', 'true');
                localStorage.setItem('tecnico_email', userEmail);
            }
            if (event === 'SIGNED_OUT') {
                localStorage.removeItem('tecnico_authenticated');
                localStorage.removeItem('tecnico_email');
            }
        });
    }

    // ============================================
    // SUPABASE DATABASE LAYER
    // ============================================
    async function supabaseRegisterUser(userData) {
      if (!supabaseClient || !isOnline) return null;
      try {
        const { data: existing } = await supabaseClient
          .from('users')
          .select('id')
          .eq('nombre', userData.nombre)
          .eq('email', userData.email || '')
          .limit(1);
        if (existing && existing.length > 0) {
          supabaseUserId = existing[0].id;
          await supabaseClient.from('users').update({ ultimo_acceso: new Date().toISOString() }).eq('id', supabaseUserId);
          return supabaseUserId;
        }
        const { data, error } = await supabaseClient
          .from('users')
          .insert({ nombre: userData.nombre, email: userData.email || null, telefono: userData.telefono || null })
          .select('id')
          .single();
        if (error) { console.error('Supabase register error:', error); return null; }
        supabaseUserId = data.id;
        return supabaseUserId;
      } catch (e) { console.error('Supabase register exception:', e); return null; }
    }

    async function supabaseSaveProgress(progressData) {
      if (!supabaseClient || !isOnline || !supabaseUserId) return;
      try {
        for (const [nivel, data] of Object.entries(progressData)) {
          const porcentaje = data.total > 0 ? ((data.score / data.total) * 100).toFixed(2) : 0;
          await supabaseClient.from('user_progress').upsert({
            user_id: supabaseUserId, nivel, completed: data.completed, score: data.score,
            total: data.total, porcentaje, fecha_completado: data.completed >= data.total ? new Date().toISOString() : null
          }, { onConflict: 'user_id,nivel' });
        }
      } catch (e) { console.error('Supabase save progress error:', e); }
    }

    async function supabaseSaveCertificate(cert) {
      if (!supabaseClient || !isOnline || !supabaseUserId) return;
      try {
        await supabaseClient.from('certificates').upsert({
          user_id: supabaseUserId, nivel: cert.level || cert.nivel, score: cert.score,
          total_questions: cert.totalQuestions || cert.total, porcentaje: cert.percentage || cert.porcentaje,
          certificate_number: cert.certificateNumber || null, fecha_obtenido: cert.date || new Date().toISOString()
        }, { onConflict: 'user_id,nivel' });
      } catch (e) { console.error('Supabase save certificate error:', e); }
    }

    async function supabaseSaveQuizAttempt(attemptData) {
      if (!supabaseClient || !isOnline || !supabaseUserId) return;
      try {
        await supabaseClient.from('quiz_attempts').insert({
          user_id: supabaseUserId, nivel: attemptData.nivel, total_questions: attemptData.totalQuestions,
          correct_answers: attemptData.correctAnswers, wrong_answers: attemptData.wrongAnswers,
          porcentaje: attemptData.porcentaje, tiempo_segundos: attemptData.tiempoSegundos || null,
          aprobado: attemptData.aprobado
        });
      } catch (e) { console.error('Supabase save quiz attempt error:', e); }
    }

    async function supabaseSaveUnlockedLevel(nivel, matrixCode) {
      if (!supabaseClient || !isOnline || !supabaseUserId) return;
      try {
        await supabaseClient.from('unlocked_levels').upsert({
          user_id: supabaseUserId, nivel, matrix_code: matrixCode || null
        }, { onConflict: 'user_id,nivel' });
      } catch (e) { console.error('Supabase save unlocked level error:', e); }
    }

    async function supabaseSaveTechnicianNumber(techNumber, techDate) {
      if (!supabaseClient || !isOnline || !supabaseUserId) return;
      try {
        await supabaseClient.from('users').update({ technician_number: techNumber, technician_number_date: techDate }).eq('id', supabaseUserId);
      } catch (e) { console.error('Supabase save technician number error:', e); }
    }

    async function supabaseUpdateNivel(nivel) {
      if (!supabaseClient || !isOnline || !supabaseUserId) return;
      try {
        await supabaseClient.from('users').update({ nivel_actual: nivel }).eq('id', supabaseUserId);
      } catch (e) { console.error('Supabase update nivel error:', e); }
    }

    async function supabaseLoadUserData() {
      if (!supabaseClient || !isOnline || !supabaseUserId) return null;
      try {
        const { data: progressData } = await supabaseClient.from('user_progress').select('*').eq('user_id', supabaseUserId);
        const { data: certsData } = await supabaseClient.from('certificates').select('*').eq('user_id', supabaseUserId);
        const { data: unlockedData } = await supabaseClient.from('unlocked_levels').select('*').eq('user_id', supabaseUserId);
        return { progress: progressData, certificates: certsData, unlockedLevels: unlockedData };
      } catch (e) { console.error('Supabase load error:', e); return null; }
    }

    async function syncToSupabase() {
      if (!supabaseClient || !isOnline || !supabaseUserId) return;
      try {
        await supabaseSaveProgress(progress);
        for (const cert of certificates) { await supabaseSaveCertificate(cert); }
        console.log('[MaestroAC] Synced to Supabase ✅');
      } catch (e) { console.error('Sync error:', e); }
    }

    // State
    let currentUser = null;
    let currentLevel = null;
    let currentQuestions = [];
    let currentQuestionIndex = 0;
    let correctAnswers = 0;
    let startTime = null;
    let certificates = []; // Array to store earned certificates
    let previousScreen = 'welcomeScreen'; // Track previous screen for navigation
    let progress = {
      principiante: { completed: 0, total: 700, score: 0 },
      intermedio: { completed: 0, total: 700, score: 0 },
      avanzado: { completed: 0, total: 700, score: 0 },
      elite: { completed: 0, total: 700, score: 0 },
      platino: { completed: 0, total: 700, score: 0 }
    };

    // Last activity tracking object - persisted to track user's most recent activity
    let lastActivity = null;

    // Last quiz state - persisted to enable exact resume from question view
    // Contains: levelId, category, questionIndex, totalQuestions, routePath, updatedAt
    // Also stores shuffledQuestionIds to restore exact question order on resume
    let lastQuizState = null;

    // ==== VIDEO LESSONS SYSTEM ====
    // Video progress tracking
    let videoProgress = {}; // { videoId: { lastPlaybackTime, duration, completed, watchedPercentage, updatedAt } }
    let currentVideoId = null;
    let videoAutoSaveInterval = null;
    const VIDEO_AUTO_SAVE_INTERVAL = 5000; // Auto-save every 5 seconds
    const VIDEO_COMPLETION_THRESHOLD = 90; // 90% watched = completed

    // Sample video lessons data
    // YouTube API Configuration
    const YOUTUBE_API_KEY = 'AIzaSyCkHcL1QcgKzxABmI4IJeEmjjvnZz_Xtys';
    const YOUTUBE_CHANNEL_HANDLE = '@MaestroMarioAc';
    
    // Video lessons will be loaded from YouTube
    let videoLessons = [];
    let youtubeVideosLoaded = false;
    let currentVideoFilter = 'all';
    
    // Video categories for organization
    const videoCategories = [
      { id: 'herramientas', name: 'Herramientas', icon: '🔧', keywords: ['herramienta', 'tool', 'manometro', 'multimetro', 'vacuometro', 'pinza'] },
      { id: 'instalacion', name: 'Instalación', icon: '🏠', keywords: ['instala', 'install', 'montaje', 'colocar'] },
      { id: 'refrigeracion', name: 'Refrigeración', icon: '❄️', keywords: ['refrigera', 'refrig', 'freón', 'r410', 'r22', 'carga', 'presion', 'minisplit', 'mini split'] },
      { id: 'electricidad', name: 'Electricidad', icon: '⚡', keywords: ['electric', 'voltaje', 'amper', 'cable', 'circuito', 'capacitor', 'contactor', 'transformador'] },
      { id: 'diagnostico', name: 'Diagnóstico', icon: '🔍', keywords: ['diagnos', 'falla', 'problema', 'revisar', 'troubleshoot', 'no enfria', 'no enciende'] },
      { id: 'soldadura', name: 'Soldadura', icon: '🔥', keywords: ['solda', 'brazing', 'tuber', 'cobre', 'nitrogeno'] },
      { id: 'mantenimiento', name: 'Mantenimiento', icon: '🛠️', keywords: ['mantenim', 'limpi', 'servicio', 'maintenance', 'lavado'] },
      { id: 'teoria', name: 'Teoría HVAC', icon: '📚', keywords: ['teoria', 'concepto', 'fundament', 'basic', 'principio', 'ciclo', 'ley'] },
      { id: 'negocio', name: 'Negocio', icon: '💼', keywords: ['negocio', 'business', 'precio', 'cobrar', 'cliente', 'empresa', 'dinero'] },
      { id: 'otros', name: 'Otros', icon: '📹', keywords: [] }
    ];
    
    // Load videos from YouTube API
    async function loadYouTubeVideos() {
      if (youtubeVideosLoaded && videoLessons.length > 0) {
        renderVideoLessonsList();
        return;
      }
      
      const loadingEl = document.getElementById('videoLoadingIndicator');
      const errorEl = document.getElementById('videoErrorMessage');
      const listEl = document.getElementById('videoLessonsList');
      
      loadingEl.style.display = 'block';
      errorEl.style.display = 'none';
      listEl.innerHTML = '';
      
      try {
        // First, get the channel info using the handle
        const channelResponse = await fetch(
          `https://www.googleapis.com/youtube/v3/channels?part=contentDetails,snippet&forHandle=${YOUTUBE_CHANNEL_HANDLE}&key=${YOUTUBE_API_KEY}`
        );
        const channelData = await channelResponse.json();
        
        if (channelData.error) {
          throw new Error(channelData.error.message || 'Error de API');
        }
        
        if (!channelData.items || channelData.items.length === 0) {
          throw new Error('Canal no encontrado');
        }
        
        const uploadsPlaylistId = channelData.items[0].contentDetails.relatedPlaylists.uploads;
        
        // Get videos from uploads playlist (get more videos)
        let allVideos = [];
        let nextPageToken = '';
        
        do {
          const videosResponse = await fetch(
            `https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,contentDetails&playlistId=${uploadsPlaylistId}&maxResults=50&pageToken=${nextPageToken}&key=${YOUTUBE_API_KEY}`
          );
          const videosData = await videosResponse.json();
          
          if (videosData.error) {
            throw new Error(videosData.error.message || 'Error al cargar videos');
          }
          
          if (videosData.items) {
            allVideos = allVideos.concat(videosData.items);
          }
          
          nextPageToken = videosData.nextPageToken || '';
        } while (nextPageToken && allVideos.length < 300); // Get up to 300 videos
        
        // Get video durations in batches of 50
        const durationMap = {};
        const viewsMap = {};
        
        for (let i = 0; i < allVideos.length; i += 50) {
          const batch = allVideos.slice(i, i + 50);
          const videoIds = batch.map(v => v.contentDetails.videoId).join(',');
          
          const detailsResponse = await fetch(
            `https://www.googleapis.com/youtube/v3/videos?part=contentDetails,statistics&id=${videoIds}&key=${YOUTUBE_API_KEY}`
          );
          const detailsData = await detailsResponse.json();
          
          if (detailsData.items) {
            detailsData.items.forEach(item => {
              durationMap[item.id] = parseDuration(item.contentDetails.duration);
              viewsMap[item.id] = parseInt(item.statistics.viewCount) || 0;
            });
          }
        }
        
        // Transform to our video format
        videoLessons = allVideos.map(item => {
          const snippet = item.snippet;
          const videoId = item.contentDetails.videoId;
          const category = categorizeVideo(snippet.title, snippet.description);
          
          return {
            id: videoId,
            youtubeId: videoId,
            title: snippet.title,
            description: snippet.description || 'Video de ACVOLT',
            thumbnail: snippet.thumbnails.medium?.url || snippet.thumbnails.default?.url,
            duration: durationMap[videoId] || 0,
            views: viewsMap[videoId] || 0,
            category: category,
            publishedAt: snippet.publishedAt,
            isYouTube: true
          };
        });
        
        youtubeVideosLoaded = true;
        loadingEl.style.display = 'none';
        renderVideoLessonsList();
        
      } catch (error) {
        console.error('Error loading YouTube videos:', error);
        loadingEl.style.display = 'none';
        errorEl.style.display = 'block';
        document.getElementById('videoErrorText').textContent = 'Error al cargar videos: ' + error.message;
      }
    }
    
    // Parse YouTube duration format (PT1H2M3S) to seconds
    function parseDuration(duration) {
      const match = duration.match(/PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/);
      if (!match) return 0;
      const hours = parseInt(match[1]) || 0;
      const minutes = parseInt(match[2]) || 0;
      const seconds = parseInt(match[3]) || 0;
      return hours * 3600 + minutes * 60 + seconds;
    }
    
    // Categorize video based on title and description
    function categorizeVideo(title, description) {
      const text = (title + ' ' + description).toLowerCase();
      
      for (const cat of videoCategories) {
        if (cat.keywords.length === 0) continue;
        for (const keyword of cat.keywords) {
          if (text.includes(keyword.toLowerCase())) {
            return cat.id;
          }
        }
      }
      return 'otros';
    }
    
    // Filter videos by level/category
    function filterVideosByLevel(level) {
      currentVideoFilter = level;
      
      // Update tab styles
      document.querySelectorAll('.video-level-tab').forEach(tab => {
        tab.classList.remove('active');
        if (tab.dataset.level === level) {
          tab.classList.add('active');
        }
      });
      
      renderVideoLessonsList();
    }
    
    // Format views count
    function formatViews(views) {
      if (views >= 1000000) return (views / 1000000).toFixed(1) + 'M';
      if (views >= 1000) return (views / 1000).toFixed(1) + 'K';
      return views.toString();
    }

    // ==== LOCK SYSTEM CONFIGURATION ====
    // IMPORTANT: Set LOCK_SYSTEM_ENABLED to true to activate locks
    const LOCK_SYSTEM_ENABLED = true; // ACTIVATED - Levels 2+ require purchase or student access

    // Valid Matrix IDs that can unlock levels (generated from Matrix website)
    // Format: MATRIX-YYYY-XXXX where YYYY is year and XXXX is unique code
    const VALID_MATRIX_IDS = [
      'MATRIX-2024-HVAC',
      'MATRIX-2024-TECH',
      'MATRIX-2024-N33A',
      'MATRIX-2024-N33B',
      'MATRIX-2024-N33C'
    ];

    // Track unlocked levels per user (stored in localStorage)
    let unlockedLevels = {};
    let pendingLevelToUnlock = null;

    // Load unlocked levels from storage
    function loadUnlockedLevels() {
      const saved = localStorage.getItem('tecnico_unlocked_levels');
      if (saved) {
        unlockedLevels = JSON.parse(saved);
      }
    }

    // Save unlocked levels to storage
    function saveUnlockedLevels() {
      localStorage.setItem('tecnico_unlocked_levels', JSON.stringify(unlockedLevels));
    }

    // ===== ACVOLT STUDENT ACCESS SYSTEM =====
    // Students get full access via special URL: maestromario.com?access=acvolt2026
    // Access is saved in localStorage so they only need to open the link once
    const ACVOLT_ACCESS_CODES = ['acvolt2026', 'acvolt2025', 'nivel33'];
    
    function checkStudentAccess() {
      // Check URL parameter
      const params = new URLSearchParams(window.location.search);
      const accessParam = params.get('access');
      
      if (accessParam && ACVOLT_ACCESS_CODES.includes(accessParam.toLowerCase())) {
        // Grant access and save to localStorage
        localStorage.setItem('maestroac_student_access', 'true');
        localStorage.setItem('maestroac_student_code', accessParam.toLowerCase());
        localStorage.setItem('maestroac_student_date', new Date().toISOString());
        
        // Clean URL (remove ?access= parameter) so it looks normal
        const cleanUrl = window.location.origin + window.location.pathname;
        window.history.replaceState({}, document.title, cleanUrl);
        
        console.log('✅ ACVOLT Student access granted via URL');
        return true;
      }
      
      // Check if previously granted
      return localStorage.getItem('maestroac_student_access') === 'true';
    }
    
    // Run on page load
    const isAcvoltStudent = checkStudentAccess();

    // Check if a level is locked
    // Check if user has purchased full app access
    function hasAppAccess() {
      // ACVOLT students always have access (via URL link or saved)
      if (isAcvoltStudent) return true;
      
      if (!currentUser || !currentUser.email) return false;
      // Check individual purchase flag
      const purchased = localStorage.getItem('maestroac_app_purchased_' + currentUser.email);
      if (purchased === 'true') return true;
      // Check admin-granted access list
      const appAccessList = JSON.parse(localStorage.getItem('maestroac_app_access_list') || '[]');
      return appAccessList.includes(currentUser.email);
    }

    function isLevelLocked(levelId) {
      // Principiante is always open (FREE)
      if (levelId === 'principiante') return false;

      // All other levels require app purchase
      if (!hasAppAccess()) return true;

      // If purchased, still need to complete previous level with 100%
      const levelOrder = ['principiante', 'intermedio', 'avanzado', 'elite', 'platino'];
      const currentIndex = levelOrder.indexOf(levelId);
      if (currentIndex <= 0) return false;

      const previousLevel = levelOrder[currentIndex - 1];
      const p = progress[previousLevel];
      if (!p || p.completed === 0) return true;

      const percentage = Math.round((p.score / p.completed) * 100);
      const allCompleted = p.completed >= p.total;
      return !(allCompleted && percentage >= 100);
    }

    function showPurchaseModal() {
      const modal = document.createElement('div');
      modal.style.cssText = 'position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.9);display:flex;align-items:center;justify-content:center;z-index:9999;padding:20px;';
      modal.innerHTML = `
        <div style="background:linear-gradient(135deg,#1a5276,#154360);border-radius:20px;padding:25px;max-width:400px;width:100%;text-align:center;border:2px solid #f39c12;max-height:90vh;overflow-y:auto;">
          <div style="font-size:50px;margin-bottom:10px;">🔓</div>
          <h3 style="color:#f39c12;margin-bottom:8px;">Desbloquea Maestro ACVOLT Completo</h3>
          <p style="color:#64748b;font-size:14px;margin-bottom:15px;">Acceso a los 5 niveles con 3,500 preguntas, todos los niveles de certificación y progreso ilimitado.</p>
          
          <div style="background:rgba(46,204,113,0.15);border:2px solid rgba(46,204,113,0.4);border-radius:15px;padding:15px;margin-bottom:12px;">
            <p style="color:#2ecc71;font-size:13px;font-weight:bold;margin-bottom:3px;">💰 MEJOR VALOR</p>
            <p style="color:#1e293b;font-size:26px;font-weight:bold;margin-bottom:3px;">$240 USD</p>
            <p style="color:#64748b;font-size:13px;margin-bottom:10px;">Pago único - Acceso de por vida</p>
            <button onclick="window.open('https://buy.stripe.com/3cIbJ1eaj2cUff96If3sI0g','_blank');" style="width:100%;padding:14px;border:none;border-radius:12px;font-size:15px;font-weight:bold;cursor:pointer;background:linear-gradient(135deg,#2ecc71,#27ae60);color:white;">💳 Pagar $240 Una Vez</button>
          </div>

          <div style="background:rgba(52,152,219,0.15);border:1px solid rgba(52,152,219,0.4);border-radius:15px;padding:15px;margin-bottom:15px;">
            <p style="color:#1e293b;font-size:22px;font-weight:bold;margin-bottom:3px;">$20 USD/mes</p>
            <p style="color:#64748b;font-size:13px;margin-bottom:10px;">Suscripción mensual - Cancela cuando quieras</p>
            <button onclick="window.open('https://buy.stripe.com/fZu5kD9U32cU1ojaYv3sI07','_blank');" style="width:100%;padding:14px;border:none;border-radius:12px;font-size:15px;font-weight:bold;cursor:pointer;background:linear-gradient(135deg,#3498db,#2980b9);color:white;">💳 Suscribirme $20/mes</button>
          </div>

          <p style="color:#64748b;font-size:11px;margin-bottom:12px;">Después de pagar, envía tu comprobante por WhatsApp o correo para activar tu acceso en menos de 24 horas.</p>
          
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:12px;">
            <button onclick="window.open('https://wa.me/19096390448?text=${encodeURIComponent("Hola, acabo de pagar por Maestro ACVOLT App completa. Mi correo es: "+(currentUser?currentUser.email:""))}','_blank');" style="padding:10px;border:none;border-radius:10px;font-size:13px;font-weight:bold;cursor:pointer;background:linear-gradient(135deg,#25D366,#128C7E);color:white;">📱 WhatsApp</button>
            <button onclick="window.open('mailto:techschoolacvolt@gmail.com?subject=Compra Maestro ACVOLT App&body=Hola, acabo de pagar por Maestro ACVOLT App completa. Mi correo es: '+(currentUser?currentUser.email:''));" style="padding:10px;border:none;border-radius:10px;font-size:13px;font-weight:bold;cursor:pointer;background:linear-gradient(135deg,#3498db,#2980b9);color:white;">📧 Correo</button>
          </div>

          <div style="border-top:1px solid rgba(255,255,255,0.15);padding-top:12px;margin-bottom:12px;">
            <p style="color:#9b59b6;font-size:13px;font-weight:bold;margin-bottom:8px;">🎫 ¿Ya tienes un código de acceso?</p>
            <div style="display:flex;gap:8px;">
              <input type="text" id="accessCodeInput" placeholder="Ingresa tu código" maxlength="10" style="flex:1;padding:10px;border-radius:10px;border:1px solid #e2e8f0;background:#f8fafc;color:#1e293b;font-size:15px;text-align:center;letter-spacing:2px;text-transform:uppercase;font-family:monospace;">
              <button onclick="redeemAccessCode()" style="padding:10px 16px;border:none;border-radius:10px;font-size:13px;font-weight:bold;cursor:pointer;background:linear-gradient(135deg,#9b59b6,#8e44ad);color:white;">Activar</button>
            </div>
            <p id="codeRedeemMsg" style="color:#e74c3c;font-size:11px;margin-top:4px;display:none;"></p>
          </div>

          <button onclick="this.closest('div').parentElement.remove();" style="width:100%;padding:12px;border:none;border-radius:12px;font-size:14px;cursor:pointer;background:rgba(255,255,255,0.15);color:#64748b;">Cancelar</button>
        </div>
      `;
      document.body.appendChild(modal);
    }

    // Unlock a level for current user
    function unlockLevel(levelId, matrixId) {
      if (!currentUser || !currentUser.email) return false;
      const userKey = currentUser.email;
      if (!unlockedLevels[userKey]) {
        unlockedLevels[userKey] = [];
      }
      if (!unlockedLevels[userKey].includes(levelId)) {
        unlockedLevels[userKey].push(levelId);
        // Store the Matrix ID used
        if (!unlockedLevels[userKey + '_matrixIds']) {
          unlockedLevels[userKey + '_matrixIds'] = {};
        }
        unlockedLevels[userKey + '_matrixIds'][levelId] = matrixId;
        saveUnlockedLevels();
        // Sync to Supabase
        supabaseSaveUnlockedLevel(levelId, matrixId);
      }
      return true;
    }

    // Validate Matrix ID
    function isValidMatrixId(matrixId) {
      const normalizedId = matrixId.trim().toUpperCase();
      return VALID_MATRIX_IDS.includes(normalizedId);
    }

    // Show Matrix unlock modal
    function showMatrixModal(levelId) {
      if (!LOCK_SYSTEM_ENABLED) return;
      pendingLevelToUnlock = levelId;
      document.getElementById('matrixUnlockModal').style.display = 'flex';
      document.getElementById('matrixIdInput').value = '';
      document.getElementById('matrixUnlockError').classList.remove('show');
      document.getElementById('matrixIdInput').focus();
    }

    // Close Matrix modal
    function closeMatrixModal() {
      document.getElementById('matrixUnlockModal').style.display = 'none';
      pendingLevelToUnlock = null;
    }

    // Validate and unlock level
    function validateMatrixId() {
      const input = document.getElementById('matrixIdInput').value;
      const errorDiv = document.getElementById('matrixUnlockError');

      if (isValidMatrixId(input)) {
        unlockLevel(pendingLevelToUnlock, input.trim().toUpperCase());
        closeMatrixModal();
        renderLevels();
        // Automatically start the quiz after unlocking
        startQuiz(pendingLevelToUnlock);
      } else {
        errorDiv.classList.add('show');
        document.getElementById('matrixIdInput').value = '';
        document.getElementById('matrixIdInput').focus();
      }
    }

    // Handle Enter key in Matrix input
    document.addEventListener('DOMContentLoaded', function() {
      const matrixInput = document.getElementById('matrixIdInput');
      if (matrixInput) {
        matrixInput.addEventListener('keypress', function(e) {
          if (e.key === 'Enter') {
            validateMatrixId();
          }
        });
      }
    });
    // ==== END LOCK SYSTEM ====

    // Levels configuration
    const levels = [
      { id: 'principiante', name: 'Principiante', icon: '🔧', color: '#27ae60' },
      { id: 'intermedio', name: 'Intermedio', icon: '📊', color: '#3498db' },
      { id: 'avanzado', name: 'Avanzado', icon: '⚡', color: '#f39c12' },
      { id: 'elite', name: 'Elite', icon: '🏆', color: '#9b59b6' },
      { id: 'platino', name: 'Platino', icon: '💎', color: '#1abc9c' }
    ];

    // 50 NATE Core Questions
    const questions = {
      principiante: [
        // ========== NIVEL PRINCIPIANTE - 431 PREGUNTAS ==========
        { category:"Herramientas", q: "¿Para qué se usa un manómetro en HVAC?", options: ["Medir presión estática en los ductos", "Medir presiones de succión y descarga del sistema", "Medir la caída de presión en el filtro de aire", "Medir la presión de gas natural en el furnace"], correct: 1, explanation: "El manómetro mide las presiones de succión (baja) y descarga (alta) del sistema de refrigeración. Esto permite diagnosticar condiciones como bajo refrigerante, restricciones o problemas en el compresor. La presión estática se mide con manómetro de presión estática, la caída en filtro con magnahelic, y la presión de gas con manómetro de columna de agua." },
        { category:"Herramientas", q: "¿Qué herramienta se usa para medir el nivel de vacío en micrones?", options: ["Manómetro compuesto de baja presión", "Vacuómetro digital (micron gauge)", "Transductor de presión del manifold", "Manómetro de alta presión con escala extendida"], correct: 1, explanation: "El vacuómetro digital mide el nivel de vacío en micrones, donde 500 micrones o menos indica un vacío adecuado. Un manómetro compuesto solo llega a 30 inHg y no tiene la precisión para medir micrones. El transductor del manifold tampoco alcanza esa resolución." },
        { category:"Herramientas", q: "¿Qué herramienta detecta fugas de refrigerante en el sistema?", options: ["Detector electrónico de fugas", "Termómetro infrarrojo apuntando a las conexiones", "Manómetro verificando caída de presión", "Amperímetro midiendo consumo del compresor"], correct: 0, explanation: "El detector electrónico de fugas identifica concentraciones de refrigerante en el aire. El termómetro IR mide temperatura superficial, no detecta fugas. El manómetro puede mostrar baja presión pero no localiza la fuga. El amperímetro muestra consumo eléctrico, no fugas." },
        { category:"Herramientas", q: "¿Para qué sirve un anemómetro en HVAC?", options: ["Medir la temperatura del aire en el supply", "Medir la humedad relativa del espacio", "Medir la velocidad y volumen del flujo de aire", "Medir la presión diferencial en el filtro"], correct: 2, explanation: "El anemómetro mide la velocidad del flujo de aire en FPM o CFM. Un sistema residencial típico requiere 400 CFM por tonelada. La temperatura se mide con termómetro, la humedad con higrómetro, y la presión diferencial con magnahelic." },
        { category:"Herramientas", q: "¿Qué herramienta se usa para cortar tubería de cobre ACR?", options: ["Segueta con hoja de 32 dientes por pulgada", "Cortatubos rotativo con cuchilla para cobre", "Dremel con disco de corte para metal", "Tijeras para tubería flexible"], correct: 1, explanation: "El cortatubos rotativo hace cortes limpios y rectos en tubería de cobre sin dejar virutas que contaminen el sistema. La segueta deja rebabas excesivas y virutas dentro del tubo. El Dremel genera calor y partículas. Las tijeras son para tubería flexible de PVC o polietileno." },
        { category:"Herramientas", q: "¿Para qué se usa una bomba de vacío en HVAC?", options: ["Extraer aire y humedad del sistema antes de cargar refrigerante", "Recuperar refrigerante del sistema hacia un tanque", "Presurizar el sistema para prueba de fugas", "Circular refrigerante durante el diagnóstico"], correct: 0, explanation: "La bomba de vacío extrae aire y humedad del sistema. La máquina de recuperación extrae refrigerante. El nitrógeno se usa para presurizar y buscar fugas. El compresor del sistema circula el refrigerante." },
        { category:"Herramientas", q: "¿Qué mide un megóhmetro en HVAC?", options: ["La resistencia del devanado del compresor a tierra", "La capacitancia del capacitor de arranque", "El amperaje de rotor bloqueado del motor", "La inductancia de la bobina del contactor"], correct: 0, explanation: "El megóhmetro (megger) mide la resistencia de aislamiento del devanado del compresor a tierra en megaohmios. Si la lectura es baja, indica que el aislamiento está degradado y el compresor puede tener fuga a tierra. La capacitancia se mide con capacímetro, el amperaje con amperímetro." },
        { category:"Herramientas", q: "¿Cuál es la función de un psicrómetro?", options: ["Medir temperatura y humedad para determinar punto de rocío", "Medir la velocidad del aire en el ducto de retorno", "Medir el diferencial de presión en el evaporador", "Medir el superheat del refrigerante en la succión"], correct: 0, explanation: "El psicrómetro mide la temperatura de bulbo seco y bulbo húmedo para calcular humedad relativa y punto de rocío. La velocidad del aire se mide con anemómetro, el diferencial de presión con manómetro, y el superheat con manifold y termómetro." },
        { category:"Herramientas", q: "¿Qué tipo de termómetro es más preciso para medir superheat?", options: ["Termómetro de bolsillo tipo dial", "Termómetro infrarrojo apuntando al tubo", "Termómetro de contacto (clamp) en la línea de succión", "Termómetro ambiental digital del espacio"], correct: 2, explanation: "El termómetro de contacto (clamp o pipe clamp) se sujeta directamente a la línea de succión y mide la temperatura real del tubo. El IR puede dar lecturas incorrectas por reflejo en superficies metálicas brillantes. El de bolsillo no tiene suficiente contacto. El ambiental mide la temperatura del aire, no del tubo." },
        { category:"Herramientas", q: "¿Para qué sirve un detector de monóxido de carbono (CO) en HVAC?", options: ["Verificar que el furnace no tenga fisuras en el intercambiador de calor", "Detectar fugas de refrigerante R-410A", "Medir la eficiencia de combustión del gas natural", "Verificar el nivel de oxígeno en el cuarto mecánico"], correct: 0, explanation: "El detector de CO verifica si hay monóxido de carbono, lo que indica posibles fisuras en el intercambiador de calor del furnace que permiten que productos de combustión entren al flujo de aire. R-410A no contiene CO. La eficiencia de combustión se mide con analizador de combustión." },
        { category:"Herramientas", q: "¿Qué herramienta se usa para verificar la carga de un capacitor?", options: ["Multímetro con función de capacitancia (µF)", "Amperímetro de gancho en el cable del capacitor", "Megóhmetro aplicando 500V al capacitor", "Voltímetro midiendo voltaje en terminales del capacitor"], correct: 0, explanation: "El multímetro con función de capacitancia mide los microfaradios (µF) del capacitor y los compara con el rating de la placa. Un capacitor fuera de ±6% de su valor debe reemplazarse. El amperímetro mide corriente, no capacitancia. El megóhmetro podría dañar el capacitor." },
        { category:"Herramientas", q: "¿Qué escala del multímetro usas para verificar continuidad en un circuito?", options: ["Escala de voltaje AC (VAC)", "Escala de ohmios (Ω) o función de continuidad", "Escala de voltaje DC (VDC)", "Escala de amperaje (A)"], correct: 1, explanation: "La escala de ohmios (Ω) o la función de continuidad (con beep) verifica si hay un camino completo para la corriente. Resistencia infinita (OL) indica circuito abierto. La escala de voltaje mide potencial eléctrico, y la de amperaje mide corriente fluyendo." },
        { category:"Herramientas", q: "¿Para qué se usa una báscula digital en la carga de refrigerante?", options: ["Para pesar el tanque y medir exactamente cuánto refrigerante se agrega", "Para verificar el peso del aceite en el compresor", "Para calibrar el manómetro antes de conectar", "Para pesar el filtro deshidratador nuevo"], correct: 0, explanation: "La báscula digital mide el peso del tanque de refrigerante antes y después de cargar, permitiendo agregar la cantidad exacta especificada por el fabricante. La carga por peso es el método más preciso. El aceite se mide por volumen, no por peso en báscula." },
        { category:"Herramientas", q: "¿Cuándo se debe usar un escobillón (swage tool)?", options: ["Para expandir el extremo de un tubo de cobre y hacer una conexión sin coupling", "Para reducir el diámetro del tubo de cobre en la punta", "Para hacer la conexión flare de 45 grados", "Para rimar el interior del tubo después de cortar"], correct: 0, explanation: "El escobillón (swaging tool) expande el extremo de un tubo para que otro tubo del mismo diámetro entre directamente, eliminando la necesidad de un coupling. La herramienta de flare hace el ensanchamiento cónico. El rimador quita rebabas internas." },
        { category:"Herramientas", q: "¿Qué herramienta necesitas para doblar tubería de cobre sin que se aplaste?", options: ["Doblador de resorte o doblador de palanca para tubing", "Pistola de calor para suavizar el cobre antes de doblar", "Prensa hidráulica con dado para cobre", "Tornillo de banco con bloque de madera"], correct: 0, explanation: "El doblador de resorte (spring bender) o de palanca mantiene la forma redonda del tubo durante el doblado. El cobre no se suaviza con calor como el PVC. La prensa hidráulica es para tubería industrial gruesa. El tornillo de banco aplastaría el tubo." },
        { category:"Herramientas", q: "¿Para qué sirve el nitrógeno seco en una prueba de presión?", options: ["Para presurizar el sistema y verificar que no hay fugas", "Para purgar el refrigerante viejo del sistema", "Para enfriar las soldaduras recién hechas", "Para desplazar el aceite del compresor"], correct: 0, explanation: "El nitrógeno seco se usa para presurizar el sistema a 300-500 PSI y verificar hermeticidad. Es inerte, seco y no explosivo. NUNCA uses oxígeno o aire comprimido - el oxígeno con aceite puede causar explosión. El refrigerante se purga con máquina de recuperación." },
        { category:"Herramientas", q: "¿Qué instrumento mide la presión estática del sistema de ductos?", options: ["Manómetro de refrigeración con escala PSI", "Manómetro de columna de agua o magnahelic", "Anemómetro digital con pitot tube", "Higrómetro con función de presión barométrica"], correct: 1, explanation: "La presión estática se mide en pulgadas de columna de agua (iwc) con un manómetro de columna de agua o magnahelic. El rango típico es 0.5 iwc. El manómetro de refrigeración mide PSI. El anemómetro mide velocidad del aire, no presión estática." },
        { category:"Herramientas", q: "¿Cuál es el propósito de un analizador de combustión?", options: ["Detectar fugas de gas natural en la tubería", "Medir eficiencia, CO, O2 y temperatura de gases de combustión", "Verificar la presión de gas en el manifold del furnace", "Medir el flujo de aire caliente en el plenum de supply"], correct: 1, explanation: "El analizador de combustión mide CO, CO2, O2, temperatura de gases, y calcula eficiencia de combustión. El detector de gas detecta fugas. La presión de manifold se mide con manómetro de columna de agua. El flujo de aire se mide con anemómetro." },
        { category:"Herramientas", q: "¿Qué debes hacer antes de conectar el manifold a un sistema cargado?", options: ["Purgar las mangueras para eliminar aire atrapado", "Enfriar las mangueras con agua para evitar expansión", "Aplicar aceite en las conexiones para mejor sello", "Desconectar la energía eléctrica del equipo"], correct: 0, explanation: "Purgar las mangueras elimina el aire atrapado que contaminaría el sistema con no-condensables. Se abre brevemente la válvula del manifold para que el refrigerante empuje el aire de las mangueras. Nunca introduces aire al sistema de refrigeración." },
        { category:"Instalación", q: "¿Qué espacio libre mínimo se requiere alrededor de una condensadora?", options: ["6 pulgadas en todos los lados", "12 pulgadas mínimo en los lados y 48 pulgadas arriba", "24 pulgadas en los lados y 24 pulgadas arriba", "36 pulgadas en todos los lados incluyendo arriba"], correct: 1, explanation: "Mínimo 12 pulgadas alrededor permite flujo de aire al condensador, y 48 pulgadas arriba para que el aire caliente se disipe. Insuficiente espacio causa recirculación de aire caliente, alta presión de descarga y reducción de eficiencia." },
        { category:"Instalación", q: "¿Por qué se instala la condensadora sobre una base elevada?", options: ["Para reducir la vibración transmitida al piso", "Para proteger de agua estancada, nieve y facilitar drenaje", "Para mejorar el flujo de aire por debajo de la unidad", "Para facilitar el acceso a las conexiones de refrigeración"], correct: 1, explanation: "La base elevada (mínimo 3 pulgadas) protege de agua estancada, nieve y salpicaduras de lodo. Una unidad al nivel del suelo sufre corrosión prematura y sus controles eléctricos pueden dañarse con humedad." },
        { category:"Instalación", q: "¿Por qué se debe verificar el voltaje antes de instalar un equipo?", options: ["Para calcular el tamaño correcto del breaker", "Para verificar que el voltaje disponible coincide con la placa de datos", "Para determinar si se necesita transformador", "Para ajustar la velocidad del ventilador del evaporador"], correct: 1, explanation: "El voltaje debe estar dentro del ±10% de lo especificado en la placa de datos. Un equipo de 230V conectado a 208V funcionará con amperaje alto y vida útil reducida. También verifica balanceo de fases en trifásico." },
        { category:"Instalación", q: "¿Cuántos CFM por tonelada se requieren típicamente en un sistema residencial?", options: ["350 CFM por tonelada en todos los climas", "400 CFM por tonelada en condiciones normales", "450 CFM por tonelada para mejor deshumidificación", "500 CFM por tonelada para máxima eficiencia"], correct: 1, explanation: "400 CFM por tonelada es el estándar para sistemas residenciales en condiciones normales. Menos CFM causa evaporador congelado. En climas muy húmedos, 350 CFM/ton puede ayudar con deshumidificación, pero 400 es el valor estándar." },
        { category:"Instalación", q: "¿Dónde se encuentra la información de la carga de fábrica del refrigerante?", options: ["En el manual de instalación solamente", "En la placa de datos (nameplate) del equipo", "En la etiqueta del filtro deshidratador", "En la caja del termostato"], correct: 1, explanation: "La placa de datos del equipo muestra carga de fábrica en onzas o libras, tipo de refrigerante, voltaje, amperaje, número de modelo y serie. El manual tiene información adicional pero la placa de datos es la fuente primaria." },
        { category:"Instalación", q: "¿Cuánto refrigerante adicional se agrega por pie de línea de líquido que exceda la longitud de fábrica?", options: ["0.2 oz por pie adicional de línea de líquido", "0.6 oz por pie adicional de línea de líquido", "1.0 oz por pie adicional de línea de líquido", "No se agrega refrigerante adicional por longitud"], correct: 1, explanation: "Típicamente 0.6 oz por pie de línea de líquido adicional, pero SIEMPRE verifica las instrucciones del fabricante porque varía según el modelo y diámetro de la tubería. Este ajuste es solo para la línea de líquido, no la de succión." },
        { category:"Instalación", q: "¿Qué sucede si el line set es más largo de lo especificado sin agregar refrigerante?", options: ["El sistema opera con superheat bajo causando liquid slugging", "El sistema opera con superheat alto y subcooling bajo", "No afecta el rendimiento si las presiones están normales", "El compresor consume menos amperaje y el sistema es más eficiente"], correct: 1, explanation: "Líneas más largas requieren más refrigerante. Sin el ajuste, hay insuficiente refrigerante: superheat sube porque el evaporador no recibe suficiente líquido, y subcooling baja porque hay menos líquido en el condensador." },
        { category:"Instalación", q: "¿Por qué se debe instalar un trap (trampa) en la línea de succión al subir verticalmente?", options: ["Para atrapar aceite y regresarlo al compresor en tramos verticales", "Para evitar que refrigerante líquido llegue al compresor", "Para reducir el ruido de la refrigeración en la línea", "Para mantener la presión estable durante el ciclo de defrost"], correct: 0, explanation: "El trap en la succión atrapa aceite que baja por gravedad y lo empuja de vuelta al compresor con la velocidad del gas. Sin trap en subidas largas, el aceite se acumula abajo y el compresor pierde lubricación." },
        { category:"Instalación", q: "¿Cuál es la distancia máxima típica entre condensadora y evaporador?", options: ["25 pies de línea de refrigeración", "50 pies equivalentes según el fabricante", "100 pies sin importar el diámetro", "No hay límite si se agrega suficiente refrigerante"], correct: 1, explanation: "La mayoría de fabricantes especifican 50 pies equivalentes máximo (considerando codos como longitud equivalente). Distancias mayores causan caída de presión excesiva y problemas de retorno de aceite. Siempre verifica las especificaciones del fabricante." },
        { category:"Instalación", q: "¿Qué tipo de filtro deshidratador se instala en la línea de líquido?", options: ["Filtro con núcleo de carbón activado", "Filtro deshidratador de flujo completo (solid core o bead type)", "Filtro con malla metálica solamente", "Filtro HEPA industrial para refrigeración"], correct: 1, explanation: "El filtro deshidratador de flujo completo atrapa humedad, ácidos y partículas de la línea de líquido. Los de núcleo sólido (solid core) o bolitas (bead type) con molecular sieve son los más comunes. Se instala con la flecha en dirección del flujo." },
        { category:"Instalación", q: "¿En qué dirección debe apuntar la flecha del filtro deshidratador?", options: ["Hacia el compresor (dirección del flujo de succión)", "Hacia el dispositivo de medición (dirección del flujo de líquido)", "Hacia arriba para mejor filtración por gravedad", "No importa la dirección en filtros bidireccionales"], correct: 1, explanation: "La flecha apunta en la dirección del flujo del refrigerante: del condensador hacia el dispositivo de medición (TXV u orificio). Instalarlo al revés restringe el flujo y reduce la capacidad de filtración." },
        { category:"Instalación", q: "¿Qué se debe verificar en el circuito eléctrico antes de energizar un sistema nuevo?", options: ["Solo que el breaker esté del tamaño correcto", "Voltaje, tamaño de cable, breaker, conexiones, y puesta a tierra", "Solo que haya voltaje en el disconnect", "Solo que el termostato tenga pilas nuevas"], correct: 1, explanation: "Una verificación completa incluye: voltaje correcto (±10%), calibre de cable según NEC, breaker del tamaño especificado, conexiones apretadas, y puesta a tierra correcta. Omitir cualquiera puede causar daños o peligros." },
        { category:"Instalación", q: "¿Por qué se debe energizar el compresor 24 horas antes de arrancar el sistema?", options: ["Para calentar el aceite del cárter y evaporar refrigerante líquido disuelto", "Para verificar que el compresor no tiene fallas eléctricas", "Para que el capacitor se cargue completamente", "Para magnetizar el motor del compresor"], correct: 0, explanation: "El calentador del cárter (crankcase heater) calienta el aceite para evaporar refrigerante líquido que se disolvió durante el período de apagado. Arrancar con refrigerante en el aceite causa espuma y pérdida de lubricación (liquid slugging)." },
        { category:"Instalación", q: "¿Qué sucede si conectas los cables de termostato incorrectamente?", options: ["El sistema simplemente no enciende", "Puede activar calefacción en lugar de enfriamiento o dañar el transformador", "Solo afecta la pantalla del termostato", "No pasa nada porque el sistema tiene protección"], correct: 1, explanation: "Cables cruzados pueden activar funciones incorrectas (calor en vez de frío), quemar el fusible del transformador de 24V, o dañar el circuit board. Siempre verifica: R=24V hot, G=fan, Y=cooling, W=heat, C=common." },
        { category:"Instalación", q: "¿Cuál es el propósito del float switch en la bandeja del evaporador?", options: ["Regular el flujo de refrigerante al evaporador", "Apagar el sistema si el drenaje se tapa y el agua sube", "Medir el nivel de refrigerante en el evaporador", "Activar la bomba de condensado cuando se llena"], correct: 1, explanation: "El float switch es una protección contra daños por agua. Si la línea de drenaje se tapa y el agua sube en la bandeja, el switch abre el circuito y apaga el sistema antes de que el agua desborde y dañe el techo o piso." },
        { category:"Instalación", q: "¿Qué tipo de termostato es compatible con sistemas de bomba de calor?", options: ["Cualquier termostato de calefacción y aire acondicionado", "Termostato específico para bomba de calor con terminal O/B", "Solo termostatos digitales programables", "Solo termostatos con Wi-Fi y sensor remoto"], correct: 1, explanation: "Los termostatos de bomba de calor tienen terminal O/B para la válvula reversible y lógica para auxiliary/emergency heat. Un termostato convencional no maneja la reversión del ciclo ni el heat strip auxiliar correctamente." },
        { category:"Instalación", q: "¿Por qué se aísla la línea de succión pero no la de líquido?", options: ["La línea de succión es fría y absorbe calor no deseado del ambiente", "La línea de líquido ya está aislada por el condensador", "Es más barato aislar solo una línea", "La línea de líquido no necesita aislamiento por su alta presión"], correct: 0, explanation: "La línea de succión transporta gas frío (~40°F) y sin aislamiento absorbe calor del ambiente, aumentando el superheat y reduciendo la capacidad del sistema. La línea de líquido está caliente/tibia y perder algo de calor al ambiente es beneficioso." },
        { category:"Instalación", q: "¿Qué calibre de cable mínimo se usa para un circuito de 30 amperios?", options: ["Calibre 14 AWG con breaker de 30A", "Calibre 12 AWG con breaker de 30A", "Calibre 10 AWG con breaker de 30A", "Calibre 8 AWG con breaker de 30A"], correct: 2, explanation: "Según NEC, cable calibre 10 AWG soporta hasta 30 amperios. Calibre 14 soporta 15A, calibre 12 soporta 20A, calibre 8 soporta 40A. Usar cable más pequeño que lo requerido es un riesgo de incendio." },
        { category:"Instalación", q: "¿Cuál es la función del disconnect box junto a la condensadora?", options: ["Proteger contra sobrecorriente como el breaker principal", "Proveer un medio de desconexión visible para el técnico de servicio", "Regular el voltaje que llega al compresor", "Almacenar el capacitor de arranque del compresor"], correct: 1, explanation: "El disconnect provee un medio de desconexión local y visible para seguridad del técnico durante el servicio. Puede verificar visualmente que la energía está desconectada. No es protección contra sobrecorriente - eso lo hace el breaker en el panel." },
        { category:"Tubería", q: "¿Qué tipo de cobre se usa para líneas de refrigeración?", options: ["Cobre tipo L para plomería de agua caliente", "Cobre ACR limpio, seco y sellado con tapones", "Cobre tipo M de pared delgada para ventilación", "Cobre tipo K para tubería subterránea"], correct: 1, explanation: "El cobre ACR (Air Conditioning and Refrigeration) viene limpio, deshidratado y sellado con tapones para prevenir contaminación. Los tipos L, M y K son para plomería y contienen residuos de manufactura que contaminarían el sistema de refrigeración." },
        { category:"Tubería", q: "¿Por qué se usa nitrógeno seco al soldar tubería de refrigeración?", options: ["Para enfriar la soldadura más rápido y evitar daño al tubo", "Para prevenir la formación de óxido (cascarilla) dentro del tubo", "Para crear presión positiva que ayude a la soldadura a fluir", "Para detectar fugas durante el proceso de soldadura"], correct: 1, explanation: "El nitrógeno desplaza el oxígeno dentro del tubo durante la soldadura, previniendo la formación de óxido que puede viajar por el sistema y tapar válvulas TXV, filtros y dañar el compresor. Un flujo bajo de 3-5 CFH es suficiente." },
        { category:"Tubería", q: "¿Qué es una conexión flare en tubería de cobre?", options: ["Una soldadura de alta temperatura usando aleación de plata", "Un ensanchamiento cónico de 45° para conexión mecánica con tuerca", "Un coupling con O-ring para conexión rápida sin herramienta", "Una conexión por compresión usando ferrule de latón"], correct: 1, explanation: "El flare es un ensanchamiento cónico de 45 grados que permite conexiones mecánicas sin soldadura. La tuerca flare aprieta el cono contra el fitting. Un flare mal hecho (asimétrico, con grietas) es causa común de fugas." },
        { category:"Tubería", q: "¿Cuál es la presión de prueba típica con nitrógeno para un sistema R-410A?", options: ["150 PSI como máximo para no dañar componentes", "300-500 PSI según especificaciones del fabricante", "600-800 PSI para exceder la presión de operación", "La misma presión de operación del sistema"], correct: 1, explanation: "La presión de prueba para R-410A es típicamente 300-500 PSI (R-410A opera a ~400 PSI en día caliente). NUNCA uses oxígeno o aire comprimido. Presuriza gradualmente y monitorea por 24 horas idealmente." },
        { category:"Tubería", q: "¿Por qué se debe rimar el interior del tubo después de cortarlo?", options: ["Para ensanchar el tubo y facilitar la inserción del fitting", "Para remover rebabas que pueden causar restricciones y contaminar el sistema", "Para crear una superficie rugosa que mejore la adherencia de la soldadura", "Para verificar que el tubo no tenga defectos internos de fábrica"], correct: 1, explanation: "Rimar remueve las rebabas del corte que podrían desprenderse y viajar por el sistema, tapando filtros, orificios o dañando válvulas TXV. Siempre rima apuntando hacia abajo para que las virutas no caigan dentro del tubo." },
        { category:"Tubería", q: "¿Qué tamaño de línea de succión se usa típicamente para un sistema de 3 toneladas con R-410A?", options: ["1/2 pulgada OD", "5/8 pulgada OD", "3/4 pulgada OD", "7/8 pulgada OD"], correct: 2, explanation: "La línea de succión de 3/4 pulgada es típica para 3 toneladas con R-410A en distancias cortas. El tamaño correcto asegura velocidad adecuada para retorno de aceite (mínimo 700 FPM en verticales) sin caída de presión excesiva." },
        { category:"Soldadura", q: "¿Qué tipo de soldadura se usa para unir cobre a cobre en refrigeración?", options: ["Soldadura blanda 50/50 estaño-plomo a 450°F", "Soldadura de plata (brazing) como Silfos-15 a 1200°F+", "Soldadura de estaño sin plomo para plomería", "Soldadura MIG con alambre de cobre-silicón"], correct: 1, explanation: "La soldadura de plata (brazing) con Silfos-15 funde a 1200°F+ y crea uniones resistentes a las presiones del sistema (hasta 600+ PSI). La soldadura blanda funde a ~450°F y no resiste las presiones y vibraciones de refrigeración." },
        { category:"Soldadura", q: "¿Cuál es la temperatura aproximada de fusión del Silfos-15?", options: ["450°F - temperatura de soldadura blanda", "800°F - punto medio entre blanda y fuerte", "1200°F - temperatura de brazing con plata", "2000°F - temperatura de soldadura autógena"], correct: 2, explanation: "Silfos-15 (15% plata) funde a aproximadamente 1200°F. El color rojo cereza del cobre indica que está alcanzando esta temperatura. La soldadura blanda funde a ~450°F y no es apropiada para refrigeración." },
        { category:"Soldadura", q: "¿Por qué se usa fundente al soldar cobre con latón?", options: ["Para bajar la temperatura de fusión de la soldadura", "Para remover óxidos y permitir que la soldadura fluya correctamente", "Para crear una capa protectora después de la soldadura", "Para hacer la unión más flexible y resistente a vibración"], correct: 1, explanation: "El fundente remueve óxidos del latón y previene oxidación durante el calentamiento. Sin fundente, la soldadura no moja la superficie del latón. Para cobre-cobre, el Silfos tiene fósforo como auto-fundente, pero para cobre-latón SIEMPRE necesitas fundente." },
        { category:"Soldadura", q: "¿Qué gas se combina con oxígeno para soldadura de refrigeración?", options: ["Propano puro sin mezcla", "Acetileno o MAPP gas/propileno", "Gas natural de la línea del edificio", "Argón industrial para soldadura TIG"], correct: 1, explanation: "Acetileno con oxígeno (~6300°F) o MAPP/propileno con oxígeno (~5200°F) alcanzan temperatura suficiente para brazing de cobre. El propano solo no alcanza temperatura. El gas natural tampoco. El argón es gas inerte para TIG, no genera calor." },
        { category:"Soldadura", q: "¿Qué indica una llama de color verde al soldar cobre?", options: ["Que la mezcla de oxígeno-acetileno está perfectamente ajustada", "Que hay presencia de refrigerante halogenado quemándose", "Que el cobre alcanzó la temperatura correcta de brazing", "Que el fundente se activó y está protegiendo la unión"], correct: 1, explanation: "Una llama verde indica presencia de refrigerante halogenado. DETÉN el trabajo inmediatamente - los gases de combustión de refrigerantes son tóxicos (fosgeno). Ventila el área y recupera todo el refrigerante antes de soldar." },
        { category:"Soldadura", q: "¿Por qué se debe calentar el tubo y no directamente la soldadura?", options: ["Para que la soldadura se derrita más lentamente y se distribuya mejor", "Para que la soldadura sea atraída por capilaridad hacia la unión caliente", "Para evitar que la soldadura se pegue a la punta del soplete", "Para que el fundente se active antes de aplicar la soldadura"], correct: 1, explanation: "Calentar el tubo permite que la soldadura sea atraída por acción capilar hacia la zona más caliente. Si calientas la soldadura directamente, se funde antes de que el tubo alcance temperatura y no penetra la unión correctamente." },
        { category:"Soldadura", q: "¿Cuál es la llama correcta para soldar tubería de refrigeración?", options: ["Llama oxidante con exceso de oxígeno para mayor temperatura", "Llama neutral con conos definidos para mejor penetración", "Llama carburante con exceso de acetileno para menos oxidación", "Llama suave con poco oxígeno para control de temperatura"], correct: 1, explanation: "La llama neutral tiene conos bien definidos y proporciona calor uniforme sin oxidar el cobre. Una llama oxidante quema el cobre. Una llama carburante deposita carbón. La llama debe envolver el tubo uniformemente." },
        { category:"Soldadura", q: "¿Qué precaución se debe tomar al soldar cerca de materiales combustibles?", options: ["Soldar rápidamente para minimizar la exposición al calor", "Usar un escudo térmico (heat shield) y tener extintor clase B cerca", "Mojar el área con agua antes de soldar", "No es necesario si el área está ventilada"], correct: 1, explanation: "El escudo térmico protege superficies combustibles del calor del soplete. Un extintor clase B (para líquidos inflamables) debe estar accesible. Nunca sueldes sin protección contra incendio, especialmente en áticos y closets." },
        { category:"Vacío", q: "¿Cuál es el nivel de vacío mínimo aceptable antes de cargar refrigerante?", options: ["0 PSI en el manómetro compuesto", "500 micrones o menos en el vacuómetro digital", "29.92 inHg en el manómetro compuesto", "1000 micrones durante 5 minutos"], correct: 1, explanation: "500 micrones o menos es el estándar. A 500 micrones, la humedad hierve a ~32°F, asegurando su remoción. Un manómetro compuesto solo lee hasta 30 inHg y no tiene resolución en micrones. Se necesita vacuómetro digital." },
        { category:"Vacío", q: "¿Por qué el aire en un sistema de refrigeración es problemático?", options: ["Reduce la velocidad del compresor causando bajo amperaje", "Es un no-condensable que eleva presiones y ocupa espacio en el condensador", "Causa corrosión inmediata en las líneas de cobre", "Diluye el aceite del compresor y reduce lubricación"], correct: 1, explanation: "El aire no condensa en el condensador como el refrigerante. Se acumula en la parte superior ocupando espacio valioso, elevando la presión de descarga y reduciendo la transferencia de calor. Cada 1% de aire reduce ~1% la capacidad." },
        { category:"Vacío", q: "¿Por qué la humedad en un sistema de refrigeración es peligrosa?", options: ["Diluye el refrigerante y reduce su capacidad de enfriamiento", "Se congela en el dispositivo de expansión y forma ácidos corrosivos", "Aumenta la viscosidad del aceite y sobrecarga el compresor", "Causa espuma en el cárter que activa el switch de baja presión"], correct: 1, explanation: "La humedad se congela en el orificio o TXV donde la presión y temperatura bajan, bloqueando el flujo. Combinada con refrigerante y calor, forma ácidos que corroen componentes y degradan el aceite, causando falla del compresor." },
        { category:"Vacío", q: "¿Qué tipo de aceite se usa en las bombas de vacío?", options: ["Aceite de compresor POE para compatibilidad con el sistema", "Aceite de vacío específico de baja presión de vapor", "Aceite mineral SAE 30 de uso general", "Aceite sintético de motor 5W-30"], correct: 1, explanation: "El aceite de vacío específico tiene muy baja presión de vapor para no contaminar el sistema. Debe cambiarse cuando se oscurece. El aceite de motor tiene aditivos que se vaporizan al vacío y contaminarían el sistema de refrigeración." },
        { category:"Vacío", q: "¿Qué sucede si cargas refrigerante sin hacer vacío adecuado?", options: ["El sistema funciona normal pero con menor eficiencia", "El aire y humedad causan alta presión, congelamiento del TXV y ácidos que dañan el compresor", "Solo pierde un poco de capacidad de enfriamiento", "El refrigerante absorbe el aire y lo neutraliza con el tiempo"], correct: 1, explanation: "Sin vacío adecuado, el aire eleva presiones, la humedad congela el TXV y forma ácidos que destruyen el barniz del motor y degradan el aceite. Un compresor nuevo puede fallar en meses sin evacuación correcta." },
        { category:"Vacío", q: "¿Cuánto tiempo mínimo se debe mantener el vacío para verificar hermeticidad?", options: ["Solo verificar que llegó a 500 micrones y cargar inmediatamente", "10-15 minutos observando que el vacuómetro se mantenga estable", "2 minutos es suficiente para sistemas residenciales", "30 segundos después de cerrar la válvula de la bomba"], correct: 1, explanation: "El standing vacuum test de 10-15 minutos verifica que el sistema mantiene el vacío. Si sube rápidamente (>200 micrones), hay fuga. Si sube lento y se estabiliza, puede ser humedad residual evaporándose." },
        { category:"Vacío", q: "¿Cuál es el método más preciso para cargar refrigerante?", options: ["Por presiones usando las tablas PT del refrigerante", "Por peso usando una báscula digital y la carga de fábrica", "Por superheat midiendo la línea de succión", "Por subcooling midiendo la línea de líquido"], correct: 1, explanation: "La carga por peso es el método más preciso porque agrega exactamente la cantidad especificada por el fabricante. Las presiones varían con temperatura ambiente. Superheat y subcooling se usan para verificar la carga, no como método primario." },
        { category:"Vacío", q: "¿En qué estado debe entrar el refrigerante al sistema durante la carga?", options: ["Siempre en estado gaseoso por el lado de baja presión", "En estado líquido por el lado de alta presión (línea de líquido)", "En estado gaseoso por el lado de alta presión", "No importa el estado si la cantidad es correcta"], correct: 1, explanation: "Se carga líquido por el lado de alta presión (línea de líquido) con el sistema apagado, o se puede cargar gas por el lado de baja con el sistema operando. NUNCA cargues líquido por el lado de baja - puede causar liquid slugging al compresor." },
        { category:"Vacío", q: "¿Qué indica un superheat de 5°F en un sistema con orificio fijo?", options: ["El sistema tiene carga perfecta", "El sistema posiblemente tiene sobrecarga de refrigerante", "El sistema tiene bajo refrigerante", "El orificio está parcialmente tapado"], correct: 1, explanation: "Superheat de 5°F es bajo (normal 8-14°F para orificio fijo), indicando que hay demasiado refrigerante llegando al evaporador como líquido. Hay riesgo de liquid slugging al compresor. Se necesita recuperar refrigerante." },
        { category:"Vacío", q: "¿Qué indica un superheat de 25°F en un sistema con orificio fijo?", options: ["El sistema opera eficientemente con buena deshumidificación", "El sistema probablemente tiene bajo refrigerante o restricción", "El superheat es normal para días muy calientes", "El compresor está trabajando en condiciones óptimas"], correct: 1, explanation: "Superheat de 25°F es alto (normal 8-14°F). El evaporador no recibe suficiente refrigerante: puede ser bajo refrigerante, restricción en la línea de líquido o filtro, o flujo de aire excesivo sobre el evaporador." },
        { category:"EPA 608", q: "¿Qué es la recuperación de refrigerante?", options: ["Agregar refrigerante virgen de un tanque nuevo al sistema", "Extraer y almacenar refrigerante en un tanque aprobado DOT", "Mezclar refrigerante reciclado con refrigerante nuevo", "Ventear el refrigerante de un sistema para hacer reparaciones"], correct: 1, explanation: "La recuperación es extraer refrigerante y almacenarlo en un tanque DOT aprobado para reciclaje, reclamación o disposición. La EPA PROHIBE ventear refrigerantes. Las multas pueden alcanzar $44,539 por día por violación." },
        { category:"EPA 608", q: "¿Cuál es la multa máxima de EPA por ventear refrigerante intencionalmente?", options: ["$10,000 por incidente", "Hasta $44,539 por día por violación", "$5,000 y pérdida de certificación por 1 año", "$1,000 y advertencia escrita"], correct: 1, explanation: "La EPA puede imponer multas de hasta $44,539 por día por cada violación. También puedes perder tu certificación EPA 608 y enfrentar cargos criminales. Las recompensas por reportar violaciones pueden ser hasta $10,000." },
        { category:"EPA 608", q: "¿De qué color es un tanque de recuperación de refrigerante?", options: ["Rosa como los tanques de R-410A virgen", "Amarillo con la parte superior gris", "Verde como los tanques de R-22 virgen", "Azul claro como los tanques de R-134a"], correct: 1, explanation: "Los tanques de recuperación son amarillo con tapa gris según AHRI Guideline K. Los tanques de refrigerante virgen tienen colores específicos: rosa=R-410A, verde=R-22, azul claro=R-134a. NUNCA uses tanques desechables para recuperación." },
        { category:"EPA 608", q: "¿Por qué no se deben mezclar diferentes refrigerantes en el mismo tanque?", options: ["Porque el tanque no soporta la presión combinada", "Crea mezclas imposibles de separar para reciclaje y puede ser peligroso", "Porque el aceite de un refrigerante daña al otro", "Porque la EPA requiere tanques de diferentes colores por refrigerante"], correct: 1, explanation: "Mezclar refrigerantes crea combinaciones que no se pueden separar, convirtiéndolos en residuo peligroso costoso de destruir. Algunas mezclas crean presiones impredecibles. Usa tanques separados y etiquetados para cada tipo." },
        { category:"EPA 608", q: "¿Qué certificación necesitas para comprar refrigerantes?", options: ["Licencia de contratista HVAC del estado", "Certificación EPA Sección 608", "Certificación OSHA 30 de seguridad", "Certificación NATE de técnico"], correct: 1, explanation: "La certificación EPA 608 es OBLIGATORIA para comprar refrigerantes en cantidades mayores a 2 lbs y para dar servicio a equipos. Hay 4 tipos: I (pequeños), II (alta presión), III (baja presión), Universal (todos)." },
        { category:"EPA 608", q: "¿Qué tipo de certificación EPA 608 cubre sistemas residenciales y comerciales de A/C?", options: ["Tipo I - Aparatos pequeños", "Tipo II - Alta presión", "Tipo III - Baja presión", "No se necesita certificación para residencial"], correct: 1, explanation: "Tipo II cubre sistemas de alta presión como aire acondicionado residencial y comercial, refrigeración. Tipo I es para aparatos pequeños (refrigeradores domésticos, window units). Tipo III es para sistemas de baja presión (chillers centrífugos)." },
        { category:"EPA 608", q: "¿Cuál es la diferencia entre reciclar y reclamar refrigerante?", options: ["Son el mismo proceso con diferente nombre", "Reciclar es limpiar en campo; reclamar es procesar en planta certificada hasta estándar ARI 700", "Reciclar es para CFC; reclamar es para HFC", "Reciclar es más costoso que reclamar"], correct: 1, explanation: "Reciclar es limpiar el refrigerante en campo con equipo portátil (filtros, deshidratadores). Reclamar es enviar a una planta certificada EPA que procesa el refrigerante hasta cumplir estándar ARI 700 de pureza, como nuevo." },
        { category:"EPA 608", q: "¿Qué información debe registrarse al recuperar refrigerante?", options: ["Solo la cantidad en libras recuperada", "Tipo de refrigerante, cantidad, fecha, equipo del que se extrajo, y técnico", "Solo el número de serie del tanque de recuperación", "No es necesario mantener registros de recuperación"], correct: 1, explanation: "Se debe documentar: tipo de refrigerante, cantidad recuperada, fecha, información del equipo, y quién realizó la recuperación. La EPA puede auditar estos registros. La buena documentación protege al técnico y al contratista." },
        { category:"EPA 608", q: "¿Qué refrigerante es una mezcla zeotrópica?", options: ["R-22 (refrigerante puro)", "R-407C (mezcla de R-32/R-125/R-134a)", "R-12 (refrigerante puro CFC)", "R-134a (refrigerante puro HFC)"], correct: 1, explanation: "R-407C es una mezcla zeotrópica de tres refrigerantes con diferente punto de ebullición. Esto causa 'temperature glide' y hace que si hay fuga, la composición cambie. R-22, R-12 y R-134a son refrigerantes puros (azeotrópicos o de un solo componente)." },
        { category:"EPA 608", q: "¿Qué es el GWP (Global Warming Potential) de un refrigerante?", options: ["La temperatura máxima de operación del refrigerante", "La medida del impacto de calentamiento global comparado con CO2", "La presión máxima de trabajo del refrigerante", "El porcentaje de ozono que destruye el refrigerante"], correct: 1, explanation: "GWP mide cuánto contribuye un gas al calentamiento global comparado con CO2 (GWP=1). R-410A tiene GWP de 2088, R-32 tiene 675, R-454B tiene 466. Regulaciones futuras (AIM Act) limitarán el uso de refrigerantes con alto GWP." },
        { category:"EPA 608", q: "¿Qué refrigerante está reemplazando al R-410A en sistemas nuevos?", options: ["R-22 porque es más eficiente", "R-454B (con menor GWP bajo regulaciones AIM Act)", "R-134a adaptado para sistemas residenciales", "R-404A para uso universal"], correct: 1, explanation: "R-454B (Opteon XL41) tiene GWP de 466, mucho menor que R-410A (2088). Las regulaciones AIM Act requieren reducción de HFC de alto GWP. R-454B es ligeramente inflamable (A2L), requiriendo nuevos equipos y capacitación." },
        { category:"EPA 608", q: "¿Qué significa la clasificación A2L de un refrigerante?", options: ["Alta toxicidad y alta inflamabilidad - requiere equipo especial", "Baja toxicidad y ligeramente inflamable - requiere precauciones", "No tóxico y no inflamable - uso sin restricciones", "Moderadamente tóxico y no inflamable"], correct: 1, explanation: "A2L significa: A = baja toxicidad, 2L = ligeramente inflamable (lower flammability). Refrigerantes como R-454B y R-32 son A2L. Requieren detectores de fuga, ventilación adecuada y herramientas sin chispa, pero son mucho menos peligrosos que propano (A3)." },
        { category:"EPA 608", q: "¿Qué daña la capa de ozono: CFC, HCFC, o HFC?", options: ["Solo los CFC (como R-12) dañan la capa de ozono", "CFC y HCFC contienen cloro que daña la capa de ozono; HFC no", "Todos los refrigerantes dañan la capa de ozono igualmente", "Ningún refrigerante moderno afecta la capa de ozono"], correct: 1, explanation: "CFC (R-12) y HCFC (R-22) contienen cloro que destruye la capa de ozono. HFC (R-410A, R-134a) no tienen cloro y no afectan la capa de ozono, pero sí contribuyen al calentamiento global por su alto GWP." },
        { category:"Electricidad", q: "¿Qué instrumento mide el voltaje?", options: ["Amperímetro de gancho", "Multímetro en escala de voltaje", "Megóhmetro de aislamiento", "Capacímetro digital"], correct: 1, explanation: "El multímetro en escala de VAC (voltaje AC) o VDC (voltaje DC) mide la diferencia de potencial entre dos puntos. El amperímetro mide corriente, el megóhmetro mide resistencia de aislamiento, y el capacímetro mide microfaradios." },
        { category:"Electricidad", q: "¿Cuál es el voltaje residencial estándar en Estados Unidos?", options: ["110V/208V monofásico", "120V/240V monofásico", "127V/220V monofásico", "115V/230V trifásico"], correct: 1, explanation: "En EE.UU., el estándar residencial es 120V para circuitos regulares y 240V para equipos grandes como A/C. El sistema es monofásico con 2 líneas vivas de 120V que combinadas dan 240V. 208V es voltaje trifásico comercial." },
        { category:"Electricidad", q: "¿Qué significa un circuito abierto?", options: ["Un corto circuito donde la corriente toma un camino no deseado", "Una interrupción en el circuito donde no fluye corriente", "Un circuito sobrecargado con demasiado amperaje", "Un circuito con voltaje pero sin carga conectada"], correct: 1, explanation: "Un circuito abierto tiene una interrupción: cable cortado, fusible quemado, switch abierto, o conexión suelta. No fluye corriente. Se diagnostica midiendo continuidad (ohmios) - lectura OL indica abierto." },
        { category:"Electricidad", q: "¿Qué componente protege el circuito contra sobrecorriente?", options: ["Capacitor de arranque del compresor", "Fusible o circuit breaker (disyuntor)", "Contactor electromagnético de potencia", "Transformador reductor de 24V"], correct: 1, explanation: "El fusible o breaker abre el circuito cuando la corriente excede el límite seguro. El fusible se quema y debe reemplazarse; el breaker se resetea. NUNCA instales un fusible más grande del especificado." },
        { category:"Electricidad", q: "¿Qué es un contactor en HVAC?", options: ["Un relay pequeño que controla el ventilador del evaporador", "Un interruptor electromagnético que permite al termostato (24V) controlar el compresor (240V)", "Un protector térmico interno del compresor", "Un transformador que reduce voltaje de 240V a 24V"], correct: 1, explanation: "El contactor permite que un circuito de bajo voltaje (24V del termostato) controle un circuito de alto voltaje (240V del compresor y fan). Cuando el termostato llama, envía 24V a la bobina del contactor que cierra los contactos de potencia." },
        { category:"Electricidad", q: "¿Cuál es la función del capacitor de arranque (start capacitor)?", options: ["Proveer un boost de torque al compresor durante el arranque y luego desconectarse", "Mantener el compresor funcionando de manera eficiente continuamente", "Regular el voltaje que llega al compresor", "Almacenar energía para el ciclo de defrost"], correct: 0, explanation: "El capacitor de arranque provee torque extra al compresor solo durante el arranque (fracción de segundo) a través del devanado de arranque. El relay de potencial o PTCR lo desconecta después del arranque. El capacitor de marcha (run cap) sí opera continuamente." },
        { category:"Electricidad", q: "¿Cuál es la función del capacitor de marcha (run capacitor)?", options: ["Arrancar el compresor y desconectarse después", "Mejorar la eficiencia del motor manteniéndolo en operación continua", "Proteger el compresor contra sobrevoltaje", "Convertir corriente AC a DC para el motor"], correct: 1, explanation: "El capacitor de marcha permanece en el circuito durante toda la operación, creando un desfase entre los devanados de arranque y marcha que mejora la eficiencia y el factor de potencia del motor. Si falla, el motor consume más amperaje y se sobrecalienta." },
        { category:"Electricidad", q: "¿Qué sucede si un capacitor de marcha pierde capacitancia?", options: ["El compresor arranca más rápido", "El motor consume más amperaje, se sobrecalienta y puede fallar", "El sistema enfría mejor porque hay más voltaje disponible", "No tiene efecto si el compresor ya está funcionando"], correct: 1, explanation: "Un capacitor débil no mantiene el desfase correcto entre devanados, causando que el motor trabaje más duro, consuma más amperaje (puede exceder RLA) y se sobrecaliente. Reemplaza si está fuera de ±6% de su rating." },
        { category:"Electricidad", q: "¿Qué mide la lectura de amperaje RLA en la placa de datos?", options: ["Amperaje de arranque del compresor (inrush)", "Amperaje máximo de operación normal continua (Rated Load Amps)", "Amperaje del ventilador del condensador", "Amperaje total del circuito incluyendo accesorios"], correct: 1, explanation: "RLA (Rated Load Amps) es el amperaje máximo de operación continua normal del compresor. LRA (Locked Rotor Amps) es el amperaje de arranque momentáneo. Si el compresor excede RLA durante operación normal, algo está mal." },
        { category:"Electricidad", q: "¿Qué indica un amperaje del compresor significativamente mayor que RLA?", options: ["El sistema opera eficientemente a máxima capacidad", "Posible problema: sobrecarga de refrigerante, condensador sucio, o problema eléctrico", "El compresor es demasiado grande para la aplicación", "Es normal en días calientes que exceda RLA"], correct: 1, explanation: "Amperaje mayor que RLA indica problemas: condensador sucio (alta presión de descarga), sobrecarga de refrigerante, capacitor débil, voltaje bajo, o problema mecánico interno. El compresor no debe exceder RLA en condiciones normales." },
        { category:"Electricidad", q: "¿Cuál es la función del transformador en un sistema HVAC?", options: ["Aumentar el voltaje de 120V a 240V para el compresor", "Reducir el voltaje de 240V/120V a 24V para el circuito de control", "Convertir corriente alterna (AC) a corriente directa (DC)", "Regular y estabilizar el voltaje durante operación"], correct: 1, explanation: "El transformador reduce el voltaje de línea (240V o 120V) a 24VAC para alimentar el circuito de control: termostato, bobina del contactor, válvula de gas, y safeties. Si el fusible del transformador se quema, el sistema no responde al termostato." },
        { category:"Electricidad", q: "¿Por qué es importante verificar el balance de voltaje en un sistema trifásico?", options: ["Para calcular el consumo total de energía", "Un desbalance mayor al 2% puede dañar motores y compresores", "Solo es importante en sistemas de más de 10 toneladas", "El balance de voltaje no afecta equipos HVAC"], correct: 1, explanation: "Un desbalance de voltaje mayor al 2% entre fases causa un desbalance de corriente mucho mayor, sobrecalentando una fase del motor. Esto acorta la vida del compresor significativamente. Mide voltaje entre L1-L2, L2-L3, L1-L3 y compara." },
        { category:"Electricidad", q: "¿Qué es un relay de potencial (potential relay)?", options: ["Un protector contra alto voltaje", "Un switch que desconecta el capacitor de arranque usando la fuerza contra-electromotriz", "Un relay que conecta la resistencia auxiliar en un heat pump", "Un sensor de voltaje que protege el compresor"], correct: 1, explanation: "El relay de potencial detecta el aumento de voltaje en el devanado de arranque (fuerza contra-electromotriz) cuando el compresor alcanza 75% de velocidad, y desconecta el capacitor de arranque. Si falla abierto, el compresor no arranca; si falla cerrado, quema el capacitor de arranque." },
        { category:"Electricidad", q: "¿Para qué sirve el cable C (common) en la conexión del termostato?", options: ["Es el cable de enfriamiento que activa el compresor", "Provee el lado de retorno de 24V para alimentar termostatos que necesitan energía constante", "Controla el ventilador del evaporador en modo automático", "Es el cable de emergencia que apaga todo el sistema"], correct: 1, explanation: "El cable C (common) completa el circuito de 24V para termostatos que necesitan energía continua (Wi-Fi, pantalla digital). Sin C, algunos termostatos 'roban' corriente de otros cables causando problemas. R es la línea caliente de 24V, C es el retorno." },
        { category:"Refrigeración", q: "¿Cuáles son los 4 componentes principales del ciclo de refrigeración?", options: ["Condensador, filtro, válvula de servicio y termostato", "Compresor, condensador, dispositivo de medición y evaporador", "Compresor, filtro deshidratador, línea de líquido y línea de succión", "Motor del ventilador, contactor, capacitor y transformador"], correct: 1, explanation: "Los 4 componentes principales son: compresor (bombea y comprime), condensador (rechaza calor), dispositivo de medición (TXV u orificio - reduce presión), y evaporador (absorbe calor). El filtro deshidratador es accesorio, no componente principal del ciclo." },
        { category:"Refrigeración", q: "¿Qué sucede en el evaporador?", options: ["El refrigerante se comprime y sube de temperatura", "El refrigerante líquido absorbe calor del aire y se evapora a gas", "El refrigerante rechaza calor al aire exterior y condensa", "El refrigerante se filtra y deshidrata para remover contaminantes"], correct: 1, explanation: "En el evaporador, el refrigerante líquido de baja presión absorbe calor del aire interior, cambiando de líquido a gas. Este cambio de fase absorbe una gran cantidad de calor (calor latente), enfriando el aire que pasa por las aletas." },
        { category:"Refrigeración", q: "¿Qué sucede en el condensador?", options: ["El refrigerante absorbe calor del espacio acondicionado", "El gas refrigerante caliente rechaza calor al aire exterior y condensa a líquido", "El refrigerante se expande y baja de presión y temperatura", "El refrigerante se mezcla con aceite para lubricar el compresor"], correct: 1, explanation: "En el condensador, el gas caliente de alta presión del compresor rechaza calor al aire exterior y cambia de fase a líquido. El ventilador del condensador mueve aire sobre las aletas para facilitar esta transferencia de calor." },
        { category:"Refrigeración", q: "¿Cuál es la función del dispositivo de medición (TXV u orificio)?", options: ["Regular la velocidad del compresor según la demanda", "Reducir la presión del refrigerante líquido antes de entrar al evaporador", "Medir la cantidad de refrigerante en el sistema", "Filtrar impurezas del refrigerante antes del evaporador"], correct: 1, explanation: "El dispositivo de medición (TXV o orificio fijo) reduce la presión del refrigerante líquido de alta presión a baja presión antes del evaporador. Esta caída de presión también baja la temperatura, preparando el refrigerante para absorber calor." },
        { category:"Refrigeración", q: "¿Cuál es la función del compresor?", options: ["Enfriar el refrigerante antes de enviarlo al evaporador", "Aumentar la presión y temperatura del gas refrigerante para que pueda rechazar calor en el condensador", "Filtrar y limpiar el refrigerante durante cada ciclo", "Regular el flujo de refrigerante según la temperatura del espacio"], correct: 1, explanation: "El compresor aumenta la presión y temperatura del gas refrigerante. Para rechazar calor en el condensador, el refrigerante debe estar más caliente que el aire exterior. El gas entra frío/baja presión y sale caliente/alta presión." },
        { category:"Refrigeración", q: "¿Qué es el superheat y por qué es importante?", options: ["La temperatura del aire de supply medida en el registro más lejano", "Los grados de temperatura que el gas refrigerante tiene por encima de su punto de ebullición", "La diferencia de temperatura entre el aire de retorno y supply", "La cantidad de calor que el condensador rechaza al aire exterior"], correct: 1, explanation: "Superheat es cuántos grados el gas de succión está por encima de su temperatura de saturación (ebullición). Asegura que solo gas (no líquido) llegue al compresor. Superheat bajo = riesgo de liquid slugging; alto = evaporador ineficiente." },
        { category:"Refrigeración", q: "¿Cómo se calcula el superheat?", options: ["Temperatura del aire de retorno menos temperatura del aire de supply", "Temperatura de la línea de succión menos la temperatura de saturación del refrigerante a la presión de succión", "Presión de descarga menos presión de succión", "Temperatura del condensador menos temperatura ambiente"], correct: 1, explanation: "Superheat = Temperatura del tubo de succión (medida con clamp) MENOS la temperatura de saturación correspondiente a la presión de succión (obtenida de la tabla PT del refrigerante). Ejemplo: 55°F tubo - 40°F saturación = 15°F superheat." },
        { category:"Refrigeración", q: "¿Qué es el subcooling?", options: ["La temperatura del evaporador por debajo de 32°F", "Los grados que el líquido refrigerante está por debajo de su temperatura de condensación", "La diferencia entre temperatura ambiente y temperatura de descarga", "El enfriamiento adicional que el ventilador del condensador provee"], correct: 1, explanation: "Subcooling es cuántos grados el líquido en la línea de líquido está por debajo de su temperatura de condensación (saturación). Subcooling asegura que el refrigerante llegue como líquido completo al dispositivo de medición." },
        { category:"Refrigeración", q: "¿Cómo se calcula el subcooling?", options: ["Presión de descarga convertida a temperatura menos presión de succión convertida", "Temperatura de saturación del refrigerante a la presión de descarga menos la temperatura de la línea de líquido", "Temperatura del aire exterior menos temperatura del condensador", "Temperatura de la línea de líquido menos temperatura de la línea de succión"], correct: 1, explanation: "Subcooling = Temperatura de saturación a la presión de alta (tabla PT) MENOS la temperatura medida en la línea de líquido. Ejemplo: 120°F saturación - 108°F línea de líquido = 12°F subcooling." },
        { category:"Refrigeración", q: "¿Cuál es el rango normal de superheat para un sistema con orificio fijo?", options: ["3-5°F para máxima eficiencia", "8-14°F bajo condiciones normales", "20-25°F para proteger el compresor", "0°F - no debe tener superheat"], correct: 1, explanation: "El rango normal de superheat para orificio fijo es 8-14°F. Menor que 5°F indica posible liquid slugging. Mayor que 20°F indica bajo refrigerante o restricción. Con TXV, el superheat se controla automáticamente a 8-12°F." },
        { category:"Refrigeración", q: "¿Cuál es el rango normal de subcooling para un sistema con TXV?", options: ["3-5°F para máxima eficiencia", "8-14°F bajo condiciones normales", "20-30°F para asegurar líquido completo", "0°F - no debe tener subcooling con TXV"], correct: 1, explanation: "El rango normal de subcooling con TXV es 8-14°F (algunos fabricantes especifican 10-15°F). Subcooling bajo indica bajo refrigerante. Subcooling alto indica posible sobrecarga. Con TXV, el subcooling es el indicador principal de carga." },
        { category:"Refrigeración", q: "¿Qué es la tabla PT (Presión-Temperatura) de un refrigerante?", options: ["Una tabla que muestra presiones máximas de operación", "Una tabla que relaciona la presión de saturación con la temperatura de ebullición/condensación", "Una tabla de carga de refrigerante por modelo de equipo", "Una tabla de compatibilidad entre refrigerantes y aceites"], correct: 1, explanation: "La tabla PT muestra la relación directa entre presión y temperatura de saturación de cada refrigerante. Ejemplo R-410A: a 118 PSI la temperatura de saturación es 40°F. Se usa para calcular superheat y subcooling." },
        { category:"Refrigeración", q: "¿Cuál es la presión de succión típica de R-410A en un día de 95°F exterior?", options: ["70 PSI - como la succión de R-22", "118-125 PSI para mantener evaporador a ~40°F", "200 PSI para máxima capacidad", "50 PSI en condiciones de alta carga"], correct: 1, explanation: "R-410A típicamente opera a 118-125 PSI en succión para mantener el evaporador a ~40°F. R-22 opera a ~70 PSI para la misma temperatura de evaporador. Las presiones de R-410A son significativamente más altas que R-22." },
        { category:"Refrigeración", q: "¿Cuál es la presión de descarga típica de R-410A en un día de 95°F exterior?", options: ["200-250 PSI", "350-425 PSI", "500-600 PSI", "150-180 PSI como R-22"], correct: 1, explanation: "R-410A opera a 350-425 PSI de descarga en condiciones normales de 95°F exterior. Las presiones varían con la temperatura ambiente. R-22 opera a 225-275 PSI en las mismas condiciones. Por esto R-410A requiere componentes rated para mayor presión." },
        { category:"Refrigeración", q: "¿Qué diferencia hay entre orificio fijo y TXV como dispositivo de medición?", options: ["El orificio es más eficiente que el TXV en todas las condiciones", "El TXV ajusta el flujo según la carga térmica; el orificio tiene flujo fijo", "El orificio se usa en comercial y el TXV en residencial", "No hay diferencia significativa en rendimiento entre ambos"], correct: 1, explanation: "El TXV (válvula de expansión termostática) ajusta automáticamente el flujo de refrigerante según el superheat, adaptándose a cambios de carga. El orificio fijo tiene un diámetro constante. El TXV es más eficiente en condiciones variables." },
        { category:"Refrigeración", q: "¿Qué tipo de aceite requiere el R-410A?", options: ["Aceite mineral como el R-22", "Aceite POE (Polyolester) sintético", "Aceite PAG como los sistemas automotrices", "Aceite alkylbenzene (AB) como sistemas antiguos"], correct: 1, explanation: "R-410A requiere aceite POE (Polyolester) porque es miscible con este refrigerante. El aceite mineral no se mezcla con R-410A y causaría falla de lubricación. R-22 usa aceite mineral. PAG es para sistemas automotrices con R-134a." },
        { category:"OSHA", q: "¿Cuándo se requiere lockout/tagout (LOTO) en HVAC?", options: ["Solo cuando se trabaja en equipos de más de 480V", "Antes de cualquier servicio donde haya riesgo de energización inesperada", "Solo cuando el supervisor lo ordena específicamente", "Solo en equipos industriales, no residenciales"], correct: 1, explanation: "LOTO se requiere antes de cualquier servicio donde energía inesperada pueda causar lesión. Esto incluye equipos eléctricos, mecánicos y de presión. Incluso en residencial, desconectar y verificar con voltímetro antes de trabajar." },
        { category:"OSHA", q: "¿Cuál es el nivel máximo de exposición a CO (monóxido de carbono) permitido por OSHA en 8 horas?", options: ["25 PPM TWA (promedio ponderado)", "50 PPM TWA (promedio ponderado)", "100 PPM TWA en áreas ventiladas", "200 PPM solo por períodos cortos"], correct: 1, explanation: "OSHA establece 50 PPM como el PEL (Permissible Exposure Limit) TWA para 8 horas. Sin embargo, 35 PPM es el límite NIOSH recomendado. Niveles arriba de 100 PPM requieren evacuación inmediata. Los detectores personales de CO deben usarse en cuartos mecánicos." },
        { category:"OSHA", q: "¿Qué equipo de protección personal (PPE) mínimo se requiere en un trabajo de HVAC en techo?", options: ["Solo lentes de seguridad son suficientes", "Lentes de seguridad, guantes, calzado de seguridad, y protección contra caídas si aplica", "Solo guantes y botas", "No se requiere PPE en techos residenciales"], correct: 1, explanation: "El PPE mínimo incluye lentes de seguridad, guantes apropiados, calzado de seguridad con suela antideslizante, y protección contra caídas si se trabaja a más de 6 pies. En techos, también considerar protección solar y agua." },
        { category:"OSHA", q: "¿A qué altura se requiere protección contra caídas según OSHA?", options: ["4 pies en industria general", "6 pies en construcción", "10 pies en trabajos de mantenimiento", "Solo en alturas mayores a 15 pies"], correct: 1, explanation: "OSHA requiere protección contra caídas a 6 pies en construcción y 4 pies en industria general. En HVAC, mucho trabajo en techos, áticos y escaleras califica. La protección incluye arnés, barandal, o sistema de restricción." },
        { category:"OSHA", q: "¿Qué es un SDS (Safety Data Sheet) y por qué es importante en HVAC?", options: ["Un documento de garantía del equipo HVAC", "Un documento con información de peligros, manejo y primeros auxilios de sustancias químicas", "Un formulario de servicio que se llena después de cada trabajo", "Un certificado de seguridad para el técnico"], correct: 1, explanation: "El SDS (antes MSDS) contiene información de seguridad sobre sustancias químicas: peligros, exposición, primeros auxilios, manejo, almacenamiento y disposición. Refrigerantes, solventes, y productos de limpieza requieren SDS accesibles en el lugar de trabajo." },
        { category:"OSHA", q: "¿Cuál es la regla de la escalera 4-a-1?", options: ["Una escalera por cada 4 trabajadores en el sitio", "Por cada 4 pies de altura, la base de la escalera debe estar 1 pie de la pared", "Inspeccionar la escalera cada 4 usos o 1 vez al mes", "Máximo 4 personas en una escalera a la vez si es tipo 1"], correct: 1, explanation: "La regla 4-a-1 asegura el ángulo correcto de 75 grados: por cada 4 pies de altura vertical, la base de la escalera se coloca 1 pie de la pared. Un ángulo incorrecto puede causar que la escalera se deslice o se caiga hacia atrás." },
        { category:"OSHA", q: "¿Qué debes hacer si detectas un olor dulce inusual en un cuarto mecánico?", options: ["Ignorarlo si el equipo funciona normalmente", "Evacuar y ventilar - puede ser fuga de refrigerante que en concentración alta desplaza oxígeno", "Revisar si hay alimentos descompuestos en el área", "Continuar trabajando pero con la puerta abierta"], correct: 1, explanation: "Un olor dulce puede indicar fuga de refrigerante. En concentraciones altas, el refrigerante desplaza el oxígeno causando asfixia. Evacua el área, ventila, y usa detector de fugas para localizar el problema antes de volver a entrar." },
        { category:"OSHA", q: "¿Por qué no se debe usar oxígeno para presurizar un sistema de refrigeración?", options: ["El oxígeno daña los sellos de neopreno del sistema", "El oxígeno combinado con aceite del compresor puede explotar violentamente", "El oxígeno contamina el refrigerante y reduce su eficiencia", "El oxígeno corroe las líneas de cobre rápidamente"], correct: 1, explanation: "El oxígeno puro bajo presión combinado con aceite es extremadamente explosivo. NUNCA uses oxígeno para presurizar. Solo usa nitrógeno seco regulado. Esta es una regla de seguridad absoluta que salva vidas." },
        { category:"OSHA", q: "¿Qué tipo de extintor se requiere cerca de un área de soldadura?", options: ["Tipo A para materiales combustibles sólidos", "Tipo ABC o mínimo Tipo B para líquidos inflamables", "Tipo D para metales combustibles", "Solo se necesita agua en un balde"], correct: 1, explanation: "Se requiere mínimo extintor Tipo B (líquidos inflamables) o ABC (uso general) cerca del área de soldadura. El agua no es efectiva contra fuegos de gas o aceite. El extintor debe estar a máximo 50 pies y el técnico debe saber usarlo." },
        { category:"OSHA", q: "¿Cuál es el riesgo principal de trabajar en un ático en verano?", options: ["Daño a los equipos por la temperatura alta", "Golpe de calor o agotamiento por calor del técnico", "Riesgo de incendio por materiales del ático", "Daño al aislamiento por el peso del técnico"], correct: 1, explanation: "Los áticos pueden alcanzar 140-160°F en verano. El golpe de calor es una emergencia médica que puede ser fatal. Hidrátate, toma descansos frecuentes, trabaja temprano en la mañana, y conoce los síntomas: mareo, confusión, piel seca y caliente." },
        { category:"Controles", q: "¿Qué cables del termostato se conectan para una prueba rápida de enfriamiento?", options: ["R con W para activar calefacción", "R con Y y G para activar compresor y ventilador", "C con G para activar solo el ventilador", "R con O para activar la válvula reversible"], correct: 1, explanation: "Conectar R (24V hot) con Y (cooling) activa el contactor del compresor, y con G activa el ventilador del evaporador. Esta prueba rápida verifica si el problema es el termostato o el sistema. Si funciona sin termostato, el problema está en el termostato." },
        { category:"Controles", q: "¿Qué sucede si el cable C del termostato no está conectado?", options: ["El sistema no enciende en absoluto", "Termostatos Wi-Fi pueden perder conexión o funcionar erráticamente por falta de energía constante", "Solo afecta el modo de calefacción", "El compresor arranca pero el ventilador no"], correct: 1, explanation: "Sin cable C, termostatos inteligentes (Nest, Ecobee) no tienen energía continua y pueden 'robar' corriente de otros cables, causando comportamiento errático, pérdida de Wi-Fi, o activación fantasma de componentes." },
        { category:"Controles", q: "¿Cuál es la función del anticipador de calor en un termostato mecánico?", options: ["Encender la calefacción antes de que baje la temperatura", "Apagar la calefacción un poco antes de alcanzar la temperatura set para evitar sobrepasar", "Predecir cuándo se necesitará calefacción según el clima exterior", "Acelerar el calentamiento del espacio en los primeros minutos"], correct: 1, explanation: "El anticipador de calor genera un poco de calor dentro del termostato, haciendo que apague la calefacción antes de alcanzar el setpoint. El calor residual en el sistema lleva la temperatura al punto deseado sin excederlo." },
        { category:"Controles", q: "¿Qué es un defrost board en una bomba de calor?", options: ["Un control que regula la temperatura del evaporador interior", "Un control que inicia y termina el ciclo de descongelamiento del serpentín exterior", "Un sensor de temperatura en la línea de líquido", "Un relay que activa el calentador del cárter"], correct: 1, explanation: "El defrost board controla cuándo el serpentín exterior se descongela (invirtiendo el ciclo brevemente). Puede ser por tiempo/temperatura o por demanda. Sin defrost funcional, el serpentín se cubre de hielo y el sistema pierde capacidad." },
        { category:"Controles", q: "¿Para qué sirve el presostato de alta presión?", options: ["Para regular la presión de succión del compresor", "Para apagar el compresor si la presión de descarga sube peligrosamente", "Para ajustar la velocidad del ventilador del condensador", "Para medir la carga de refrigerante del sistema"], correct: 1, explanation: "El presostato de alta presión es un safety switch que abre el circuito del compresor si la presión de descarga excede el límite (típicamente 600 PSI para R-410A). Causas comunes: condensador sucio, ventilador del condensador parado, sobrecarga, o no-condensables." },
        { category:"Controles", q: "¿Para qué sirve el presostato de baja presión?", options: ["Para regular el flujo de refrigerante al evaporador", "Para apagar el compresor si la presión de succión baja peligrosamente", "Para ajustar la velocidad del compresor inverter", "Para activar el calentador del cárter"], correct: 1, explanation: "El presostato de baja presión apaga el compresor si la succión baja demasiado (típicamente 20-40 PSI para R-410A). Causas comunes: bajo refrigerante, restricción, evaporador congelado, o flujo de aire insuficiente." },
        { category:"Controles", q: "¿Qué cables del termostato se usan para calefacción por gas?", options: ["R con Y para activar el quemador de gas", "R con W para activar la válvula de gas del furnace", "R con O para activar el modo de calor", "R con G para activar el ventilador y el gas simultáneamente"], correct: 1, explanation: "R (24V) con W (heat) activa la válvula de gas y la secuencia de encendido del furnace. Y es para cooling (compresor). O es para la válvula reversible de bomba de calor. G es solo para el ventilador." },
        { category:"Mantenimiento", q: "¿Qué sucede si el filtro de aire está severamente restringido?", options: ["El sistema enfría mejor porque filtra más partículas", "El evaporador puede congelarse por insuficiente flujo de aire", "Solo aumenta el ruido del sistema ligeramente", "El condensador exterior trabaja más duro"], correct: 1, explanation: "Un filtro tapado restringe el flujo de aire sobre el evaporador. Con menos aire, la temperatura del evaporador baja hasta que la humedad se congela en las aletas. Esto reduce aún más el flujo de aire creando un ciclo de empeoramiento." },
        { category:"Mantenimiento", q: "¿Cómo se limpia el serpentín del condensador?", options: ["Con agua a presión máxima desde adentro hacia afuera", "Con limpiador de serpentín y agua con manguera, lavando de adentro hacia afuera", "Con aire comprimido a alta presión desde cualquier dirección", "Solo con trapo húmedo sin agua directa"], correct: 1, explanation: "Aplica limpiador de serpentín, deja actuar según instrucciones, y enjuaga con manguera de adentro hacia afuera para empujar la suciedad en la dirección opuesta al flujo de aire. Presión excesiva puede doblar las aletas delicadas." },
        { category:"Mantenimiento", q: "¿Por qué es importante enderezar las aletas del condensador dobladas?", options: ["Solo por apariencia estética del equipo", "Las aletas dobladas bloquean el flujo de aire reduciendo la capacidad de rechazo de calor", "Para evitar que las aletas corten los cables eléctricos", "Para que el ventilador no golpee las aletas al girar"], correct: 1, explanation: "Las aletas dobladas bloquean el paso de aire a través del serpentín, reduciendo la capacidad del condensador para rechazar calor. Esto causa alta presión de descarga, mayor consumo eléctrico y potencial disparo por alta presión. Usa un peine de aletas (fin comb)." },
        { category:"Mantenimiento", q: "¿Qué se debe verificar en un mantenimiento preventivo de primavera (cooling)?", options: ["Solo cambiar el filtro y limpiar el condensador", "Filtro, condensador, presiones, amperaje, capacitor, drenaje, termostato, y conexiones eléctricas", "Solo verificar que el sistema enfríe y medir temperatura de supply", "Solo verificar el nivel de refrigerante y agregar si hace falta"], correct: 1, explanation: "Un mantenimiento completo incluye: filtro, limpieza de condensador y evaporador, presiones y temperaturas, superheat/subcooling, amperaje del compresor, capacitor, drenaje, termostato, conexiones eléctricas, y nivel de refrigerante." },
        { category:"Mantenimiento", q: "¿Cuál es el diferencial de temperatura normal entre el aire de supply y return?", options: ["10-12°F en condiciones normales", "15-22°F (delta T) en condiciones normales", "25-30°F para máxima eficiencia", "5-8°F es suficiente"], correct: 1, explanation: "El delta T normal es 15-22°F entre return y supply. Menor que 15°F puede indicar bajo refrigerante, flujo de aire excesivo, o problema en el evaporador. Mayor que 22°F puede indicar flujo de aire bajo o evaporador congelándose." },
        { category:"Mantenimiento", q: "¿Cómo se verifica que la línea de drenaje no está tapada?", options: ["Vertiendo refrigerante por la línea para ver si sale", "Vertiendo agua en la bandeja y verificando que drene libremente al exterior", "Soplando aire comprimido a alta presión por la línea", "No se puede verificar sin desconectar la línea"], correct: 1, explanation: "Vierte agua en la bandeja del evaporador y verifica que drene libremente al punto de descarga exterior. Si no drena, la línea está tapada. Se puede limpiar con aspiradora húmeda, nitrógeno a baja presión, o solución de vinagre." },
        { category:"Mantenimiento", q: "¿Cada cuánto se debe hacer un mantenimiento preventivo completo?", options: ["Solo cuando algo falla o el cliente se queja", "Dos veces al año: primavera para cooling, otoño para heating", "Una vez cada dos años es suficiente", "Solo el primer año después de la instalación"], correct: 1, explanation: "El mantenimiento preventivo dos veces al año mantiene el sistema eficiente y detecta problemas antes de fallas costosas. En primavera se prepara el cooling y en otoño el heating. Muchos fabricantes requieren mantenimiento documentado para mantener la garantía." },
        { category:"Mantenimiento", q: "¿Qué indica aceite alrededor de una conexión de refrigeración?", options: ["Es condensación normal del tubo frío", "Posible fuga de refrigerante - el aceite del compresor sale con el refrigerante", "El compresor tiene exceso de aceite y está purgando", "Es lubricante aplicado durante la instalación"], correct: 1, explanation: "Manchas de aceite alrededor de conexiones indican fuga de refrigerante. El aceite del compresor viaja con el refrigerante y cuando hay fuga, el aceite se acumula en el punto de escape. Verifica con detector de fugas y repara." },
        { category:"Mantenimiento", q: "¿Por qué es importante registrar lecturas de presiones y temperaturas en cada visita?", options: ["Solo para cobrar más por el servicio", "Para detectar tendencias y cambios graduales que indiquen problemas en desarrollo", "Para cumplir con requisitos de EPA solamente", "Para que el siguiente técnico sepa qué refrigerante tiene el sistema"], correct: 1, explanation: "Comparar lecturas históricas permite detectar cambios graduales como pérdida lenta de refrigerante, degradación del compresor, o acumulación de suciedad antes de que causen fallas costosas." },
        { category:"Troubleshooting", q: "El sistema no enciende. ¿Cuál es el primer paso de diagnóstico?", options: ["Verificar el nivel de refrigerante con manifold", "Verificar que haya voltaje en el termostato, disconnect y breaker", "Reemplazar el capacitor del compresor", "Verificar la presión de succión del sistema"], correct: 1, explanation: "Siempre empieza por lo básico: ¿hay energía? Verifica voltaje en el termostato (24V), en el disconnect (240V) y que el breaker no esté tripado. Sin voltaje, nada funciona. Muchas llamadas de servicio se resuelven con un breaker tripado o fusible quemado." },
        { category:"Troubleshooting", q: "El compresor tararea (hums) pero no arranca. ¿Causa más probable?", options: ["Bajo refrigerante causando baja presión", "Capacitor de arranque defectuoso o compresor mecánicamente trabado", "Termostato configurado incorrectamente", "Filtro de aire sucio restringiendo flujo"], correct: 1, explanation: "Un zumbido sin arranque indica que el motor recibe energía pero no puede girar: capacitor de arranque malo (sin torque de arranque), compresor mecánicamente trabado, o relay de arranque defectuoso. Verifica capacitor primero - es la causa más común." },
        { category:"Troubleshooting", q: "El evaporador está congelado. ¿Cuáles son las causas posibles?", options: ["Sobrecarga de refrigerante y alta presión de descarga", "Bajo flujo de aire (filtro sucio, blower malo), bajo refrigerante, o fan motor lento", "Termostato configurado a temperatura muy baja", "Condensador sucio causando recirculación de aire caliente"], correct: 1, explanation: "Evaporador congelado = temperatura del serpentín bajó de 32°F. Causas: filtro sucio o blower defectuoso (insuficiente aire), bajo refrigerante (succión baja), TXV malo, o motor del ventilador lento. Descongela completamente antes de diagnosticar." },
        { category:"Troubleshooting", q: "El sistema enfría pero el aire de supply está a 65°F (return 75°F). ¿Es normal?", options: ["No, el delta T de 10°F es bajo - indica posible problema", "Sí, un delta T de 10°F es perfecto para máxima eficiencia", "Sí, pero solo en días muy calientes arriba de 100°F", "No, indica que el sistema está sobreenfriando"], correct: 0, explanation: "Un delta T de 10°F es bajo (normal 15-22°F). Posibles causas: bajo refrigerante, flujo de aire excesivo (velocidad del blower muy alta), evaporador sucio, o ductos con fugas que permiten mezcla de aire no acondicionado." },
        { category:"Troubleshooting", q: "La condensadora vibra excesivamente. ¿Qué debes verificar?", options: ["El nivel de refrigerante en el sistema", "Que los tornillos de montaje estén apretados, aspas del ventilador balanceadas, y base nivelada", "La temperatura del aire de supply en los registros", "El amperaje del transformador de 24V"], correct: 1, explanation: "Vibración excesiva puede ser: tornillos de montaje sueltos, aspas del ventilador desbalanceadas o dobladas, base no nivelada, o tuberías tocando la estructura. También puede indicar problema interno del compresor si es vibración inusual." },
        { category:"Troubleshooting", q: "El furnace enciende y se apaga en menos de 3 minutos (short cycling). ¿Qué verificar?", options: ["El nivel de refrigerante del sistema de A/C", "Filtro sucio, flame sensor sucio, presostato de alta, o intercambiador de calor agrietado", "La presión de succión del lado de enfriamiento", "El capacitor del ventilador del condensador"], correct: 1, explanation: "Short cycling en furnace: filtro sucio (sobrecalentamiento), flame sensor sucio (no detecta llama), presostato de ventilación (draft motor débil o venteo tapado), o grieta en intercambiador de calor (safety limit se dispara)." },
        { category:"Troubleshooting", q: "¿Cómo se limpia un flame sensor?", options: ["Con un trapo húmedo y jabón", "Con lija fina o esponja abrasiva suave para remover oxidación del varilla", "Con limpiador de contactos eléctricos en spray", "No se limpia, siempre se reemplaza"], correct: 1, explanation: "El flame sensor es una varilla de metal que se oxida con el tiempo. Se limpia con lija fina (emery cloth) o esponja abrasiva suave hasta que brille. Esto restaura su capacidad de detectar la corriente de ionización de la llama. Si sigue fallando después de limpiar, reemplázalo." },
        { category:"Troubleshooting", q: "El sistema sopla aire pero no enfría. El compresor no enciende. ¿Qué verificar primero?", options: ["El nivel de refrigerante con manifold", "Voltaje en el contactor, y si la bobina del contactor recibe 24V del termostato", "La temperatura del condensador exterior", "El capacitor del ventilador del evaporador"], correct: 1, explanation: "Si el ventilador corre pero el compresor no: verifica si el contactor recibe 24V en la bobina (señal del termostato). Si hay 24V pero el contactor no cierra, reemplaza el contactor. Si no hay 24V, el problema está en el circuito de control (termostato, cables, safeties)." },
        { category:"Troubleshooting", q: "¿Qué indica una lectura de 0 ohmios entre los terminales C y la carcasa del compresor?", options: ["El compresor está en perfectas condiciones", "El compresor tiene fuga a tierra (grounded) y debe reemplazarse", "El megóhmetro necesita calibración", "Los terminales del compresor están sucios"], correct: 1, explanation: "0 ohmios entre un terminal del compresor y la carcasa indica que el devanado está en contacto con la carcasa (grounded). El compresor debe reemplazarse - un compresor con fuga a tierra dispara el breaker o puede ser peligroso." },
        { category:"Troubleshooting", q: "El sistema hace un ruido de burbujeo en la línea de líquido. ¿Qué indica?", options: ["Es normal - el refrigerante siempre burbujea en la línea de líquido", "El refrigerante no está completamente en estado líquido - posible bajo refrigerante o restricción", "El compresor está sobredimensionado para el sistema", "La línea de líquido necesita aislamiento"], correct: 1, explanation: "Burbujeo en la línea de líquido indica que hay flash gas - el refrigerante no es 100% líquido. Causa: bajo refrigerante (subcooling bajo), restricción parcial antes del punto de burbujeo, o línea de líquido expuesta a calor excesivo." },
        { category:"Herramientas", q: "¿Qué instrumento mide la temperatura superficial sin contacto?", options: ["Termómetro de bolsillo con sonda de inmersión", "Termómetro infrarrojo (IR gun)", "Termocupla tipo K conectada al multímetro", "Sensor de temperatura ambiente del termostato"], correct: 1, explanation: "El termómetro infrarrojo mide temperatura superficial sin contacto mediante radiación infrarroja. La sonda de inmersión requiere contacto con líquido, la termocupla requiere contacto físico, y el sensor del termostato mide temperatura ambiente." },
        { category:"Herramientas", q: "¿Para qué se usa el megóhmetro en HVAC?", options: ["Medir la resistencia del circuito de control a 24V", "Medir el aislamiento eléctrico de los devanados del compresor", "Medir la continuidad del contactor principal", "Medir la resistencia del elemento calefactor"], correct: 1, explanation: "El megóhmetro aplica alto voltaje (500V+) para verificar que el aislamiento de los devanados del compresor no esté degradado. Una lectura por debajo de 1 megaohm indica aislamiento comprometido. El multímetro normal mide resistencia de control y continuidad." },
        { category:"Herramientas", q: "¿Qué herramienta se usa para verificar la capacitancia de un capacitor?", options: ["Multímetro con función de microfaradios (µF)", "Amperímetro de gancho midiendo amperaje del motor", "Megóhmetro verificando aislamiento", "Voltímetro comparando voltaje de línea"], correct: 0, explanation: "Un multímetro con función de capacitancia mide directamente los microfaradios del capacitor. Un capacitor de 35µF debe medir ±6% (32.9-37.1µF). El amperímetro muestra consumo pero no capacitancia directa." },
        { category:"Herramientas", q: "¿Cuál es la función principal de un recuperador de refrigerante?", options: ["Cargar refrigerante nuevo al sistema desde un tanque virgen", "Extraer refrigerante del sistema y almacenarlo en un tanque de recuperación", "Hacer vacío profundo al sistema antes de cargar", "Presurizar el sistema con nitrógeno para prueba de fugas"], correct: 1, explanation: "La máquina recuperadora extrae refrigerante del sistema y lo almacena en un tanque DOT aprobado. Es obligatorio por EPA recuperar todo el refrigerante antes de abrir el sistema. No es para cargar ni para hacer vacío." },
        { category:"Herramientas", q: "¿Qué tipo de termómetro se inserta en una línea de refrigerante para medir superheat?", options: ["Termómetro de bolsillo insertado en el access valve", "Termocupla de contacto (clamp-on) en la línea de succión", "Termómetro infrarrojo apuntando a la tubería", "Sensor de temperatura insertado dentro de la tubería de cobre"], correct: 1, explanation: "La termocupla de contacto (pipe clamp) se sujeta a la línea de succión para medir temperatura de la tubería. El superheat se calcula restando la temperatura de saturación (del manómetro) menos esta lectura. No se inserta nada dentro de la tubería en operación." },
        { category:"Herramientas", q: "¿Para qué sirve el nitrógeno seco en trabajo de HVAC?", options: ["Para cargar sistemas que perdieron refrigerante en el campo", "Para presurizar el sistema durante prueba de fugas y purgar mientras se suelda", "Para enfriar las conexiones después de soldar", "Para desplazar el aceite del compresor durante cambio"], correct: 1, explanation: "El nitrógeno seco se usa para presurizar el sistema y detectar fugas (prueba de standing pressure) y para purgar la tubería mientras se suelda, evitando oxidación interna. Nunca se usa como refrigerante ni para enfriar." },
        { category:"Herramientas", q: "¿Qué mide un psicrómetro?", options: ["La presión barométrica del ambiente", "La temperatura de bulbo seco y bulbo húmedo para calcular humedad relativa", "La velocidad del flujo de aire en los ductos", "La concentración de CO2 en el espacio"], correct: 1, explanation: "El psicrómetro mide la temperatura de bulbo seco y húmedo. La diferencia entre ambas permite calcular la humedad relativa y el punto de rocío del aire. La presión barométrica se mide con barómetro, el flujo con anemómetro." },
        { category:"Herramientas", q: "¿Qué herramienta se usa para cortar tubería de cobre limpiamente?", options: ["Sierra reciprocante con hoja para metal", "Cortador de tubo (tube cutter) con rueda de corte", "Tijeras de hojalatería para ducto", "Dremel con disco de corte abrasivo"], correct: 1, explanation: "El cortador de tubo produce un corte limpio y circular sin dejar rebabas excesivas ni partículas metálicas. La sierra puede dejar rebabas que contaminan el sistema. Siempre se debe escariar (ream) después de cortar." },
        { category:"Herramientas", q: "¿Para qué se usa un escariador (reamer) después de cortar tubería de cobre?", options: ["Para expandir el diámetro de la tubería y hacer una conexión flare", "Para remover la rebaba interna que puede restringir el flujo de refrigerante", "Para limpiar el exterior de la tubería antes de soldar", "Para verificar que el corte está a escuadra"], correct: 1, explanation: "El escariador remueve la rebaba interna dejada por el cortador de tubo. Si no se escaria, las rebabas de cobre pueden entrar al sistema, dañar la válvula de expansión o restringir el flujo. El flaring se hace con herramienta flaring, no con reamer." },
        { category:"Herramientas", q: "¿Qué función tiene el filtro deshidratador (filter drier) en el sistema?", options: ["Filtrar el aceite del compresor para recircularlo limpio", "Remover humedad y partículas del refrigerante en la línea de líquido", "Separar el líquido del vapor en la línea de succión", "Regular la presión del refrigerante antes de la válvula de expansión"], correct: 1, explanation: "El filter drier tiene desecante que absorbe humedad y un filtro que atrapa partículas. Se instala en la línea de líquido. La humedad en el sistema puede crear ácidos que dañan el compresor. Se debe cambiar cada vez que se abre el sistema." },
        { category:"Herramientas", q: "¿Qué tipo de multímetro es más seguro para trabajar con HVAC?", options: ["Multímetro analógico con escala de aguja", "Multímetro digital categoría CAT III o superior", "Multímetro básico de ferretería de rango manual", "Voltímetro de neon sin batería"], correct: 1, explanation: "Un multímetro CAT III está diseñado para resistir transientes de voltaje en circuitos de distribución. En HVAC se trabaja con 240V y 480V donde los transientes pueden ser peligrosos. Un multímetro básico puede explotar con un transiente." },
        { category:"Herramientas", q: "¿Para qué se usa la herramienta de flaring en HVAC?", options: ["Para soldar conexiones de cobre con aleación de plata", "Para abocinar el extremo de la tubería de cobre y crear una conexión mecánica", "Para doblar la tubería de cobre en ángulos precisos", "Para expandir la tubería y conectar dos piezas del mismo diámetro"], correct: 1, explanation: "El flaring tool crea una conexión abocardada (flare) de 45° en el extremo de la tubería. Las conexiones flare se usan donde no se puede soldar, como en el mini-split. El swaging tool se usa para expandir tubería, no el flaring tool." },
        { category:"Herramientas", q: "¿Qué mide un manómetro de presión estática?", options: ["La presión de refrigerante en la línea de líquido", "La presión del aire dentro del sistema de ductos", "La presión del gas natural en el furnace", "La presión atmosférica del ambiente"], correct: 1, explanation: "El manómetro de presión estática mide la presión positiva y negativa del aire en el sistema de ductos, en pulgadas de columna de agua (inWC). La presión estática total del sistema determina si hay restricciones en el flujo de aire." },
        { category:"Herramientas", q: "¿Cuál es el propósito de una balanza de refrigerante electrónica?", options: ["Pesar el equipo completo para calcular el tonelaje", "Pesar la cantidad exacta de refrigerante que se carga o recupera del sistema", "Medir la densidad del refrigerante para verificar pureza", "Calcular automáticamente el superheat y subcooling"], correct: 1, explanation: "La balanza electrónica pesa el tanque de refrigerante durante la carga para agregar la cantidad exacta especificada por el fabricante. La carga por peso es el método más preciso. También se usa al recuperar para documentar la cantidad recuperada." },
        { category:"Herramientas", q: "¿Para qué sirve la bomba de vacío de dos etapas?", options: ["Para recuperar refrigerante más rápido que una de una etapa", "Para alcanzar un vacío más profundo removiendo aire y humedad del sistema", "Para presurizar el sistema con nitrógeno de prueba", "Para circular aceite nuevo por el compresor"], correct: 1, explanation: "La bomba de vacío de dos etapas alcanza un vacío más profundo (debajo de 200 micrones) que una de una etapa. Esto es crítico para remover toda la humedad del sistema. La humedad se hierve a temperatura ambiente bajo vacío profundo." },
        { category:"Herramientas", q: "¿Qué herramienta verifica si un circuito está energizado antes de trabajar en él?", options: ["Multímetro digital verificando voltaje AC", "Probador de voltaje sin contacto (tick tracer)", "Amperímetro de gancho verificando amperaje", "Detector de fugas electrónico"], correct: 1, explanation: "El probador de voltaje sin contacto detecta la presencia de voltaje AC sin tocar los conductores, como primera verificación de seguridad. Después se confirma con multímetro. El amperímetro mide corriente, no presencia de voltaje." },
        { category:"Herramientas", q: "¿Qué herramienta se usa para doblar tubería de cobre sin que se aplaste?", options: ["Prensa de banco con un molde improvisado", "Doblador de tubo (tube bender) con mandril interno", "Tenazas ajustables calentando la tubería primero", "Resorte externo colocado sobre la tubería"], correct: 1, explanation: "El doblador de tubo con mandril previene que la tubería se aplaste o se arrugue durante el doblado. El resorte externo funciona para diámetros pequeños pero no da la precisión del bender. Nunca se debe calentar la tubería para doblarla." },
        { category:"Herramientas", q: "¿Qué instrumento mide la diferencia de temperatura entre el supply y el return?", options: ["Dos termocuplas o termómetros colocados en supply y return", "Un solo termómetro infrarrojo apuntando al coil", "El termostato digital del sistema", "Un manómetro con escala de temperatura"], correct: 0, explanation: "Para medir el delta T (split) se necesitan dos mediciones: una en el supply y otra en el return. El split típico en AC es 18-22°F. Un solo instrumento no puede medir dos puntos simultáneamente. El termostato mide solo temperatura ambiente." },
        { category:"Herramientas", q: "¿Para qué se usa una llave de torque en HVAC?", options: ["Para apretar tuercas flare a la especificación exacta del fabricante", "Para abrir válvulas de servicio completamente", "Para remover compresores que están muy apretados", "Para instalar soportes de ducto metálico"], correct: 0, explanation: "La llave de torque asegura que las conexiones flare se aprieten al torque especificado, evitando fugas por poco apriete o daño por sobre-apriete. Cada diámetro de flare tiene un torque específico en ft-lbs." },
        { category:"Herramientas", q: "¿Qué herramienta se usa para localizar una fuga en un sistema con nitrógeno?", options: ["Detector electrónico de refrigerante", "Solución de burbujas (soap bubbles) aplicada en las conexiones", "Termómetro infrarrojo buscando puntos fríos", "Vacuómetro verificando pérdida de vacío"], correct: 1, explanation: "Cuando el sistema está presurizado con nitrógeno, se aplica solución de burbujas en las conexiones y se observan burbujas donde hay fuga. El detector electrónico solo funciona con refrigerante, no con nitrógeno. El vacuómetro confirma integridad pero no localiza la fuga." },
        { category:"Herramientas", q: "¿Qué tipo de aceite se usa en la bomba de vacío?", options: ["Aceite de compresor POE del sistema", "Aceite mineral específico para bomba de vacío", "Aceite de motor sintético 5W-30", "Cualquier aceite hidráulico limpio"], correct: 1, explanation: "La bomba de vacío usa aceite mineral específico diseñado para absorber la humedad del sistema. Se debe cambiar frecuentemente porque se contamina con la humedad que extrae. El aceite POE es para compresores con refrigerante R-410A." },
        { category:"Herramientas", q: "¿Cuál es la función del sight glass en la línea de líquido?", options: ["Verificar el nivel de aceite del compresor", "Observar el flujo de refrigerante y detectar burbujas que indican baja carga", "Medir la presión del refrigerante visualmente", "Verificar que el filter drier no está saturado de humedad"], correct: 1, explanation: "El sight glass permite ver el refrigerante en la línea de líquido. Burbujas indican baja carga o restricción. Algunos tienen indicador de humedad que cambia de color (verde = seco, amarillo = húmedo). No mide presión ni nivel de aceite." },
        { category:"Herramientas", q: "¿Para qué sirve un swaging tool?", options: ["Para crear una conexión flare de 45 grados", "Para expandir el extremo de una tubería para insertar otra del mismo diámetro", "Para cortar tubería de cobre en espacios reducidos", "Para doblar tubería de cobre sin aplastarla"], correct: 1, explanation: "El swaging tool expande un extremo de la tubería de cobre para que otra pieza del mismo diámetro pueda insertarse y soldarse. Esto elimina la necesidad de un coupling. El flaring tool hace conexiones abocardadas, no swage." },
        { category:"Herramientas", q: "¿Qué herramienta verifica la dirección de rotación de un motor trifásico?", options: ["Amperímetro de gancho comparando las tres fases", "Medidor de rotación de fase (phase rotation meter)", "Multímetro verificando voltaje entre fases", "Tacómetro digital midiendo RPM del motor"], correct: 1, explanation: "El medidor de rotación de fase verifica si la secuencia de fases es correcta (L1-L2-L3) antes de energizar el motor. Una rotación incorrecta hace que el compresor gire al revés, causando daño. El multímetro mide voltaje pero no secuencia." },
        { category:"Herramientas", q: "¿Qué herramienta se usa para medir la resistencia de un motor en ohms?", options: ["Amperímetro de gancho en modo resistencia", "Multímetro digital en la escala de ohmios (Ω)", "Megóhmetro de 500 voltios", "Voltímetro midiendo la caída de voltaje"], correct: 1, explanation: "El multímetro en escala de ohmios mide la resistencia de los devanados del motor (Start, Run, Common). El megóhmetro mide aislamiento a tierra, no resistencia de devanados. El amperímetro de gancho no tiene función de resistencia interna del motor." },
        { category:"Herramientas", q: "¿Cuál es el uso principal de una pinza amperimétrica (clamp meter)?", options: ["Medir voltaje AC directamente en los terminales", "Medir corriente eléctrica sin interrumpir el circuito", "Medir la frecuencia del suministro eléctrico", "Medir la resistencia de los cables de alimentación"], correct: 1, explanation: "La pinza amperimétrica mide la corriente que fluye por un conductor sin necesidad de desconectar nada. Se coloca alrededor de un solo conductor. Si se coloca alrededor de dos conductores, las corrientes se cancelan y marca cero." },
        { category:"Herramientas", q: "¿Para qué se utiliza un manómetro de columna de agua (WC)?", options: ["Medir la presión del refrigerante en sistemas de baja presión", "Medir la presión del gas natural y la presión estática del ducto", "Medir la presión atmosférica del ambiente de trabajo", "Medir la presión del agua en el sistema hydronic"], correct: 1, explanation: "El manómetro de columna de agua mide presiones bajas como la del gas natural (típico 3.5 inWC) y la presión estática del sistema de ductos (típico 0.5 inWC). Las presiones de refrigerante se miden en PSI con manómetros del manifold." },
        { category:"Herramientas", q: "¿Qué herramienta se necesita para hacer una conexión de tubería tipo press-fit?", options: ["Soplete de acetileno con varilla de soldadura", "Herramienta de prensado (press tool) con mordazas del diámetro correcto", "Llave de torque con adaptador especial", "Herramienta de flaring con adaptador press"], correct: 1, explanation: "Las conexiones press-fit usan una herramienta de prensado hidráulica o de batería que comprime el fitting alrededor de la tubería con un sello de O-ring. No requiere soldadura ni llama abierta, ideal para retrofit." },
        { category:"Herramientas", q: "¿Qué mide un higrómetro digital en HVAC?", options: ["La velocidad del flujo de aire en CFM", "La humedad relativa del aire en el espacio", "La temperatura del aire de suministro", "La concentración de monóxido de carbono"], correct: 1, explanation: "El higrómetro mide la humedad relativa del aire. En HVAC, el nivel ideal es 30-50% RH. Humedad alta causa moho y discomfort; humedad baja causa estática y resequedad. El anemómetro mide velocidad de aire, no humedad." },
        { category:"Herramientas", q: "¿Para qué se usa el detector de combustible (combustible gas detector)?", options: ["Para detectar fugas de refrigerante en el evaporador", "Para detectar fugas de gas natural o propano en instalaciones de furnace", "Para medir la concentración de CO en los gases de combustión", "Para verificar la pureza del refrigerante en el sistema"], correct: 1, explanation: "El detector de combustible detecta gas natural (metano) y propano en el ambiente, esencial cuando se trabaja con furnaces y calentadores. El detector de refrigerante es diferente y específico para halógenos. El analizador de combustión mide CO." },
        { category:"Herramientas", q: "¿Cuál es el propósito del aceite refrigerante en el compresor?", options: ["Enfriar el refrigerante antes de entrar al condensador", "Lubricar las partes móviles del compresor y sellar tolerancias internas", "Absorber la humedad que pueda entrar al sistema", "Aumentar la capacidad de enfriamiento del refrigerante"], correct: 1, explanation: "El aceite lubrica los cojinetes, pistones y scroll del compresor, y sella las tolerancias entre superficies móviles. Circula por el sistema mezclado con el refrigerante y regresa al compresor. Sin aceite adecuado, el compresor falla por desgaste." },
        { category:"Herramientas", q: "¿Qué herramienta se usa para verificar que el suministro eléctrico tiene tierra adecuada?", options: ["Voltímetro midiendo voltaje entre fases", "Probador de receptáculo o multímetro midiendo entre hot y ground", "Amperímetro verificando balance de corriente", "Megóhmetro midiendo aislamiento del cable"], correct: 1, explanation: "El probador de receptáculo verifica tierra, hot y neutro correctos. Con multímetro, se mide entre hot y ground - debe leer voltaje similar a hot-neutral. Sin tierra adecuada, hay riesgo de electrocución y daño al equipo." },
        { category:"Herramientas", q: "¿Para qué se usa un analizador de combustión en furnaces?", options: ["Verificar que el piloto esté encendido correctamente", "Medir eficiencia, CO, O2 y temperatura de los gases de escape", "Medir el flujo de gas natural al quemador", "Verificar la presión del gas antes y después de la válvula"], correct: 1, explanation: "El analizador de combustión mide CO (monóxido de carbono), O2, CO2, temperatura de flue gas y calcula eficiencia de combustión. CO elevado indica combustión incompleta peligrosa. La presión de gas se mide con manómetro de columna de agua." },
        { category:"Herramientas", q: "¿Qué herramienta permite verificar la carga de refrigerante usando subcooling?", options: ["Solo la balanza de refrigerante electrónica", "Manifold de manómetros y termocupla en la línea de líquido", "Vacuómetro digital y detector de fugas", "Amperímetro midiendo el consumo del compresor"], correct: 1, explanation: "Para medir subcooling se necesita: el manómetro de alta presión (para obtener temperatura de condensación de la tabla P-T) y una termocupla en la línea de líquido. Subcooling = temperatura de condensación - temperatura de la línea de líquido." },
        { category:"Herramientas", q: "¿Qué herramienta se requiere para hacer una prueba de standing pressure?", options: ["Bomba de vacío con vacuómetro digital", "Tanque de nitrógeno con regulador y manómetro de alta presión", "Recuperadora con tanque DOT aprobado", "Detector electrónico de fugas únicamente"], correct: 1, explanation: "La prueba de standing pressure requiere presurizar el sistema con nitrógeno seco (150-300 PSI dependiendo del refrigerante) y monitorear con un manómetro preciso por 24 horas. Si la presión baja, hay fuga. El nitrógeno es inerte y no contamina." },
        { category:"Herramientas", q: "¿Cuándo se debe cambiar el aceite de la bomba de vacío?", options: ["Solo cuando la bomba empieza a hacer ruido", "Antes de cada uso o cuando el aceite se ve turbio/lechoso", "Una vez al año durante el mantenimiento anual", "Solo después de evacuar un sistema contaminado"], correct: 1, explanation: "El aceite se debe cambiar antes de cada trabajo o cuando se ve turbio/lechoso, lo cual indica que absorbió humedad del sistema. Aceite contaminado reduce la capacidad de la bomba de alcanzar un vacío profundo." },
        { category:"Herramientas", q: "¿Qué herramienta mide las RPM de un motor sin contacto?", options: ["Amperímetro de gancho calculando RPM por amperaje", "Tacómetro óptico (láser) o estroboscópico", "Multímetro midiendo frecuencia del voltaje", "Osciloscopio midiendo la forma de onda"], correct: 1, explanation: "El tacómetro óptico usa un rayo láser y una marca reflectiva en el eje del motor para contar revoluciones. El estroboscópico usa pulsos de luz. Son útiles para verificar que el motor gira a las RPM correctas según la placa de datos." },
        { category:"Herramientas", q: "¿Para qué se usa un identificador de refrigerante?", options: ["Para medir cuánto refrigerante queda en un tanque", "Para determinar el tipo y pureza del refrigerante en el sistema", "Para detectar fugas de refrigerante por ultrasonido", "Para calcular la carga correcta según el modelo"], correct: 1, explanation: "El identificador analiza el refrigerante y muestra su composición (tipo y pureza). Es esencial cuando no se sabe qué refrigerante tiene un sistema o si fue contaminado con mezcla. Refrigerante contaminado puede dañar la recuperadora y el sistema." },
        { category:"Instalación", q: "¿Cuál es la regla general de CFM por tonelada en sistemas residenciales?", options: ["200 CFM por tonelada de refrigeración", "400 CFM por tonelada de refrigeración", "600 CFM por tonelada de refrigeración", "800 CFM por tonelada de refrigeración"], correct: 1, explanation: "La regla estándar es 400 CFM por tonelada. Un sistema de 3 toneladas necesita 1,200 CFM. Menos flujo causa evaporador congelado y más flujo reduce la remoción de humedad. Se ajusta según condiciones de humedad de la región." },
        { category:"Instalación", q: "¿A qué distancia mínima debe estar el condensador de la pared según la mayoría de fabricantes?", options: ["6 pulgadas de separación mínima", "12-24 pulgadas de separación mínima", "36-48 pulgadas de separación mínima", "60 pulgadas de separación mínima"], correct: 1, explanation: "La mayoría de fabricantes requieren 12-24 pulgadas de clearance de las paredes para permitir flujo de aire adecuado al condensador. Si está muy cerca, el aire caliente recircula y aumenta la presión de descarga, reduciendo eficiencia y vida útil." },
        { category:"Instalación", q: "¿Por qué se instala la línea de succión por encima de la línea de líquido en instalaciones verticales?", options: ["Para que el refrigerante líquido drene por gravedad al compresor", "Para que si la línea de líquido tiene fuga, el líquido no gotee sobre la línea de succión fría y cause condensación", "Para prevenir que el aceite quede atrapado en un sifón", "Para mantener el superheat constante durante la operación"], correct: 2, explanation: "En trayectos verticales, la línea de succión debe tener trampas de aceite (oil traps) cada 20 pies para asegurar el retorno de aceite al compresor. La posición relativa de las líneas previene trampas de aceite indeseadas." },
        { category:"Instalación", q: "¿Cuál es la pendiente correcta para la línea de drenaje del condensado?", options: ["Completamente horizontal para evitar ruido de agua", "1/4 de pulgada de caída por pie de tubería", "1 pulgada de caída por pie de tubería", "2 pulgadas de caída por pie de tubería"], correct: 1, explanation: "La línea de drenaje necesita 1/4 de pulgada de caída por pie para que el condensado drene por gravedad. Sin suficiente pendiente, el agua se estanca y puede rebosar la charola. Demasiada pendiente puede causar sifón y succión de aire." },
        { category:"Instalación", q: "¿Por qué se aísla la línea de succión y no la línea de líquido?", options: ["Porque la línea de succión es más costosa de reemplazar", "Para prevenir que la línea de succión absorba calor del ambiente y aumente el superheat", "Porque la línea de líquido no transporta refrigerante", "Para proteger la línea de succión de la corrosión"], correct: 1, explanation: "La línea de succión lleva vapor frío al compresor. Sin aislamiento, absorbe calor del ambiente, aumentando el superheat y reduciendo la capacidad del sistema. La línea de líquido no se aísla normalmente porque opera a temperatura cercana al ambiente." },
        { category:"Instalación", q: "¿Qué tamaño de breaker se requiere típicamente para un condensador de 3 toneladas a 240V?", options: ["15 amperes", "30 amperes", "60 amperes", "100 amperes"], correct: 1, explanation: "Un condensador de 3 toneladas a 240V típicamente requiere un breaker de 30 amperes con cable calibre 10 AWG. El tamaño exacto se determina por el MCA (Minimum Circuit Ampacity) y MOCP (Maximum Overcurrent Protection) en la placa de datos del equipo." },
        { category:"Instalación", q: "¿Qué es el MCA en la placa de datos del equipo?", options: ["Maximum Cooling Amperage - amperaje máximo de enfriamiento", "Minimum Circuit Ampacity - capacidad mínima del cable de alimentación", "Motor Compressor Amps - amperaje del motor del compresor", "Main Circuit Activation - voltaje de activación del circuito"], correct: 1, explanation: "MCA (Minimum Circuit Ampacity) indica el calibre mínimo del cable de alimentación. Se calcula como 125% de la carga más grande + 100% de las demás. El MOCP indica el tamaño máximo del breaker." },
        { category:"Instalación", q: "¿Cuál es la función del pad (base de concreto) debajo del condensador?", options: ["Aislar las vibraciones del condensador para que no se transmitan al piso", "Nivelar el equipo y elevarlo del suelo para evitar inundación y facilitar drenaje", "Reducir el ruido del condensador por absorción acústica", "Anclar el condensador para que no se mueva con el viento"], correct: 1, explanation: "El pad nivela el condensador y lo eleva del suelo para prevenir inundación, facilitar drenaje, y evitar que suciedad y vegetación bloqueen el flujo de aire. Un equipo desnivelado puede causar problemas de lubricación en el compresor." },
        { category:"Instalación", q: "¿Por qué se instala un desconector (disconnect) junto al condensador?", options: ["Para controlar la velocidad del ventilador del condensador", "Para cortar la energía eléctrica de forma segura durante servicio y reparación", "Para regular el voltaje que llega al compresor", "Para proteger contra sobrecarga del circuito"], correct: 1, explanation: "El código eléctrico NEC requiere un medio de desconexión dentro de la línea de vista del equipo. Esto permite al técnico cortar la energía y verificar visualmente que está desconectado antes de trabajar, por seguridad lockout/tagout." },
        { category:"Instalación", q: "¿Qué sucede si la línea de líquido es demasiado larga sin subenfriamiento adicional?", options: ["El compresor consume más amperaje del normal", "El refrigerante puede flashear (vaporizarse) antes de llegar a la válvula de expansión", "El evaporador se congela por exceso de refrigerante", "La presión de succión sube demasiado"], correct: 1, explanation: "En líneas de líquido muy largas, la fricción y ganancia de calor pueden hacer que el refrigerante se vaporice (flash) antes de llegar a la válvula de expansión, reduciendo la capacidad del sistema. Se necesita subenfriamiento adicional para compensar." },
        { category:"Instalación", q: "¿Cuál es el propósito del damper de zona en un sistema de ductos?", options: ["Regular la velocidad del blower del furnace", "Controlar el flujo de aire a zonas individuales abriendo o cerrando ductos", "Filtrar el aire antes de entrar a cada zona", "Medir la presión estática en cada zona"], correct: 1, explanation: "Los dampers de zona abren o cierran para dirigir el aire acondicionado a las zonas que lo necesitan. Son controlados por el panel de zona basándose en la demanda de cada termostato. Un bypass damper alivia la presión cuando zonas se cierran." },
        { category:"Instalación", q: "¿Cuántas BTU tiene una tonelada de refrigeración?", options: ["6,000 BTU/hr", "12,000 BTU/hr", "24,000 BTU/hr", "48,000 BTU/hr"], correct: 1, explanation: "Una tonelada de refrigeración equivale a 12,000 BTU/hr. Esto se basa en la energía necesaria para derretir una tonelada de hielo en 24 horas. Un sistema de 3 toneladas tiene capacidad de 36,000 BTU/hr." },
        { category:"Instalación", q: "¿Qué es SEER y para qué se usa?", options: ["Seasonal Energy Efficiency Ratio - indica la eficiencia del sistema en toda la temporada de enfriamiento", "Standard Electronic Equipment Rating - clasificación estándar del equipo electrónico", "System Electrical Energy Requirement - requisito de energía del sistema", "Supply and Exhaust Efficiency Rating - eficiencia del suministro y escape"], correct: 0, explanation: "SEER (Seasonal Energy Efficiency Ratio) divide los BTU de enfriamiento entre los watts consumidos durante una temporada completa. SEER más alto = más eficiente. El mínimo actual es SEER2 15 para residencial (desde enero 2023)." },
        { category:"Instalación", q: "¿Cuál es la función de la trampa P (P-trap) en la línea de drenaje del evaporador?", options: ["Atrapar partículas de suciedad antes de que lleguen al drenaje", "Mantener un sello de agua que previene que aire sea succionado por el sistema", "Aumentar la velocidad del flujo de condensado", "Prevenir que insectos entren por la línea de drenaje"], correct: 1, explanation: "La trampa P mantiene un sello de agua que evita que la presión negativa del plenum de retorno succione aire por la línea de drenaje. Sin la trampa, el aire succionado puede evitar el drenaje correcto y causar overflow." },
        { category:"Instalación", q: "¿Qué material es más común para ductos residenciales flexibles?", options: ["Lámina de acero galvanizado calibre 26", "Ducto flexible de fibra de vidrio con forro interior y exterior", "Tubería de PVC rígida de 4 pulgadas", "Conducto de aluminio rígido rectangular"], correct: 1, explanation: "El ducto flexible (flex duct) tiene un core de alambre espiral, aislamiento de fibra de vidrio, y forro exterior de plástico. Es económico y fácil de instalar pero debe mantenerse lo más corto y recto posible para minimizar fricción." },
        { category:"Instalación", q: "¿Cuál es el problema principal de un ducto flexible con exceso de longitud o curvas?", options: ["Se acumula humedad dentro del ducto flexible", "Aumenta la restricción de flujo de aire y reduce el rendimiento del sistema", "El material del ducto se deteriora más rápido con las curvas", "El ruido del aire aumenta proporcionalmente a la longitud"], correct: 1, explanation: "Cada curva y cada pie extra de ducto flexible agrega presión estática, reduciendo el flujo de aire (CFM) al espacio. Un ducto muy largo o con muchas curvas puede reducir el flujo hasta un 50%, causando comfort issues." },
        { category:"Instalación", q: "¿Qué es el Manual J de ACCA?", options: ["El procedimiento para seleccionar ductos del tamaño correcto", "El cálculo de carga térmica para determinar el tamaño correcto del equipo", "El manual de instalación eléctrica para equipos HVAC", "El procedimiento de comisionamiento y arranque del sistema"], correct: 1, explanation: "Manual J calcula la carga térmica del edificio considerando aislamiento, ventanas, orientación, ocupantes y clima. El resultado en BTU/hr determina el tamaño del equipo. Manual D es para diseño de ductos y Manual S para selección de equipo." },
        { category:"Instalación", q: "¿Qué sucede si se instala un equipo sobredimensionado (oversized)?", options: ["El sistema enfría más eficientemente y dura más años", "El sistema cicla corto, no remueve humedad adecuadamente y desperdicia energía", "El compresor trabaja a menor capacidad y ahorra electricidad", "El sistema mantiene la temperatura más estable en toda la casa"], correct: 1, explanation: "Un sistema sobredimensionado enfría rápido pero no corre suficiente tiempo para remover humedad. Esto causa ciclos cortos (short cycling), pobre control de humedad, mayor desgaste de componentes y facturas de energía más altas." },
        { category:"Instalación", q: "¿Cuál es la función de la válvula de servicio (service valve) en la unidad?", options: ["Regular automáticamente la presión del refrigerante", "Permitir al técnico conectar manómetros y realizar servicios sin perder refrigerante", "Controlar el flujo de refrigerante al evaporador", "Proteger el compresor contra presión excesiva"], correct: 1, explanation: "Las válvulas de servicio tienen un port Schrader que permite conectar las mangueras del manifold sin perder refrigerante. Tienen posiciones de front seat, back seat, y mid position para diferentes operaciones de servicio." },
        { category:"Instalación", q: "¿Qué tipo de cable se usa típicamente para el termostato?", options: ["Cable Romex 14/2 con tierra", "Cable de bajo voltaje 18/5 o 18/8 para termostato", "Cable blindado BX calibre 16", "Cable coaxial RG-6 con conector F"], correct: 1, explanation: "El cable de termostato es de bajo voltaje (24V), típicamente 18 AWG con 5 u 8 conductores de colores (R, G, Y, W, C, etc.). Cada conductor controla una función específica. Se recomienda 18/8 para futuras expansiones como wifi o heat pump." },
        { category:"Instalación", q: "¿Qué significa la letra 'Y' en el cableado del termostato?", options: ["Yellow - controla el ventilador del furnace", "Yellow - señal de enfriamiento que activa el compresor", "Yellow - señal de emergencia del sistema", "Yellow - control del humidificador"], correct: 1, explanation: "Y activa el contactor del compresor para enfriamiento. R es el voltaje 24V (hot), G activa el blower, W activa la calefacción, C es el common (neutral 24V), y O/B controla la válvula reversible en heat pumps." },
        { category:"Instalación", q: "¿Por qué es importante el filtro de aire del tamaño correcto?", options: ["Para que el equipo se vea profesional en la instalación", "Para asegurar que todo el aire pase por el filtro sin bypass y mantener flujo adecuado", "Para reducir el nivel de ruido del sistema", "Para evitar que el filtro se caiga dentro del ducto"], correct: 1, explanation: "Un filtro muy pequeño deja espacios por donde el aire pasa sin filtrar (bypass), permitiendo que polvo y suciedad lleguen al evaporador. Un filtro muy restrictivo reduce el flujo de aire. El tamaño correcto balancea filtración y flujo." },
        { category:"Instalación", q: "¿Cuál es el MERV recomendado para la mayoría de sistemas residenciales?", options: ["MERV 1-4 para máximo flujo de aire", "MERV 8-11 para balance entre filtración y flujo de aire", "MERV 16-20 para máxima limpieza del aire", "No importa el MERV, todos los filtros funcionan igual"], correct: 1, explanation: "MERV 8-11 ofrece buena filtración de polvo, polen y moho sin restringir excesivamente el flujo de aire. MERV más alto (13+) requiere verificar que el sistema pueda manejar la caída de presión adicional. MERV 1-4 filtra muy poco." },
        { category:"Instalación", q: "¿Qué es una prueba de duct blaster?", options: ["Una prueba de la velocidad del aire en cada registro", "Una prueba que presuriza los ductos para medir cuánto aire se fuga", "Una prueba de la temperatura del aire en el supply", "Una prueba del nivel de ruido en el sistema de ductos"], correct: 1, explanation: "El duct blaster presuriza el sistema de ductos a 25 Pascales y mide la cantidad de aire que se fuga (en CFM). Los ductos con mucha fuga desperdician energía y reducen confort. El estándar es menos de 4% de fuga." },
        { category:"Instalación", q: "¿Cuál es la importancia de sellar las conexiones de ductos con mastic?", options: ["Solo es estético, para que la instalación se vea profesional", "Previene fugas de aire que reducen eficiencia y causan pérdida de aire acondicionado", "Protege los ductos contra la corrosión", "Aísla los ductos para prevenir condensación"], correct: 1, explanation: "Ductos con fugas pueden perder 20-30% del aire acondicionado, desperdiciando energía y creando problemas de confort. Mastic o cinta aprobada UL 181 sella las conexiones permanentemente. La cinta de tela regular (duct tape) no es adecuada." },
        { category:"Instalación", q: "¿Qué sucede si el evaporador se instala antes del furnace (en el lado del return)?", options: ["El sistema funciona igual independientemente de la posición", "El condensado puede drenar hacia el intercambiador de calor del furnace, causando corrosión", "El evaporador produce más frío por estar más cerca del aire de retorno", "El compresor arranca más rápido porque el evaporador está más frío"], correct: 1, explanation: "El evaporador típicamente se instala en el lado del supply (después del furnace) para que el condensado no gotee sobre el intercambiador de calor. En posición de retorno, se necesita una charola de drenaje adicional y protección adecuada." },
        { category:"Instalación", q: "¿Por qué se necesita un safety switch (float switch) en la línea de drenaje?", options: ["Para controlar la velocidad del ventilador del evaporador", "Para apagar el sistema si la línea de drenaje se tapa y el agua sube al nivel peligroso", "Para medir la cantidad de humedad removida del aire", "Para activar la bomba de condensado automáticamente"], correct: 1, explanation: "El float switch apaga el sistema de enfriamiento cuando el nivel de agua en la charola sube, previniendo daños por agua al cielo raso, paredes y pisos. Es código en muchos estados cuando el evaporador está en el ático o sobre espacio habitable." },
        { category:"Instalación", q: "¿Cuál es la distancia máxima típica entre la unidad interior y exterior de un mini-split?", options: ["15 pies máximo por regulación EPA", "50-75 pies dependiendo del fabricante y modelo", "200 pies sin restricción", "No hay límite si la tubería es del diámetro correcto"], correct: 1, explanation: "La distancia máxima varía por fabricante pero típicamente es 50-75 pies con una diferencia de altura máxima de 30-40 pies. Distancias mayores requieren refrigerante adicional y pueden causar pérdida de eficiencia y problemas de retorno de aceite." },
        { category:"Instalación", q: "¿Qué es el line set en una instalación de AC?", options: ["El cable eléctrico que conecta el condensador al panel eléctrico", "Las dos líneas de cobre (succión y líquido) que conectan el evaporador con el condensador", "El sistema de ductos que conecta el furnace con los registros", "La línea de drenaje que sale del evaporador"], correct: 1, explanation: "El line set consiste en dos tubos de cobre: la línea de succión (grande, aislada, lleva vapor frío) y la línea de líquido (pequeña, sin aislar, lleva líquido caliente). Los diámetros dependen del tamaño del equipo." },
        { category:"Instalación", q: "¿Cuánto refrigerante adicional se agrega típicamente por cada pie de línea de líquido sobre la carga de fábrica?", options: ["No se agrega nada, la carga de fábrica es siempre suficiente", "Se agrega según la especificación del fabricante, típicamente 0.5-1 oz por pie adicional", "Se agrega 1 libra por cada 10 pies de línea", "Se calcula por superheat, no por longitud de línea"], correct: 1, explanation: "Los fabricantes especifican cuánto refrigerante adicional agregar por pie de línea de líquido sobre la longitud precargada de fábrica (típicamente 15-25 pies). Esto varía por modelo y tamaño - siempre consultar la placa de datos o el manual." },
        { category:"Instalación", q: "¿Qué es el quick connect (flare fitting) en una instalación de mini-split?", options: ["Una conexión soldada de alta presión", "Una conexión mecánica abocardada (flare) que no requiere soldadura", "Una conexión roscada con teflón para gas", "Una conexión press-fit con sello de goma"], correct: 1, explanation: "Los mini-splits usan conexiones flare de 45° que se aprietan con llave de torque al valor especificado. No requieren soldadura. El torque correcto es crítico - muy poco causa fuga y demasiado daña el asiento del flare." },
        { category:"Instalación", q: "¿Por qué se purga el line set con nitrógeno antes de hacer vacío?", options: ["Para precalentar la tubería antes de cargar refrigerante", "Para remover el aire y humedad gruesa del sistema antes del vacío fino", "Para verificar que la bomba de vacío funciona correctamente", "Para calibrar los manómetros del manifold"], correct: 1, explanation: "Purgar con nitrógeno expulsa el aire y humedad del line set. La bomba de vacío trabaja más eficientemente sacando las últimas trazas de humedad después de la purga, alcanzando 500 micrones más rápido." },
        { category:"Instalación", q: "¿Cuál es la altura mínima recomendada para el condensador sobre el nivel del suelo?", options: ["Al nivel del suelo, completamente plano", "3-6 pulgadas elevado sobre el pad", "24 pulgadas elevado sobre postes", "36 pulgadas elevado sobre una plataforma"], correct: 1, explanation: "El condensador debe estar 3-6 pulgadas sobre el nivel del suelo para prevenir que agua de lluvia, nieve, o tierra bloqueen el flujo de aire. En zonas de nieve se eleva más (12-18 pulgadas) para que la nieve no cubra el coil." },
        { category:"Instalación", q: "¿Qué es el Manual D de ACCA?", options: ["El cálculo de carga térmica del edificio", "El diseño del sistema de ductos incluyendo tamaño, layout y velocidad de aire", "El procedimiento de selección de equipo HVAC", "El manual de mantenimiento preventivo del sistema"], correct: 1, explanation: "Manual D de ACCA diseña el sistema de ductos basándose en la carga de cada cuarto (del Manual J), seleccionando tamaños de ducto para entregar el CFM correcto a cada espacio. Incluye cálculos de fricción, equivalentes y velocidad." },
        { category:"Instalación", q: "¿Cuál es el propósito del whip eléctrico (liquid tight conduit)?", options: ["Transportar refrigerante del condensador al evaporador", "Proteger el cable eléctrico de la intemperie entre el desconector y el condensador", "Drenar el condensado del condensador al drenaje", "Conectar el termostato al condensador"], correct: 1, explanation: "El whip es un conducto flexible hermético (liquid tight) que protege los cables eléctricos de la lluvia, sol y daño mecánico desde el desconector hasta el equipo. Es requerido por código NEC para proteger conductores expuestos a la intemperie." },
        { category:"Instalación", q: "¿Qué sucede si el retorno de aire es muy pequeño?", options: ["El sistema enfría más rápido porque concentra el aire", "La presión estática aumenta, el flujo de aire baja y el evaporador puede congelarse", "El filtro dura más tiempo sin ensuciarse", "La eficiencia del sistema mejora con mayor velocidad de aire"], correct: 1, explanation: "Un retorno subdimensionado restringe el flujo de aire, aumentando la presión estática negativa. Esto reduce los CFM sobre el evaporador, baja la temperatura del coil, y puede causar congelamiento. También reduce la vida del blower motor." },
        { category:"Refrigeración", q: "¿Cuáles son los cuatro componentes principales del ciclo de refrigeración?", options: ["Compresor, condensador, válvula de expansión y evaporador", "Compresor, recuperador, filter drier y accumulator", "Condensador, válvula de servicio, sight glass y receiver", "Evaporador, bomba de vacío, manómetro y termocupla"], correct: 0, explanation: "El ciclo básico de refrigeración tiene cuatro componentes: el compresor (comprime el vapor), condensador (rechaza calor), dispositivo de expansión (reduce presión) y evaporador (absorbe calor). Todos los demás componentes son auxiliares." },
        { category:"Refrigeración", q: "¿Qué es el superheat y por qué es importante?", options: ["Es la temperatura del refrigerante al salir del condensador como líquido subenfriado", "Es la temperatura del vapor de refrigerante por encima de su punto de saturación en el evaporador", "Es la presión máxima que alcanza el refrigerante en el condensador", "Es la diferencia de presión entre alta y baja del sistema"], correct: 1, explanation: "El superheat es la temperatura del vapor de succión menos la temperatura de saturación (del manómetro). Asegura que solo vapor llegue al compresor. Superheat bajo = riesgo de líquido al compresor. Superheat alto = poca capacidad de enfriamiento." },
        { category:"Refrigeración", q: "¿Qué es el subcooling y dónde se mide?", options: ["La temperatura del vapor al entrar al compresor", "La temperatura del líquido por debajo de su punto de saturación en la línea de líquido", "La temperatura del aire al salir del evaporador", "La diferencia de temperatura entre supply y return"], correct: 1, explanation: "El subcooling se mide en la línea de líquido y es la temperatura de condensación (del manómetro de alta) menos la temperatura de la línea de líquido. Subcooling adecuado (8-12°F típico) asegura que llegue líquido sólido a la válvula de expansión." },
        { category:"Refrigeración", q: "¿Qué le pasa al compresor si recibe refrigerante líquido?", options: ["Funciona más eficientemente porque el líquido es más denso", "Puede sufrir daño mecánico por slugging ya que el líquido no se comprime", "La presión de descarga baja significativamente", "El compresor se sobrecalienta por exceso de trabajo"], correct: 1, explanation: "El líquido no se comprime (es incompresible). Si líquido entra al compresor, puede romper válvulas, bielas, y el scroll. Esto se llama 'liquid slugging' y es una de las principales causas de falla de compresores. Por eso el superheat es crítico." },
        { category:"Refrigeración", q: "¿Cuál es la función del dispositivo de expansión (metering device)?", options: ["Aumentar la presión del refrigerante para que condense", "Reducir la presión del refrigerante líquido para que pueda evaporarse en el evaporador", "Separar el aceite del refrigerante antes del evaporador", "Filtrar impurezas del refrigerante antes de entrar al evaporador"], correct: 1, explanation: "El dispositivo de expansión (TXV, orificio, o EEV) reduce la presión del refrigerante de alta a baja. Al bajar la presión, el refrigerante hierve a baja temperatura y puede absorber calor del aire en el evaporador." },
        { category:"Refrigeración", q: "¿Qué tipo de dispositivo de expansión ajusta automáticamente según la carga térmica?", options: ["Orificio fijo (piston/fixed orifice)", "Válvula de expansión termostática (TXV/TEV)", "Tubo capilar", "Restrictor de flujo fijo"], correct: 1, explanation: "La TXV usa un bulbo sensor en la línea de succión que ajusta la apertura según el superheat, respondiendo automáticamente a cambios en la carga. El orificio fijo y el tubo capilar tienen apertura fija y no se ajustan." },
        { category:"Refrigeración", q: "¿A qué temperatura hierve el R-410A a presión atmosférica?", options: ["-15°F (-26°C)", "-60.8°F (-51.6°C) aproximadamente", "32°F (0°C)", "-21.6°F (-29.8°C)"], correct: 3, explanation: "El R-410A hierve a aproximadamente -60.8°F a presión atmosférica. Esto significa que a cualquier temperatura ambiente normal, el R-410A se evapora completamente. Por eso debe mantenerse bajo presión en un sistema cerrado." },
        { category:"Refrigeración", q: "¿Cuál es la presión de operación típica del lado de alta del R-410A en un día de 95°F?", options: ["125-150 PSI", "250-300 PSI", "350-425 PSI", "500-600 PSI"], correct: 2, explanation: "El R-410A opera a presiones más altas que el R-22. En un día de 95°F, la presión de descarga típica es 350-425 PSI. El condensador, line set y componentes deben ser rated para estas presiones más altas." },
        { category:"Refrigeración", q: "¿Qué indica una presión de succión más baja de lo normal?", options: ["Exceso de refrigerante en el sistema", "Posible baja carga de refrigerante, evaporador congelado, o restricción en el dispositivo de expansión", "El compresor está trabajando con muy poca carga", "Temperatura ambiente demasiado alta afectando el condensador"], correct: 1, explanation: "Presión de succión baja puede indicar: baja carga de refrigerante, evaporador congelado (flujo de aire reducido), TXV restringida, filter drier tapado, o problema en el evaporador. Se diagnostica correlacionando con superheat, subcooling y presión de descarga." },
        { category:"Refrigeración", q: "¿Qué indica una presión de descarga más alta de lo normal?", options: ["El compresor está fallando internamente", "Posible condensador sucio, exceso de carga, aire en el sistema, o ventilador del condensador inoperante", "La válvula de expansión está completamente abierta", "El filtro de aire está tapado"], correct: 1, explanation: "Presión de descarga alta puede indicar: condensador sucio, ventilador del condensador no funciona, exceso de refrigerante, aire o no condensables en el sistema, o temperatura ambiente extrema. Cada causa tiene diagnóstico diferente." },
        { category:"Refrigeración", q: "¿Cuál es el superheat típico para un sistema con orificio fijo?", options: ["0-5°F para máxima eficiencia", "8-14°F dependiendo de las condiciones", "25-35°F para proteger el compresor", "No se mide superheat con orificio fijo"], correct: 1, explanation: "Con orificio fijo, el superheat típico es 8-14°F medido en la línea de succión. Si es menor a 5°F hay riesgo de flooding al compresor. Si es mayor a 20°F, probablemente hay baja carga o restricción." },
        { category:"Refrigeración", q: "¿Cuál es el subcooling típico para un sistema con TXV?", options: ["0-3°F es ideal", "8-12°F dependiendo del fabricante", "20-30°F para máximo rendimiento", "La TXV no requiere medir subcooling"], correct: 1, explanation: "Con TXV, la carga se verifica por subcooling, típicamente 8-12°F según el fabricante. La TXV controla el superheat automáticamente. Subcooling bajo indica baja carga; subcooling alto indica sobrecarga." },
        { category:"Refrigeración", q: "¿Qué es el flash gas y cuándo ocurre?", options: ["Es el gas que sale del compresor a alta temperatura", "Es la vaporización prematura del refrigerante líquido en la línea de líquido por pérdida de presión o ganancia de calor", "Es el refrigerante que se libera durante el servicio", "Es el gas de purga que se usa para limpiar el sistema"], correct: 1, explanation: "Flash gas ocurre cuando refrigerante líquido se vaporiza parcialmente en la línea de líquido, usualmente por línea muy larga, elevación excesiva, o subcooling insuficiente. Reduce la capacidad del sistema porque llega mezcla líquido-vapor al dispositivo de expansión." },
        { category:"Refrigeración", q: "¿Qué es un acumulador y dónde se instala?", options: ["Se instala en la línea de líquido para acumular refrigerante líquido", "Se instala en la línea de succión para atrapar líquido antes de que llegue al compresor", "Se instala en la línea de descarga para acumular presión", "Se instala antes del dispositivo de expansión para regular flujo"], correct: 1, explanation: "El acumulador se instala en la línea de succión, usualmente en heat pumps. Atrapa cualquier refrigerante líquido que no se evaporó completamente y permite que solo vapor entre al compresor, protegiéndolo de liquid slugging." },
        { category:"Refrigeración", q: "¿Qué es un receiver (tanque receptor) y cuál es su función?", options: ["Almacenar el aceite del compresor para lubricación", "Almacenar refrigerante líquido extra para compensar variaciones de carga", "Recibir el refrigerante recuperado durante el servicio", "Almacenar nitrógeno para pruebas de presión"], correct: 1, explanation: "El receiver se instala después del condensador y almacena refrigerante líquido, asegurando que siempre haya líquido sólido disponible para la válvula de expansión bajo diferentes condiciones de carga. Es más común en sistemas comerciales." },
        { category:"Refrigeración", q: "¿Cuál es la diferencia entre R-22 y R-410A en cuanto a aceite?", options: ["Ambos usan el mismo aceite mineral", "R-22 usa aceite mineral y R-410A usa aceite POE (polyolester)", "R-22 usa aceite sintético y R-410A usa aceite mineral", "Ninguno necesita aceite, el refrigerante lubrica las partes"], correct: 1, explanation: "R-22 usa aceite mineral que no es miscible con R-410A. R-410A requiere aceite POE (polyolester) que es sintético e higroscópico (absorbe humedad). Por eso es crítico no mezclar refrigerantes ni aceites, y mantener el sistema sellado." },
        { category:"Refrigeración", q: "¿Por qué el R-410A debe cargarse siempre en estado líquido?", options: ["Porque es más rápido cargar en líquido", "Porque es una mezcla zeotrópica que se separa si se carga en vapor", "Porque el compresor necesita líquido para arrancar", "Porque el tanque solo puede dispensar líquido"], correct: 1, explanation: "R-410A es una mezcla casi-azeotrópica de R-32 y R-125. Si se carga en vapor, los componentes pueden separarse y la composición cambia, afectando el rendimiento. Siempre se invierte el tanque o se usa el tubo pescador para cargar líquido." },
        { category:"Refrigeración", q: "¿Qué indica un sight glass con burbujas continuas durante operación normal?", options: ["El sistema tiene la carga perfecta de refrigerante", "Posiblemente baja carga de refrigerante o restricción antes del sight glass", "El compresor está funcionando a máxima capacidad", "La válvula de expansión está ajustada correctamente"], correct: 1, explanation: "Burbujas en el sight glass indican que el refrigerante no es 100% líquido en ese punto, lo cual puede indicar baja carga, restricción en el filter drier, o flash gas. Un flujo claro de líquido indica carga adecuada (pero no es el único indicador)." },
        { category:"Refrigeración", q: "¿Cuál es la función del reversing valve en un heat pump?", options: ["Invertir la dirección de rotación del compresor", "Cambiar la dirección del flujo de refrigerante para alternar entre calefacción y enfriamiento", "Reversar el flujo de aire en los ductos", "Revertir la polaridad eléctrica del compresor"], correct: 1, explanation: "La válvula reversible (4-way valve) redirige el flujo de refrigerante. En enfriamiento, el coil exterior es condensador y el interior evaporador. En calefacción, se invierte: el coil exterior absorbe calor y el interior lo rechaza." },
        { category:"Refrigeración", q: "¿Qué es el COP (Coefficient of Performance) en calefacción?", options: ["La relación entre voltaje y amperaje del compresor", "La relación entre calor entregado y energía eléctrica consumida", "El coeficiente de presión del refrigerante", "La velocidad de circulación del refrigerante"], correct: 1, explanation: "COP = calor entregado ÷ energía consumida. Un heat pump con COP de 3.0 produce 3 watts de calor por cada watt de electricidad consumido. El COP baja con temperatura exterior más fría. Es la medida de eficiencia en modo calefacción." },
        { category:"Refrigeración", q: "¿A qué se refiere 'pumping down' un sistema?", options: ["Hacer vacío con la bomba de vacío para remover humedad", "Almacenar todo el refrigerante en el condensador cerrando la válvula de líquido", "Recuperar todo el refrigerante del sistema a un tanque", "Bajar la presión del sistema lentamente para servicio"], correct: 1, explanation: "Pump down consiste en cerrar la válvula de la línea de líquido mientras el compresor sigue corriendo, bombeando todo el refrigerante al condensador. Cuando la presión de succión baja a 0 PSI, se apaga el compresor y el refrigerante queda almacenado en el condensador." },
        { category:"Refrigeración", q: "¿Qué es la presión de saturación?", options: ["La presión máxima que soporta el sistema antes de la válvula de alivio", "La presión a la cual el refrigerante cambia de fase (líquido a vapor o viceversa) a una temperatura dada", "La presión atmosférica normal al nivel del mar", "La presión mínima necesaria para que el compresor arranque"], correct: 1, explanation: "La presión de saturación es la presión a la cual el refrigerante hierve o condensa a una temperatura específica. La tabla P-T (presión-temperatura) muestra esta relación. A la presión de saturación, líquido y vapor coexisten." },
        { category:"Refrigeración", q: "¿Cuál es el rango normal de presión de succión del R-410A en AC residencial?", options: ["30-50 PSI en operación normal", "100-145 PSI en operación normal", "200-250 PSI en operación normal", "300-350 PSI en operación normal"], correct: 1, explanation: "El R-410A opera con presión de succión de aproximadamente 100-145 PSI en condiciones residenciales normales, correspondiendo a temperaturas de evaporación de 35-45°F. Es significativamente más alta que el R-22 (60-85 PSI)." },
        { category:"Refrigeración", q: "¿Qué componente protege el compresor contra presión excesivamente alta?", options: ["El filtro deshidratador en la línea de líquido", "El switch de alta presión (high pressure cutout)", "El contactor del compresor", "El capacitor de arranque"], correct: 1, explanation: "El switch de alta presión abre el circuito del compresor cuando la presión de descarga excede el límite de seguridad (típicamente 600-650 PSI para R-410A). Esto previene daño al compresor y posible ruptura de componentes." },
        { category:"Refrigeración", q: "¿Qué protege al compresor contra baja presión de succión?", options: ["El filtro de aire del retorno", "El switch de baja presión (low pressure cutout)", "El acumulador de succión", "El dispositivo de expansión"], correct: 1, explanation: "El switch de baja presión apaga el compresor si la presión de succión baja demasiado, lo cual puede indicar baja carga, evaporador congelado o falta de flujo de aire. Operar con baja presión de succión puede causar sobrecalentamiento del compresor." },
        { category:"Refrigeración", q: "¿Qué es el 'delta T' o 'split' de temperatura en un sistema de AC?", options: ["La diferencia de temperatura entre el refrigerante de succión y descarga", "La diferencia de temperatura entre el aire de supply y el aire de return", "La diferencia de temperatura entre el día y la noche", "La diferencia de temperatura entre el interior y exterior de la casa"], correct: 1, explanation: "El split se mide entre la temperatura del aire de supply (frío) y return (caliente). Un split normal en AC es 18-22°F. Un split bajo puede indicar problema de refrigerante o flujo de aire. Un split alto puede indicar bajo flujo de aire." },
        { category:"Refrigeración", q: "¿Cómo se calcula el superheat?", options: ["Presión de descarga - presión de succión", "Temperatura de la línea de succión - temperatura de saturación a la presión de succión", "Temperatura del aire de supply - temperatura del aire de return", "Temperatura ambiente - temperatura del evaporador"], correct: 1, explanation: "Superheat = temperatura de la línea de succión (medida con termocupla) - temperatura de saturación (obtenida de la tabla P-T con la presión del manómetro de baja). Si la presión de succión da 40°F de saturación y la línea mide 50°F, el superheat es 10°F." },
        { category:"Refrigeración", q: "¿Cómo se calcula el subcooling?", options: ["Temperatura de la línea de succión - temperatura del evaporador", "Temperatura de saturación a la presión de descarga - temperatura de la línea de líquido", "Presión de alta - presión de baja del sistema", "Temperatura de descarga - temperatura de condensación"], correct: 1, explanation: "Subcooling = temperatura de condensación (de la tabla P-T con presión de alta) - temperatura de la línea de líquido (medida con termocupla). Si la presión de alta da 120°F de saturación y la línea mide 110°F, el subcooling es 10°F." },
        { category:"Refrigeración", q: "¿Por qué es peligroso mezclar diferentes tipos de refrigerante en un sistema?", options: ["Solo cambia el color del refrigerante pero funciona igual", "Crea presiones impredecibles, reduce eficiencia, puede dañar componentes y viola EPA", "Solo afecta el olor del refrigerante sin impacto en rendimiento", "Solo es problema si se mezcla con aceite diferente"], correct: 1, explanation: "Mezclar refrigerantes crea presiones y temperaturas impredecibles, puede formar ácidos con el aceite, daña el compresor, y viola la regulación EPA. El refrigerante contaminado debe ser recuperado y destruido apropiadamente - no puede reciclarse." },
        { category:"Refrigeración", q: "¿Cuál es la función del presostato diferencial de aceite en compresores comerciales?", options: ["Medir la cantidad de aceite en el cárter del compresor", "Verificar que hay presión de aceite adecuada comparando la presión de aceite con la de succión", "Filtrar el aceite antes de que entre a los cojinetes", "Regular la temperatura del aceite del compresor"], correct: 1, explanation: "El presostato diferencial compara la presión de la bomba de aceite contra la presión del cárter (succión). Si la diferencia es menor a 9 PSI (neta), significa que no hay suficiente lubricación y apaga el compresor para prevenir daño." },
        { category:"Refrigeración", q: "¿Qué indica la temperatura de descarga del compresor?", options: ["La temperatura del aire exterior cerca del condensador", "La salud general del compresor - temperaturas excesivas indican problemas internos", "La cantidad de refrigerante en el sistema directamente", "La eficiencia del evaporador exclusivamente"], correct: 1, explanation: "La temperatura de descarga normal es 150-225°F dependiendo de condiciones. Temperatura excesiva (>250°F) indica: bajo refrigerante, válvulas internas dañadas, alto ratio de compresión, o bajo flujo de aire en el evaporador. Es un indicador clave de salud del compresor." },
        { category:"Refrigeración", q: "¿Qué es un sistema de refrigeración de expansión directa (DX)?", options: ["Un sistema que usa agua helada para enfriar el espacio", "Un sistema donde el refrigerante se expande directamente en el evaporador para absorber calor del aire", "Un sistema que expande aire comprimido para enfriar", "Un sistema que usa hielo seco para refrigeración directa"], correct: 1, explanation: "En un sistema DX, el refrigerante se expande y evapora directamente en el coil del evaporador, absorbiendo calor del aire que pasa sobre él. Es el tipo más común en HVAC residencial y comercial. Los sistemas chiller usan agua helada como intermediario." },
        { category:"Refrigeración", q: "¿Qué causa la formación de hielo en el evaporador?", options: ["Exceso de refrigerante en el sistema solamente", "Bajo flujo de aire, baja carga de refrigerante, TXV defectuosa, o temperatura exterior muy baja", "Solo ocurre cuando la temperatura exterior está bajo cero", "El evaporador está demasiado limpio y eficiente"], correct: 1, explanation: "El hielo se forma cuando la temperatura del coil baja de 32°F. Causas comunes: filtro sucio (bajo CFM), blower defectuoso, baja carga de refrigerante, TXV restringida, o baja temperatura exterior. Cada causa tiene diagnóstico y solución diferente." },
        { category:"Refrigeración", q: "¿Cuál es la función del crankcase heater en el compresor?", options: ["Calentar el refrigerante para mejorar la eficiencia del sistema", "Mantener caliente el cárter del compresor para evitar que refrigerante líquido migre y se acumule en el aceite", "Calentar el aceite para que fluya más rápido al arrancar", "Descongelar el evaporador durante el ciclo de defrost"], correct: 1, explanation: "El calentador del cárter mantiene el aceite caliente cuando el compresor está apagado. Sin él, refrigerante líquido migra al cárter, se diluye con el aceite, y al arrancar puede causar espuma (foaming) y liquid slugging, dañando el compresor." },
        { category:"Refrigeración", q: "¿Qué es el 'approach temperature' del condensador?", options: ["La diferencia entre la temperatura de condensación y la temperatura del aire de descarga", "La diferencia entre la temperatura de condensación y la temperatura del aire entrando al condensador", "La temperatura a la que se acerca el termostato al setpoint", "La temperatura del refrigerante al acercarse al dispositivo de expansión"], correct: 1, explanation: "El approach temperature del condensador es la diferencia entre la temperatura de condensación (de la tabla P-T) y la temperatura del aire ambiente entrando al condensador. Normal es 15-25°F. Un approach alto indica condensador sucio o problema de flujo de aire." },
        { category:"Refrigeración", q: "¿Qué sucede cuando el condensador está sucio?", options: ["La presión de succión baja y el evaporador se congela", "La presión de descarga sube, el sistema pierde eficiencia y puede activar el high pressure cutout", "El refrigerante se contamina con la suciedad del condensador", "El ventilador del condensador se apaga automáticamente"], correct: 1, explanation: "Un condensador sucio no puede rechazar calor eficientemente. La temperatura y presión de condensación suben, el compresor trabaja más duro, consume más amperaje, y si la presión sube demasiado, el switch de alta presión apaga el sistema." },
        { category:"Refrigeración", q: "¿Qué es el EER (Energy Efficiency Ratio)?", options: ["La relación entre la presión de alta y baja del sistema", "La capacidad de enfriamiento en BTU dividida entre los watts consumidos en un punto de operación específico", "La relación entre las RPM del compresor y el voltaje", "La eficiencia del motor del ventilador del evaporador"], correct: 1, explanation: "EER = BTU/hr ÷ Watts a una condición específica (típicamente 95°F exterior). A diferencia del SEER que es estacional, el EER mide la eficiencia en un punto. EER más alto = más eficiente a plena carga." },
        { category:"Refrigeración", q: "¿Cuál es la diferencia entre un compresor reciprocante y uno scroll?", options: ["El reciprocante es más eficiente que el scroll en todas las condiciones", "El reciprocante usa pistones y válvulas; el scroll usa dos espirales que comprimen el gas continuamente", "El scroll tiene más partes móviles que el reciprocante", "No hay diferencia, ambos comprimen igual"], correct: 1, explanation: "El compresor reciprocante usa pistones que suben y bajan para comprimir el gas. El scroll usa dos espirales (una fija, una orbital) que comprimen continuamente sin válvulas de succión/descarga. El scroll es más silencioso, más eficiente y más confiable." },
        { category:"Refrigeración", q: "¿Qué indica un amperaje del compresor más alto de lo normal?", options: ["El compresor está funcionando más eficientemente", "Posible problema mecánico, alta presión de descarga, sobrecarga, o voltaje bajo", "La carga de refrigerante es correcta y el sistema está a máxima capacidad", "El capacitor está funcionando perfectamente"], correct: 1, explanation: "Alto amperaje indica trabajo excesivo: condensador sucio (alta presión), sobrecarga de refrigerante, compresor con problemas mecánicos internos, voltaje bajo (amperaje sube para compensar), o fallo de capacitor (en monofásico)." },
        { category:"Refrigeración", q: "¿Cuál es la función del oil separator?", options: ["Separar el agua del aceite en el compresor", "Separar el aceite del refrigerante en la línea de descarga y retornarlo al compresor", "Separar diferentes tipos de aceite cuando se mezclan", "Filtrar impurezas del aceite del compresor"], correct: 1, explanation: "El separador de aceite se instala en la línea de descarga y separa la mayor parte del aceite del vapor de refrigerante caliente, retornándolo directamente al cárter. Es común en sistemas comerciales y de baja temperatura donde el retorno natural de aceite es difícil." },
        { category:"Refrigeración", q: "¿Qué es un sistema con múltiples evaporadores?", options: ["Un sistema con dos compresores conectados en paralelo", "Un sistema donde un solo condensador alimenta varios evaporadores en diferentes zonas", "Un sistema con evaporadores redundantes por seguridad", "Un sistema que usa diferentes refrigerantes en cada evaporador"], correct: 1, explanation: "Sistemas multi-evaporador usan un condensador y compresor para alimentar varios evaporadores, cada uno con su propia válvula de expansión y control de temperatura. Es común en refrigeración comercial (cooler + freezer) y mini-splits multi-zona." },
        { category:"EPA 608", q: "¿Cuándo es legal ventear refrigerante intencionalmente?", options: ["Cuando son cantidades pequeñas de menos de 1 libra", "Nunca es legal ventear refrigerantes regulados; solo se permite ventear ciertos refrigerantes sustitutos como CO2 y amoníaco", "Cuando se trabaja en equipos residenciales pequeños", "En casos de emergencia documentados"], correct: 1, explanation: "Ventear refrigerantes CFC, HCFC, y HFC es ilegal bajo la Sección 608. Solo se permite ventear refrigerantes sustitutos listados como seguros (SNAP): nitrógeno, CO2, y ciertos hidrocarburos en cantidades mínimas según la regulación." },
        { category:"EPA 608", q: "¿Qué debe hacer un técnico si descubre una fuga significativa en un sistema comercial con más de 50 lbs de refrigerante?", options: ["Simplemente recargar el sistema y continuar", "Documentar la fuga, reparar dentro de 30 días, y verificar la reparación", "Reportar al departamento de bomberos local", "Recuperar todo el refrigerante y abandonar el sistema"], correct: 1, explanation: "Para equipos con más de 50 lbs de refrigerante, las fugas que excedan la tasa de fuga (leak rate) deben repararse dentro de 30 días. El técnico debe documentar: fecha de descubrimiento, cantidad recargada, fecha de reparación, y verificación de la reparación." },
        { category:"EPA 608", q: "¿Qué equipo se requiere para recuperar refrigerante?", options: ["Solo un tanque vacío y mangueras del manifold", "Una máquina recuperadora certificada por UL o equivalente y un tanque DOT aprobado", "Cualquier compresor que pueda succionar el refrigerante", "Solo la bomba de vacío estándar con manguera extra"], correct: 1, explanation: "La EPA requiere usar una máquina recuperadora certificada y tanques de recuperación aprobados por DOT (Department of Transportation). Los tanques deben tener la etiqueta correcta, no exceder el 80% de capacidad, y estar dentro de la fecha de recertificación." },
        { category:"EPA 608", q: "¿A qué porcentaje máximo de capacidad se puede llenar un tanque de recuperación?", options: ["60% de la capacidad del tanque", "80% de la capacidad del tanque", "95% de la capacidad del tanque", "100% ya que tienen válvula de alivio"], correct: 1, explanation: "Los tanques de recuperación DOT no deben exceder el 80% de su capacidad. Esto deja espacio para la expansión del refrigerante líquido con temperatura. Exceder el 80% puede causar ruptura hidrostática del tanque, que es extremadamente peligrosa." },
        { category:"EPA 608", q: "¿Cada cuántos años se debe recertificar un tanque de recuperación DOT?", options: ["Cada 2 años", "Cada 5 años", "Cada 10 años", "No requiere recertificación"], correct: 1, explanation: "Los tanques de recuperación DOT 4BA o 4BW requieren recertificación y prueba hidrostática cada 5 años. La fecha de manufactura y última prueba están estampadas en el tanque. Usar un tanque expirado es violación federal." },
        { category:"EPA 608", q: "¿Cuál es la diferencia entre recuperar, reciclar y reclamar refrigerante?", options: ["Son tres términos diferentes para el mismo proceso", "Recuperar es extraer del sistema, reciclar es limpiar en el campo, reclamar es reprocesar a especificación ARI en planta", "Recuperar es para líquido, reciclar para vapor, reclamar para mezclas", "Solo la reclamación es legal bajo EPA"], correct: 1, explanation: "Recuperar: extraer del sistema y almacenar. Reciclar: limpiar en el campo con filtros y desecante (oil separation, moisture removal). Reclamar: reprocesar en una planta certificada para cumplir ARI-700 (como nuevo). Solo la reclamación certifica pureza." },
        { category:"EPA 608", q: "¿Quién puede comprar refrigerante regulado en cantidades mayores a la exención?", options: ["Cualquier persona mayor de edad en una ferretería", "Solo técnicos con certificación EPA 608 válida", "Solo empresas con licencia de contratista HVAC", "Solo distribuidores autorizados por el fabricante"], correct: 1, explanation: "Desde 2018, la EPA requiere certificación Section 608 para comprar refrigerantes HFC (como R-410A) en cualquier cantidad. El vendedor debe verificar la certificación y mantener registros. Refrigerante en equipos sellados de fábrica está exento." },
        { category:"EPA 608", q: "¿Qué es el SNAP Program de la EPA?", options: ["Un programa de reciclaje de equipos HVAC viejos", "Significant New Alternatives Policy - evalúa y aprueba sustitutos de refrigerantes que agotan el ozono", "Un programa de certificación de técnicos nuevos", "Un programa de financiamiento para equipos eficientes"], correct: 1, explanation: "SNAP (Significant New Alternatives Policy) evalúa sustitutos para sustancias que agotan el ozono basándose en salud, seguridad y ambiente. Determina qué refrigerantes son 'aceptables' o 'inaceptables' para cada uso específico." },
        { category:"EPA 608", q: "¿Cuáles son los niveles de recuperación requeridos para equipos de alta presión según EPA?", options: ["No hay nivel mínimo, solo recuperar lo posible", "0 psig si el equipo tiene componentes operables; 0 psig o 90% si no son operables", "10 psig para todos los equipos", "Vacío de 500 micrones en todos los casos"], correct: 1, explanation: "Para equipos de alta presión (Tipo II): si el equipo funciona (compresor operativo), se debe alcanzar 0 psig. Si el compresor no funciona, se requiere 0 psig o 90% de recuperación, lo que sea menos demandante. Estos niveles aseguran máxima recuperación." },
        { category:"EPA 608", q: "¿Qué tipo de refrigerante es el R-454B?", options: ["Un CFC que se está eliminando gradualmente", "Un HFO blend de baja GWP que reemplazará al R-410A en sistemas nuevos", "Un refrigerante natural basado en propano", "Un HCFC similar al R-22 pero mejorado"], correct: 1, explanation: "R-454B es una mezcla de R-32 y R-1234yf con GWP de 466 (vs 2,088 del R-410A). Es la alternativa principal para sistemas residenciales nuevos bajo la AIM Act. Es ligeramente inflamable (A2L) y requiere entrenamiento y equipos específicos." },
        { category:"EPA 608", q: "¿Qué significa la clasificación de seguridad A2L en refrigerantes?", options: ["Alta toxicidad, baja inflamabilidad", "Baja toxicidad, ligeramente inflamable (mildly flammable)", "Alta toxicidad, alta inflamabilidad", "No tóxico, no inflamable"], correct: 1, explanation: "A2L significa: 'A' = baja toxicidad, '2L' = ligeramente inflamable con baja velocidad de propagación de llama. R-454B y R-32 son A2L. Requieren procedimientos especiales: detectores de fugas específicos, no fumar cerca, y ventilación adecuada. No son tan peligrosos como propano (A3)." },
        { category:"EPA 608", q: "¿Qué registros de refrigerante deben mantenerse según EPA?", options: ["Solo el nombre del técnico y fecha", "Tipo y cantidad de refrigerante agregado o recuperado, fecha del servicio, y nombre del técnico certificado", "Solo la factura del servicio al cliente", "No se requieren registros para sistemas residenciales"], correct: 1, explanation: "Los registros deben incluir: tipo de refrigerante, cantidad agregada/removida, fecha, equipo servido, nombre y número de certificación del técnico. Para equipos con más de 50 lbs, también se registra la tasa de fuga y reparaciones realizadas." },
        { category:"EPA 608", q: "¿Qué sustancia daña la capa de ozono cuando los refrigerantes CFC y HCFC se liberan?", options: ["El hidrógeno contenido en los refrigerantes", "El cloro contenido en los refrigerantes reacciona con el ozono en la estratósfera", "El flúor contenido reacciona con el nitrógeno atmosférico", "El carbono forma una barrera que bloquea los rayos UV"], correct: 1, explanation: "Los átomos de cloro liberados de los CFC y HCFC en la estratósfera reaccionan con las moléculas de ozono (O3), destruyéndolas. Un solo átomo de cloro puede destruir miles de moléculas de ozono. Los HFC no contienen cloro, por eso su ODP es 0." },
        { category:"EPA 608", q: "¿Cuál es el propósito de la certificación EPA 608?", options: ["Garantizar que los técnicos cobren precios justos", "Asegurar que los técnicos manejen refrigerantes de forma responsable para proteger el medio ambiente", "Certificar que los técnicos pueden instalar equipos HVAC", "Regular los precios del refrigerante en el mercado"], correct: 1, explanation: "La certificación EPA 608 asegura que los técnicos conocen las regulaciones de manejo de refrigerantes, procedimientos de recuperación, reciclaje y reclamación, y los peligros de ventear refrigerantes. No es una certificación de competencia técnica general." },
        { category:"EPA 608", q: "¿Cuál es la presión de prueba de nitrógeno recomendada para un sistema de R-410A?", options: ["100 PSI como máximo", "No más de 150 PSI para evitar daños", "La presión de trabajo del refrigerante: hasta 600 PSI con regulador", "1,000 PSI para asegurar integridad total"], correct: 2, explanation: "Para R-410A, la prueba de presión con nitrógeno se hace a la presión de trabajo del sistema (alrededor de 600 PSI) o según especificación del fabricante, siempre usando regulador. Nunca se usa el tanque de nitrógeno sin regulador ya que puede tener 2,000+ PSI." },
        { category:"EPA 608", q: "¿Qué es un refrigerante drop-in replacement?", options: ["Un refrigerante que se puede mezclar con el existente sin cambios", "Un refrigerante sustituto que requiere cambios mínimos al sistema existente como oil change y label", "Un refrigerante exactamente igual con diferente marca comercial", "Un refrigerante temporal mientras se consigue el original"], correct: 1, explanation: "Un drop-in no significa 'mezclar'. Requiere: recuperar el refrigerante original, verificar compatibilidad de aceite (puede requerir cambio a POE), ajustar la carga, cambiar la etiqueta del sistema, y posiblemente cambiar el dispositivo de expansión." },
        { category:"EPA 608", q: "¿Qué pasa si un técnico ventea refrigerante intencionalmente y es reportado?", options: ["Recibe una advertencia verbal sin consecuencias", "Puede enfrentar multas de hasta $44,539 por día, perder certificación EPA, y enfrentar cargos criminales", "Solo pierde su certificación EPA temporalmente", "Debe pagar el costo del refrigerante venteado"], correct: 1, explanation: "Ventear refrigerante es una violación federal bajo el Clean Air Act. Las consecuencias incluyen: multas civiles de hasta $44,539 por día por violación, posible pérdida de certificación, y en casos severos, cargos criminales con posible encarcelamiento." },
        { category:"EPA 608", q: "¿Qué debe hacer un técnico antes de abrir un sistema para reparación?", options: ["Simplemente descargar el refrigerante al aire para trabajar más rápido", "Recuperar el refrigerante a un nivel requerido por EPA usando equipo certificado", "Agregar nitrógeno para diluir el refrigerante restante", "Solo es necesario si el sistema tiene más de 10 libras"], correct: 1, explanation: "Antes de abrir cualquier sistema, se debe recuperar el refrigerante a los niveles requeridos por EPA usando equipo certificado. No hay excepción por tamaño del sistema. Después de la reparación, se evacúa y recarga correctamente." },
        { category:"EPA 608", q: "¿Cuál es la diferencia entre equipos de alta presión y baja presión según EPA 608?", options: ["Se basa en el tamaño del equipo: grande = alta, pequeño = baja", "Alta presión opera por encima de atmosférica en ambos lados; baja presión opera por debajo de atmosférica en el lado de baja", "Alta presión es AC residencial; baja presión es refrigeración", "No hay diferencia regulatoria entre ambos"], correct: 1, explanation: "Equipos de alta presión (R-22, R-410A, R-134a) tienen presiones por encima de atmosférica en ambos lados durante operación. Equipos de baja presión (R-11, R-123 en chillers) operan en vacío en el lado de baja. Esto afecta los procedimientos de recuperación." },
        { category:"EPA 608", q: "¿Qué precauciones de seguridad se deben tomar al manejar refrigerantes?", options: ["Solo es necesario usar guantes si el refrigerante está caliente", "Usar guantes, gafas de seguridad y trabajar en área ventilada; los refrigerantes causan quemaduras por frío y desplazan oxígeno", "No se necesitan precauciones especiales con refrigerantes modernos", "Solo usar mascarilla para evitar inhalar el olor"], correct: 1, explanation: "Los refrigerantes líquidos causan quemaduras por congelación al contacto con piel u ojos. En espacios cerrados, desplazan el oxígeno causando asfixia. Los vapores de refrigerante descompuestos por llama producen fosgeno (gas tóxico). Siempre usar PPE adecuado." },
        { category:"EPA 608", q: "¿Cuál es la tasa de fuga máxima permitida para equipos comerciales con más de 50 lbs?", options: ["No hay límite de tasa de fuga", "La tasa de fuga no debe exceder el umbral establecido por EPA y las fugas deben repararse oportunamente", "50% de la carga total por año", "Solo se aplica a equipos industriales, no comerciales"], correct: 1, explanation: "EPA establece umbrales de tasa de fuga: para equipos de confort (AC) es más permisivo que para refrigeración comercial/industrial. Si la tasa se excede, el propietario debe reparar dentro de 30 días y verificar la reparación. Los registros de recarga son evidencia de fugas." },
        { category:"EPA 608", q: "¿Qué es el protocolo de Montreal?", options: ["Un acuerdo comercial entre fabricantes de refrigerantes", "Un tratado internacional que establece el calendario de eliminación de sustancias que agotan la capa de ozono", "Un estándar de seguridad para el manejo de refrigerantes", "Un protocolo de prueba para verificar fugas en sistemas HVAC"], correct: 1, explanation: "El Protocolo de Montreal (1987) es un tratado internacional que eliminó los CFC y está eliminando gradualmente los HCFC (como R-22). Es considerado uno de los acuerdos ambientales más exitosos. La Enmienda de Kigali (2016) agregó la reducción de HFC." },
        { category:"EPA 608", q: "¿Cómo se debe almacenar el refrigerante recuperado?", options: ["En cualquier tanque metálico disponible", "En tanques DOT aprobados, etiquetados con tipo de refrigerante, y almacenados en área fresca y ventilada", "En los tanques originales del fabricante reutilizados", "No se almacena, se debe enviar inmediatamente a reclamación"], correct: 1, explanation: "El refrigerante recuperado se almacena en tanques DOT aprobados (gris con amarillo para recuperado), etiquetados con tipo de refrigerante y cantidad. Los tanques no deben exceder 80% de capacidad, se almacenan en área ventilada lejos de calor directo." },
        { category:"EPA 608", q: "¿Qué color identifica un tanque de refrigerante recuperado?", options: ["Azul sólido para todos los tipos", "Gris con parte superior amarilla (DOT estándar para refrigerante recuperado)", "Verde con etiqueta blanca", "El mismo color que el tanque original del refrigerante"], correct: 1, explanation: "Los tanques de refrigerante recuperado son gris con tapa amarilla según el estándar DOT/ARI. Los tanques de refrigerante virgen tienen colores específicos por tipo (R-22=verde, R-410A=rosa). Nunca mezclar recuperado de diferente tipo en el mismo tanque." },
        { category:"EPA 608", q: "¿Qué es la de-minimis release de refrigerante?", options: ["Una cantidad específica en libras que se puede ventear legalmente", "Cantidades mínimas e inevitables que se liberan durante la conexión y desconexión de mangueras y equipos de servicio", "La cantidad de refrigerante que se pierde por evaporación natural", "Refrigerante que se pierde durante una fuga antes de ser detectada"], correct: 1, explanation: "De minimis se refiere a las cantidades mínimas e inevitables que se liberan al conectar/desconectar mangueras de servicio. Esto es permitido, pero se debe minimizar usando mangueras con válvulas de cierre rápido y sellando rápido las conexiones." },
        { category:"Vacío", q: "¿Por qué se hace vacío a un sistema de refrigeración?", options: ["Para verificar que no hay fugas en el sistema", "Para remover aire y humedad del sistema antes de cargar refrigerante", "Para enfriar los componentes antes de cargar refrigerante", "Para presurizar el sistema con vacío para prueba de presión"], correct: 1, explanation: "El vacío remueve aire (no condensable) y humedad del sistema. El aire aumenta la presión de descarga y la humedad puede congelar el dispositivo de expansión y crear ácidos que dañan el compresor. El vacío NO es para prueba de fugas." },
        { category:"Vacío", q: "¿A cuántos micrones se considera un vacío aceptable para sistemas HVAC?", options: ["5,000 micrones o menos", "500 micrones o menos", "50 micrones o menos", "25,000 micrones o menos"], correct: 1, explanation: "El estándar de la industria es 500 micrones o menos. A este nivel, el agua hierve a temperatura ambiente y se evapora completamente. Se debe aislar la bomba y verificar que el vacío se mantiene (rise test) antes de abrir las válvulas de servicio." },
        { category:"Vacío", q: "¿Qué es el 'rise test' o 'standing vacuum test'?", options: ["Verificar que la presión sube al abrir las válvulas de servicio", "Cerrar la válvula entre la bomba y el sistema para verificar que el vacío se mantiene sin subir", "Aumentar el vacío gradualmente para verificar la bomba", "Verificar que la temperatura del sistema sube durante el vacío"], correct: 1, explanation: "El rise test se hace cerrando la válvula del manifold (aislando la bomba) y observando el vacuómetro. Si el vacío se mantiene estable, el sistema está seco y sellado. Si sube rápidamente, hay fuga. Si sube lentamente, queda humedad. Se espera al menos 10-15 minutos." },
        { category:"Vacío", q: "¿Por qué NO se debe usar el vacío como prueba de fugas?", options: ["Porque la bomba de vacío puede dañar los componentes del sistema", "Porque bajo vacío, las fugas succionan aire hacia adentro sin ser detectables y el diferencial de presión es muy pequeño (max 14.7 PSI)", "Porque el vacuómetro no puede detectar fugas", "Porque la EPA prohíbe usar el vacío como prueba de fugas"], correct: 1, explanation: "Bajo vacío, el diferencial máximo de presión es solo 14.7 PSI (1 atmósfera), muy poco para detectar fugas pequeñas. Con nitrógeno a 300-600 PSI, el diferencial es mucho mayor y la fuga es detectable. Además, bajo vacío el aire entra al sistema contaminándolo." },
        { category:"Vacío", q: "¿Qué tamaño de manguera se recomienda para hacer vacío eficientemente?", options: ["Mangueras estándar de 1/4 pulgada del manifold", "Mangueras de 3/8 pulgada o mayores para reducir restricción al flujo", "Mangueras de 1/8 pulgada para mayor precisión", "El tamaño de manguera no afecta el proceso de vacío"], correct: 1, explanation: "Las mangueras de 3/8 pulgada o core tools de acceso directo permiten mayor flujo hacia la bomba, reduciendo significativamente el tiempo de evacuación. Las mangueras de 1/4 pulgada restringen el flujo y pueden triplicar el tiempo necesario para alcanzar 500 micrones." },
        { category:"Vacío", q: "¿Dónde se debe conectar el vacuómetro para la lectura más precisa?", options: ["En el manifold junto a las mangueras de la bomba", "Lo más cerca posible del sistema, directamente en el port de servicio", "En la salida de la bomba de vacío", "En cualquier punto ya que la presión es uniforme bajo vacío"], correct: 1, explanation: "El vacuómetro debe conectarse lo más cerca posible del sistema porque las mangueras y el manifold crean restricción y pueden mostrar un vacío más profundo de lo que realmente existe en el sistema. La lectura en el manifold puede estar 100-200 micrones más baja que la real." },
        { category:"Vacío", q: "¿Cuánto tiempo típicamente toma hacer vacío a un sistema residencial de 3 toneladas?", options: ["5-10 minutos es suficiente", "30-60 minutos o más dependiendo de la humedad y tamaño del sistema", "Solo 2-3 minutos con una buena bomba", "Exactamente 15 minutos según la regulación"], correct: 1, explanation: "No hay tiempo fijo — depende del volumen del sistema, cantidad de humedad, tamaño de la bomba, y diámetro de las mangueras. Puede tomar 30-60 minutos o más. Lo que importa es alcanzar y mantener 500 micrones, no el tiempo transcurrido." },
        { category:"Vacío", q: "¿Qué causa que el vacuómetro suba después de aislar la bomba (decay)?", options: ["La bomba de vacío está defectuosa", "Humedad evaporándose lentamente dentro del sistema o una fuga en las conexiones", "El vacuómetro necesita calibración", "Es normal y siempre sucede sin importar las condiciones"], correct: 1, explanation: "Si el vacuómetro sube después de aislar la bomba: subida rápida y constante = fuga en el sistema o conexiones. Subida lenta que se estabiliza = humedad residual evaporándose. Se debe reconectar la bomba y continuar el vacío hasta que se mantenga." },
        { category:"Vacío", q: "¿Qué sucede si queda humedad en el sistema después de un vacío inadecuado?", options: ["La humedad mejora la lubricación del compresor", "La humedad puede congelar la válvula de expansión, crear ácidos que corroen los componentes internos, y causar copper plating", "La humedad se evapora automáticamente durante la operación", "Solo causa una pequeña reducción en la eficiencia sin daños"], correct: 1, explanation: "La humedad en el sistema es destructiva: se congela en la TXV/orificio causando restricción intermitente, reacciona con aceite y refrigerante formando ácidos (HF, HCl) que corroen los devanados del compresor, y causa copper plating que puede bloquear válvulas." },
        { category:"Vacío", q: "¿Por qué se conecta la bomba de vacío a ambos lados del sistema (alta y baja)?", options: ["Para verificar que ambos manómetros funcionan correctamente", "Para evacuar el sistema completo más rápidamente ya que el dispositivo de expansión restringe el flujo", "Para crear diferentes niveles de vacío en alta y baja", "Para proteger la bomba contra sobrecarga"], correct: 1, explanation: "La TXV u orificio fijo restringe el flujo entre alta y baja. Conectar la bomba en ambos lados permite evacuar el condensador y evaporador simultáneamente, reduciendo el tiempo de vacío significativamente. Con un solo lado, el vacío puede tardar horas extra." },
        { category:"Vacío", q: "¿Cuál es el CFM ideal de una bomba de vacío para trabajo residencial?", options: ["1 CFM es suficiente para cualquier sistema", "4-8 CFM para sistemas residenciales típicos", "20+ CFM para máxima velocidad", "El CFM no importa, solo la profundidad de vacío"], correct: 1, explanation: "Una bomba de 4-8 CFM es adecuada para residencial. Mayor CFM = evacuación más rápida. Para sistemas comerciales grandes se usan bombas de 10-15+ CFM. La profundidad de vacío (micrones que alcanza) también es importante — bombas de 2 etapas alcanzan vacío más profundo." },
        { category:"Vacío", q: "¿Qué es un core removal tool y por qué se usa durante el vacío?", options: ["Para remover el core del compresor y verificar los devanados", "Para remover el Schrader valve core de los ports de servicio, eliminando la restricción al flujo de la bomba", "Para remover el filtro deshidratador durante el vacío", "Para remover el aceite de la bomba de vacío"], correct: 1, explanation: "El Schrader valve core dentro del port de servicio crea restricción significativa al flujo de la bomba de vacío. Removerlo temporalmente con un core removal tool puede reducir el tiempo de evacuación en 50% o más. Se reinstala después de alcanzar el vacío." },
        { category:"Vacío", q: "¿Qué sucede si se usa la bomba de vacío con aceite contaminado?", options: ["El aceite contaminado no afecta el rendimiento de la bomba", "La bomba no alcanza un vacío profundo porque el aceite contaminado con humedad vaporiza dentro de la bomba", "El aceite contaminado protege mejor las partes internas de la bomba", "Solo afecta el color del refrigerante pero no el vacío"], correct: 1, explanation: "El aceite contaminado con humedad reduce la capacidad de la bomba para alcanzar vacío profundo. La humedad en el aceite se evapora dentro de la bomba, limitando la profundidad del vacío. Por eso se cambia el aceite antes de cada uso o cuando se ve turbio/lechoso." },
        { category:"Vacío", q: "¿Qué es un blank-off test para la bomba de vacío?", options: ["Una prueba del motor eléctrico de la bomba sin conectarla al sistema", "Conectar el vacuómetro directamente a la bomba sin mangueras para verificar que alcanza su profundidad máxima de vacío", "Probar la bomba con la válvula cerrada para verificar que no tiene fugas internas", "Hacer funcionar la bomba sin aceite para limpiar las partes internas"], correct: 1, explanation: "El blank-off test verifica la capacidad de la bomba: se conecta el vacuómetro directamente a la entrada de la bomba (sin mangueras ni manifold). Si no alcanza menos de 50-100 micrones, la bomba necesita aceite nuevo, mantenimiento, o reemplazo." },
        { category:"Vacío", q: "¿Qué es un triple evacuation procedure?", options: ["Hacer vacío tres veces durante tres días diferentes", "Hacer vacío, romper con nitrógeno seco, repetir tres veces para remover humedad más efectivamente", "Conectar tres bombas de vacío simultáneamente", "Evacuar por los tres ports del manifold al mismo tiempo"], correct: 1, explanation: "La evacuación triple consiste en: 1) Hacer vacío a 1,500 micrones, 2) Romper el vacío con nitrógeno seco a baja presión, 3) Repetir los pasos dos veces más. El nitrógeno seco absorbe humedad y se saca con el siguiente ciclo de vacío, acelerando la remoción de humedad en sistemas muy húmedos." },
        { category:"Vacío", q: "¿Por qué se rompe el vacío con nitrógeno seco y no con aire?", options: ["Porque el nitrógeno es más barato que el aire comprimido", "Porque el nitrógeno seco no contiene humedad ni oxígeno que contaminarían el sistema", "Porque el nitrógeno tiene mejor olor que el aire", "Porque es requerido por la EPA exclusivamente"], correct: 1, explanation: "El nitrógeno seco (99.9% puro) no contiene humedad ni oxígeno. Si se rompe el vacío con aire, se introduce humedad y oxígeno que causan oxidación y contaminación. El aire comprimido del compresor de taller contiene agua y aceite." },
        { category:"Vacío", q: "¿Cuál es la conversión de micrones a pulgadas de mercurio (inHg)?", options: ["1 micrón = 1 inHg", "1,000 micrones ≈ 1 mm Hg; 25,400 micrones ≈ 1 inHg", "1 micrón = 1 PSI", "500 micrones = 30 inHg exactamente"], correct: 1, explanation: "La presión atmosférica es ~760,000 micrones (29.92 inHg). Un manómetro compuesto que lee 29.92 inHg de vacío está a 0 micrones (vacío perfecto). 500 micrones es un vacío mucho más profundo de lo que un manómetro compuesto puede medir — se necesita un vacuómetro digital." },
        { category:"Vacío", q: "¿Por qué un manómetro compuesto no es adecuado para medir vacío en micrones?", options: ["Porque no tiene escala de micrones", "Porque su resolución es demasiado baja; solo lee hasta 30 inHg y no distingue entre 5,000 y 500 micrones", "Porque se daña bajo vacío profundo", "Porque solo funciona con refrigerantes específicos"], correct: 1, explanation: "Un manómetro compuesto mide de 0 a 30 inHg de vacío, pero 500 micrones está a 29.98 inHg — una diferencia invisible en la escala. Se necesita un vacuómetro digital de micrones que mide de 0 a 25,000+ micrones con precisión de micrones." },
        { category:"Vacío", q: "¿Cuál es la secuencia correcta para hacer vacío en un sistema nuevo?", options: ["Hacer vacío primero, luego prueba de presión con nitrógeno", "Presurizar con nitrógeno para prueba de fugas primero, descargar, y después hacer vacío con la bomba", "Solo hacer vacío sin prueba de presión previa", "Cargar refrigerante primero y luego hacer vacío"], correct: 1, explanation: "La secuencia correcta es: 1) Presurizar con nitrógeno (150-600 PSI según el refrigerante) para prueba de fugas, 2) Verificar fugas con jabón/detector, 3) Reparar fugas si hay, 4) Descargar el nitrógeno, 5) Hacer vacío a 500 micrones, 6) Rise test, 7) Cargar refrigerante." },
        { category:"Vacío", q: "¿Qué es un micron gauge (vacuómetro digital)?", options: ["Un manómetro con escala de PSI para medir presiones bajas", "Un instrumento electrónico de precisión que mide la presión absoluta del sistema en micrones", "Un medidor de flujo de la bomba de vacío", "Un sensor de temperatura para la línea de vacío"], correct: 1, explanation: "El vacuómetro digital mide la presión absoluta en micrones (millonésimas de metro de mercurio). Tiene alta precisión en el rango de 0-25,000 micrones, esencial para verificar un vacío adecuado. Se debe proteger de contaminación y calibrar periódicamente." },
        { category:"Vacío", q: "¿Qué factor más afecta el tiempo de evacuación?", options: ["La marca de la bomba de vacío", "El diámetro de las mangueras y conexiones entre la bomba y el sistema", "La temperatura exterior", "El color de las mangueras del manifold"], correct: 1, explanation: "Las mangueras y conexiones son el cuello de botella. Una manguera de 1/4 pulgada puede triplicar el tiempo vs mangueras de 3/8 pulgada o acceso directo. El core del Schrader valve también restringe enormemente. Remover cores y usar mangueras grandes reduce el tiempo dramáticamente." },
        { category:"Vacío", q: "¿Qué indica un vacío que alcanza 500 micrones pero sube a 1,500 en el rise test?", options: ["El sistema está perfectamente sellado y seco", "Hay humedad residual en el sistema que continúa evaporándose", "Hay una fuga grande en la línea de líquido", "El vacuómetro está descalibrado y necesita reemplazo"], correct: 1, explanation: "Si el vacío sube lentamente y se estabiliza (por ejemplo en 1,200-1,500 micrones), generalmente indica humedad residual evaporándose. Se debe reconectar la bomba y continuar el vacío. Si sube rápidamente sin estabilizarse, más probablemente hay una fuga." },
        { category:"Vacío", q: "¿Qué indica un vacío que no baja de 3,000 micrones después de una hora?", options: ["La bomba es demasiado pequeña para el sistema", "Posible fuga grande, aceite de bomba contaminado, manguera defectuosa, o core de Schrader dañado", "Es normal para sistemas grandes", "El sistema tiene demasiado refrigerante residual"], correct: 1, explanation: "Si el vacío no baja, las causas más comunes son: fuga en las conexiones o mangueras, core de Schrader que no sella bien, aceite de bomba contaminado, bomba desgastada, o fuga significativa en el sistema. Se verifica cada componente sistemáticamente." },
        { category:"OSHA", q: "¿Qué significa OSHA?", options: ["Office of Safety and Health Administration", "Occupational Safety and Health Administration", "Organization for Standards in HVAC Applications", "Operational Standards for Hazardous Activities"], correct: 1, explanation: "OSHA (Occupational Safety and Health Administration) es la agencia federal que establece y hace cumplir normas de seguridad y salud en el trabajo. Todo empleador debe cumplir con las regulaciones OSHA para proteger a sus trabajadores." },
        { category:"OSHA", q: "¿Cuál es el derecho fundamental del trabajador bajo OSHA?", options: ["Derecho a trabajar horas extra ilimitadas", "Derecho a un lugar de trabajo seguro y saludable libre de peligros reconocidos", "Derecho a elegir su propio equipo de trabajo", "Derecho a establecer sus propias reglas de seguridad"], correct: 1, explanation: "La cláusula de deber general (General Duty Clause) de OSHA requiere que los empleadores provean un lugar de trabajo libre de peligros reconocidos que causen o puedan causar muerte o daño físico serio a los empleados." },
        { category:"OSHA", q: "¿Qué es el PPE en HVAC?", options: ["Professional Plumbing Equipment", "Personal Protective Equipment - equipo de protección personal", "Power Plant Efficiency rating", "Pre-Project Evaluation"], correct: 1, explanation: "PPE (Personal Protective Equipment) incluye: gafas de seguridad, guantes, zapatos con punta de acero, protección auditiva, casco, y protección respiratoria según la tarea. El empleador debe proveer PPE sin costo al empleado." },
        { category:"OSHA", q: "¿Cuándo se requiere protección contra caídas según OSHA?", options: ["Solo en edificios de más de 3 pisos", "Cuando se trabaja a 6 pies o más de altura en la industria general (4 pies en industria general)", "Solo cuando se trabaja en techos inclinados", "Solo para trabajadores sin experiencia"], correct: 1, explanation: "OSHA requiere protección contra caídas a 6 pies en construcción y 4 pies en industria general. En HVAC, esto aplica cuando se trabaja en techos, escaleras, andamios, o cualquier superficie elevada. Incluye barandas, arnés, o redes." },
        { category:"OSHA", q: "¿Qué es lockout/tagout (LOTO)?", options: ["Un sistema de candados para las puertas del edificio", "Un procedimiento para aislar y bloquear fuentes de energía peligrosa antes de trabajar en el equipo", "Un método para etiquetar herramientas defectuosas", "Un sistema de seguridad para almacenar refrigerantes"], correct: 1, explanation: "LOTO asegura que el equipo está completamente desenergizado y no puede ser energizado accidentalmente mientras se trabaja en él. Incluye: apagar el equipo, aislar todas las fuentes de energía, aplicar candado personal, verificar energía cero, y etiquetar." },
        { category:"OSHA", q: "¿Cuál es la regla de la escalera 4:1?", options: ["La escalera debe soportar 4 veces el peso del trabajador", "La base de la escalera debe estar a 1 pie de distancia de la pared por cada 4 pies de altura", "Se pueden tener máximo 4 personas en una escalera a la vez", "La escalera debe extenderse 4 pies por encima del punto de apoyo"], correct: 1, explanation: "La regla 4:1 establece el ángulo seguro: por cada 4 pies de altura, la base se coloca 1 pie de la pared (75.5°). Además, la escalera debe extenderse 3 pies por encima del punto de desembarco. Siempre mantener 3 puntos de contacto al subir." },
        { category:"OSHA", q: "¿Qué es un SDS (Safety Data Sheet)?", options: ["Un documento de servicio del equipo HVAC", "Una hoja de datos de seguridad que contiene información sobre peligros, manejo y emergencia de materiales químicos", "Un formulario de capacitación del personal", "Un registro de inspección del sistema de ductos"], correct: 1, explanation: "El SDS (antes MSDS) contiene 16 secciones con información sobre identificación del químico, peligros, composición, primeros auxilios, manejo, controles de exposición, propiedades físicas, y disposición. Deben estar disponibles para todos los empleados que usen el material." },
        { category:"OSHA", q: "¿Cuál es el límite de peso recomendado por NIOSH para levantamiento manual?", options: ["100 libras sin restricción de posición", "51 libras bajo condiciones ideales de levantamiento", "75 libras para hombres, 50 para mujeres", "No hay límite de peso recomendado"], correct: 1, explanation: "NIOSH recomienda un máximo de 51 lbs bajo condiciones ideales (cerca del cuerpo, a la cintura, sin torsión). El peso recomendado baja con condiciones no ideales. Para equipos HVAC pesados (compresores, unidades), usar equipo mecánico de levantamiento o pedir ayuda." },
        { category:"OSHA", q: "¿Qué hacer si hay una descarga eléctrica a un compañero de trabajo?", options: ["Tocar a la persona inmediatamente para apartarla de la fuente", "Desconectar la fuente de energía primero, llamar al 911, y administrar primeros auxilios si está entrenado", "Echar agua a la persona para cortar la corriente", "Esperar a que la corriente se detenga sola"], correct: 1, explanation: "NUNCA tocar a la persona mientras está en contacto con electricidad — puede electrocutarlo a usted también. Primero desconectar la fuente de energía (breaker, desconector). Llamar 911 inmediatamente. Si la víctima no respira, iniciar CPR si está entrenado." },
        { category:"OSHA", q: "¿Qué es la ergonomía en HVAC?", options: ["La marca del equipo de protección personal", "El estudio de cómo adaptar el trabajo al cuerpo para prevenir lesiones musculoesqueléticas", "Un tipo de aislamiento térmico", "El procedimiento de mantenimiento del equipo"], correct: 1, explanation: "La ergonomía previene lesiones por movimientos repetitivos, posturas incómodas y levantamiento inadecuado. En HVAC: usar rodilleras, alternar posiciones, usar herramientas adecuadas, tomar descansos, y usar equipo mecánico para cargas pesadas." },
        { category:"OSHA", q: "¿Cuál es el nivel de ruido máximo permitido para 8 horas de exposición según OSHA?", options: ["60 dBA", "90 dBA (con acción a partir de 85 dBA)", "120 dBA", "No hay límite establecido para ruido"], correct: 1, explanation: "OSHA establece un límite de 90 dBA para 8 horas de exposición. A 85 dBA se requiere un programa de conservación auditiva. Cada 5 dBA de aumento, el tiempo de exposición se reduce a la mitad. Equipo HVAC, compresores y herramientas frecuentemente exceden 85 dBA." },
        { category:"OSHA", q: "¿Qué es el HazCom (Hazard Communication Standard)?", options: ["Un radio de comunicación para emergencias", "El estándar de OSHA que requiere que empleadores informen a los empleados sobre químicos peligrosos en el trabajo", "Un protocolo de comunicación entre técnicos en el campo", "Un sistema de alerta de tormentas para trabajo exterior"], correct: 1, explanation: "HazCom (29 CFR 1910.1200) requiere: inventario de químicos, SDS disponibles, etiquetas en contenedores, y capacitación a empleados sobre los peligros. En HVAC aplica a refrigerantes, soldadura, limpiadores, aceites, y productos químicos de limpieza de coils." },
        { category:"OSHA", q: "¿Qué debe hacer un trabajador si identifica una condición insegura?", options: ["Ignorarla si no le afecta directamente", "Reportarla inmediatamente al supervisor y no trabajar en la condición insegura hasta que se corrija", "Continuar trabajando pero con más cuidado", "Esperar hasta el final del día para reportarla"], correct: 1, explanation: "OSHA establece que los trabajadores tienen el derecho y la obligación de reportar condiciones inseguras. El trabajador puede negarse a trabajar si existe un peligro inminente de muerte o lesión seria, sin represalias del empleador." },
        { category:"OSHA", q: "¿Cuál es la importancia del GHS (Globally Harmonized System) en OSHA?", options: ["Armoniza los sistemas de calefacción globalmente", "Estandariza la clasificación y etiquetado de químicos peligrosos con pictogramas universales", "Unifica los estándares de eficiencia energética a nivel mundial", "Establece un sistema global de certificación de técnicos"], correct: 1, explanation: "GHS estandariza: pictogramas de peligro (rombo rojo), palabras de señal (Peligro/Atención), declaraciones de peligro y precaución, y formato de SDS de 16 secciones. Permite que los trabajadores reconozcan peligros independientemente del idioma o país de origen del producto." },
        { category:"OSHA", q: "¿Qué es un confined space (espacio confinado) en HVAC?", options: ["Cualquier cuarto pequeño dentro de un edificio", "Un espacio con entrada/salida limitada, no diseñado para ocupación continua, y con potencial de peligro por atmósfera o configuración", "Un armario de suministros eléctricos", "El espacio dentro de un ducto de aire estándar"], correct: 1, explanation: "Ejemplos en HVAC: plenums grandes, cuartos mecánicos cerrados, tanques, pozos. Los peligros incluyen: atmósfera peligrosa (bajo oxígeno, gases tóxicos), engulfment, configuración que atrapa. Se requiere permiso, monitoreo de atmósfera, y rescatador en espera." },
        { category:"OSHA", q: "¿Qué nivel de oxígeno es seguro para trabajar en un espacio confinado?", options: ["15% o más", "19.5% - 23.5% de oxígeno", "25% o más para máxima seguridad", "No importa el nivel de oxígeno con protección respiratoria"], correct: 1, explanation: "El rango seguro de oxígeno es 19.5% - 23.5%. Por debajo de 19.5% es deficiente y peligroso. Por encima de 23.5% es enriquecido y aumenta el riesgo de incendio. Los refrigerantes desplazan oxígeno en espacios cerrados, por eso la ventilación es crítica." },
        { category:"OSHA", q: "¿Qué tipo de extintor se usa para fuegos eléctricos?", options: ["Tipo A - agua presurizada", "Tipo C o ABC - diseñados para equipos eléctricos energizados", "Tipo K - para cocinas comerciales", "Cualquier extintor funciona para fuegos eléctricos"], correct: 1, explanation: "Los fuegos eléctricos son Clase C. Se usan extintores tipo C (CO2, polvo químico seco) o ABC (polvo químico multiuso). NUNCA usar agua (Tipo A) en fuegos eléctricos — el agua conduce electricidad y puede electrocutar al operador." },
        { category:"OSHA", q: "¿Cuál es el peligro del monóxido de carbono (CO) en HVAC?", options: ["Solo causa dolor de cabeza leve sin riesgo serio", "Es un gas inodoro, incoloro y mortal que se produce por combustión incompleta en furnaces", "Solo es peligroso en concentraciones extremadamente altas", "Solo afecta a personas con condiciones respiratorias previas"], correct: 1, explanation: "El CO es un killer silencioso porque no se puede ver, oler ni saborear. Se une a la hemoglobina 200 veces más fuerte que el oxígeno, impidiendo el transporte de O2. Los furnaces con intercambiador de calor agrietado pueden liberar CO al espacio habitado." },
        { category:"OSHA", q: "¿A qué nivel de CO se debe evacuar un edificio inmediatamente?", options: ["Más de 9 PPM sostenido", "Más de 70 PPM sostenido o cualquier síntoma de intoxicación en los ocupantes", "Solo cuando alguien pierde la conciencia", "200 PPM por más de una hora"], correct: 1, explanation: "A 70 PPM sostenido se deben tomar acciones correctivas inmediatas. Si hay síntomas (dolor de cabeza, mareo, náusea), evacuar inmediatamente sin importar el nivel. Un detector de CO debe alertar a 30 PPM y alarmar a 70 PPM. Niveles sobre 400 PPM son potencialmente mortales en pocas horas." },
        { category:"OSHA", q: "¿Qué es la regla de los 3 puntos de contacto al subir una escalera?", options: ["Sostener la escalera con 3 cuerdas de seguridad", "Mantener siempre 2 manos y 1 pie, o 2 pies y 1 mano en la escalera", "Revisar la escalera en 3 puntos antes de usarla", "Colocar la escalera en 3 superficies de apoyo"], correct: 1, explanation: "La regla de 3 puntos de contacto previene caídas: siempre mantener al menos 3 de las 4 extremidades en contacto con la escalera (2 manos + 1 pie o 2 pies + 1 mano). Nunca cargar herramientas en las manos al subir — usar cinturón de herramientas o cuerda." },
        { category:"OSHA", q: "¿Qué es heat stress y cómo se previene?", options: ["Estrés emocional causado por el calor del verano", "Una condición médica causada por exposición excesiva al calor que se previene con hidratación, descansos y aclimatación", "Un defecto en el intercambiador de calor del furnace", "Daño al refrigerante por temperatura excesiva"], correct: 1, explanation: "Heat stress incluye: calambres, agotamiento, y golpe de calor (heat stroke, que puede ser mortal). Prevención: hidratación frecuente (agua, no solo bebidas deportivas), descansos en sombra, aclimatación gradual los primeros días, ropa adecuada, y monitoreo de síntomas." },
        { category:"OSHA", q: "¿Cuáles son los síntomas del golpe de calor (heat stroke)?", options: ["Solo sudoración excesiva y sed intensa", "Piel caliente y seca (sin sudoración), confusión, pérdida de conciencia, temperatura corporal >104°F - es emergencia médica", "Solo dolor de cabeza leve y fatiga normal", "Escalofríos y temblores por la deshidratación"], correct: 1, explanation: "El heat stroke es una emergencia médica (llamar 911). A diferencia del agotamiento por calor (sudoración, debilidad), en el heat stroke el cuerpo deja de sudar. La temperatura corporal sube a niveles peligrosos causando daño cerebral y posible muerte si no se trata inmediatamente." },
        { category:"OSHA", q: "¿Qué es un near miss (casi accidente) y por qué es importante reportarlo?", options: ["Un accidente menor que no causó lesión y no vale la pena reportar", "Un evento que pudo haber causado lesión pero no lo hizo, y reportarlo ayuda a prevenir futuros accidentes", "Un error en el diagnóstico del equipo HVAC", "Una fuga de refrigerante que se detectó antes de ser grande"], correct: 1, explanation: "Un near miss es una oportunidad de aprendizaje. Por cada accidente serio, hay aproximadamente 300 near misses. Reportarlos permite identificar y corregir peligros antes de que causen lesiones. La cultura de reporte es fundamental para la seguridad." },
        { category:"OSHA", q: "¿Cuándo se debe usar un arnés de cuerpo completo?", options: ["Solo cuando se trabaja con equipos pesados", "Cuando se trabaja en alturas donde hay riesgo de caída y no hay otra protección perimetral", "Solo cuando llueve y el techo está resbaloso", "Solo en edificios de más de 5 pisos"], correct: 1, explanation: "El arnés de cuerpo completo con línea de vida se usa cuando se trabaja en alturas (6+ pies en construcción) sin barandas u otra protección. Debe inspeccionarse antes de cada uso, conectarse a un punto de anclaje que soporte 5,000 lbs, y el trabajador debe estar entrenado en su uso." },
        { category:"OSHA", q: "¿Qué es un JHA (Job Hazard Analysis)?", options: ["Un análisis del rendimiento del equipo HVAC", "Un procedimiento que identifica peligros potenciales en cada paso de una tarea y las medidas de control", "Un análisis financiero del proyecto de instalación", "Un reporte de satisfacción del cliente"], correct: 1, explanation: "El JHA descompone la tarea en pasos, identifica peligros en cada paso, y establece controles. Ejemplo: instalar condensador en techo: 1) Subir escalera → riesgo de caída → usar arnés. 2) Soldar → riesgo de quemadura → usar guantes y gafas. Debe hacerse antes de empezar el trabajo." },
        { category:"OSHA", q: "¿Cuál es la importancia de la señalización de seguridad en el sitio de trabajo?", options: ["Solo es decorativa y no tiene valor legal", "Alerta a trabajadores y visitantes sobre peligros específicos del área y es requerida por OSHA", "Solo se necesita durante inspecciones de OSHA", "Es opcional si los trabajadores tienen experiencia"], correct: 1, explanation: "La señalización OSHA usa colores estándar: rojo = peligro/pare, amarillo = precaución, naranja = advertencia, verde = seguridad/primeros auxilios. Debe ser visible, legible, y en el idioma que los trabajadores entiendan. La falta de señalización es una violación citada frecuentemente." },
        { category:"OSHA", q: "¿Qué es el derecho del trabajador a negarse a trabajar bajo OSHA?", options: ["No existe tal derecho, el trabajador debe obedecer siempre", "El trabajador puede negarse si hay peligro inminente de muerte o lesión seria, y el empleador no ha corregido la situación", "Solo los supervisores pueden negarse a realizar trabajo peligroso", "Solo aplica en emergencias declaradas por el gobierno"], correct: 1, explanation: "Bajo OSHA, si un trabajador cree de buena fe que hay peligro inminente de muerte o lesión seria, puede negarse a trabajar SIN represalias. Debe haber reportado el peligro al empleador y la situación no fue corregida. OSHA prohíbe despedir o disciplinar al trabajador." },
        { category:"OSHA", q: "¿Qué protección se necesita al soldar tubería de cobre con soplete?", options: ["Solo guantes de trabajo normales", "Gafas de seguridad, guantes resistentes al calor, extintor cerca, y protección contra incendio para materiales combustibles cercanos", "Solo un balde de agua para emergencia", "Ninguna protección especial si tiene experiencia"], correct: 1, explanation: "Al soldar con soplete: gafas de seguridad (chispas), guantes de cuero resistentes al calor, extintor tipo ABC a la mano, paño de protección contra fuego para materiales combustibles cercanos (madera, aislamiento), y ventilación adecuada para los humos de la soldadura." },
        { category:"OSHA", q: "¿Qué es el programa de comunicación de riesgos (HazCom) que OSHA requiere?", options: ["Un plan de marketing para la empresa", "Un programa escrito que incluye inventario de químicos, SDS accesibles, etiquetado, y capacitación de empleados", "Un folleto informativo para los clientes", "Un protocolo de comunicación por radio"], correct: 1, explanation: "El programa HazCom escrito debe incluir: lista de todos los químicos peligrosos usados, SDS actualizadas y accesibles, sistema de etiquetado consistente, y capacitación anual para empleados sobre los peligros de cada químico y cómo protegerse." },
        { category:"OSHA", q: "¿Cuáles son las consecuencias de una violación seria de OSHA?", options: ["Solo una advertencia verbal sin multa", "Multas de hasta $16,131 por violación, y hasta $161,323 por violación deliberada o repetida", "Solo se requiere un plan de corrección sin multa", "OSHA no tiene autoridad para multar empresas"], correct: 1, explanation: "Las multas OSHA (ajustadas por inflación 2024): violación seria hasta $16,131, violación deliberada/repetida hasta $161,323. Además: citación pública, posible cierre temporal, y en casos de muerte por negligencia, cargos criminales contra el empleador." },
        { category:"Troubleshooting", q: "¿Cuál es el primer paso cuando un sistema de AC no enciende?", options: ["Revisar el nivel de refrigerante con los manómetros", "Verificar que hay voltaje en el termostato, breaker, y desconector antes de revisar componentes", "Reemplazar el contactor del condensador inmediatamente", "Agregar refrigerante al sistema preventivamente"], correct: 1, explanation: "El diagnóstico sistemático empieza con lo más básico: ¿hay energía? Verificar: termostato encendido y en modo correcto, breaker no disparado, desconector cerrado, fusible de 3A del control no quemado." },
        { category:"Troubleshooting", q: "¿Qué indica un compresor que 'hums' pero no arranca?", options: ["El refrigerante está bajo y necesita recarga", "Posible capacitor de arranque o marcha defectuoso, compresor mecánicamente trabado, o bajo voltaje", "El termostato está configurado incorrectamente", "El filtro de aire está demasiado sucio"], correct: 1, explanation: "Si el compresor vibra pero no gira: la bobina del motor está energizada pero no puede vencer la inercia. Causas: capacitor fallido (más común), compresor trabado, bajo voltaje, o cableado suelto." },
        { category:"Troubleshooting", q: "¿Qué indica un breaker del condensador que se dispara repetidamente?", options: ["El breaker es demasiado grande para el circuito", "Posible cortocircuito a tierra en el compresor, cables dañados, contactor en corto, o compresor trabado", "El condensador exterior está demasiado lejos del panel", "El filtro de aire necesita reemplazo"], correct: 1, explanation: "Breaker que dispara inmediatamente indica cortocircuito. Si dispara después de unos minutos, posible LRA excesivo. Nunca poner un breaker más grande — buscar la causa raíz." },
        { category:"Troubleshooting", q: "¿Cómo se diagnostica una TXV restringida?", options: ["Solo midiendo la temperatura del supply", "Baja presión de succión, alto superheat, frost en la TXV, y subcooling normal o alto", "Alta presión de succión y bajo superheat", "Solo verificando el voltaje del compresor"], correct: 1, explanation: "TXV restringida no permite suficiente refrigerante al evaporador. Similar a baja carga pero el subcooling diferencia: con TXV restringida, subcooling es normal/alto; con baja carga, subcooling también es bajo." },
        { category:"Troubleshooting", q: "¿Qué causa que el evaporador se congele?", options: ["Exceso de refrigerante solamente", "Flujo de aire insuficiente, baja carga de refrigerante, TXV defectuosa, o temperatura exterior muy baja", "Temperatura exterior demasiado alta", "El condensador exterior está muy limpio"], correct: 1, explanation: "El evaporador se congela cuando la temperatura del coil baja de 32°F. Causas: filtro sucio, blower malo, bajo refrigerante, TXV restringida, o operación con temp exterior <60°F sin kit de baja temperatura." },
        { category:"Troubleshooting", q: "¿Cómo se diferencia entre bajo refrigerante y restricción?", options: ["No se pueden diferenciar", "Ambos tienen baja succión, pero bajo refrigerante tiene bajo subcooling y restricción tiene subcooling alto", "Bajo refrigerante tiene alta presión y restricción baja", "Se necesita recuperar todo el refrigerante"], correct: 1, explanation: "Con bajo refrigerante: poco refrigerante total → subcooling bajo. Con restricción: refrigerante suficiente pero no pasa → subcooling alto antes de la restricción. La presión de succión es baja en ambos." },
        { category:"Troubleshooting", q: "¿Qué indica presión de succión alta y presión de descarga baja?", options: ["Sistema perfecto", "Compresor con válvulas internas dañadas que no comprime eficientemente", "Filtro muy limpio", "TXV completamente cerrada"], correct: 1, explanation: "Succión alta + descarga baja = el compresor no comprime. Válvulas internas dañadas permiten que gas pase de alta a baja internamente. También verificar la válvula reversible en heat pumps." },
        { category:"Troubleshooting", q: "¿Cómo se verifica el blower motor del furnace?", options: ["Solo verificando si sale aire por los registros", "Verificar voltaje en el motor, capacitor, continuidad de devanados, y que no esté trabado", "Solo revisando batería del termostato", "Verificando la presión de gas"], correct: 1, explanation: "Diagnóstico: 1) ¿Tiene voltaje? 2) ¿Capacitor bueno? 3) ¿Devanados con continuidad? 4) ¿Gira libremente manualmente? El blower es la segunda falla más común después del filtro sucio." },
        { category:"Troubleshooting", q: "¿Qué causa short cycling en un furnace?", options: ["Filtro MERV muy alto", "High limit activándose por sobrecalentamiento, flame sensor sucio, o presostato no cerrando", "Tanque de gas casi vacío", "Baterías bajas del termostato"], correct: 1, explanation: "Short cycling en furnace: high limit se activa por filtro sucio o blower fallido, flame sensor sucio no detecta llama, o presostato de ventilación no cierra por venting bloqueado." },
        { category:"Troubleshooting", q: "¿Cómo se limpia un flame sensor?", options: ["Con agua y jabón", "Lijando suavemente con lija fina la varilla para remover oxidación", "Reemplazándolo siempre", "Con lubricante penetrante"], correct: 1, explanation: "El flame sensor acumula oxidación. Se limpia con lija fina frotando la varilla. La corriente normal es 1-6 microamperios. Si sigue bajo después de limpiar, reemplazar." },
        { category:"Troubleshooting", q: "¿Qué hacer cuando el termostato muestra pantalla vacía?", options: ["Reemplazar equipo completo", "Verificar baterías, fusible de 3A/5A, transformador 24V, y cableado buscando cortos", "Cambiar termostato inmediatamente", "Esperar 24 horas"], correct: 1, explanation: "Pantalla vacía: 1) Baterías. 2) Fusible en la board del furnace. 3) Medir 24V en R y C. 4) Verificar transformador. 5) Buscar cables pelados que quemaron el fusible." },
        { category:"Troubleshooting", q: "¿Qué indica olor a quemado al encender el furnace por primera vez en temporada?", options: ["Intercambiador agrietado", "Polvo acumulado quemándose, normal los primeros minutos; si persiste, investigar", "Motor quemándose", "Fuga de gas"], correct: 1, explanation: "Olor leve los primeros minutos es polvo acumulado en verano quemándose. Debe disiparse en 10-20 minutos. Si persiste, verificar cableado, motor, y componentes." },
        { category:"Troubleshooting", q: "¿Cómo se diagnostica un intercambiador de calor agrietado?", options: ["Solo si hay llamas visibles", "Inspección visual con cámara, medir CO en supply air, observar perturbación de llama con blower", "Midiendo presión de gas", "Escuchando sonidos"], correct: 1, explanation: "Inspección visual con cámara, medir CO en supply (debe ser 0), observar llama al arrancar blower — perturbación indica posible grieta. Es una condición de seguridad crítica." },
        { category:"Troubleshooting", q: "¿Qué causa olor a huevos podridos cerca del furnace?", options: ["Filtro sucio", "Fuga de gas natural — evacuar inmediatamente y llamar a la compañía de gas", "Condensado estancado", "Intercambiador sucio"], correct: 1, explanation: "El mercaptano da olor a huevos podridos al gas natural. NO operar interruptores, NO encender llamas, evacuar, y llamar a la compañía de gas desde FUERA. Potencialmente explosivo." },
        { category:"Troubleshooting", q: "¿Qué indica agua debajo del furnace o air handler?", options: ["Normal durante enfriamiento", "Drenaje tapado, charola rota, coil descongelándose, o float switch fallido", "Refrigerante fugándose", "Humidificador sobrellenando"], correct: 1, explanation: "Agua bajo el equipo: línea de drenaje tapada, trampa P seca o tapada, charola agrietada, coil descongelándose, o float switch que no apagó el sistema." },
        { category:"Troubleshooting", q: "¿Cómo diagnosticar 'no cooling' cuando el condensador no arranca?", options: ["Agregar refrigerante primero", "Verificar 24V en bobina del contactor, voltaje de línea, y estado del contactor", "Reemplazar compresor", "Verificar aceite del compresor"], correct: 1, explanation: "Sistemático: 1) ¿Termostato envía 24V por Y? 2) ¿Hay 240V entrando al contactor? 3) ¿Contactor cierra? 4) ¿Sale voltaje al compresor? 5) ¿Compresor arranca?" },
        { category:"Troubleshooting", q: "¿Qué indica un sistema que enfría pero no remueve humedad?", options: ["Refrigerante incorrecto", "Equipo sobredimensionado, velocidad de blower muy alta, o coil sucio", "Condensador necesita sombra", "Termostato sin baterías"], correct: 1, explanation: "Pobre deshumidificación: equipo sobredimensionado que cicla corto, velocidad de blower excesiva (aire pasa muy rápido sin condensar), o coil sucio." },
        { category:"Troubleshooting", q: "¿Cómo verificar si el contactor funciona?", options: ["Solo visualmente", "Verificar voltaje de bobina 24V, cierre de contactos, voltaje a través de contactos cerrados (<1V), e inspeccionar condición física", "Midiendo refrigerante", "Solo con manómetros"], correct: 1, explanation: "Voltaje en la bobina debe cerrar los contactos. Con contactos cerrados, medir voltaje a través: debe ser <1V. Si hay más, contactos quemados o pitted que crean resistencia." },
        { category:"Troubleshooting", q: "¿Qué causa que el ventilador del condensador no gire?", options: ["Refrigerante sobrecargado", "Capacitor de fan defectuoso, motor quemado, contactor no cierra, o aspa trabada", "Termostato en modo ventilador", "Línea de líquido restringida"], correct: 1, explanation: "Fan que no gira: capacitor de fan muerto (más común), motor quemado, contactor no cierra en terminal del fan, o aspa trabada por basura." },
        { category:"Troubleshooting", q: "¿Qué indica escarcha en la línea de succión?", options: ["Máxima eficiencia", "Flooding de refrigerante al compresor: sobrecarga, TXV stuck open, o bajo flujo de aire", "Temperatura exterior baja", "Aislamiento funcionando bien"], correct: 1, explanation: "Escarcha en succión = superheat bajo o negativo. Refrigerante líquido pasa el evaporador. Peligroso: puede causar liquid slugging al compresor." },
        { category:"Troubleshooting", q: "¿Cómo diagnosticar un sistema que sopla aire pero no enfría?", options: ["Siempre es bajo refrigerante", "Verificar si el condensador corre, medir presiones, delta T, superheat y subcooling", "Cambiar termostato", "Limpiar ductos"], correct: 1, explanation: "¿Corre el condensador? Si no, diagnóstico eléctrico. Si corre, medir presiones: ambas bajas = baja carga. Superheat y subcooling confirman la causa." },
        { category:"Troubleshooting", q: "¿Qué hacer con presiones normales pero sin enfriamiento?", options: ["Agregar más refrigerante", "Verificar flujo de aire: ductos, filtro, blower, dampers, y evaporador limpio", "Reemplazar TXV", "Cambiar refrigerante"], correct: 1, explanation: "Presiones normales = refrigeración funciona. El problema es transferencia de calor al aire: blower no corre, evaporador sucio, ductos desconectados, filtro tapado, o damper cerrado." },
        { category:"Troubleshooting", q: "¿Qué indica un compresor que arranca y se apaga en segundos?", options: ["Termostato necesita ajuste", "Protección interna por overheating, alta presión, o falla eléctrica", "Filtro causando restricción", "Ciclo de defrost normal"], correct: 1, explanation: "Se apaga rápido: overload por sobrecalentamiento, high pressure cutout (condensador sucio, fan no corre), low pressure cutout (restricción, bajo refrigerante), o problemas eléctricos." },
        { category:"Troubleshooting", q: "¿Qué indica ruido de gorgoteo en la línea de succión?", options: ["Aceite circulando normalmente", "Bajo refrigerante causando mezcla líquido-vapor, o TXV hunting", "Compresor girando al revés", "Nitrógeno residual"], correct: 1, explanation: "Gorgoteo indica refrigerante en estado mixto líquido-vapor, común con baja carga. Si es intermitente, puede indicar TXV hunting (abriéndose y cerrándose)." },
        { category:"Troubleshooting", q: "¿Cómo diagnosticar problemas en la board del furnace?", options: ["Reemplazar sin diagnóstico", "Leer códigos LED, verificar entradas de voltaje y salidas a cada componente", "Medir presión de gas", "Verificar refrigerante"], correct: 1, explanation: "Diagnóstico: 1) Leer código de parpadeo del LED. 2) Verificar 24V entrando (R y C). 3) Verificar salidas a cada componente. La board se reemplaza cuando recibe señal pero no produce salida correcta." },
        { category:"Troubleshooting", q: "¿Qué causa un ruido de silbido agudo en el sistema de ductos?", options: ["Exceso de refrigerante en las líneas", "Velocidad de aire excesiva por ductos subdimensionados, dampers parcialmente cerrados, o registros restringidos", "Compresor a punto de fallar", "Transformador del furnace defectuoso"], correct: 1, explanation: "Silbido = velocidad de aire alta forzada por restricciones: ductos muy pequeños, dampers casi cerrados, filtro de alta restricción, o registros parcialmente bloqueados. La solución es reducir la restricción o la velocidad del blower." },
        { category:"Troubleshooting", q: "¿Qué causa que un condensador exterior haga un ruido de cascabeleo (rattling)?", options: ["Refrigerante burbujeando en el condensador normalmente", "Tornillos sueltos, panel desajustado, ramas/basura dentro del gabinete, o aislante de tubería suelto", "El compresor está girando demasiado rápido", "La carga de refrigerante es excesiva"], correct: 1, explanation: "Rattling: tornillos del gabinete o panel sueltos, basura dentro vibrando contra el gabinete, tubing suelto tocando el gabinete, o fan blade desbalanceada. Inspeccionar visualmente y apretar/limpiar." },
        { category:"Troubleshooting", q: "¿Qué hacer si el sistema enfría pero el aire huele a moho?", options: ["Agregar más refrigerante para enfriar más", "Limpiar el coil del evaporador, la charola de drenaje, y verificar la línea de drenaje para remover el crecimiento de moho", "Subir la temperatura del termostato", "Cambiar el tipo de refrigerante"], correct: 1, explanation: "Olor a moho indica crecimiento biológico en el evaporador húmedo, charola de drenaje, o línea de drenaje. Limpiar con solución antimicrobiana, flush la línea de drenaje, y considerar una luz UV en el plenum para prevención." },
        { category:"Troubleshooting", q: "¿Qué indica un compresor con amperaje significativamente más bajo que el RLA?", options: ["El compresor está funcionando perfectamente y muy eficiente", "Posible baja carga de refrigerante, válvulas internas débiles, o el compresor no está comprimiendo eficientemente", "El capacitor está sobre-dimensionado", "La temperatura exterior es demasiado fría"], correct: 1, explanation: "Amperaje muy bajo indica poca carga de trabajo: baja carga de refrigerante (poco gas para comprimir), válvulas internas con bypass (no comprime todo el gas), o condiciones de operación anormalmente bajas." },
        { category:"Troubleshooting", q: "¿Cómo se verifica si hay aire (no condensables) en el sistema?", options: ["Solo observando burbujas en el sight glass", "Presión de descarga más alta de lo esperado para la temperatura ambiente, y subcooling excesivo", "Midiendo la humedad del aire de supply", "Solo con un identificador de refrigerante"], correct: 1, explanation: "Aire en el sistema aumenta la presión de descarga por encima de lo que indica la tabla P-T para la temperatura de condensación. El subcooling también puede ser anormalmente alto. La solución es recuperar, evacuar completamente, y recargar." },
        { category:"Mantenimiento", q: "¿Cada cuánto se cambia el filtro de aire residencial?", options: ["Una vez al año", "Cada 1-3 meses según tipo, uso, y condiciones del hogar", "Solo cuando el sistema falla", "Cada 6 meses exactos"], correct: 1, explanation: "Filtros de 1 pulgada: cada 1-3 meses. Filtros de 4-5 pulgadas: cada 6-12 meses. Mascotas, muchos ocupantes, y construcción aceleran el cambio." },
        { category:"Mantenimiento", q: "¿Cómo se limpia el coil del condensador?", options: ["Con manguera de alta presión desde adentro", "Remover desechos, aplicar limpiador, dejar actuar, enjuagar de adentro hacia afuera con presión moderada", "Solo soplar aire comprimido desde afuera", "No se limpia, se reemplaza"], correct: 1, explanation: "Apagar sistema, remover basura, aplicar limpiador de coil, dejar actuar 10-15 min, enjuagar de ADENTRO hacia AFUERA. Alta presión daña las aletas." },
        { category:"Mantenimiento", q: "¿Por qué se enderezan las aletas del condensador?", options: ["Razones estéticas", "Aletas dobladas bloquean flujo de aire reduciendo rechazo de calor", "Para que el refrigerante fluya más rápido", "Prevenir insectos"], correct: 1, explanation: "Las aletas son superficies de transferencia de calor. Dobladas bloquean el aire y el condensador pierde eficiencia. Se usa un fin comb del pitch correcto." },
        { category:"Mantenimiento", q: "¿Cómo se limpia la línea de drenaje del condensado?", options: ["Ácido muriático directo", "Aspirar con wet/dry vac, flush con agua, y usar pastillas algicidas preventivamente", "Calentar con soplete", "Reemplazar toda la línea"], correct: 1, explanation: "Aspirar obstrucción con wet/dry vac, flush con agua o vinagre, y colocar pastillas algicidas mensualmente como prevención." },
        { category:"Mantenimiento", q: "¿Qué incluye un tune-up típico de AC?", options: ["Solo cambiar filtro", "Verificar presiones, limpiar coils, componentes eléctricos, drenaje, delta T y flujo de aire", "Solo agregar refrigerante", "Solo lubricar partes"], correct: 1, explanation: "Tune-up completo: filtro, coil de condensador, drenaje, presiones/superheat/subcooling, amperaje, capacitores, contactos, delta T, y cableado." },
        { category:"Mantenimiento", q: "¿Con qué frecuencia se recomienda mantenimiento preventivo?", options: ["Solo cuando hay problema", "Dos veces al año: primavera para AC y otoño para furnace", "Cada 3 años", "Mensualmente"], correct: 1, explanation: "Dos veces al año: primavera para AC (antes del calor) y otoño para furnace (antes del frío). Cada sistema listo para su temporada de demanda." },
        { category:"Mantenimiento", q: "¿Cómo verificar el capacitor durante mantenimiento?", options: ["Solo visual", "Inspección visual + medir microfaradios con multímetro, debe estar ±6% del nominal", "Solo si el sistema arranca", "Medir voltaje a través del capacitor"], correct: 1, explanation: "Visual: ¿hinchado o con fuga? Medición: descargar primero, medir µF. Un capacitor de 35µF que mide 30µF ya está débil — reemplazar preventivamente." },
        { category:"Mantenimiento", q: "¿Por qué verificar amperaje del compresor en mantenimiento?", options: ["Solo documentación", "Detectar problemas: alto amperaje indica condensador sucio, bajo refrigerante, o problemas mecánicos", "Verificar tamaño del breaker", "Calcular costo eléctrico"], correct: 1, explanation: "Amperaje vs RLA indica salud del compresor. >100% RLA = problema. Mucho menos que RLA = baja carga o válvulas débiles. Documentar para comparar en futuras visitas." },
        { category:"Mantenimiento", q: "¿Cómo inspeccionar el intercambiador de calor?", options: ["Solo si el furnace enciende", "Cámara de inspección, medir CO en supply air, observar perturbación de llama con blower", "Solo medir temperatura de salida", "Solo verificar presión de gas"], correct: 1, explanation: "Cámara por los ports del quemador, CO en supply debe ser 0 PPM, observar llama al arrancar blower. Grieta = condición peligrosa de CO." },
        { category:"Mantenimiento", q: "¿Cómo lubricar un motor de blower?", options: ["WD-40 en cojinetes", "Motores modernos son sealed bearings; antiguos con oil ports usan aceite SAE 20 sin detergente, 3-5 gotas", "Llenar ports hasta desbordar", "Grasa automotriz"], correct: 1, explanation: "Motores modernos (ECM, PSC nuevos) tienen rodamientos sellados. Motores viejos con oil ports: 3-5 gotas SAE 20 sin detergente. Nunca WD-40 ni grasa." },
        { category:"Mantenimiento", q: "¿Cómo limpiar el evaporador?", options: ["Manguera de alta presión", "Limpiador no ácido en spray, dejar actuar, y enjuagar suavemente o dejar que el condensado lo arrastre", "Cepillo de alambre", "No se puede limpiar sin desmontar"], correct: 1, explanation: "Limpiador no ácido, aplicar contra el flujo de aire, para limpieza ligera el condensado arrastra. Para coils muy sucios, enjuagar suavemente con agua. Nunca alta presión." },
        { category:"Mantenimiento", q: "¿Por qué verificar conexiones eléctricas durante mantenimiento?", options: ["Solo documentación", "Conexiones sueltas causan resistencia, calentamiento, arcing, y riesgo de incendio", "Verificar colores de cables", "Solo en primera instalación"], correct: 1, explanation: "Conexiones sueltas crean resistencia → calor → terminales quemadas, cables derretidos, y potencialmente incendio. Apretar cada terminal y verificar wire nuts." },
        { category:"Mantenimiento", q: "¿Cómo verificar la presión de gas del furnace?", options: ["Solo ver si la llama es azul", "Manómetro de columna de agua en los ports de la válvula de gas, comparar con especificaciones", "Medir temperatura del supply", "Manómetro de refrigeración"], correct: 1, explanation: "Manómetro de inWC: inlet típico 7 inWC gas natural, manifold típico 3.5 inWC. Comparar con la etiqueta del furnace." },
        { category:"Mantenimiento", q: "¿Cómo probar el float switch?", options: ["Solo ver si está instalado", "Verter agua hasta que suba y verificar que el switch apaga el sistema de enfriamiento", "Medir resistencia con sistema corriendo", "Solo en instalación inicial"], correct: 1, explanation: "Verter agua lentamente en la charola. El float debe abrir el circuito y apagar el AC. Si no apaga, reemplazar. Previene daños por agua." },
        { category:"Mantenimiento", q: "¿Cuál es la importancia del contrato de mantenimiento preventivo?", options: ["Solo cobrar más al cliente", "Previene fallas, extiende vida del equipo, mantiene eficiencia, y puede ser requisito de garantía", "Solo beneficia a la empresa", "Solo para equipos comerciales"], correct: 1, explanation: "Un sistema sucio consume 20% más energía. Muchas garantías requieren mantenimiento documentado. Detecta problemas antes de fallas mayores." },
        { category:"Mantenimiento", q: "¿Cuándo se debe reemplazar el filter drier en un sistema?", options: ["Nunca, es un componente permanente", "Cada vez que se abre el sistema al ambiente, después de un burnout de compresor, o si hay humedad detectada", "Solo si el sistema no enfría", "Cada mantenimiento anual de rutina"], correct: 1, explanation: "El filter drier se reemplaza: al abrir el sistema (soldadura, cambio de componente), después de burnout del compresor (absorber ácidos), o si el indicador de humedad del sight glass muestra amarillo." },
        { category:"Mantenimiento", q: "¿Qué herramienta se usa para enderezar las aletas del condensador?", options: ["Destornillador plano insertado entre las aletas", "Peine de aletas (fin comb) con el espaciado correcto de aletas por pulgada (FPI)", "Alicates de punta fina", "Manguera de agua a presión"], correct: 1, explanation: "El fin comb tiene dientes espaciados para coincidir con las aletas del condensador (típicamente 12-16 FPI). Se pasa suavemente entre las aletas dobladas para enderezarlas sin dañar los tubos." },
        { category:"Mantenimiento", q: "¿Cómo se verifica el voltaje de alimentación durante el mantenimiento?", options: ["Solo verificando que el equipo enciende", "Midiendo voltaje L1-L2 en el desconector con el sistema corriendo y comparando con el rango aceptable (±10%)", "Solo revisando el breaker visualmente", "Midiendo la corriente del transformador"], correct: 1, explanation: "Medir voltaje con el sistema corriendo: debe estar dentro de ±10% del nominal (216-264V para 240V). Bajo voltaje causa alto amperaje y daño. Documentar para referencia y notificar al electricista si está fuera de rango." },
        { category:"Soldadura", q: "¿Cuál es la diferencia entre brazing y soft solder?", options: ["No hay diferencia", "Brazing funde sobre 1,100°F para alta presión; soft solder funde bajo 800°F para baja presión", "Soft solder es más fuerte", "Brazing solo para acero"], correct: 1, explanation: "Brazing usa aleaciones de plata o fósforo-cobre que funden sobre 1,100°F para líneas de refrigerante. Soft solder solo para drenaje y agua potable." },
        { category:"Soldadura", q: "¿Por qué se purga con nitrógeno al soldar?", options: ["Enfriar la tubería", "Desplazar oxígeno y prevenir escamas de óxido (copper oxide) dentro de la tubería", "Verificar fugas", "Empujar refrigerante residual"], correct: 1, explanation: "Sin purga, el calor crea escamas negras de óxido de cobre que tapan la TXV, filter drier, y dañan compresores. El nitrógeno desplaza el oxígeno." },
        { category:"Soldadura", q: "¿Cuál es el flujo de nitrógeno recomendado al purgar?", options: ["50+ CFH máximo", "2-5 CFH suave, que apenas se sienta en la mano", "No importa el flujo", "20 CFH para máxima presión"], correct: 1, explanation: "Flujo suave de 2-5 CFH desplaza el oxígeno sin crear presión que afecte la soldadura. Flujo excesivo enfría la junta." },
        { category:"Soldadura", q: "¿Qué aleación se recomienda para líneas de refrigerante?", options: ["Estaño 50/50", "Sil-Fos (fósforo-cobre-plata) o aleación de plata BCuP", "Plomo para resistencia", "Cualquier alambre de ferretería"], correct: 1, explanation: "Sil-Fos es autofundente entre cobre y cobre. Para cobre a latón se necesita fundente con aleación de mayor plata." },
        { category:"Soldadura", q: "¿Cuándo se necesita fundente (flux)?", options: ["Siempre en todas las conexiones", "Solo cuando se suelda cobre a latón o acero; cobre a cobre con Sil-Fos no requiere", "Nunca en HVAC", "Solo al aire libre"], correct: 1, explanation: "El fósforo en Sil-Fos actúa como flux en cobre a cobre. Para latón (válvulas) o acero se necesita flux externo porque el fósforo no funciona con esos metales." },
        { category:"Soldadura", q: "¿A qué temperatura aplicar la aleación de soldadura?", options: ["Cuando el cobre está rojo brillante", "Cuando el cobre tiene color rojo oscuro y la aleación fluye por capilaridad al tocar la junta", "Cuando se ve blanco/plateado", "A temperatura ambiente"], correct: 1, explanation: "Cobre a rojo oscuro (1,100-1,500°F). Se toca la junta con la varilla — si está a temperatura correcta, la aleación fluye por capilaridad hacia adentro." },
        { category:"Soldadura", q: "¿Cuánta inserción debe tener la tubería en el fitting?", options: ["1/8 de pulgada", "Igual al diámetro de la tubería para máxima superficie de contacto", "No importa la profundidad", "Toda la longitud del tubo"], correct: 1, explanation: "Tubo de 3/4 pulgada se inserta 3/4 pulgada. Provee suficiente superficie para capilaridad y resistencia." },
        { category:"Soldadura", q: "¿Qué es la acción capilar en soldadura?", options: ["Gravedad jalando la soldadura", "La atracción que succiona la aleación fundida dentro del espacio entre tubería y fitting", "Presión de nitrógeno empujando", "Efecto magnético del cobre"], correct: 1, explanation: "La capilaridad atrae la aleación al espacio estrecho (0.001-0.005 pulgadas). Funciona contra gravedad, distribuyéndose por toda la circunferencia." },
        { category:"Soldadura", q: "¿Cómo preparar la tubería antes de soldar?", options: ["Solo cortar e insertar", "Cortar, escariar rebaba, limpiar exterior con abrasivo y limpiar interior del fitting hasta que brille", "Calentar para remover oxidación", "Doblar para que entre más fácil"], correct: 1, explanation: "Cortar limpio, escariar rebaba, limpiar exterior con abrasive pad y interior del fitting. Superficies limpias permiten flujo y adherencia correcta." },
        { category:"Soldadura", q: "¿Por qué no sobrecalentar la junta?", options: ["No es problema con suficiente aleación", "Quema el flux, oxida superficies, y puede dañar componentes cercanos como válvulas", "Solo afecta apariencia", "No existe sobrecalentamiento con MAPP"], correct: 1, explanation: "Sobrecalentar quema el flux, crea oxidación que previene adherencia, y puede dañar componentes cercanos. Mover la llama constantemente." },
        { category:"Soldadura", q: "¿Cuándo usar trapo húmedo al soldar?", options: ["Nunca, agua y soldadura no se mezclan", "Cerca de válvulas o componentes sensibles para absorber calor y protegerlos", "Solo cuando llueve", "Solo para limpiar después"], correct: 1, explanation: "El trapo húmedo envuelto entre la junta y componentes sensibles actúa como heat sink. Importante cerca de TXV y válvulas de servicio." },
        { category:"Soldadura", q: "¿Qué gas se usa en el soplete para brazing?", options: ["Solo propano doméstico", "Acetileno u oxi-acetileno, o MAPP/propileno para alcanzar temperaturas de brazing", "Gas natural de la línea", "Butano de encendedor"], correct: 1, explanation: "Brazing requiere 1,100-1,500°F. Oxi-acetileno (5,600°F) para uniones grandes, aire-acetileno para residencial, MAPP con oxígeno como alternativa." },
        { category:"Soldadura", q: "¿Cuál es la técnica correcta de aplicación de calor?", options: ["Llama directa al punto de aleación", "Calentar el fitting (parte más gruesa) uniformemente y dejar que el calor se conduzca a la tubería", "Solo calentar la tubería", "Llama directa a la varilla de aleación"], correct: 1, explanation: "Calentar el fitting primero (más masa). El calor se conduce a la tubería por contacto. La aleación fluye hacia el calor, no hacia la llama." },
        { category:"Soldadura", q: "¿Qué indica una junta porosa o granulosa?", options: ["Excelente calidad", "Sobrecalentamiento, superficies contaminadas, o movimiento durante enfriamiento", "Solo cosmético", "Exceso de aleación normal"], correct: 1, explanation: "Superficie porosa: flux quemado, superficies sucias, movimiento antes de solidificar, o gap excesivo. La junta debe ser lisa y brillante." },
        { category:"Soldadura", q: "¿Qué precauciones de seguridad al soldar con soplete?", options: ["Solo guantes normales", "Gafas de seguridad, guantes resistentes al calor, extintor cerca, y protección de materiales combustibles", "Solo un balde de agua", "Ninguna con experiencia"], correct: 1, explanation: "PPE: gafas, guantes de cuero, extintor ABC, paño de protección contra fuego para materiales cercanos, y ventilación adecuada para humos." },
        { category:"Soldadura", q: "¿Cómo se verifica la calidad de una junta de soldadura?", options: ["Solo visualmente si se ve plateada", "Inspección visual de penetración completa, prueba de presión con nitrógeno, y verificación con detector de fugas", "No se puede verificar hasta que falle", "Solo midiendo temperatura de la junta"], correct: 1, explanation: "Visual: aleación visible alrededor de toda la junta, sin poros ni huecos. Prueba de presión con nitrógeno confirma integridad. Detector de fugas o jabón verifica ausencia de fuga." },
        { category:"Soldadura", q: "¿Qué es brazing al vacío?", options: ["Soldar con la bomba de vacío conectada", "Un proceso industrial donde la soldadura se hace en un horno al vacío sin flux ni oxidación", "Soldar después de hacer vacío al sistema", "Soldar con nitrógeno al vacío"], correct: 1, explanation: "El brazing al vacío se hace en horno controlado sin atmósfera oxidante. No se usa en campo — es un proceso de manufactura para uniones de alta calidad en fábrica de equipos." },
        { category:"Controles", q: "¿Cuáles son los componentes principales del termostato?", options: ["Solo sensor y pantalla", "Sensor de temperatura, microprocesador, interface de usuario, y relays que controlan Y, G, W, O/B", "Solo interruptor on/off", "Solo pantalla y batería"], correct: 1, explanation: "Sensor de temperatura (termistor), procesador que compara temperatura real vs setpoint, pantalla/controles, y circuitos de salida que envían 24V por los cables." },
        { category:"Controles", q: "¿Qué es el diferencial del termostato?", options: ["Diferencia de voltaje R y C", "La banda de temperatura entre encendido y apagado para prevenir ciclo corto", "Diferencia supply vs return", "Diferencia de precio entre modelos"], correct: 1, explanation: "El diferencial previene short cycling. Ejemplo: setpoint 72°F con diferencial 2°F = AC enciende a 73°F y apaga a 71°F." },
        { category:"Controles", q: "¿Qué es el presostato de seguridad del furnace?", options: ["Mide presión del refrigerante", "Verifica que el inducer draft funciona creando ventilación adecuada antes de la ignición", "Mide presión de gas", "Controla velocidad del blower"], correct: 1, explanation: "Verifica que el inducer motor crea el draft correcto para ventilar gases de combustión. Sin presión negativa, no permite ignición." },
        { category:"Controles", q: "¿Qué es un high limit switch?", options: ["Limita altura de instalación", "Switch que apaga el furnace si la temperatura del intercambiador excede el límite seguro (150-200°F)", "Limita presión del refrigerante", "Limita consumo eléctrico"], correct: 1, explanation: "Switch bimetálico que abre cuando el intercambiador se sobrecalienta por falta de flujo de aire. Se resetea al enfriarse." },
        { category:"Controles", q: "¿Qué es un rollout switch?", options: ["Detecta presión del refrigerante", "Detecta si la llama sale del compartimiento del quemador indicando un problema peligroso", "Controla rodillos del motor", "Monitorea temperatura del blower"], correct: 1, explanation: "Se ubica cerca de la apertura del quemador. Si la llama sale (rollout) por intercambiador bloqueado, activa el switch. Es manual reset — requiere investigación." },
        { category:"Controles", q: "¿Qué controla el defrost en un heat pump?", options: ["Temperatura interior", "El ciclo de descongelamiento que invierte el flujo para derretir hielo del coil exterior", "Velocidad del ventilador interior", "Ciclo de drenaje"], correct: 1, explanation: "El defrost monitorea hielo en el coil exterior e inicia el ciclo: activa válvula reversible a calefacción para enviar gas caliente al coil exterior." },
        { category:"Controles", q: "¿Qué tipo de sensor detecta la llama en el furnace?", options: ["Sensor de presión", "Varilla de flame sensor que detecta corriente de ionización de la llama (1-6 µA)", "Sensor de luz infrarroja", "Termómetro de llama"], correct: 1, explanation: "La llama ioniza el aire, permitiendo corriente DC de la varilla a tierra. La board detecta esta corriente como prueba de llama." },
        { category:"Controles", q: "¿Qué es un hot surface igniter?", options: ["Chispa eléctrica", "Elemento cerámico que se calienta al rojo vivo (1,800-2,500°F) para encender el gas", "Piloto permanente", "Arco eléctrico"], correct: 1, explanation: "El HSI es cerámico frágil. No tocar con los dedos (aceite causa falla prematura). Se reemplaza preventivamente cada 3-5 años." },
        { category:"Controles", q: "¿Qué función tiene la válvula de gas del furnace?", options: ["Solo regular presión de entrada", "Controla flujo de gas: válvula de seguridad + regulador + operación controlada por la board a 24V", "Solo abrir/cerrar manualmente", "Convertir gas natural a propano"], correct: 1, explanation: "Válvula moderna: seguridad (cierra sin 24V), regulador (ajusta manifold pressure), y algunos con doble solenoide (redundant). Solo abre después de verificar todas las seguridades." },
        { category:"Controles", q: "¿Qué es el C wire y por qué importa?", options: ["Cable de tierra", "Neutral 24VAC que completa el circuito, necesario para termostatos WiFi que requieren potencia constante", "Cable del compresor", "Cable opcional sin función"], correct: 1, explanation: "C wire provee retorno 24VAC continuo. Termostatos WiFi lo necesitan para WiFi, pantalla y procesador constantes." },
        { category:"Controles", q: "¿Qué controla el cable 'O' en un heat pump?", options: ["Ventilador exterior", "Energiza la válvula reversible para modo enfriamiento (mayoría de fabricantes, excepto Rheem que usa B)", "Emergencia del sistema", "Heat strips auxiliares"], correct: 0, explanation: "O energiza la válvula reversible para enfriamiento en la mayoría de marcas. Des-energizada = calefacción. Rheem usa B: energizada para calefacción." },
        { category:"Controles", q: "¿Qué es un economizer?", options: ["Reduce precio de electricidad", "Sistema que usa aire exterior fresco para enfriar cuando la temperatura exterior es favorable, ahorrando energía", "Filtro de alta eficiencia", "Compresor de velocidad variable"], correct: 1, explanation: "Dampers motorizados abren para admitir aire fresco cuando está más frío/seco que el retorno. Enfría sin compresor (free cooling)." },
        { category:"Controles", q: "¿Qué es un humidistato?", options: ["Mide presión HVAC", "Controla humidificador o deshumidificador manteniendo humedad relativa en nivel deseado", "Controla temperatura", "Mide velocidad de aire"], correct: 1, explanation: "Similar al termostato pero para humedad. Activa humidificador cuando baja (invierno) o deshumidificador cuando sube (verano)." },
        { category:"Controles", q: "¿Cuál es la secuencia de operación del furnace?", options: ["Solo encender y apagar gas", "Llamada W → inducer arranca → pressure switch cierra → igniter calienta → gas abre → llama verificada → blower arranca", "Solo el termostato controla todo directamente", "Gas abre primero, después el igniter"], correct: 1, explanation: "Cada paso verifica seguridad antes del siguiente. Si cualquier paso falla, la board cierra el gas y muestra código de error en el LED." },
        { category:"Controles", q: "¿Qué es un relay de fan en el furnace?", options: ["Un relay que controla el ventilador del condensador exterior", "Un relay o circuito en la board que controla cuándo arranca y apaga el blower del furnace según temperatura o tiempo", "Un fusible para el motor del ventilador", "Un sensor de velocidad del ventilador"], correct: 1, explanation: "El fan relay controla el blower: en calefacción, arranca después de que el intercambiador se calienta (delay on) y continúa después de que el gas se apaga (delay off) para extraer calor residual. En modo FAN ON, corre continuamente." },
        { category:"Controles", q: "¿Qué es un zone board (panel de zonas)?", options: ["El panel eléctrico principal del edificio", "Un controlador que maneja múltiples termostatos y dampers para dirigir aire acondicionado a zonas específicas", "Un tablero de diagnóstico del fabricante", "La board del furnace con zonas de servicio"], correct: 1, explanation: "El zone board recibe señales de múltiples termostatos y abre/cierra dampers para dirigir aire solo a las zonas que demandan. Incluye un bypass damper para aliviar presión cuando zonas se cierran." },
        { category:"Controles", q: "¿Qué indica el código de error LED en la board del furnace?", options: ["Solo indica que la board tiene energía", "Diferentes patrones de parpadeo identifican fallas específicas como rollout, presostato, flame sensor, etc.", "Indica la temperatura actual del furnace", "Solo se activa durante el mantenimiento"], correct: 1, explanation: "Cada patrón de parpadeo del LED (1 flash, 2 flashes, etc.) corresponde a una falla específica documentada en la tapa del furnace. Es la primera herramienta de diagnóstico que se debe leer." },
        { category:"Controles", q: "¿Qué es un BMS (Building Management System)?", options: ["Un sistema de seguridad contra intrusos", "Un sistema computarizado que monitorea y controla todos los sistemas mecánicos del edificio incluyendo HVAC", "Un manual de servicio del edificio", "Un sistema de backup de energía"], correct: 1, explanation: "El BMS centraliza el control de HVAC, iluminación, seguridad, y otros sistemas. Permite monitoreo remoto, programación, optimización de energía, y alertas de fallas. Usa protocolos como BACnet, Modbus, o LonWorks." },
        { category:"Tubería", q: "¿Qué tipo de tubería de cobre se usa para refrigerante?", options: ["Tipo M para plomería", "Tipo ACR limpiada, deshidratada y sellada específicamente para refrigeración", "Tipo L para agua caliente", "Tubería estándar de ferretería"], correct: 1, explanation: "Tubería ACR está limpia, seca, deshidratada, y sellada con tapones. La tubería de plomería puede tener contaminantes que dañarían el sistema." },
        { category:"Tubería", q: "¿Por qué la tubería ACR viene sellada en ambos extremos?", options: ["Mantener presión de nitrógeno", "Prevenir entrada de aire y humedad que contaminarían el sistema", "Proteger durante transporte", "Mantener lubricante interno"], correct: 1, explanation: "Los tapones mantienen la tubería limpia y seca. Al abrir, exponer solo lo necesario e inmediatamente conectar o volver a tapar." },
        { category:"Tubería", q: "¿Cuál es el diámetro típico de la línea de succión para 3 toneladas?", options: ["3/8 pulgada", "3/4 pulgada", "1-1/8 pulgada", "1/4 pulgada"], correct: 1, explanation: "Para 3 toneladas residencial, la línea de succión típica es 3/4 pulgada. Siempre más grande que la de líquido porque transporta vapor de baja densidad." },
        { category:"Tubería", q: "¿Por qué la línea de succión es más grande que la de líquido?", options: ["Para que se vea diferente en la instalación", "Porque transporta vapor de baja densidad que necesita mayor diámetro para mantener velocidad correcta y retorno de aceite", "Porque lleva más refrigerante", "Solo por convención de la industria"], correct: 1, explanation: "El vapor tiene mucho menos densidad que el líquido. Se necesita mayor diámetro para mantener una velocidad que retorne aceite al compresor (típico 700-1200 FPM en succión)." },
        { category:"Tubería", q: "¿Cuál es el propósito de los oil traps en líneas de succión verticales?", options: ["Atrapar humedad del refrigerante", "Acumular aceite y permitir que la velocidad del vapor lo empuje de vuelta al compresor en subidas verticales", "Atrapar partículas de suciedad", "Regular la presión del refrigerante"], correct: 1, explanation: "En risers verticales, el aceite tiende a quedarse en la parte baja. Los oil traps acumulan aceite hasta que la velocidad del vapor es suficiente para arrastrarlo. Se instalan cada 20 pies de riser vertical." },
        { category:"Tubería", q: "¿Qué es una conexión flare y cuándo se usa?", options: ["Una conexión soldada permanente", "Una conexión mecánica abocardada de 45° que no requiere soldadura, común en mini-splits y conexiones de servicio", "Una conexión roscada con teflón", "Una conexión de compresión para agua"], correct: 1, explanation: "El flare de 45° crea un sello metal a metal cuando se aprieta con tuerca flare. Se usa donde no se puede soldar: mini-splits, conexiones de servicio, y acceso rápido." },
        { category:"Tubería", q: "¿Cuál es el torque correcto para una tuerca flare de 3/8 pulgada?", options: ["Apretar a mano y dar un cuarto de vuelta", "El torque especificado por el fabricante, típicamente 15-33 ft-lbs según el diámetro", "Apretar lo más fuerte posible con llave", "No importa el torque si no hay fugas"], correct: 1, explanation: "Cada diámetro tiene torque específico. Poco torque = fuga. Demasiado = daño al asiento del flare o tuerca. Siempre usar llave de torque y consultar tabla del fabricante." },
        { category:"Tubería", q: "¿Cómo se identifica la línea de succión de la línea de líquido en el campo?", options: ["Ambas se ven iguales y no se pueden distinguir", "La línea de succión es la más grande, está aislada, y se siente fría al tacto durante enfriamiento", "La línea de succión es la más pequeña", "Solo por el color del aislamiento"], correct: 1, explanation: "Línea de succión: tubo más grande, aislada con foam, fría al tacto. Línea de líquido: tubo más pequeño, sin aislar, tibia al tacto. Se conectan al condensador exterior." },
        { category:"Tubería", q: "¿Qué sucede si se usa tubería de diámetro incorrecto?", options: ["No hay impacto en el rendimiento del sistema", "Afecta la velocidad del refrigerante, retorno de aceite, caída de presión, y capacidad del sistema", "Solo cambia el color del refrigerante", "Solo afecta el ruido del sistema"], correct: 1, explanation: "Tubería subdimensionada: excesiva caída de presión, pérdida de capacidad, y ruido. Tubería sobredimensionada: velocidad muy baja, pobre retorno de aceite al compresor. Siempre usar el diámetro especificado." },
        { category:"Tubería", q: "¿Qué material se usa para la línea de drenaje del condensado?", options: ["Tubería de cobre tipo ACR", "PVC o CPVC según código local, típicamente 3/4 pulgada mínimo", "Tubería de acero galvanizado", "Manguera flexible de jardín"], correct: 1, explanation: "PVC Schedule 40 es el más común para drenaje de condensado. Algunos códigos requieren CPVC. El diámetro mínimo es generalmente 3/4 pulgada con pendiente de 1/4 pulgada por pie." },
        { category:"Tubería", q: "¿Cuál es la distancia máxima recomendada para soportes de tubería de cobre horizontal?", options: ["Cada 10 pies sin importar diámetro", "Cada 4-6 pies para tuberías de 3/4 pulgada o menores, con soportes que absorban vibración", "Cada 20 pies es suficiente", "No se necesitan soportes si la tubería es rígida"], correct: 1, explanation: "Las tuberías de refrigerante necesitan soportes cada 4-6 pies para evitar pandeo y vibración. Los soportes deben tener rubber isolators para absorber vibración del compresor. Sin soportes, la tubería puede romperse por fatiga." },
        { category:"Tubería", q: "¿Por qué se debe evitar doblar la tubería ACR en ángulos muy cerrados?", options: ["Solo por apariencia de la instalación", "Porque se puede aplastar o crear restricción al flujo, y debilitar la pared del tubo causando posible fuga futura", "No hay problema con ángulos cerrados si se calienta", "Solo afecta el ruido del refrigerante"], correct: 1, explanation: "Doblados muy cerrados aplanan la tubería, restringiendo flujo y creando turbulencia. El radio mínimo de doblez es típicamente 5 veces el diámetro del tubo. Usar tube bender para doblados controlados." },
        { category:"Tubería", q: "¿Qué es un line set pre-charged?", options: ["Un set de líneas ya cargadas con soldadura", "Un set de líneas pre-fabricadas que incluyen refrigerante para mini-splits, con conexiones flare listas", "Líneas que solo necesitan limpieza previa", "Un set de líneas con aislamiento pre-instalado"], correct: 1, explanation: "Los line sets pre-charged vienen con refrigerante ya dentro, conexiones flare listas, y longitud fija. Cuando se conectan al mini-split, la carga complementa la de fábrica. Están sellados con presión de nitrógeno." },
        { category:"Tubería", q: "¿Qué material de aislamiento se usa para la línea de succión?", options: ["Fibra de vidrio enrollada con cinta", "Espuma elastomérica (Armaflex o similar) resistente a humedad y condensación", "Cinta de teflón envuelta", "No necesita aislamiento si pasa por el ático"], correct: 1, explanation: "La espuma elastomérica (tipo Armaflex) es el estándar: resiste humedad, previene condensación, mantiene temperatura. Se instala en la línea de succión y se sella en las juntas para evitar que humedad entre y degrade el aislamiento." },
      
        { category: "Electricidad", q: "¿Cuál es la ley de Ohm?", options: ["Potencia = Voltaje × Resistencia", "Voltaje = Corriente × Resistencia (V = I × R)", "Corriente = Voltaje × Resistencia", "Resistencia = Corriente ÷ Voltaje"], correct: 1, explanation: "V = I × R. Se reorganiza: I = V/R para corriente, R = V/I para resistencia." },
        { category: "Electricidad", q: "¿Cuál es la fórmula de potencia eléctrica?", options: ["W = V ÷ I", "W = V × I (Watts = Voltaje × Amperios)", "W = I ÷ V", "W = R × I"], correct: 1, explanation: "Watts = Voltaje × Amperios. 10A a 240V = 2,400W." },
        { category: "Electricidad", q: "¿Qué indica el RLA en la placa del compresor?", options: ["Corriente máxima de arranque", "Rated Load Amps - corriente máxima continua en operación normal", "Corriente mínima para funcionar", "Corriente del ventilador"], correct: 1, explanation: "RLA es la corriente máxima en operación continua normal. Si excede RLA, hay problema." },
        { category: "Electricidad", q: "¿Qué es el LRA del compresor?", options: ["Low Resistance Amps", "Locked Rotor Amps - corriente momentánea de arranque con rotor parado", "Line Rated Amps", "Load Running Amps"], correct: 1, explanation: "LRA puede ser 5-8 veces el RLA. El breaker y cables se dimensionan considerándolo." },
        { category: "Electricidad", q: "¿Cuál es la función del contactor?", options: ["Regular velocidad del compresor", "Interruptor controlado por el termostato que energiza o desenergiza el compresor", "Proteger contra sobrecarga", "Almacenar energía"], correct: 1, explanation: "El contactor es un relay de alta potencia. La bobina se energiza con 24V del termostato (señal Y)." },
        { category: "Electricidad", q: "¿Qué función tiene el capacitor de marcha?", options: ["Potencia extra solo durante arranque", "Crear desfase eléctrico que mantiene torque del motor durante operación continua", "Energía de respaldo", "Regular voltaje"], correct: 1, explanation: "Crea desfase de corriente entre devanados Start y Run. Sin él, el motor pierde eficiencia." },
        { category: "Electricidad", q: "¿Diferencia entre capacitor de arranque y de marcha?", options: ["Son el mismo componente", "Arranque: mayor capacitancia, trabaja brevemente. Marcha: menor capacitancia, trabaja continuamente", "El de arranque es más pequeño", "Uno para 240V, otro para 120V"], correct: 1, explanation: "Start cap: 100-600 µF, 1-2 segundos. Run cap: 5-80 µF, permanente en circuito." },
        { category: "Electricidad", q: "¿Cómo se verifica un capacitor?", options: ["Midiendo voltaje AC mientras opera", "Descargarlo primero, luego medir µF con función de capacitancia; ±6% del rating", "Resistencia con sistema energizado", "Continuidad a la carcasa"], correct: 1, explanation: "DESCARGAR primero. Medir µF. 35µF debe leer 32.9-37.1µF. NUNCA medir cargado." },
        { category: "Electricidad", q: "¿Qué pasa si el run capacitor falla?", options: ["Arranca normal pero enfría menos", "Compresor puede no arrancar, vibrar, alto amperaje y protección térmica se activa", "Gira al revés", "Solo el ventilador se afecta"], correct: 1, explanation: "Sin run cap, el compresor pierde torque. Puede vibrar (hums), alto amperaje, y protección lo apaga." },
        { category: "Electricidad", q: "¿Cuántos cables para 240V monofásico HVAC?", options: ["2: 1 hot y 1 neutral", "3: 2 hot y 1 ground", "4: 2 hot, 1 neutral, 1 ground", "1 cable hot"], correct: 1, explanation: "240V monofásico HVAC: dos hot (L1, L2) y un ground. Si necesita 120V también, se agrega neutral." },
        { category: "Electricidad", q: "¿Qué es un circuito en serie?", options: ["Cargas a diferentes fuentes", "Cargas una tras otra en un solo camino de corriente", "Cargas en paralelo", "Circuito de emergencia"], correct: 1, explanation: "En serie, si una carga abre, todo se interrumpe. Los safety switches del furnace están en serie." },
        { category: "Electricidad", q: "¿Qué es un circuito en paralelo?", options: ["Cargas en secuencia", "Cargas lado a lado, cada una recibiendo voltaje completo", "Dos fuentes de voltaje", "Circuito de emergencia"], correct: 1, explanation: "En paralelo, si una falla, las demás siguen. Circuitos del breaker panel están en paralelo." },
        { category: "Electricidad", q: "¿Qué hace el transformador en HVAC?", options: ["Almacena energía", "Reduce voltaje de 240V/120V a 24V para el circuito de control", "Aumenta amperaje", "Convierte AC a DC"], correct: 1, explanation: "Reduce voltaje de línea a 24VAC para termostato, relays, contactores, y válvula de gas." },
        { category: "Electricidad", q: "¿Función del fusible o breaker?", options: ["Regular voltaje", "Proteger cableado contra sobrecorriente abriendo el circuito", "Mejorar eficiencia", "Estabilizar frecuencia"], correct: 1, explanation: "Protege el cableado de sobrecalentarse. No debe exceder el MOCP del equipo." },
        { category: "Electricidad", q: "¿Qué es un relay?", options: ["Almacena energía", "Interruptor electromecánico activado por bobina que controla circuito separado", "Regulador de voltaje", "Medidor de corriente"], correct: 1, explanation: "La bobina mueve contactos que abren o cierran otro circuito. Controla alta potencia con bajo voltaje." },
        { category: "Electricidad", q: "¿Qué significa contacto normalmente abierto (NO)?", options: ["Siempre abierto", "Abierto sin energía, se cierra cuando la bobina se energiza", "Cerrado por defecto", "Flujo unidireccional"], correct: 1, explanation: "NO: sin voltaje = abierto. Con voltaje = cierra. NC (Normally Closed) es lo opuesto." },
        { category: "Electricidad", q: "¿Calibre de cable para 20 amperios?", options: ["14 AWG", "12 AWG", "10 AWG", "8 AWG"], correct: 1, explanation: "12 AWG = 20A. 14 AWG = 15A. 10 AWG = 30A. Número AWG más bajo = cable más grueso." },
        { category: "Electricidad", q: "¿Qué es un GFCI?", options: ["Fusible de alta capacidad", "Detecta corriente fugándose a tierra y desconecta en milisegundos", "Control de velocidad", "Regulador de voltaje"], correct: 1, explanation: "GFCI detecta fuga a tierra y abre en 1/40 segundo. Requerido en áreas húmedas." },
        { category: "Electricidad", q: "¿Cómo identificar el devanado común (C) del compresor?", options: ["Resistencia más alta", "Terminal con resistencia más baja a las otras dos (S y R)", "Continuidad a carcasa", "Terminal roja"], correct: 1, explanation: "C es punto común. C a S y C a R son más bajas. R a S = la suma de ambas." },
        { category: "Electricidad", q: "¿Qué indica 0 ohms entre terminal y tierra del compresor?", options: ["Aislamiento perfecto", "Devanado en cortocircuito a tierra - necesita reemplazo", "Resistencia normal", "Multímetro descalibrado"], correct: 1, explanation: "0 ohms a carcasa = aislamiento falló. Lo normal es infinito (OL) entre terminal y carcasa." },
        { category: "Electricidad", q: "¿Voltaje del circuito de control HVAC residencial?", options: ["120VAC", "24VAC", "240VAC", "12VDC"], correct: 1, explanation: "24VAC del transformador para termostato, válvula de gas, contactores." },
        { category: "Electricidad", q: "¿Efecto de voltaje 10% bajo el nominal?", options: ["Funciona normal", "Compresor consume más amperaje, se sobrecalienta y puede fallar", "Gira más rápido", "Solo afecta iluminación"], correct: 1, explanation: "Bajo voltaje = alto amperaje (P=VxI). Compresor se sobrecalienta, capacitor fuera de rango." },
        { category: "Electricidad", q: "¿Qué es un dual run capacitor?", options: ["Dos de arranque", "Capacitor con 3 terminales (C, HERM, FAN) para compresor y ventilador", "120V y 240V", "Respaldo automático"], correct: 1, explanation: "C (Common), HERM (compresor), FAN (ventilador). Ejemplo: 35/5 µF." },
        { category: "Electricidad", q: "¿Qué protege el fusible de 3A del control?", options: ["Compresor", "El transformador contra cortocircuito en cableado de control 24V", "Circuito de alta potencia", "Bomba de condensado"], correct: 1, explanation: "Si hay corto en el termostato, el fusible se quema en vez del transformador." },
        { category: "Electricidad", q: "¿Cómo medir amperaje con pinza amperimétrica?", options: ["Alrededor de ambos cables", "Alrededor de un solo conductor", "Puntas a terminales", "Voltaje dividido entre resistencia"], correct: 1, explanation: "Pinza en UN SOLO conductor. Con ambos cables, corrientes se cancelan y marca cero." },
        { category: "Electricidad", q: "¿Qué es un motor ECM?", options: ["Motor de inducción con capacitor", "Motor DC sin escobillas con controlador electrónico de velocidad variable", "Motor universal AC/DC", "Motor por resistencia"], correct: 1, explanation: "ECM: DC sin escobillas, más eficiente (80% vs 60% PSC), mantiene CFM constante." },
        { category: "Electricidad", q: "¿Qué es un sequencer en furnace eléctrico?", options: ["Secuencia de válvula de gas", "Relay temporizado que enciende elementos calefactores en secuencia", "Secuenciador de defrost", "Secuencia del compresor"], correct: 1, explanation: "Enciende heating elements uno a la vez con intervalos de 15-30 segundos para evitar pico." },
        { category: "Electricidad", q: "¿Función del overload protector del compresor?", options: ["Proteger contra alto voltaje", "Desconectar si temperatura o amperaje exceden límites seguros", "Proteger contra falta de refrigerante", "Regular velocidad"], correct: 1, explanation: "Bimetálico que abre por sobrecalentamiento o alto amperaje. Se resetea al enfriarse." },
        { category: "Electricidad", q: "¿Qué causa chattering del contactor?", options: ["Exceso de refrigerante", "Bajo voltaje en la bobina (menos de 20V)", "Voltaje muy alto", "Capacitor sobredimensionado"], correct: 1, explanation: "Voltaje en bobina debe ser 24V ±10%. Bajo voltaje causa vibración. Transformador débil o cables largos." },
        { category: "Electricidad", q: "¿Qué significa single phase en la placa?", options: ["Equipo usa una sola fase (120V o 240V)", "Un solo modo", "Una velocidad", "Solo enfriamiento"], correct: 0, explanation: "Monofásico: 240V/1ph/60Hz residencial. Comercial grande usa three phase (trifásico)." },
        { category: "Electricidad", q: "¿Qué es un hard start kit?", options: ["Kit de herramientas", "Capacitor de arranque con relay potencial para compresor con dificultad de arranque", "Kit de aislamiento", "Kit de contactores"], correct: 1, explanation: "Agrega start cap y relay potencial. Para compresores viejos, líneas largas, o bajo voltaje." },
        { category: "Electricidad", q: "¿Qué pasa si se pierde una fase en motor trifásico?", options: ["Funciona normal", "Continúa con alto amperaje en las dos fases restantes, sobrecalentándose", "Se detiene sin daño", "Gira al revés"], correct: 1, explanation: "Single phasing: las otras dos fases absorben 173% de amperaje. Motor se sobrecalienta rápidamente." },
        { category: "Electricidad", q: "¿Qué es un VFD?", options: ["Fusible variable", "Dispositivo que controla velocidad del motor variando la frecuencia", "Detector de voltaje", "Protección de frecuencia"], correct: 1, explanation: "Convierte AC→DC→AC variable. Reducir velocidad 50% reduce consumo a 12.5%." },
        { category: "Electricidad", q: "¿Propósito del time delay relay en HVAC?", options: ["Retardar apagado", "Retraso antes de energizar compresor para proteger contra ciclo corto", "Retardar termostato", "Programar horarios"], correct: 1, explanation: "Retraso de 5 minutos permite que presiones se igualen. Arrancar contra alta presión daña el compresor." },
        { category: "Electricidad", q: "¿Cómo verificar que un circuito está desenergizado?", options: ["Apagar breaker y confiar", "Probador verificado, lockout/tagout, verificar ausencia de voltaje, verificar probador de nuevo", "Observar luces apagadas", "Tocar brevemente"], correct: 1, explanation: "Procedimiento: apagar, lockout/tagout, verificar probador en fuente viva, verificar circuito, verificar probador otra vez." },
        { category: "Electricidad", q: "¿Qué es el factor de potencia?", options: ["Watts por hora", "Relación entre potencia real (watts) y aparente (VA)", "Voltaje real vs nominal", "Eficiencia mecánica"], correct: 1, explanation: "PF = Watts ÷ VA. PF 0.85 = 85% se convierte en trabajo útil. Capacitores de marcha mejoran PF." },
        { category: "Electricidad", q: "¿Qué es corriente de fuga a tierra?", options: ["Corriente normal por ground", "Corriente que se desvía del circuito normal y fluye a tierra por caminos no intencionados", "Corriente del electrodo", "Resistencia del ground"], correct: 1, explanation: "Peligrosa: electrocución o incendio. GFCI protege detectando diferencia entre hot y neutral." },

        { category:"OSHA", q: "¿Qué es un toolbox talk (plática de seguridad)?", options: ["Una reunión para contar herramientas", "Una reunión breve antes del trabajo para discutir peligros específicos del día y medidas de prevención", "Una clase formal de certificación OSHA", "Una revisión del inventario de herramientas"], correct: 1, explanation: "El toolbox talk es una charla de 5-15 minutos antes de empezar el trabajo. Cubre peligros específicos de la tarea del día, EPP requerido, y procedimientos de emergencia. Se documenta con firma de asistentes." },
        { category:"OSHA", q: "¿Qué es arc flash y por qué es peligroso?", options: ["Una chispa pequeña que no causa daño", "Una descarga explosiva de energía eléctrica que genera calor extremo, luz intensa, y onda de presión", "Un tipo de soldadura eléctrica controlada", "Una falla en la iluminación del área de trabajo"], correct: 1, explanation: "Arc flash puede alcanzar 35,000°F (más caliente que la superficie del sol), causando quemaduras severas, ceguera, y lesiones por la onda de presión. Se requiere análisis de arc flash y PPE apropiado según NFPA 70E." },
        { category:"OSHA", q: "¿Qué debe contener un kit de primeros auxilios en el vehículo de servicio?", options: ["Solo bandas adhesivas y alcohol", "Vendajes, gasas, cinta, guantes, antiséptico, solución para ojos, tijeras, y manual de primeros auxilios como mínimo", "Solo un teléfono para llamar al 911", "No se requiere kit si hay un hospital cercano"], correct: 1, explanation: "OSHA requiere primeros auxilios accesibles. Kit mínimo: vendajes varios tamaños, gasas estériles, cinta adhesiva médica, guantes desechables, antiséptico, lavaojos, tijeras, y guía de primeros auxilios." },
        { category:"OSHA", q: "¿Qué es el estándar NFPA 70E?", options: ["Un estándar de instalación de ductos HVAC", "El estándar de seguridad eléctrica en el trabajo que establece prácticas seguras y requisitos de PPE eléctrico", "Una regulación de eficiencia energética", "Un código de construcción para edificios nuevos"], correct: 1, explanation: "NFPA 70E establece: distancias seguras de trabajo, requisitos de PPE según nivel de energía (cal/cm²), procedimientos de lockout/tagout eléctrico, y calificaciones del personal para trabajo eléctrico." },
        { category:"OSHA", q: "¿Cuáles son las categorías de peligros en el sistema GHS?", options: ["Solo inflamable y tóxico", "Físicos (inflamable, explosivo), salud (tóxico, corrosivo, carcinógeno), y ambientales", "Solo peligros eléctricos y mecánicos", "Solo peligros de temperatura alta y baja"], correct: 1, explanation: "GHS clasifica en tres grupos: peligros físicos (inflamable, oxidante, explosivo, gas a presión), peligros para la salud (tóxico, corrosivo, irritante, carcinógeno), y peligros ambientales (tóxico acuático)." },
        { category:"OSHA", q: "¿Qué es el right-to-know del trabajador?", options: ["Derecho a conocer el salario de sus compañeros", "Derecho a conocer los peligros químicos en su lugar de trabajo y cómo protegerse de ellos", "Derecho a conocer las ganancias de la empresa", "Derecho a conocer la información personal de los clientes"], correct: 1, explanation: "El derecho a saber (Right-to-Know) bajo HazCom: conocer qué químicos hay, acceso a SDS, entrenamiento sobre peligros, y saber cómo protegerse. El empleador debe proveer esta información sin costo." },
        { category:"OSHA", q: "¿Cuándo se requiere un permiso de trabajo en caliente (hot work permit)?", options: ["Solo en cocinas comerciales", "Cuando se usa soplete, soldadura, o cualquier fuente de ignición en áreas donde hay materiales combustibles", "Solo en refinerías de petróleo", "Solo cuando la temperatura exterior excede 100°F"], correct: 1, explanation: "Hot work permit se requiere para soldar, cortar, o usar soplete cerca de materiales combustibles. Incluye: verificar área, tener extintor, fire watch durante y 30 min después, y cubrir combustibles." },
        { category:"OSHA", q: "¿Qué es un fire watch (vigía de incendio)?", options: ["Un sistema automático de detección de incendios", "Una persona designada para monitorear el área durante y después del trabajo en caliente buscando señales de fuego", "Un tipo de extintor portátil", "Una alarma de incendio portátil"], correct: 1, explanation: "El fire watch es una persona con extintor que observa durante la soldadura y 30-60 minutos después para detectar chispas o fuego incipiente. Conoce la ubicación de alarmas y extintores." },
        { category:"OSHA", q: "¿Cuál es la diferencia entre peligro (hazard) y riesgo (risk)?", options: ["Son exactamente lo mismo", "Peligro es la fuente de daño potencial; riesgo es la probabilidad de que ese daño ocurra combinada con la severidad", "Peligro es para equipos y riesgo es para personas", "No hay diferencia en el contexto de OSHA"], correct: 1, explanation: "Ejemplo: un cable pelado es un peligro (fuente de daño). El riesgo depende de la probabilidad de contacto y la severidad (voltaje, amperaje). Los controles reducen el riesgo: aislar el cable, LOTO, PPE." },
        { category:"OSHA", q: "¿Qué tipo de protección respiratoria se puede necesitar en HVAC?", options: ["Nunca se necesita protección respiratoria en HVAC", "Mascarilla N95 para polvo/fibra de vidrio, respirador con cartuchos para químicos, o SCBA para espacios confinados", "Solo una bufanda sobre la nariz", "Solo cuando se trabaja con asbesto"], correct: 1, explanation: "N95 para fibra de vidrio, polvo de coils, y partículas. Respirador con cartuchos para limpiadores químicos y solventes. En espacios confinados con atmósfera peligrosa puede requerirse aire suministrado (SCBA)." },
        { category:"OSHA", q: "¿Qué es la jerarquía de controles de peligros?", options: ["Una lista de prioridades de trabajo diario", "Eliminación > sustitución > controles de ingeniería > controles administrativos > PPE, en orden de efectividad", "La estructura organizacional de la empresa", "El orden en que se inspeccionan los equipos"], correct: 1, explanation: "La jerarquía indica la prioridad de control: 1) Eliminar el peligro, 2) Sustituir por algo menos peligroso, 3) Controles de ingeniería (barreras), 4) Controles administrativos (procedimientos), 5) PPE (último recurso)." },
        { category:"OSHA", q: "¿Qué debe hacer un trabajador nuevo antes de comenzar en un sitio de construcción?", options: ["Comenzar a trabajar inmediatamente sin orientación", "Recibir orientación de seguridad del sitio que incluya peligros específicos, rutas de evacuación, y procedimientos de emergencia", "Solo firmar un formulario de responsabilidad", "Solo observar a otros trabajadores por una hora"], correct: 1, explanation: "Orientación requerida: peligros del sitio, reglas de seguridad, ubicación de extintores y kit de primeros auxilios, rutas de evacuación, señales de emergencia, y contacto del supervisor de seguridad." },
        { category:"OSHA", q: "¿Cuál es la importancia de la investigación de accidentes?", options: ["Solo para determinar culpabilidad y castigar", "Identificar las causas raíz para implementar medidas correctivas y prevenir recurrencia", "Solo es necesaria si hay demanda legal", "Solo la realiza OSHA, no la empresa"], correct: 1, explanation: "La investigación busca causas raíz, no culpables. Identifica factores contribuyentes: equipo defectuoso, falta de entrenamiento, procedimientos inadecuados, etc. Las medidas correctivas previenen futuros accidentes similares." },
        { category:"OSHA", q: "¿Qué es una barricada o cinta de seguridad?", options: ["Decoración del sitio de trabajo", "Una barrera física o visual que delimita áreas peligrosas para prevenir acceso no autorizado", "Un tipo de herramienta de medición", "Material para aislar tuberías"], correct: 1, explanation: "Las barricadas y cintas (amarilla: precaución, roja: peligro/no entrar) delimitan zonas de trabajo peligrosas: excavaciones, trabajo eléctrico, áreas de izaje, o donde hay riesgo de caída de objetos." },
        { category:"OSHA", q: "¿Por qué es importante la hidratación durante trabajo en exteriores?", options: ["Solo para evitar la sed, no tiene impacto en seguridad", "La deshidratación causa fatiga, confusión, calambres, y aumenta el riesgo de heat stress y accidentes", "Solo es importante si la temperatura excede 110°F", "El café y las bebidas energéticas son suficientes"], correct: 1, explanation: "OSHA recomienda: beber agua cada 15-20 minutos (antes de sentir sed), proveer agua fresca accesible, permitir descansos en sombra, y monitorear síntomas de heat stress. La deshidratación reduce la concentración aumentando riesgo de accidentes." },
        { category:"OSHA", q: "¿Qué es un safety stand-down?", options: ["Parar todo el trabajo permanentemente", "Una pausa voluntaria en el trabajo para hablar sobre seguridad, reconocer peligros, y reforzar prácticas seguras", "Una suspensión disciplinaria por violación de seguridad", "Un cierre ordenado por OSHA"], correct: 1, explanation: "El safety stand-down es una práctica donde se detiene el trabajo brevemente para discutir un tema de seguridad específico. OSHA promueve el National Safety Stand-Down anual enfocado en prevención de caídas." },
        { category:"OSHA", q: "¿Qué responsabilidad tiene el empleado bajo OSHA?", options: ["Ninguna, toda la responsabilidad es del empleador", "Cumplir con las reglas de seguridad, usar PPE proporcionado, reportar peligros, y no poner en riesgo a otros", "Solo usar PPE cuando el supervisor está presente", "Solo seguir reglas en los primeros 90 días de empleo"], correct: 1, explanation: "Responsabilidades del empleado: seguir las reglas de seguridad, usar PPE correctamente, reportar condiciones inseguras, reportar lesiones, no operar equipo sin autorización, y no poner en peligro a compañeros." },
        { category:"OSHA", q: "¿Qué es un programa de seguridad escrito?", options: ["Un folleto promocional de la empresa", "Un documento que establece las políticas, procedimientos, responsabilidades y programas de seguridad de la empresa", "Un registro de accidentes pasados", "Solo es requerido para empresas de más de 500 empleados"], correct: 1, explanation: "El programa escrito incluye: política de seguridad, responsabilidades de cada nivel, procedimientos de emergencia, programa de entrenamiento, investigación de accidentes, y inspecciones. Algunas normas OSHA lo requieren específicamente." },
        { category:"Troubleshooting", q: "¿Qué causa un ruido de silbido en ductos?", options: ["Exceso de refrigerante", "Velocidad de aire excesiva por ductos subdimensionados, dampers cerrados, o registros restringidos", "Compresor fallando", "Transformador defectuoso"], correct: 1, explanation: "Silbido = alta velocidad de aire forzada por restricciones. Solución: reducir restricción o velocidad del blower." },
        { category:"Troubleshooting", q: "¿Qué causa cascabeleo (rattling) en el condensador?", options: ["Refrigerante burbujeando normalmente", "Tornillos sueltos, panel desajustado, basura dentro, o aislante suelto", "Compresor girando rápido", "Carga excesiva"], correct: 1, explanation: "Inspeccionar: tornillos del gabinete, basura dentro vibrando, tubing tocando gabinete, fan blade desbalanceada." },
        { category:"Troubleshooting", q: "¿Qué hacer si el aire huele a moho?", options: ["Agregar refrigerante", "Limpiar evaporador, charola de drenaje, y línea de drenaje para remover moho", "Subir temperatura", "Cambiar refrigerante"], correct: 1, explanation: "Olor a moho = crecimiento biológico en evaporador húmedo o drenaje. Limpiar con solución antimicrobiana. Considerar luz UV para prevención." },
        { category:"Troubleshooting", q: "¿Qué indica amperaje bajo vs RLA en el compresor?", options: ["Funcionamiento perfecto", "Baja carga de refrigerante, válvulas internas débiles, o condiciones anormales", "Capacitor sobredimensionado", "Temperatura exterior fría"], correct: 1, explanation: "Amperaje muy bajo = poca carga de trabajo: poco refrigerante, válvulas con bypass, o condiciones anormalmente bajas." },
        { category:"Troubleshooting", q: "¿Cómo verificar si hay aire (no condensables) en el sistema?", options: ["Burbujas en sight glass", "Presión de descarga más alta de lo esperado para la temperatura ambiente", "Humedad en supply air", "Solo con identificador"], correct: 1, explanation: "Aire aumenta la presión de descarga por encima de la tabla P-T. Solución: recuperar, evacuar completamente, recargar." },
        { category:"Troubleshooting", q: "¿Qué causa que un furnace no encienda el igniter?", options: ["Falta de refrigerante en el sistema", "Board no envía voltaje al igniter, igniter roto, o la secuencia se detuvo antes por falla de presostato o rollout", "Filtro de aire muy limpio", "Termostato en modo cooling"], correct: 1, explanation: "Secuencia: W llama → inducer → presostato cierra → board energiza igniter. Si el igniter no se enciende, verificar cada paso previo y el voltaje al igniter." },
        { category:"Troubleshooting", q: "¿Qué indica un compresor que consume amperaje muy alto?", options: ["Funcionamiento normal a máxima capacidad", "Condensador sucio, bajo voltaje, válvulas dañadas, bearings desgastados, o sistema sobrecargado de refrigerante", "Capacitor nuevo funcionando correctamente", "Filtro de aire recién cambiado"], correct: 1, explanation: "Alto amperaje = compresor trabaja duro: condensador sucio (alta head pressure), bajo voltaje (P=V×I), bearings desgastados (fricción mecánica), o sobrecarga de refrigerante." },
        { category:"Troubleshooting", q: "¿Cómo diagnosticar un evaporador parcialmente tapado?", options: ["Solo midiendo temperatura del supply", "Delta T bajo, presión de succión baja, y diferencia de temperatura visible entre secciones del coil", "Verificando voltaje del compresor", "Solo se diagnostica con cámara infrarroja"], correct: 1, explanation: "Coil parcialmente tapado: algunas secciones frías y otras calientes (visible o con termómetro). Delta T reducido porque menos superficie transfiere calor. Presión de succión puede ser baja en la sección restringida." },
        { category:"Troubleshooting", q: "¿Qué causa que el condensado se congele en la charola?", options: ["Exceso de limpiador en el coil", "Flujo de aire extremadamente bajo causando que el coil se congele y el hielo se extienda a la charola", "Temperatura del termostato configurada muy alta", "Línea de drenaje demasiado grande"], correct: 1, explanation: "Si el flujo de aire es muy bajo (filtro tapado, blower fallido), el coil se congela completamente y el hielo se extiende a la charola y línea de drenaje. Resolver la causa del bajo flujo de aire." },
        { category:"Troubleshooting", q: "¿Qué hacer si el sistema tiene el refrigerante incorrecto?", options: ["Agregar el refrigerante correcto encima del incorrecto", "Recuperar todo el refrigerante, evacuar, y recargar con el refrigerante correcto especificado por el fabricante", "No importa el tipo de refrigerante mientras enfríe", "Solo cambiar la etiqueta del sistema"], correct: 1, explanation: "Nunca mezclar refrigerantes. Recuperar todo, verificar compatibilidad del aceite con el refrigerante correcto (puede necesitar flush y cambio de aceite), evacuar a 500 micrones, y recargar." },
        { category:"Troubleshooting", q: "¿Por qué un mini-split muestra código de error E1?", options: ["Siempre significa falta de refrigerante", "Los códigos varían por fabricante — consultar el manual específico del modelo para interpretar el código", "Todos los mini-splits usan los mismos códigos", "Significa que el control remoto necesita baterías"], correct: 1, explanation: "Los códigos de error NO son universales entre fabricantes. E1 puede significar algo diferente en Mitsubishi vs Daikin vs Gree. Siempre consultar el manual del modelo específico o la app del fabricante." },
        { category:"Troubleshooting", q: "¿Cómo diagnosticar un sistema con delta T muy alto (>25°F)?", options: ["Es señal de excelente funcionamiento", "Flujo de aire insuficiente: filtro tapado, blower en velocidad baja, ductos colapsados, o coil parcialmente tapado", "Exceso de refrigerante que hay que remover", "Condensador exterior demasiado limpio"], correct: 1, explanation: "Delta T alto (>22°F) generalmente indica bajo flujo de aire. El aire pasa lento por el coil y se enfría demasiado. Verificar filtro, velocidad del blower (CFM), ductos, y superficie del evaporador." },
        { category:"Troubleshooting", q: "¿Qué causa un delta T bajo (<15°F)?", options: ["Flujo de aire excesivo es la única causa", "Bajo refrigerante, flujo de aire excesivo, condensador sucio, o compresor débil", "Termostato configurado incorrectamente", "Filtro MERV demasiado bajo"], correct: 1, explanation: "Delta T bajo: 1) Bajo refrigerante (coil no suficientemente frío). 2) Flujo de aire excesivo (pasa muy rápido). 3) Condensador sucio (alta head pressure reduce eficiencia). 4) Compresor débil." },
        { category:"Troubleshooting", q: "¿Qué verificar cuando un heat pump no calienta?", options: ["Solo verificar el nivel de refrigerante", "Válvula reversible, defrost, heat strips auxiliares, termostato en modo correcto, y diagnóstico estándar de refrigeración", "Solo cambiar el termostato", "Solo verificar el gas natural"], correct: 1, explanation: "Heat pump sin calefacción: 1) ¿Termostato en HEAT? 2) ¿Válvula reversible cambió? (verificar cable O/B). 3) ¿Defrost funcionando? 4) ¿Heat strips energizadas como backup? 5) Diagnóstico normal de presiones." },
        { category:"Troubleshooting", q: "¿Cómo verificar si la válvula reversible está funcionando?", options: ["Solo escuchando un click al cambiar modo", "Medir temperatura de las tuberías conectadas: la tubería caliente y fría deben invertirse al cambiar de modo", "Solo verificando el voltaje del termostato", "Reemplazarla sin diagnóstico"], correct: 1, explanation: "Al cambiar de cooling a heating: la tubería que era succión (fría) debe volverse descarga (caliente) y viceversa. Si no cambia, verificar el solenoide de la válvula (24V) y que la válvula no esté trabada mecánicamente." },
        { category:"Troubleshooting", q: "¿Qué indica un sight glass con burbujas constantes?", options: ["Funcionamiento normal del refrigerante", "Posible baja carga de refrigerante o restricción antes del sight glass", "Exceso de refrigerante en el sistema", "El sight glass necesita reemplazo"], correct: 1, explanation: "Burbujas constantes generalmente indican que no hay suficiente líquido subenfriado llegando al sight glass: baja carga (más común) o restricción upstream. Un sistema con carga correcta muestra líquido claro." },
        { category:"Troubleshooting", q: "¿Por qué un sistema nuevo instalado no alcanza la temperatura deseada?", options: ["Siempre es falta de refrigerante", "Carga incorrecta, ductos con fugas o mal dimensionados, cálculo de carga incorrecto, o equipo subdimensionado", "El refrigerante necesita tiempo para activarse", "La marca del equipo es inferior"], correct: 1, explanation: "En instalación nueva verificar: 1) Carga por superheat/subcooling o peso. 2) Fugas en ductos (puede perder 20-30%). 3) CFM correcto. 4) Load calculation vs tamaño del equipo. 5) Aislamiento adecuado." },
        { category:"Troubleshooting", q: "¿Cómo identificar un compresor con fuga interna de válvulas?", options: ["Solo por el ruido que hace", "Amperaje bajo, presiones ecualizadas rápidamente al apagar, succión alta y descarga baja durante operación", "Solo con equipo de ultrasonido", "Retirar el compresor y abrirlo"], correct: 1, explanation: "Señales: 1) Succión alta, descarga baja (no comprime). 2) Amperaje bajo (poca carga de trabajo). 3) Presiones se igualan en segundos al apagar (gas bypasea internamente). 4) Sistema no enfría adecuadamente." },
        { category:"Troubleshooting", q: "¿Qué causa que un sistema haga ruido de burbujeo al apagarse?", options: ["Siempre indica una falla grave", "Refrigerante migrando entre alta y baja presión mientras se ecualizan — generalmente normal", "El compresor está dañado internamente", "Hay agua dentro del sistema de refrigerante"], correct: 1, explanation: "Al apagar, el refrigerante migra del lado de alta al de baja mientras las presiones se igualan. El burbujeo es normal. Si es excesivo o prolongado, puede indicar válvula de servicio parcialmente cerrada." },
        { category:"Troubleshooting", q: "¿Qué verificar primero cuando llega una llamada de 'no heat' en un furnace?", options: ["Revisar el nivel de refrigerante", "Termostato configurado en HEAT, batería del termostato, breaker del furnace, switch de la puerta del furnace, y LED de la board", "Cambiar el igniter inmediatamente", "Verificar la presión de refrigerante"], correct: 1, explanation: "Sistemático para no heat: 1) ¿Termostato en HEAT y temp correcta? 2) ¿Breaker encendido? 3) ¿Switch de puerta del furnace cerrado? 4) ¿LED de la board parpadea? (leer código). 5) Verificar secuencia desde ahí." },
        { category:"EPA 608", q: "¿Qué es el AIM Act y cómo afecta a los técnicos HVAC?", options: ["Una ley de inmigración sin relación con HVAC", "Ley que reduce gradualmente la producción y uso de HFC (como R-410A) reemplazándolos con refrigerantes de bajo GWP", "Un programa voluntario de reciclaje de equipos", "Una certificación adicional requerida por la EPA"], correct: 1, explanation: "El AIM Act (American Innovation and Manufacturing Act, 2020) establece la reducción gradual de HFC. Para 2036, la producción se reduce 85%. Los técnicos deben prepararse para refrigerantes A2L como R-454B." },
        { category:"EPA 608", q: "¿Qué significa GWP en refrigerantes?", options: ["Gas Working Pressure — la presión de trabajo", "Global Warming Potential — medida del impacto en calentamiento global comparado con CO2", "General Warranty Period — período de garantía", "Gauge Working Pressure — presión de manómetro"], correct: 1, explanation: "GWP compara el efecto invernadero del refrigerante con el CO2 (GWP=1). R-410A tiene GWP de 2,088 (2,088 veces peor que CO2). R-454B tiene GWP de 466. La tendencia es hacia refrigerantes con GWP más bajo." },
        { category:"EPA 608", q: "¿Qué es ODP en refrigerantes?", options: ["Operating Discharge Pressure", "Ozone Depletion Potential — potencial de destrucción de la capa de ozono", "Optimal Design Pressure", "Outdoor Design Parameter"], correct: 1, explanation: "ODP mide el potencial de destruir ozono vs R-11 (ODP=1). CFC tienen ODP alto (R-12=1.0). HCFC tienen ODP menor (R-22=0.055). HFC y HFO tienen ODP=0 porque no contienen cloro." },
        { category:"EPA 608", q: "¿Qué se necesita para la certificación EPA 608 Tipo Universal?", options: ["Solo experiencia de campo sin examen", "Aprobar los exámenes Core + Tipo I + Tipo II + Tipo III con 70% mínimo en cada sección", "Solo el examen Core con 80% mínimo", "Solo una carta de recomendación del empleador"], correct: 1, explanation: "Tipo Universal requiere aprobar las 4 secciones: Core (fundamentos), Tipo I (small appliances), Tipo II (high pressure), Tipo III (low pressure). Cada sección requiere 70% mínimo. La certificación no expira." },
        { category:"EPA 608", q: "¿Qué tipo de equipo cubre la certificación Tipo I?", options: ["Sistemas centrales residenciales", "Small appliances con menos de 5 lbs de refrigerante: refrigeradores domésticos, window units, PTACs", "Solo chillers grandes", "Solo equipos de transporte refrigerado"], correct: 1, explanation: "Tipo I cubre small appliances: refrigeradores/freezers domésticos, window AC units, PTACs, deshumidificadores, y dispensadores de agua — todos con 5 lbs o menos de refrigerante." },
        { category:"EPA 608", q: "¿Qué tipo de equipo cubre la certificación Tipo II?", options: ["Solo refrigeradores domésticos", "Equipos de alta presión: AC residencial/comercial, heat pumps, sistemas de refrigeración con R-22, R-410A, R-134a", "Solo chillers centrífugos", "Solo equipos portátiles"], correct: 1, explanation: "Tipo II cubre equipos que usan refrigerantes de alta presión (presiones por encima de atmosférica en ambos lados): AC splits, packaged units, heat pumps, walk-in coolers, etc." },
        { category:"EPA 608", q: "¿Qué tipo de equipo cubre la certificación Tipo III?", options: ["Equipos de alta presión residenciales", "Equipos de baja presión como chillers centrífugos que usan R-11, R-123, o R-245fa", "Solo mini-splits", "Solo equipos de refrigeración comercial"], correct: 1, explanation: "Tipo III cubre equipos de baja presión que operan en vacío en el lado de evaporador. Principalmente chillers centrífugos grandes usando R-11, R-123, R-245fa. Requieren procedimientos especiales de recuperación." },
        { category:"EPA 608", q: "¿Por qué es importante el clean air act section 608?", options: ["Regula la calidad del aire interior solamente", "Establece regulaciones para proteger la capa de ozono controlando el manejo de refrigerantes", "Solo aplica a fábricas de refrigerantes", "Regula emisiones de vehículos"], correct: 1, explanation: "Section 608 del Clean Air Act: prohíbe ventear refrigerantes, requiere certificación de técnicos, establece niveles de recuperación, y regula la venta de refrigerantes. Protege la capa de ozono y reduce calentamiento global." },
        { category:"EPA 608", q: "¿Cuál es la multa por contratar a alguien sin certificación EPA 608 para trabajar con refrigerantes?", options: ["No hay multa, es responsabilidad del técnico", "El empleador puede recibir multas significativas por permitir que personal no certificado maneje refrigerantes", "Solo el técnico recibe la multa, no el empleador", "Solo se aplica a empresas grandes"], correct: 1, explanation: "Tanto el técnico como el empleador son responsables. El empleador que permite trabajo con refrigerantes sin certificación puede enfrentar multas civiles y acciones regulatorias bajo el Clean Air Act." },
        { category:"EPA 608", q: "¿Qué debe hacer un técnico si encuentra un sistema con un refrigerante desconocido?", options: ["Asumir que es R-22 y trabajar normalmente", "Usar un identificador de refrigerante antes de conectar equipos de recuperación o servicio", "Ventear el refrigerante y recargar con el correcto", "Mezclar con R-410A para diluir"], correct: 1, explanation: "Nunca asumir el tipo de refrigerante. Un identificador de refrigerante analiza la composición. Mezclar refrigerantes incompatibles contamina el equipo de recuperación y puede ser peligroso." },
        { category:"EPA 608", q: "¿Qué refrigerante está reemplazando al R-22 en sistemas existentes?", options: ["R-410A como reemplazo directo sin cambios", "R-407C, R-422D, o R-438A como opciones de retrofit dependiendo del sistema", "R-12 como alternativa más nueva", "No hay reemplazo, los sistemas deben descartarse"], correct: 1, explanation: "R-22 no se produce más (eliminado 2020). Para retrofit de sistemas existentes: R-407C (requiere cambio a POE oil), R-422D, R-438A. Cada uno tiene pros/contras. R-410A NO es retrofit directo — requiere equipo nuevo." },
        { category:"EPA 608", q: "¿Cuál es la presión de operación típica de R-410A en el lado de alta?", options: ["Igual que R-22: alrededor de 250 PSI", "Significativamente más alta que R-22: 350-475 PSI dependiendo de condiciones", "Más baja que R-22: alrededor de 150 PSI", "No tiene presión en el lado de alta"], correct: 1, explanation: "R-410A opera a presiones 50-60% más altas que R-22. En un día de 95°F, la presión de descarga puede estar alrededor de 400-475 PSI. Por eso requiere mangueras, manómetros, y componentes rated para esas presiones." },
        { category:"EPA 608", q: "¿Por qué no se puede cargar R-410A en un sistema de R-22?", options: ["Porque el color del tanque es diferente", "Las presiones son mucho más altas, el aceite es incompatible, y los componentes no están rated para R-410A", "Solo porque la EPA lo prohíbe sin razón técnica", "Se puede hacer si se ajusta la carga"], correct: 1, explanation: "R-410A tiene presiones 60% mayores que R-22 — los componentes de R-22 pueden fallar catastróficamente. R-410A usa POE oil (R-22 usa mineral). La TXV, filter drier, y todo el sistema son incompatibles." },
        { category:"EPA 608", q: "¿Qué aceite usa el R-410A?", options: ["Aceite mineral igual que R-22", "POE (Polyolester) porque es miscible con R-410A a todas las temperaturas", "Aceite PAG como los autos", "No necesita aceite lubricante"], correct: 1, explanation: "R-410A requiere aceite POE (Polyolester). El aceite mineral del R-22 no es miscible con R-410A. POE es higroscópico — absorbe humedad rápidamente, por eso es crítico mantener el sistema sellado y hacer buen vacío." },
        { category:"EPA 608", q: "¿Cómo se carga R-410A al sistema?", options: ["Como vapor por el lado de baja igual que R-22", "Como líquido porque es una mezcla near-azeotrope que puede fraccionarse si se carga como vapor", "No importa si es líquido o vapor", "Solo se carga por el lado de alta"], correct: 1, explanation: "R-410A se carga como líquido para evitar fraccionamiento de la mezcla (R-32/R-125). Se invierte el tanque y se usa una válvula reguladora o el port de líquido. Cargar como vapor puede cambiar la composición." },
        { category:"EPA 608", q: "¿Qué es el fraccionamiento de un refrigerante mezcla?", options: ["Cuando el refrigerante se congela dentro del sistema", "Cuando los componentes de una mezcla se separan, cambiando la composición y las propiedades del refrigerante", "Cuando el refrigerante se divide en el condensador", "Un proceso normal de operación sin consecuencias"], correct: 1, explanation: "En mezclas zeotrópicas (R-407C), los componentes tienen diferentes puntos de ebullición y pueden separarse si hay fuga o carga como vapor. R-410A es near-azeotrope con menos riesgo, pero se carga como líquido por precaución." },
        { category:"EPA 608", q: "¿Cuánto tiempo es válida la certificación EPA 608?", options: ["1 año, debe renovarse anualmente", "Es válida de por vida y no requiere renovación", "5 años con recertificación obligatoria", "10 años con examen de actualización"], correct: 1, explanation: "La certificación EPA 608 no expira. Sin embargo, los técnicos deben mantenerse actualizados con cambios en regulaciones, nuevos refrigerantes, y procedimientos. Algunas empresas requieren recertificación voluntaria." },
        { category:"EPA 608", q: "¿Qué es la regla del 80% para tanques de refrigerante?", options: ["80% de descuento en compras grandes", "Los tanques no deben llenarse más del 80% de su capacidad para permitir expansión térmica del líquido", "80% del refrigerante debe recuperarse", "80% de pureza mínima para reciclar"], correct: 1, explanation: "Si un tanque se llena más del 80%, el refrigerante líquido puede expandirse con la temperatura y causar presión hidrostática que rupture el tanque explosivamente. Los tanques de recuperación tienen válvula de nivel del 80%." },
        { category:"EPA 608", q: "¿Qué indica el indicador de humedad del sight glass?", options: ["La temperatura del refrigerante", "Verde indica sistema seco, amarillo indica presencia de humedad que requiere cambio del filter drier", "La presión del sistema de refrigerante", "El nivel de aceite del compresor"], correct: 1, explanation: "El indicador cambia de color: verde = seco (aceptable), amarillo = húmedo (requiere acción). Si marca amarillo: cambiar el filter drier, evacuar a 500 micrones, y verificar de nuevo. La humedad daña el sistema." },
        { category:"EPA 608", q: "¿Cuál es el nivel de recuperación para equipos Tipo I (small appliances)?", options: ["No se requiere recuperación para equipos pequeños", "90% de refrigerante si el compresor funciona, o 80% si no funciona, o vacío de 4 inHg", "Solo 50% del refrigerante total", "100% siempre sin excepción"], correct: 1, explanation: "Para small appliances: si el compresor funciona, recuperar 90% del refrigerante. Si no funciona, recuperar 80% o alcanzar 4 inHg de vacío. Estos niveles son específicos para Tipo I." },
        { category:"Vacío", q: "¿Cuál es la diferencia entre una bomba de vacío de una etapa y dos etapas?", options: ["No hay diferencia práctica entre ambas", "La de dos etapas alcanza un vacío más profundo (menos micrones) usando dos mecanismos de compresión en serie", "La de una etapa es más potente que la de dos", "Las dos etapas son solo para sistemas comerciales"], correct: 1, explanation: "La bomba de dos etapas tiene dos mecanismos internos: la primera etapa hace la mayor parte del trabajo, la segunda refina para alcanzar vacío más profundo (15-25 micrones vs 75+ micrones de una etapa)." },
        { category:"Vacío", q: "¿Cada cuánto se debe cambiar el aceite de la bomba de vacío?", options: ["Solo cuando la bomba deja de funcionar", "Antes de cada uso o cuando se ve turbio/lechoso, lo que ocurra primero", "Una vez al año sin importar el uso", "Nunca, el aceite es permanente"], correct: 1, explanation: "Cambiar el aceite antes de cada trabajo asegura máximo rendimiento. Si el aceite se ve turbio o lechoso, está contaminado con humedad del sistema anterior y limitará la profundidad de vacío." },
        { category:"Vacío", q: "¿Qué tipo de aceite se usa en bombas de vacío?", options: ["Aceite de motor 10W-30 de auto", "Aceite específico para bomba de vacío de alta pureza y baja presión de vapor", "Aceite de refrigeración POE", "Cualquier aceite lubricante disponible"], correct: 1, explanation: "El aceite de bomba de vacío es específicamente formulado con baja presión de vapor para no evaporarse bajo vacío y alta capacidad de absorción de humedad. Usar aceite incorrecto limita la profundidad de vacío." },
        { category:"Vacío", q: "¿Qué sucede si no se hace vacío antes de cargar refrigerante?", options: ["El sistema funciona igual sin vacío", "Aire y humedad en el sistema causan alta presión, corrosión, congelamiento de TXV, y falla prematura del compresor", "Solo pierde un poco de eficiencia sin daños", "El refrigerante empuja el aire fuera automáticamente"], correct: 1, explanation: "Sin vacío: aire (no condensable) aumenta presión de descarga y temperatura. Humedad se congela en TXV, forma ácidos con refrigerante/aceite que corroen devanados y causarán burnout del compresor." },
        { category:"Vacío", q: "¿Cuántos micrones equivalen a presión atmosférica?", options: ["30,000 micrones", "760,000 micrones (760 mmHg × 1,000 µm/mmHg)", "500 micrones", "100,000 micrones"], correct: 1, explanation: "Presión atmosférica = 760 mmHg = 760,000 micrones. Un vacío de 500 micrones está a 0.066% de la presión atmosférica — casi todo el aire y humedad han sido removidos." },
        { category:"Vacío", q: "¿Cuál es la profundidad típica que alcanza una buena bomba de vacío de dos etapas?", options: ["500 micrones como máximo", "15-50 micrones en blank-off test", "5,000 micrones es lo normal", "No hay forma de medir la profundidad"], correct: 1, explanation: "Una bomba de dos etapas en buen estado con aceite limpio debe alcanzar 15-50 micrones en blank-off test (directamente conectada sin mangueras). Si no alcanza, necesita aceite nuevo o servicio." },
        { category:"Vacío", q: "¿Por qué el vacío es más lento al final del proceso?", options: ["La bomba se cansa y pierde potencia", "A medida que baja la presión, hay menos moléculas para mover y la tasa de extracción disminuye proporcionalmente", "El aceite se calienta y pierde efectividad", "Las mangueras se contraen bajo vacío"], correct: 1, explanation: "A presiones más bajas, hay menos moléculas de gas por unidad de volumen. La bomba sigue trabajando pero mueve menos masa. Por eso los últimos 1,000 micrones toman más tiempo que los primeros 100,000." },
        { category:"Vacío", q: "¿Qué causa que la bomba de vacío haga ruido excesivo?", options: ["Es normal que hagan mucho ruido", "Bajo nivel de aceite, aceite contaminado, válvulas internas desgastadas, o motor con problemas", "Exceso de aceite en la bomba", "Manguera conectada incorrectamente"], correct: 1, explanation: "Ruido excesivo: verificar nivel de aceite (bajo = cavitación), calidad del aceite (contaminado = válvulas ruidosas), y desgaste general. Las bombas necesitan servicio periódico: cambio de paletas, sellos, y válvulas." },
        { category:"Vacío", q: "¿Se puede hacer vacío con la bomba conectada solo al lado de baja?", options: ["Sí, el vacío pasa al lado de alta a través de las válvulas del compresor", "Se puede, pero es mucho más lento porque la TXV u orificio restringe el flujo entre ambos lados", "No, es imposible hacer vacío desde un solo lado", "Solo funciona si el compresor está corriendo"], correct: 1, explanation: "Técnicamente funciona, pero el dispositivo de expansión restringe severamente el flujo. Puede tomar horas extra alcanzar 500 micrones. Conectar en ambos lados (alta y baja) simultáneamente es mucho más eficiente." },
        { category:"Vacío", q: "¿Qué pasa si se energiza el compresor durante el vacío?", options: ["Ayuda a evacuar más rápido", "Puede dañar el compresor porque opera sin lubricación adecuada y sin carga de refrigerante", "No pasa nada si es por poco tiempo", "El compresor no arranca bajo vacío"], correct: 1, explanation: "NUNCA energizar el compresor bajo vacío: sin refrigerante no hay retorno de aceite, los devanados se sobrecalientan sin gas refrigerante enfriándolos, y puede causar burnout. Solo encender después de cargar refrigerante." },
        { category:"Vacío", q: "¿Cuántas micras equivalen a un milímetro de mercurio?", options: ["100 micrones", "1,000 micrones (1 mmHg = 1,000 µm)", "10 micrones", "10,000 micrones"], correct: 1, explanation: "1 milímetro de mercurio = 1,000 micrones. El torr es otra unidad: 1 torr = 1 mmHg = 1,000 micrones. 500 micrones = 0.5 mmHg = 0.5 torr." },
        { category:"Vacío", q: "¿Cuál es el procedimiento si el vacuómetro no baja de 2,000 micrones?", options: ["Seguir esperando indefinidamente", "Aislar secciones para identificar la fuga, verificar aceite de bomba, y probar cada conexión individualmente", "La bomba necesita reemplazo inmediato", "Agregar refrigerante para empujar el aire restante"], correct: 1, explanation: "Diagnóstico sistemático: 1) Verificar aceite de bomba. 2) Blank-off test de la bomba. 3) Aislar el manifold — si baja, la fuga está en las mangueras/conexiones. 4) Si no baja, fuga en el sistema. Verificar cada sección." },
        { category:"Vacío", q: "¿Qué es un deep vacuum?", options: ["Un vacío hecho en un sótano profundo", "Un vacío de 500 micrones o menos que asegura la remoción completa de humedad del sistema", "Cualquier lectura de vacío en el manómetro", "Un vacío hecho con dos bombas simultáneas"], correct: 1, explanation: "Deep vacuum (500 micrones o menos) baja el punto de ebullición del agua a temperatura ambiente, asegurando que toda la humedad se evapore y sea extraída. Es el estándar mínimo de la industria HVAC." },
        { category:"Vacío", q: "¿Cómo afecta la temperatura ambiente al proceso de vacío?", options: ["No tiene ningún efecto en el vacío", "Temperaturas bajas dificultan la evaporación de humedad requiriendo más tiempo o técnicas como triple evacuación", "Temperaturas altas hacen el vacío imposible", "Solo afecta si está bajo cero"], correct: 1, explanation: "A temperaturas bajas (<50°F), el agua se evapora más lentamente bajo vacío, requiriendo más tiempo. La triple evacuación con nitrógeno es más efectiva en clima frío porque el nitrógeno ayuda a absorber y arrastrar la humedad." },
        { category:"Vacío", q: "¿Qué es un micron gauge tipo Pirani?", options: ["Un manómetro de columna de mercurio", "Un sensor electrónico que mide vacío por la pérdida de calor de un filamento calentado al gas circundante", "Un medidor mecánico de presión", "Un termómetro para la bomba de vacío"], correct: 1, explanation: "El gauge Pirani tiene un filamento calentado. A menor presión (menos moléculas de gas), el filamento pierde menos calor y cambia su resistencia. Este cambio se convierte a lectura de micrones. Es el tipo más común en HVAC." },
        { category:"Vacío", q: "¿Cada cuánto se debe calibrar el vacuómetro digital?", options: ["Nunca, vienen calibrados de fábrica de por vida", "Al menos una vez al año o cuando las lecturas parezcan inconsistentes", "Cada semana sin excepción", "Solo el fabricante puede calibrarlo"], correct: 1, explanation: "La calibración periódica asegura lecturas precisas. Muchos vacuómetros digitales tienen función de auto-cero al exponerse a atmósfera. Se recomienda verificar contra un reference gauge anualmente." },
        { category:"Vacío", q: "¿Qué ventaja tiene un core removal tool con válvula de cierre?", options: ["Solo facilita remover el core del Schrader", "Permite remover el core para mayor flujo durante el vacío y reinstalarlo sin perder el vacío", "Solo se usa para cargar refrigerante más rápido", "No tiene ventaja sobre uno simple"], correct: 1, explanation: "Con válvula de cierre integrada: se remueve el core (mayor flujo = vacío más rápido), se alcanza 500 micrones, se cierra la válvula, y se reinstala el core sin romper el vacío. Esencial para un proceso eficiente." },
        { category:"Vacío", q: "¿Cuánto vacío se pierde típicamente al reinstalar el core del Schrader?", options: ["No se pierde nada si se hace correctamente", "El volumen del core tool puede causar una subida de 100-500 micrones dependiendo del volumen del sistema", "Se pierde todo el vacío y hay que empezar de nuevo", "Se pierde exactamente 1,000 micrones siempre"], correct: 1, explanation: "Al reinstalar el core, el pequeño volumen de aire en el core tool entra al sistema causando una subida. En sistemas grandes el efecto es mínimo. Por eso el core removal tool con válvula de cierre es preferido." },
        { category:"Vacío", q: "¿Qué indica si el vacuómetro lee 0 micrones?", options: ["Se alcanzó el vacío perfecto absoluto", "El vacuómetro probablemente necesita calibración o está defectuoso — el vacío perfecto es físicamente inalcanzable", "El sistema está perfectamente sellado", "La bomba de vacío es de la mejor calidad"], correct: 1, explanation: "Un vacío perfecto de 0 micrones es físicamente imposible de alcanzar con equipo de campo. Si el gauge lee 0, probablemente está descalibrado, defectuoso, o tiene un cortocircuito en el sensor." },
        { category:"Vacío", q: "¿Qué precaución se debe tomar con el vacuómetro al romper el vacío?", options: ["Dejarlo conectado durante la carga de refrigerante", "Cerrarlo o desconectarlo antes de abrir refrigerante al sistema para proteger el sensor de alta presión", "Sumergirlo en agua para enfriarlo", "No requiere ninguna precaución especial"], correct: 1, explanation: "Los sensores Pirani son delicados y no están diseñados para alta presión. Exponer el vacuómetro a presión de refrigerante (100-400 PSI) puede dañar o destruir el sensor permanentemente." },
        { category:"Vacío", q: "¿Cuál es la secuencia correcta para romper el vacío y cargar refrigerante?", options: ["Abrir las válvulas de servicio del equipo primero", "Aislar la bomba, cerrar manifold, desconectar vacuómetro, abrir válvulas de servicio del equipo para liberar carga de fábrica", "Desconectar todo y empezar la carga desde cero", "Romper el vacío con aire comprimido antes de cargar"], correct: 1, explanation: "Secuencia: 1) Cerrar válvula del manifold (aislar bomba). 2) Verificar rise test. 3) Proteger vacuómetro. 4) Abrir válvulas de servicio del condensador (liberar carga de fábrica). 5) Verificar presiones. 6) Ajustar carga si necesario." },
        { category:"Mantenimiento", q: "¿Cuándo se debe reemplazar el filter drier?", options: ["Nunca, es permanente", "Cada vez que se abre el sistema, después de burnout, o si se detecta humedad", "Solo cada 5 años", "Solo si el sistema no enfría"], correct: 1, explanation: "Filter drier se reemplaza: al abrir el sistema al ambiente, después de burnout (absorber ácidos), o si el sight glass indica humedad." },
        { category:"Mantenimiento", q: "¿Qué herramienta se usa para enderezar aletas?", options: ["Destornillador plano", "Peine de aletas (fin comb) con el FPI correcto", "Alicates de punta fina", "Manguera de agua"], correct: 1, explanation: "El fin comb tiene dientes espaciados para el FPI del condensador (12-16 típico). Se pasa suavemente para enderezar sin dañar tubos." },
        { category:"Mantenimiento", q: "¿Cómo verificar voltaje de alimentación en mantenimiento?", options: ["Solo verificar que enciende", "Medir L1-L2 en el desconector con sistema corriendo; debe estar ±10% del nominal", "Solo revisar breaker visual", "Medir corriente del transformador"], correct: 1, explanation: "Medir con sistema corriendo: 216-264V para 240V. Bajo voltaje causa alto amperaje y daño. Notificar electricista si está fuera de rango." },
        { category:"Mantenimiento", q: "¿Cómo se verifica la correa del blower en sistemas con motor de correa?", options: ["Solo verificar si el blower gira", "Verificar tensión (1/2-1 pulgada de deflexión), alineación, desgaste, y grietas en la correa", "Solo lubricar la correa con aceite", "No se verifican las correas en mantenimiento"], correct: 1, explanation: "Correa: 1) Tensión correcta (1/2-1 pulgada de deflexión al presionar). 2) Alineación de poleas. 3) Sin grietas, deshilachado, o brillo. 4) Reemplazar preventivamente si muestra desgaste." },
        { category:"Mantenimiento", q: "¿Qué es un analizador de combustión y cuándo se usa?", options: ["Solo para verificar el tipo de gas", "Instrumento que mide eficiencia, CO, O2, y temperatura de los gases de combustión del furnace", "Solo para sistemas comerciales grandes", "Un detector de fugas de refrigerante"], correct: 1, explanation: "El analizador mide: CO (seguridad), O2 (mezcla aire-combustible), CO2, eficiencia de combustión, temperatura de stack, y exceso de aire. Esencial para ajustar furnaces y verificar operación segura." },
        { category:"Mantenimiento", q: "¿Cuál es la eficiencia de combustión ideal para un furnace de gas?", options: ["50-60% es aceptable", "80-95%+ dependiendo si es estándar (80%) o de alta eficiencia (90-98%)", "100% siempre en todos los furnaces", "No se puede medir la eficiencia de combustión"], correct: 1, explanation: "Furnace estándar (80% AFUE): ~80% eficiencia de combustión. High efficiency (90%+): 90-98%. Se verifica con analizador de combustión. Bajo eficiencia puede indicar problemas de ajuste o intercambiador sucio." },
        { category:"Mantenimiento", q: "¿Qué indica un nivel alto de CO en los gases de combustión?", options: ["Combustión perfecta y eficiente", "Combustión incompleta por falta de aire, quemador sucio, o intercambiador bloqueado", "Exceso de aire en la mezcla", "El gas natural es de mala calidad"], correct: 1, explanation: "CO alto = combustión incompleta. Causas: quemador sucio, intercambiador bloqueado, poco aire primario, o gas pressure incorrecta. Peligroso si el CO llega al espacio habitado por grieta en intercambiador." },
        { category:"Mantenimiento", q: "¿Cómo se verifica el amperaje de un motor ECM?", options: ["Igual que un motor PSC con pinza", "ECM consume amperaje variable; verificar que no exceda el rating máximo y comparar con especificaciones del fabricante", "No se puede medir amperaje de ECM", "Solo se verifica por el código de error del módulo"], correct: 1, explanation: "ECM varía su velocidad y amperaje según demanda. Verificar: amperaje máximo no excede rating, módulo no muestra códigos de error, y el motor alcanza el CFM especificado." },
        { category:"Mantenimiento", q: "¿Por qué se inspecciona el gabinete del furnace durante mantenimiento?", options: ["Solo por apariencia estética", "Buscar oxidación, grietas, sellos deteriorados, y verificar que las puertas cierren correctamente para combustión segura", "Solo verificar que el número de serie sea legible", "No es necesario inspeccionar el gabinete"], correct: 1, explanation: "El gabinete del furnace debe estar sellado para: mantener combustión correcta (aire combustion separado del aire retorno), prevenir fugas de CO al retorno, y mantener presión negativa en el quemador." },
        { category:"Mantenimiento", q: "¿Cómo se lubrica un motor de ventilador del condensador?", options: ["Rociando WD-40 en el eje", "La mayoría son sealed bearings y no requieren lubricación; los antiguos con oil ports usan aceite SAE 20", "Aplicando grasa en el eje externamente", "Sumergiendo el motor en aceite"], correct: 1, explanation: "Los motores modernos del condensador tienen rodamientos sellados. Solo modelos antiguos con oil ports necesitan 3-5 gotas de SAE 20 sin detergente por temporada." },
        { category:"Mantenimiento", q: "¿Por qué se verifica el delta T durante el mantenimiento?", options: ["Solo para documentar en el reporte", "Para confirmar que el sistema transfiere calor correctamente; delta T fuera de rango indica problemas", "Solo lo verifica el supervisor", "No tiene relevancia práctica"], correct: 1, explanation: "Delta T normal: 15-22°F en cooling. Bajo (<15°F): baja carga, condensador sucio, compresor débil. Alto (>22°F): bajo flujo de aire. Es un indicador rápido de la salud general del sistema." },
        { category:"Mantenimiento", q: "¿Qué verificaciones eléctricas se hacen durante el mantenimiento?", options: ["Solo verificar que enciende", "Voltaje de alimentación, amperaje de motores/compresor, capacitores, conexiones, y fusibles", "Solo cambiar fusibles preventivamente", "Solo verificar el termostato"], correct: 1, explanation: "Verificaciones: 1) Voltaje L1-L2 (±10%). 2) Amperaje vs RLA. 3) Capacitores µF (±6%). 4) Conexiones apretadas sin arcing. 5) Fusibles intactos. 6) Contactos del contactor en buenas condiciones." },
        { category:"Mantenimiento", q: "¿Cómo se documenta el mantenimiento preventivo?", options: ["No es necesario documentar", "Registrar todas las lecturas, condiciones encontradas, trabajo realizado, y recomendaciones en un reporte escrito", "Solo tomar una foto del equipo", "Solo informar verbalmente al cliente"], correct: 1, explanation: "Documentar: lecturas de presiones, temperaturas, amperajes, µF de capacitores, condición de componentes, trabajo realizado, y recomendaciones. Sirve para: historial, garantías, y comparación en futuras visitas." },
        { category:"Mantenimiento", q: "¿Qué se verifica en el termostato durante mantenimiento?", options: ["Solo que la pantalla esté encendida", "Calibración de temperatura, programación correcta, baterías, cables firmes, y ubicación adecuada", "Solo la marca y modelo", "Nada, el termostato no necesita mantenimiento"], correct: 1, explanation: "Verificar: 1) Diferencia entre lectura del termostato y termómetro (<2°F). 2) Programas correctos. 3) Baterías frescas. 4) Cables firmes. 5) Ubicación (no en corriente de aire, sol directo, o cerca de fuentes de calor)." },
        { category:"Mantenimiento", q: "¿Cuál es la importancia de verificar las conexiones de gas en el furnace?", options: ["Solo estética de la instalación", "Fugas de gas son peligro de explosión e incendio; se verifica con detector de fugas o solución de jabón", "Solo se verifica en instalación nueva", "Solo la compañía de gas puede verificar"], correct: 1, explanation: "Verificar todas las conexiones de gas con detector electrónico o jabón. NO usar llama. Una fuga mínima puede acumular gas y causar explosión. Cualquier fuga se repara inmediatamente." },
        { category:"Mantenimiento", q: "¿Cómo se limpia un quemador del furnace?", options: ["Con agua y jabón directamente", "Cepillar suavemente con cepillo de alambre suave, soplar con aire comprimido, verificar ports limpios", "Solo reemplazarlo por uno nuevo", "Con limpiador de coil químico"], correct: 1, explanation: "Remover el quemador, cepillar suavemente para remover óxido y depósitos, verificar que todos los ports de ignición estén abiertos, y asegurar que el crossover entre quemadores esté limpio para propagación de llama." },
        { category:"Mantenimiento", q: "¿Qué incluye la inspección del sistema de ductos?", options: ["Solo verificar que haya aire en los registros", "Verificar sellos y conexiones, aislamientos, dampers operativos, registros limpios, y ausencia de daño visible", "Solo limpiar los registros de supply", "No se inspeccionan ductos en mantenimiento rutinario"], correct: 1, explanation: "Inspeccionar: 1) Sellos en conexiones (duct tape degradado = fugas). 2) Aislamiento intacto. 3) Dampers operativos. 4) Sin aplastamientos o desconexiones. 5) Registros sin obstrucciones. Fugas en ductos pueden perder 20-30% de capacidad." },
        { category:"Mantenimiento", q: "¿Qué es un UV light y cuál es su propósito en HVAC?", options: ["Una luz decorativa dentro del ducto", "Una luz ultravioleta que elimina moho, bacterias y virus en la superficie del evaporador y el aire circulante", "Una luz para inspeccionar fugas de refrigerante", "Una luz de emergencia del furnace"], correct: 1, explanation: "La luz UV-C (253.7nm) destruye el ADN de microorganismos en el coil del evaporador (donde crece moho por la humedad). Mejora calidad de aire y mantiene el coil limpio. Se reemplaza el bulbo anualmente." },
        { category:"Mantenimiento", q: "¿Qué es un media filter vs un filtro estándar de 1 pulgada?", options: ["Son exactamente iguales", "El media filter tiene 4-5 pulgadas de profundidad con mayor área de superficie para mayor filtración con menos restricción", "El media filter es solo para sistemas comerciales", "El media filter no necesita cambio nunca"], correct: 1, explanation: "Media filters (4-5 pulgadas) tienen mucha más superficie que los de 1 pulgada. Esto permite mayor captura de partículas (MERV 11-16) con menos caída de presión. Duran 6-12 meses vs 1-3 meses del estándar." },
        { category:"Soldadura", q: "¿Qué es un flare tool (abocardador)?", options: ["Una herramienta para cortar tubería", "Herramienta que expande el extremo de la tubería a 45° para crear una conexión mecánica sellada", "Una herramienta para soldar", "Un tipo de soplete portátil"], correct: 1, explanation: "El flare tool crea un cono de 45° en el extremo de la tubería que sella contra el asiento cónico del fitting cuando se aprieta la tuerca flare. Esencial para mini-splits y conexiones desmontables." },
        { category:"Soldadura", q: "¿Cuál es la diferencia entre un flare de 45° y uno SAE?", options: ["No hay diferencia, son iguales", "En HVAC se usa 45° SAE estándar; el de 37° (AN/JIC) es para uso automotriz e hidráulico — NO son intercambiables", "SAE es para tubería grande y 45° para pequeña", "Solo el material de la tuerca es diferente"], correct: 1, explanation: "HVAC usa flare de 45° SAE. Los fittings de 37° (AN/JIC) se ven similares pero el ángulo diferente causa fugas si se mezclan. Siempre verificar que el fitting y la tuerca sean del mismo estándar." },
        { category:"Soldadura", q: "¿Cómo se hace un buen flare?", options: ["Apretar el tubo en la barra y girar rápido el cono", "Cortar recto, escariar rebaba, insertar en la barra a la altura correcta, lubricar el cono, y girar uniformemente", "Solo calentar el extremo del tubo y presionar contra el fitting", "Golpear el tubo con martillo contra una superficie plana"], correct: 1, explanation: "Pasos: 1) Cortar tubo recto. 2) Escariar rebaba. 3) Poner tuerca flare ANTES de insertar en barra. 4) Tubo a la altura correcta de la barra. 5) Lubricar cono con aceite refrigerante. 6) Girar uniformemente hasta el tope." },
        { category:"Soldadura", q: "¿Qué defectos puede tener un flare mal hecho?", options: ["No hay forma de que un flare salga mal", "Rajaduras, superficie irregular, labio insuficiente o excesivo, o flare descentrado que causarán fuga", "Solo se ve diferente pero funciona igual", "El único problema es que queda feo"], correct: 1, explanation: "Defectos: rajaduras por exceso de fuerza, superficie irregular por rebaba no escariada, flare corto por tubo muy adentro de la barra, o descentrado por corte diagonal. Todos causan fugas. Inspeccionar visualmente cada flare." },
        { category:"Soldadura", q: "¿Qué es un swaging tool?", options: ["Herramienta para apretar tuercas flare", "Herramienta que expande un extremo de tubería para que otro tubo del mismo diámetro encaje adentro sin fitting", "Herramienta para doblar tubería", "Un tipo de cortador de tubo"], correct: 1, explanation: "El swage expande un extremo para que el otro tubo se inserte directamente, eliminando la necesidad de un coupling fitting. Se suelda igual que una unión con fitting. Requiere el mandril del diámetro correcto." },
        { category:"Soldadura", q: "¿Qué es una unión mecánica (compression fitting) en refrigeración?", options: ["Lo mismo que un flare", "Un fitting con ferrule que sella al apretar la tuerca, pero NO recomendado para alta presión de refrigeración", "El fitting estándar para todas las líneas de refrigerante", "Solo para conexiones temporales de prueba"], correct: 1, explanation: "Los compression fittings son comunes en plomería pero NO se recomiendan para líneas de refrigerante de alta presión porque pueden fallar con vibración y ciclos térmicos. Usar flare o soldadura para refrigeración." },
        { category:"Soldadura", q: "¿Cómo se protege una válvula de servicio al soldar cerca de ella?", options: ["No necesita protección si se suelda rápido", "Envolver con trapo húmedo entre la junta y la válvula para absorber calor y proteger los sellos internos", "Remover la válvula antes de soldar", "Solo soplar aire frío mientras se suelda"], correct: 1, explanation: "Los sellos de goma/teflón dentro de la válvula se dañan con calor excesivo. El trapo húmedo actúa como heat sink. Mover la llama constantemente y no concentrar calor cerca de la válvula." },
        { category:"Soldadura", q: "¿Qué es un tube cutter y cómo se usa correctamente?", options: ["Se aprieta completamente en la primera vuelta para cortar rápido", "Se aprieta gradualmente dando varias vueltas, avanzando 1/4 de vuelta del tornillo cada revolución", "Se usa como sierra golpeando el tubo", "Solo se usa para tuberías de más de 1 pulgada"], correct: 1, explanation: "Apretar gradualmente: demasiada presión aplasta el tubo creando rebaba excesiva y deformación. 1/4 de vuelta del tornillo por cada revolución completa produce un corte limpio y recto." },
        { category:"Soldadura", q: "¿Por qué es importante escariar la tubería después de cortarla?", options: ["Solo por apariencia del trabajo", "La rebaba interior restringe el flujo, crea turbulencia, atrapa contaminantes, y puede dañar componentes", "Solo se escaría la exterior para el fitting", "No es necesario si se usa tube cutter"], correct: 1, explanation: "El tube cutter deja rebaba interior que restringe flujo y crea turbulencia. Las virutas pueden viajar al compresor o TXV. Siempre escariar con la cuchilla del reamer integrado en el tube cutter, apuntando hacia abajo." },
        { category:"Soldadura", q: "¿Qué es el gap clearance entre tubería y fitting?", options: ["La distancia entre dos fittings consecutivos", "El espacio entre la tubería y la pared interna del fitting que permite la acción capilar de la soldadura", "La profundidad de inserción del tubo", "El largo de la sección sin aislar"], correct: 1, explanation: "El gap de 0.001-0.005 pulgadas es crítico para la capilaridad. Los fittings de cobre estándar para refrigeración están diseñados para proveer este gap automáticamente con tubería ACR del diámetro correcto." },
        { category:"Soldadura", q: "¿Cuándo se usa soldadura de plata de alto porcentaje (45-56%)?", options: ["Nunca se usa en HVAC", "Para uniones que requieren máxima resistencia y flexibilidad, como en sistemas con vibración severa", "Solo para decoración de las uniones", "Solo para tubería de más de 2 pulgadas"], correct: 1, explanation: "Aleaciones con alto contenido de plata (45-56%) producen uniones más dúctiles y resistentes a fatiga. Se usan en: compresores (vibración), tubería de acero, y donde se requiere máxima confiabilidad. Son más costosas." },
        { category:"Soldadura", q: "¿Qué precaución se toma al soldar cerca de materiales inflamables?", options: ["Trabajar más rápido para reducir exposición", "Usar fire blanket o fire shield para proteger materiales combustibles y tener extintor ABC a la mano", "Mojar todo el área con agua antes de soldar", "No se puede soldar si hay materiales inflamables"], correct: 1, explanation: "Fire blanket/shield entre el soplete y materiales combustibles (madera, aislamiento). Extintor ABC accesible. Verificar área después de soldar (fire watch). En áreas de alto riesgo, obtener hot work permit." },
        { category:"Soldadura", q: "¿Cómo se suelda tubería vertical (de arriba hacia abajo)?", options: ["Igual que horizontal sin diferencia", "Calentar desde abajo para que el calor suba, aplicar aleación en la parte superior dejando que la capilaridad la distribuya", "No se puede soldar en posición vertical", "Solo aplicar soldadura en la parte inferior"], correct: 1, explanation: "En vertical: calentar el fitting uniformemente, aplicar la aleación en la parte superior del anillo. La capilaridad y la gravedad ayudan a distribuir la soldadura hacia abajo y alrededor de toda la circunferencia." },
        { category:"Soldadura", q: "¿Cuántas veces se puede recalentar una junta de soldadura para repararla?", options: ["Infinitas veces sin degradación", "Cada recalentamiento degrada la junta; si falla, es mejor cortar y rehacer con fitting nuevo", "Solo se puede recalentar una vez", "Solo si se agrega más flux cada vez"], correct: 1, explanation: "Recalentar oxida las superficies, quema el flux residual, y debilita el cobre. Si una junta falla, lo mejor es cortar la sección, limpiar, y rehacer con fitting nuevo para una junta confiable." },
        { category:"Soldadura", q: "¿Cuál es la presión de regulador recomendada para el nitrógeno de purga?", options: ["100 PSI para máxima protección", "2-5 PSI, apenas suficiente para crear flujo sin presurizar", "50 PSI estándar", "La máxima del tanque"], correct: 1, explanation: "Solo 2-5 PSI crea flujo suficiente para desplazar oxígeno. Alta presión puede: soplar la soldadura fundida, crear peligro si el tubo está sellado del otro lado, y no mejora la protección contra oxidación." },
        { category:"Soldadura", q: "¿Qué tipo de limpiador se usa para preparar superficies antes de soldar?", options: ["Lija de grano grueso", "Abrasive pad, emery cloth, o escobillón de alambre específico para limpieza de cobre", "Papel de lija para madera", "Solo agua con jabón"], correct: 1, explanation: "Abrasive pad (Scotch-Brite) o emery cloth para el exterior del tubo, escobillón de cobre para el interior del fitting. Se limpia hasta que el cobre brille. No tocar las superficies limpias con los dedos (aceite interfiere)." },
        { category:"Soldadura", q: "¿Qué es back-brazing?", options: ["Soldar desde atrás de la pared", "Calentar el lado opuesto de la junta y dejar que el calor conduzca para que la aleación fluya por capilaridad desde el frente", "Soldar de atrás hacia adelante", "Una técnica para remover soldadura vieja"], correct: 1, explanation: "Back-brazing: cuando no se puede acceder a toda la circunferencia de la junta, se calienta el lado accesible y se aplica la aleación. La aleación fluye hacia el calor, distribuyéndose por capilaridad hacia el lado inaccesible." },
        { category:"Soldadura", q: "¿Cuándo se usa un cutting torch vs un tube cutter?", options: ["Siempre se prefiere el cutting torch por velocidad", "El tube cutter se prefiere para cortes limpios; el torch solo cuando no hay acceso o en tubería de gran diámetro", "El cutting torch produce cortes más limpios", "No hay diferencia en el resultado"], correct: 1, explanation: "El tube cutter produce cortes limpios y perpendiculares. El torch deja bordes irregulares que requieren más limpieza. Se usa torch cuando el espacio es muy reducido o la tubería es muy grande para el cutter disponible." },
        { category:"Soldadura", q: "¿Qué es una soldadura de reparación (repair joint)?", options: ["Cualquier soldadura hecha en el taller", "Una soldadura hecha sobre una junta existente que falló, generalmente menos confiable que una junta nueva", "La soldadura más fuerte posible", "Una técnica especial más resistente"], correct: 1, explanation: "Las reparaciones sobre juntas existentes son menos confiables porque: superficies ya oxidadas, flux residual quemado, y cobre que ya fue calentado. Cuando sea posible, cortar y rehacer con componentes nuevos." },
        { category:"Soldadura", q: "¿Cuál es la temperatura de la llama de acetileno-aire?", options: ["500°F — similar a un encendedor", "Aproximadamente 2,300-2,700°F — suficiente para brazing de HVAC residencial", "Igual que oxi-acetileno: 5,600°F", "Solo 1,000°F — insuficiente para brazing"], correct: 1, explanation: "Aire-acetileno alcanza 2,300-2,700°F, suficiente para brazing de tuberías residenciales estándar. Para tuberías de gran diámetro o componentes con mucha masa, puede necesitarse oxi-acetileno (5,600°F)." },
        { category:"Controles", q: "¿Qué es un termistor y cómo se usa en HVAC?", options: ["Un tipo de termostato digital", "Un sensor de temperatura cuya resistencia cambia con la temperatura, usado en termostatos y boards de control", "Un tipo de fusible térmico", "Un regulador de corriente eléctrica"], correct: 1, explanation: "Los termistores son sensores de temperatura electrónicos. NTC (negative temperature coefficient): resistencia baja cuando sube la temperatura. Se usan en termostatos, sensores de defrost, y boards de control." },
        { category:"Controles", q: "¿Qué es un transducer de presión en HVAC?", options: ["Un manómetro mecánico", "Un sensor electrónico que convierte presión en señal eléctrica para sistemas de control y monitoreo", "Un regulador de presión del refrigerante", "Una válvula de alivio de presión"], correct: 1, explanation: "Los transducers convierten presión a señal eléctrica (4-20mA o 0-10V) que los controladores digitales pueden leer. Se usan en BMS, chillers, y equipos con control electrónico avanzado." },
        { category:"Controles", q: "¿Qué función tiene un crankcase heater?", options: ["Calentar el aire en el espacio", "Mantener el aceite del compresor caliente para prevenir que el refrigerante líquido migre y se acumule en el cárter", "Calentar el refrigerante antes de comprimir", "Descongelar el evaporador"], correct: 1, explanation: "Durante apagado, el refrigerante migra al punto más frío (compresor). Si hay líquido en el cárter al arrancar, causa liquid slugging. El crankcase heater mantiene el aceite caliente para evaporar cualquier refrigerante líquido." },
        { category:"Controles", q: "¿Qué es un low ambient kit?", options: ["Kit para instalación en sótanos", "Kit que controla el ventilador del condensador para mantener la presión de cabeza cuando la temperatura exterior es baja", "Kit de calefacción auxiliar", "Kit de aislamiento para climas fríos"], correct: 1, explanation: "En climas fríos, la presión de cabeza cae demasiado reduciendo el flujo de refrigerante a la TXV. El low ambient kit cicla o reduce la velocidad del ventilador del condensador para mantener presión de condensación adecuada." },
        { category:"Controles", q: "¿Qué controla el relay de retardo de encendido del blower?", options: ["El retraso del encendido del gas", "El tiempo entre que el furnace enciende y el blower arranca, para no soplar aire frío", "El retraso entre ciclos del compresor", "La velocidad del motor del blower"], correct: 1, explanation: "Fan-on delay: 30-90 segundos después de la ignición para que el intercambiador se caliente antes de soplar. Fan-off delay: continúa soplando después de apagar el gas para extraer calor residual." },
        { category:"Controles", q: "¿Qué es un head pressure control?", options: ["Control de presión arterial del técnico", "Un control que mantiene la presión de condensación adecuada regulando el flujo de aire o refrigerante al condensador", "Control de altura de instalación", "Presión del gas natural al quemador"], correct: 1, explanation: "El head pressure control es esencial en refrigeración comercial que opera en todas las temperaturas. Métodos: cycling del fan del condensador, fan speed control, o flooding valve que controla el refrigerante líquido en el condensador." },
        { category:"Controles", q: "¿Qué es una válvula solenoide?", options: ["Una válvula manual de bola", "Una válvula que se abre o cierra eléctricamente usando una bobina electromagnética", "Una válvula reguladora de presión", "Un tipo de check valve"], correct: 1, explanation: "Solenoid valve: la bobina crea campo magnético que mueve el émbolo abriendo la válvula. Al desenergizar, un resorte la cierra. Se usan en: línea de líquido (pump-down), válvula de gas, y control de refrigerante." },
        { category:"Controles", q: "¿Qué es pump-down y para qué se usa?", options: ["Drenar el aceite del compresor", "Cerrar la válvula solenoide de líquido para que el compresor bombee el refrigerante al condensador antes de apagarse", "Vaciar el tanque de recuperación", "Llenar el sistema de refrigerante"], correct: 1, explanation: "Pump-down protege el compresor: la válvula solenoide cierra, el compresor succiona refrigerante del evaporador al condensador, y se apaga por low-pressure cutout. Previene liquid migration al compresor durante off-cycle." },
        { category:"Controles", q: "¿Qué tipo de motor se usa en dampers de zona?", options: ["Motor de compresor monofásico", "Motor actuador de bajo voltaje (24V) que abre o cierra el damper según la señal del zone board", "Motor trifásico de alta potencia", "No usan motor, son manuales"], correct: 1, explanation: "Los actuadores de damper operan a 24VAC desde el zone board. Pueden ser: two-position (abierto/cerrado) o modulante (cualquier posición). La fuerza del actuador debe ser suficiente para mover el damper contra la presión del aire." },
        { category:"Controles", q: "¿Qué es un bypass damper y cuándo se necesita?", options: ["Un damper para bypass del filtro", "Un damper que abre para aliviar presión estática cuando las zonas se cierran parcialmente", "Un damper de emergencia contra incendios", "Un damper para control de humedad"], correct: 1, explanation: "Cuando las zonas se cierran, la presión estática sube en los ductos. El bypass damper abre automáticamente para recircular aire de supply al return, protegiendo el blower y los ductos de presión excesiva." },
        { category:"Controles", q: "¿Qué es un outdoor temperature sensor?", options: ["Un termómetro decorativo exterior", "Un sensor que monitorea la temperatura exterior para optimizar el control del sistema HVAC", "Un sensor de presión atmosférica", "Un medidor de humedad exterior"], correct: 1, explanation: "El sensor de temperatura exterior permite: lockout del compresor cuando no se necesita, activación de calor auxiliar en heat pumps, optimización de schedules, y operación del economizer en sistemas comerciales." },
        { category:"Controles", q: "¿Qué función tiene el drain pan safety switch (float switch)?", options: ["Controla la bomba de condensado", "Apaga el sistema de enfriamiento si la charola de drenaje se llena para prevenir daños por agua", "Mide el nivel de refrigerante", "Controla la velocidad del blower"], correct: 1, explanation: "Si la línea de drenaje se tapa, el agua sube en la charola. El float switch abre el circuito de cooling apagando el AC antes de que el agua desborde y cause daños. Es código en muchos estados para instalaciones en áticos." },
        { category:"Controles", q: "¿Qué es un condensate pump?", options: ["Una bomba de refrigerante", "Una bomba que eleva el agua del condensado cuando no hay drenaje por gravedad disponible", "Una bomba de vacío pequeña", "Una bomba de aceite del compresor"], correct: 1, explanation: "Cuando el evaporador está en un sótano o donde no hay drenaje por gravedad, la condensate pump recoge el agua y la bombea hacia arriba hasta un drenaje. Incluye float switch de seguridad que apaga el AC si la bomba falla." },
        { category:"Controles", q: "¿Qué es una válvula check (check valve)?", options: ["Una válvula de inspección visual", "Una válvula unidireccional que permite flujo en una dirección y bloquea el flujo en reversa", "Una válvula de servicio para manómetros", "Una válvula de alivio de presión"], correct: 1, explanation: "La check valve previene flujo reverso. En HVAC se usa en: líneas de condensado (prevenir back-flow), sistemas de heat pump (bypass de refrigerante), y líneas de gas (prevenir reversa)." },
        { category:"Tubería", q: "¿Por qué la línea de succión es más grande que la de líquido?", options: ["Solo por convención", "Transporta vapor de baja densidad que necesita mayor diámetro para velocidad correcta y retorno de aceite", "Lleva más refrigerante", "Es más fácil de instalar"], correct: 1, explanation: "El vapor tiene mucho menos densidad que el líquido. Mayor diámetro mantiene velocidad de 700-1200 FPM para retorno de aceite al compresor." },
        { category:"Tubería", q: "¿Qué son los oil traps y cuándo se instalan?", options: ["Trampas para humedad", "Trampas en risers verticales de succión cada 20 pies para asegurar retorno de aceite al compresor", "Filtros de aceite en la línea de líquido", "Trampas de basura en el drenaje"], correct: 1, explanation: "En subidas verticales, el aceite tiende a quedarse abajo. Los oil traps acumulan aceite hasta que la velocidad del vapor lo arrastra. Se instalan cada 20 pies de riser vertical." },
        { category:"Tubería", q: "¿Qué es una conexión flare?", options: ["Conexión soldada permanente", "Conexión mecánica abocardada de 45° sin soldadura, común en mini-splits", "Conexión roscada con teflón", "Conexión de compresión"], correct: 1, explanation: "Flare de 45° crea sello metal a metal al apretar la tuerca. Se usa donde no se puede soldar o se necesita conexión desmontable." },
        { category:"Tubería", q: "¿Cuál es el torque correcto para tuerca flare de 3/8 pulgada?", options: ["Apretar a mano más un cuarto de vuelta", "Torque especificado por el fabricante, típicamente 15-33 ft-lbs según diámetro", "Lo más fuerte posible", "No importa el torque"], correct: 1, explanation: "Cada diámetro tiene torque específico. Poco = fuga. Demasiado = daño al asiento. Siempre usar llave de torque." },
        { category:"Tubería", q: "¿Cómo identificar línea de succión vs líquido?", options: ["Ambas se ven iguales", "Succión: más grande, aislada, fría. Líquido: más pequeña, sin aislar, tibia", "Succión es más pequeña", "Solo por color del aislamiento"], correct: 1, explanation: "Línea de succión: tubo más grande, aislada con foam, fría al tacto. Línea de líquido: más pequeña, sin aislar, tibia." },
        { category:"Tubería", q: "¿Qué pasa con tubería de diámetro incorrecto?", options: ["No hay impacto", "Afecta velocidad, retorno de aceite, caída de presión, y capacidad del sistema", "Solo cambia el ruido", "Solo afecta la apariencia"], correct: 1, explanation: "Subdimensionada: excesiva caída de presión y ruido. Sobredimensionada: velocidad muy baja, pobre retorno de aceite." },
        { category:"Tubería", q: "¿Qué material para línea de drenaje del condensado?", options: ["Cobre ACR", "PVC o CPVC, típicamente 3/4 pulgada mínimo con pendiente de 1/4 pulgada por pie", "Acero galvanizado", "Manguera de jardín"], correct: 1, explanation: "PVC Schedule 40 es lo más común. 3/4 pulgada mínimo con pendiente adecuada para gravedad." },
        { category:"Tubería", q: "¿Cada cuánto se ponen soportes en tubería horizontal?", options: ["Cada 10 pies", "Cada 4-6 pies con rubber isolators para absorber vibración", "Cada 20 pies", "No se necesitan soportes"], correct: 1, explanation: "Soportes cada 4-6 pies evitan pandeo y fatiga por vibración. Los rubber isolators absorben vibración del compresor." },
        { category:"Tubería", q: "¿Por qué evitar dobleces muy cerrados?", options: ["Solo apariencia", "Pueden aplastar tubería creando restricción al flujo y debilitando la pared", "No hay problema con calor", "Solo afecta ruido"], correct: 1, explanation: "Radio mínimo de doblez: 5 veces el diámetro del tubo. Usar tube bender para doblados controlados y uniformes." },
        { category:"Tubería", q: "¿Qué es un line set pre-charged?", options: ["Líneas con soldadura", "Set pre-fabricado con refrigerante incluido y conexiones flare para mini-splits", "Líneas que solo necesitan limpieza", "Set con aislamiento pre-instalado"], correct: 1, explanation: "Vienen con refrigerante dentro, conexiones flare listas, y presión de nitrógeno sellada. La carga complementa la de fábrica del mini-split." },
        { category:"Tubería", q: "¿Qué aislamiento para línea de succión?", options: ["Fibra de vidrio enrollada", "Espuma elastomérica (Armaflex o similar) resistente a humedad", "Cinta de teflón", "No necesita aislamiento"], correct: 1, explanation: "Espuma elastomérica previene condensación y mantiene temperatura. Se sella en las juntas para evitar infiltración de humedad." },
        { category:"Tubería", q: "¿Qué es una trampa P en la línea de drenaje?", options: ["Una trampa para partículas", "Un sifón que mantiene agua sellando el paso de aire y gases, requerido en equipos de presión negativa", "Un filtro de agua", "Una válvula check de drenaje"], correct: 1, explanation: "En furnaces de alta eficiencia y air handlers con presión negativa, la trampa P mantiene un sello de agua que previene que aire sea succionado por la línea de drenaje, lo que impediría el drenaje correcto." },
        { category:"Tubería", q: "¿Cuál es la pendiente mínima para línea de drenaje horizontal?", options: ["No necesita pendiente si usa bomba", "1/4 de pulgada por pie de longitud para asegurar drenaje por gravedad", "1 pulgada por pie mínimo", "La pendiente es opcional"], correct: 1, explanation: "1/4 pulgada por pie asegura que el agua fluya por gravedad sin estancarse. Sin pendiente adecuada, el agua se acumula, crece moho, y eventualmente se tapa la línea." },
        { category:"Tubería", q: "¿Qué es un vibration eliminator (vibration absorber)?", options: ["Aislamiento acústico del ducto", "Un conector flexible en la tubería de refrigerante que absorbe la vibración del compresor", "Un soporte anti-vibración del condensador", "Un amortiguador del motor del blower"], correct: 1, explanation: "El vibration eliminator es un tramo flexible de tubería (copper loop o conector flexible) instalado cerca del compresor. Absorbe vibración que de otro modo se transmitiría por toda la tubería causando ruido y fatiga." },
        { category:"Tubería", q: "¿Cuándo se usa un coupling (acoplamiento) vs swaging?", options: ["Siempre se usa coupling, nunca swage", "Coupling es más fácil y rápido; swaging elimina un fitting pero requiere herramienta especial y precisión", "Swaging es solo para tubería de acero", "No hay diferencia práctica"], correct: 1, explanation: "Coupling: fitting que une dos tubos del mismo diámetro. Swaging: expande un tubo para que el otro entre. Swaging reduce puntos de posible fuga (un fitting menos) pero requiere herramienta y técnica." },
        { category:"Tubería", q: "¿Qué es un reducer y cuándo se usa?", options: ["Para reducir la presión del refrigerante", "Un fitting que conecta dos diámetros diferentes de tubería cuando se requiere transición de tamaño", "Para reducir la velocidad del flujo", "Solo para reducir la longitud de la tubería"], correct: 1, explanation: "El reducer conecta tuberías de diferente diámetro. Se usa cuando el fabricante especifica tamaños diferentes para el condensador y el evaporador, o cuando se extiende la distancia de las líneas requiriendo cambio de diámetro." },
        { category:"Tubería", q: "¿Qué precaución se toma al doblar tubería ACR?", options: ["Doblar rápidamente con las manos", "Usar tube bender del tamaño correcto para evitar aplanamiento y kinking de la tubería", "Calentar con soplete antes de doblar", "No hay precaución especial necesaria"], correct: 1, explanation: "El tube bender mantiene la forma circular del tubo durante el doblez. Sin bender: el tubo se aplana (kink) creando restricción. Usar el bender del diámetro exacto y no exceder el ángulo de doblez máximo (generalmente 90°)." },
        { category:"Tubería", q: "¿Cuál es la máxima longitud de línea recomendada para un mini-split?", options: ["No hay límite de longitud", "Varía por fabricante y modelo, típicamente 50-75 pies con máximo de 25-50 pies de elevación", "Solo 10 pies máximo", "200+ pies sin restricción"], correct: 1, explanation: "Cada fabricante especifica máximos diferentes. Exceder la distancia causa: pérdida de capacidad, pobre retorno de aceite, y posible falla. Se puede necesitar refrigerante adicional según la longitud de línea." },
        { category:"Tubería", q: "¿Qué es un access valve (válvula de acceso)?", options: ["La puerta de acceso al equipo", "Un port con Schrader valve en la línea de refrigerante para conectar manómetros y equipo de servicio", "Una válvula principal de gas natural", "Una válvula de drenaje de agua"], correct: 1, explanation: "Los access valves permiten conectar el manifold para medir presiones, cargar, o recuperar refrigerante. Tienen un Schrader valve core que sella cuando no hay manguera conectada. Se instalan en la línea de servicio." },
        { category:"Tubería", q: "¿Cuál es la diferencia entre tubería rígida y flexible de cobre?", options: ["Son exactamente iguales", "La rígida viene en tramos rectos para líneas principales; la flexible viene en rollos para espacios difíciles y mini-splits", "La flexible es más fuerte que la rígida", "Solo se usa rígida en HVAC, nunca flexible"], correct: 1, explanation: "Rígida (hard drawn): tramos de 10-20 pies, paredes más gruesas, para líneas rectas principales. Flexible (soft copper/annealed): rollos de 25-50 pies, se dobla sin bender, ideal para mini-splits y espacios reducidos." },
        { category:"Tubería", q: "¿Por qué se usa nitrógeno para prueba de presión y no aire comprimido?", options: ["Es más barato que el aire comprimido", "El nitrógeno es seco e inerte; el aire comprimido contiene humedad y oxígeno que contaminarían el sistema", "Solo por regulación sin razón técnica", "El aire comprimido tiene demasiada presión"], correct: 1, explanation: "El aire del compresor de taller contiene humedad y aceite. El nitrógeno es 99.9% seco e inerte — no dejará humedad ni oxígeno en el sistema. La humedad causaría los mismos problemas que un vacío inadecuado." },
        { category:"Electricidad", q: "¿Qué es un megóhmetro y para qué se usa en HVAC?", options: ["Un multímetro de alta precisión", "Un instrumento que mide la resistencia de aislamiento de los devanados del motor/compresor en megaohms", "Un medidor de flujo de gas refrigerante", "Un instrumento para medir micrones de vacío"], correct: 1, explanation: "El megóhmetro aplica alto voltaje DC (250-1000V) para medir la resistencia del aislamiento del devanado a la carcasa. Lecturas <2 MΩ indican aislamiento deteriorado. Es más preciso que un multímetro para detectar compresores grounded." },
        { category:"Electricidad", q: "¿Qué es una falla intermitente y por qué es difícil de diagnosticar?", options: ["Una falla que siempre está presente", "Una falla que aparece y desaparece dependiendo de temperatura, vibración, o condiciones, haciendo difícil replicarla", "Una falla en el circuito intermedio del compresor", "Un tipo de cortocircuito permanente"], correct: 1, explanation: "Fallas intermitentes: conexión suelta que hace contacto a veces, compresor que falla solo cuando está caliente, capacitor que funciona al inicio pero falla con temperatura. Se necesita monitoreo prolongado para capturarlas." },
        { category:"Electricidad", q: "¿Qué es un amp clamp y cuándo se usa?", options: ["Una abrazadera para cables", "Una pinza amperimétrica que mide corriente sin desconectar el cable, esencial para diagnóstico en vivo", "Un fusible de alta capacidad", "Una herramienta para pelar cables"], correct: 1, explanation: "La pinza amperimétrica lee el campo magnético alrededor del cable sin contacto directo. Permite medir corriente con el sistema corriendo. Esencial para verificar RLA, LRA, amperaje de motores, y desbalance de fases." },
        { category:"Electricidad", q: "¿Qué es la caída de voltaje y cuándo es un problema?", options: ["Cuando se corta la energía completamente", "Reducción de voltaje en cables largos por resistencia; más del 3% de caída indica cable subdimensionado o conexiones defectuosas", "Solo ocurre durante tormentas eléctricas", "No es un problema real en circuitos HVAC"], correct: 1, explanation: "Cables largos o subdimensionados tienen resistencia que reduce el voltaje al equipo. >3% de caída: el compresor recibe menos voltaje, consume más amperaje, y se sobrecalienta. Solución: cable más grueso o recorrido más corto." },
        { category:"Electricidad", q: "¿Qué es un start relay y cuál es su función?", options: ["Enciende las luces del equipo", "Desconecta el capacitor de arranque del circuito después de que el compresor alcanza velocidad de operación", "Controla la velocidad del ventilador", "Protege contra alto voltaje"], correct: 1, explanation: "El start relay (potencial o corriente) detecta cuando el compresor alcanza ~75% de su velocidad y desconecta el start capacitor del circuito. Si el start cap permanece conectado, se sobrecalienta y explota." },
        { category:"Electricidad", q: "¿Cuál es la diferencia entre un relay de potencial y uno de corriente?", options: ["Son exactamente iguales", "El de potencial detecta el back-EMF del devanado start; el de corriente detecta la caída de amperaje cuando el motor acelera", "Uno es para AC y otro para DC", "El de potencial es más barato"], correct: 1, explanation: "Relay de potencial: opera por el voltaje inducido (back-EMF) en el devanado start cuando el motor acelera (abre contactos). Relay de corriente: opera por la caída de amperaje al acelerar. Cada uno para aplicaciones específicas." },
        { category:"Electricidad", q: "¿Qué protección provee un surge protector en HVAC?", options: ["Protege contra bajo voltaje", "Protege los componentes electrónicos sensibles (boards, ECM) contra picos de voltaje por rayos o switcheo", "Solo protege el termostato", "Protege contra alta corriente continua"], correct: 1, explanation: "Los surge protectors desvían picos de voltaje a tierra, protegiendo boards de control, motores ECM, y componentes electrónicos sensibles. Se instalan en el desconector o panel. Especialmente importantes en áreas con tormentas frecuentes." },
        { category:"Electricidad", q: "¿Qué es un disconnect switch y cuál es su propósito?", options: ["Un interruptor de emergencia del termostato", "Un interruptor externo cerca del condensador que permite cortar toda la energía para servicio seguro", "Un interruptor automático de temperatura", "Un fusible especial del compresor"], correct: 1, explanation: "El disconnect (fusible o no fusible) está a la vista del equipo y permite al técnico cortar la energía para trabajar de forma segura. NEC requiere que esté visible desde el equipo y dentro de la línea de visión. Lockout/tagout se aplica al disconnect." },
        { category:"Electricidad", q: "¿Qué es el back-EMF en un motor de compresor?", options: ["Un tipo de falla eléctrica", "El voltaje generado por el motor mientras gira que se opone al voltaje de alimentación", "Una marca de motores eléctricos", "La corriente de retorno al transformador"], correct: 1, explanation: "Cuando el motor gira, actúa como generador produciendo voltaje (back-EMF) que se opone a la fuente. A mayor velocidad, mayor back-EMF, menor corriente neta. Por eso el amperaje es alto al arrancar (sin back-EMF) y baja en operación." },
        { category:"Herramientas", q: "¿Para qué se usa un nivel de burbuja en HVAC?", options: ["Para medir el nivel de refrigerante", "Para asegurar que el condensador y las líneas de drenaje estén nivelados o con pendiente correcta", "Para verificar el nivel de aceite del compresor", "Para nivelar el termostato en la pared"], correct: 1, explanation: "El nivel verifica: condensador nivelado en el pad (para retorno de aceite correcto), pendiente de líneas de drenaje (1/4 pulgada por pie), y que el equipo esté instalado correctamente para operación óptima." },
        { category:"Refrigeración", q: "¿Qué es el ciclo de refrigeración básico?", options: ["Solo enfriar y calentar alternadamente", "Compresión → condensación → expansión → evaporación, moviendo calor de un lugar a otro", "Solo circular aire frío por los ductos", "Solo comprimir y expandir aire"], correct: 1, explanation: "El ciclo: 1) Compresor comprime gas (baja→alta presión). 2) Condensador rechaza calor (gas→líquido). 3) Dispositivo de expansión reduce presión (líquido→mezcla). 4) Evaporador absorbe calor (líquido→gas). Repite continuamente." },
        { category:"Refrigeración", q: "¿Qué es un sight glass y dónde se instala?", options: ["Un visor en el termostato", "Una ventana en la línea de líquido que permite ver el estado del refrigerante y la humedad del sistema", "Un espejo para inspeccionar ductos", "Un medidor de presión visual"], correct: 1, explanation: "El sight glass se instala en la línea de líquido después del filter drier. Permite ver: líquido claro (carga correcta), burbujas (baja carga o restricción), y el indicador de humedad (verde=seco, amarillo=húmedo)." },
        { category:"Refrigeración", q: "¿Cuál es la diferencia entre superheat y subcooling?", options: ["Son lo mismo medido en diferentes puntos", "Superheat mide calor agregado al vapor sobre su punto de saturación; subcooling mide enfriamiento del líquido bajo su punto de saturación", "Superheat es para calefacción y subcooling para enfriamiento", "No hay diferencia práctica entre ambos"], correct: 1, explanation: "Superheat: temperatura del gas succión MENOS temperatura de saturación a esa presión. Indica que todo el líquido se evaporó. Subcooling: temperatura de saturación a presión de descarga MENOS temperatura de la línea de líquido. Indica líquido sólido sin vapor." },
        { category:"Instalación", q: "¿Cuál es la distancia mínima recomendada alrededor del condensador?", options: ["Puede estar pegado a la pared sin problemas", "12-24 pulgadas mínimo de espacio libre en los lados y 48 pulgadas arriba según el fabricante", "Solo 2 pulgadas de la pared", "No hay requisitos de espacio"], correct: 1, explanation: "El condensador necesita flujo de aire libre para rechazar calor. Espacios reducidos recirculan aire caliente reduciendo eficiencia. Siempre consultar las especificaciones del fabricante para las distancias mínimas exactas." },
        { category:"Instalación", q: "¿Por qué se instala el condensador sobre un pad nivelado?", options: ["Solo por apariencia de la instalación", "Para prevenir vibración, asegurar drenaje correcto de condensado, y mantener el compresor nivelado para retorno de aceite", "Solo para cumplir con el código sin razón técnica", "Para que sea más fácil de limpiar"], correct: 1, explanation: "Un condensador desnivelado puede causar: vibración excesiva que daña tubería, retorno de aceite deficiente al compresor, y acumulación de agua que acelera corrosión. El pad debe estar nivelado y a mínimo 3 pulgadas del suelo." },
        { category:"Instalación", q: "¿Qué es un Manual J y por qué es importante?", options: ["El manual del fabricante del equipo", "El cálculo de carga térmica que determina el tamaño correcto del equipo HVAC para el espacio", "Un manual de seguridad de OSHA", "Un formulario de garantía del fabricante"], correct: 1, explanation: "Manual J calcula las BTU necesarias basándose en: tamaño del espacio, aislamiento, ventanas, orientación, clima local, y ocupantes. Un equipo sobredimensionado causa short cycling y pobre deshumidificación; subdimensionado no alcanza temperatura." },
        { category:"Vacío", q: "¿Por qué conectar bomba directo al sistema en vez de por el manifold?", options: ["No hay diferencia", "El manifold y mangueras de 1/4 crean restricción que aumenta significativamente el tiempo de evacuación", "El manifold protege la bomba", "Solo en comercial"], correct: 1, explanation: "Mangueras de 1/4 restringen flujo. Usar 3/8 o mayor directo al port, o core tools de acceso directo, reduce tiempo dramáticamente." },
        { category:"Vacío", q: "¿Qué indica subida de 500 a 800 micrones que se estabiliza en rise test?", options: ["Fuga grande", "Humedad residual evaporándose — reconectar bomba y continuar evacuando", "Vacuómetro defectuoso", "Contaminación de aire"], correct: 1, explanation: "Subida lenta que se estabiliza = humedad. Subida rápida sin estabilizar = fuga. Reconectar bomba hasta que rise test se mantenga." },
        { category:"Vacío", q: "¿Cuál es el error más común al hacer vacío?", options: ["Usar bomba de dos etapas", "No remover cores del Schrader, usar mangueras de 1/4, o no cambiar aceite de la bomba", "Hacer vacío muy largo", "Conectar en ambos lados"], correct: 1, explanation: "Los tres errores: 1) Mangueras de 1/4 (restricción). 2) Cores no removidos (cuello de botella). 3) Aceite viejo. Corregirlos reduce tiempo dramáticamente." },
        { category:"Vacío", q: "¿Se puede hacer vacío con refrigerante todavía en el sistema?", options: ["Sí, el vacío lo saca", "No — recuperar primero; el refrigerante daña la bomba y ventearlo es ilegal", "Solo si queda menos de 1 lb", "Solo con R-410A"], correct: 1, explanation: "Refrigerante líquido daña la bomba y contamina aceite. Ventear es ilegal. Recuperar a niveles EPA antes de evacuar." },
        { category:"Mantenimiento", q: "¿Qué es un coil treatment antimicrobiano?", options: ["Refrigerante especial", "Tratamiento químico en el evaporador para prevenir moho, bacterias y olores", "Pintura protectora", "Lubricante del compresor"], correct: 1, explanation: "Inhibe crecimiento de moho y bacterias en la superficie húmeda del evaporador. Se reaplica en cada mantenimiento." },
        { category:"Mantenimiento", q: "¿Cómo se calibra un termostato?", options: ["Ajustar manualmente", "Comparar con termómetro preciso junto a él; si difiere más de 2°F, recalibrar o reemplazar", "Solo el fabricante puede", "Con presión de refrigerante"], correct: 1, explanation: "Termómetro digital junto al termostato 15 min. Si difiere >2°F: verificar ubicación y recalibrar o reemplazar." },
        { category:"Mantenimiento", q: "¿Cuándo se recomienda limpiar ductos?", options: ["Cada mantenimiento", "Cuando hay moho visible, exceso de polvo, infestación, o después de construcción", "Nunca", "Cada 10 años"], correct: 1, explanation: "EPA recomienda solo con evidencia: moho, insectos, obstrucción, o post-remodelación. No rutinariamente sin causa." },
        { category:"Mantenimiento", q: "¿Qué es un acid test kit?", options: ["Medir acidez del condensado", "Detectar ácidos en aceite del compresor que indican degradación y posible burnout", "Verificar pH de plomería", "Solo para limpiadores"], correct: 1, explanation: "Ácidos en aceite = humedad reaccionó con refrigerante. Si hay ácidos: cambiar aceite, filter drier de succión, y monitorear." },
        { category:"Mantenimiento", q: "¿Vida útil promedio de un sistema HVAC residencial?", options: ["5 años", "15-20 años AC/heat pump, 20-30 años furnace con mantenimiento adecuado", "50+ años", "8-10 años"], correct: 1, explanation: "Con mantenimiento: AC 15-20, furnace 20-30. Sin mantenimiento se reduce significativamente." },
        { category:"Mantenimiento", q: "¿Qué verificar en la línea de gas antes de encender furnace en otoño?", options: ["Solo que haya gas", "Fugas con detector, válvula accesible, presión correcta, condición del conector flexible", "Solo factura de gas", "Nada"], correct: 1, explanation: "Detector o jabón en cada conexión, válvula opera bien, conector sin corrosión, y pressure test inlet/manifold." },
        { category:"Mantenimiento", q: "¿Cómo verificar el inducer motor?", options: ["Solo escuchar", "Amperaje, ruido de bearings, venting libre, y que el presostato cierre", "Solo que gire manualmente", "No se verifica"], correct: 1, explanation: "1) Arranca con señal W. 2) Amperaje vs rating. 3) Bearings sin ruido. 4) Venting libre. 5) Pressure switch cierra." },
        { category:"Mantenimiento", q: "¿Qué es la eficiencia SEER?", options: ["Marca de equipos", "Seasonal Energy Efficiency Ratio — un sistema sucio pierde SEER significativamente", "Solo al comprar equipo", "Requisito de instalación"], correct: 1, explanation: "SEER 16 puede caer a 12 sin mantenimiento. Condensador sucio, filtro tapado, baja carga reducen eficiencia." },
        { category:"Mantenimiento", q: "¿Por qué medir caída de presión estática del filtro?", options: ["Solo documentar", "Verificar que el filtro no restringe excesivamente el flujo de aire", "Calcular presión de refrigerante", "Solo ingenieros de diseño"], correct: 1, explanation: "Medir antes/después del filtro. >0.5 inWC indica cambio necesario. MERV alto sin CFM suficiente causa problemas." },
        { category:"Mantenimiento", q: "¿Qué incluye inspección del sistema de ignición?", options: ["Solo ver que enciende", "Igniter (grietas, ohms), flame sensor (limpio, µA correctos), y secuencia completa", "Solo limpiar quemador", "Solo reemplazar igniter"], correct: 1, explanation: "Igniter: visual + resistencia (40-200Ω). Flame sensor: limpiar con lija, medir µA (1-6). Verificar secuencia completa." },
        { category:"Mantenimiento", q: "¿Cómo se verifica el CO en el espacio de retorno?", options: ["No se mide CO en mantenimiento", "Con detector de CO o analizador de combustión, medir en supply air; debe ser 0 PPM", "Solo si el cliente se queja de olores", "Solo con equipo de laboratorio"], correct: 1, explanation: "Medir CO en supply air con detector calibrado. Debe ser 0 PPM. Cualquier lectura de CO indica posible grieta en intercambiador — condición crítica de seguridad." },
        { category:"Soldadura", q: "¿Qué es un flare tool?", options: ["Cortador de tubería", "Herramienta que expande el extremo de la tubería a 45° para conexión mecánica sellada", "Herramienta para soldar", "Soplete portátil"], correct: 1, explanation: "Crea cono de 45° que sella contra el fitting cuando se aprieta la tuerca. Esencial para mini-splits." },
        { category:"Soldadura", q: "¿Diferencia entre flare 45° SAE y 37° AN/JIC?", options: ["Son iguales", "45° SAE es para HVAC; 37° AN/JIC es automotriz/hidráulico — NO son intercambiables", "SAE para tubería grande", "Solo material de tuerca diferente"], correct: 1, explanation: "El ángulo diferente causa fugas si se mezclan. Siempre verificar que fitting y tuerca sean del mismo estándar." },
        { category:"Soldadura", q: "¿Cómo hacer un buen flare?", options: ["Apretar rápido el cono", "Cortar recto, escariar, poner tuerca ANTES, altura correcta en barra, lubricar cono, girar uniforme", "Calentar extremo del tubo", "Golpear con martillo"], correct: 1, explanation: "Cada paso importa. Tuerca flare ANTES de la barra. Lubricar cono con aceite refrigerante. Girar uniformemente." },
        { category:"Soldadura", q: "¿Qué defectos tiene un flare mal hecho?", options: ["No puede salir mal", "Rajaduras, superficie irregular, labio insuficiente, o descentrado que causarán fuga", "Solo diferencia estética", "Solo queda feo"], correct: 1, explanation: "Rajaduras por fuerza excesiva, irregular por rebaba, corto por tubo muy adentro, descentrado por corte diagonal." },
        { category:"Soldadura", q: "¿Qué es un swaging tool?", options: ["Apretar tuercas", "Expande un extremo para que otro tubo del mismo diámetro encaje sin fitting", "Doblar tubería", "Cortador de tubo"], correct: 1, explanation: "Elimina la necesidad de coupling fitting. Se suelda igual que con fitting. Requiere mandril del diámetro correcto." },
        { category:"Soldadura", q: "¿Cómo proteger válvula de servicio al soldar?", options: ["No necesita protección", "Envolver con trapo húmedo entre la junta y la válvula como heat sink", "Remover válvula antes", "Soplar aire frío"], correct: 1, explanation: "Los sellos internos de la válvula se dañan con calor. Trapo húmedo absorbe calor. Mover llama constantemente." },
        { category:"Soldadura", q: "¿Cómo usar tube cutter correctamente?", options: ["Apretar completamente en primera vuelta", "Apretar gradualmente, 1/4 de vuelta del tornillo cada revolución completa", "Usar como sierra", "Solo para tubería >1 pulgada"], correct: 1, explanation: "Demasiada presión aplasta y deforma. 1/4 vuelta por revolución produce corte limpio y recto." },
        { category:"Soldadura", q: "¿Por qué escariar después de cortar?", options: ["Solo apariencia", "Rebaba interior restringe flujo, crea turbulencia, y virutas pueden dañar TXV o compresor", "Solo exterior para fitting", "No necesario con tube cutter"], correct: 1, explanation: "El tube cutter deja rebaba interior. Siempre escariar apuntando hacia abajo para que las virutas caigan fuera." },
        { category:"Soldadura", q: "¿Qué es el gap clearance entre tubo y fitting?", options: ["Distancia entre fittings", "Espacio de 0.001-0.005 pulgadas que permite acción capilar de la soldadura", "Profundidad de inserción", "Largo sin aislar"], correct: 1, explanation: "Los fittings estándar de refrigeración proveen este gap automáticamente con tubería ACR del diámetro correcto." },
        { category:"Soldadura", q: "¿Cuándo usar soldadura de plata de alto porcentaje (45-56%)?", options: ["Nunca en HVAC", "Uniones con vibración severa como compresores, o cobre a acero", "Solo decoración", "Solo tubería >2 pulgadas"], correct: 1, explanation: "Alto % de plata = más dúctil y resistente a fatiga. Para compresores, acero, y máxima confiabilidad." },
        { category:"Soldadura", q: "¿Cómo soldar tubería vertical?", options: ["Igual que horizontal", "Calentar desde abajo, aplicar aleación arriba dejando que capilaridad la distribuya hacia abajo", "No se puede vertical", "Solo en parte inferior"], correct: 1, explanation: "La capilaridad y gravedad distribuyen soldadura hacia abajo. Calentar fitting uniformemente." },
        { category:"Soldadura", q: "¿Presión de regulador recomendada para nitrógeno de purga?", options: ["100 PSI máximo", "2-5 PSI, apenas suficiente para crear flujo sin presurizar", "50 PSI estándar", "Máxima del tanque"], correct: 1, explanation: "Solo 2-5 PSI desplaza oxígeno. Alta presión puede soplar soldadura fundida y crear peligro." },
        { category:"Soldadura", q: "¿Cuántas veces se puede recalentar una junta para repararla?", options: ["Infinitas veces", "Cada recalentamiento degrada; si falla, cortar y rehacer con fitting nuevo", "Solo una vez", "Solo con más flux"], correct: 1, explanation: "Recalentar oxida, quema flux, debilita cobre. Lo mejor es cortar y rehacer con componentes nuevos." },
        { category:"Controles", q: "¿Qué es un termistor NTC?", options: ["Termostato digital", "Sensor cuya resistencia BAJA cuando la temperatura SUBE, usado en boards y termostatos", "Fusible térmico", "Regulador de corriente"], correct: 1, explanation: "NTC = Negative Temperature Coefficient. A mayor temperatura, menor resistencia. Se mide con ohmetro." },
        { category:"Controles", q: "¿Qué función tiene un crankcase heater?", options: ["Calentar el espacio", "Mantener aceite del compresor caliente para evitar migración de refrigerante líquido al cárter", "Calentar refrigerante", "Descongelar evaporador"], correct: 1, explanation: "Durante off-cycle, refrigerante migra al compresor (punto más frío). El heater evapora cualquier líquido previniendo liquid slugging al arrancar." },
        { category:"Controles", q: "¿Qué es un low ambient kit?", options: ["Kit para sótanos", "Controla fan del condensador para mantener head pressure cuando la temperatura exterior es baja", "Calefacción auxiliar", "Aislamiento para frío"], correct: 1, explanation: "En climas fríos, baja head pressure reduce flujo a la TXV. El kit cicla o reduce velocidad del fan del condensador." },
        { category:"Controles", q: "¿Qué controla el fan-on delay del furnace?", options: ["Retraso de ignición", "Tiempo entre que enciende el gas y arranca el blower, para no soplar aire frío", "Retraso entre ciclos", "Velocidad del blower"], correct: 1, explanation: "30-90 segundos para que el intercambiador se caliente. Fan-off delay: continúa soplando después de apagar gas para extraer calor residual." },
        { category:"Controles", q: "¿Qué es una válvula solenoide?", options: ["Válvula manual", "Válvula que abre/cierra eléctricamente usando bobina electromagnética", "Reguladora de presión", "Check valve"], correct: 1, explanation: "Bobina crea campo magnético moviendo émbolo. Se usa en pump-down, válvula de gas, y control de refrigerante." },
        { category:"Controles", q: "¿Qué es pump-down?", options: ["Drenar aceite", "Cerrar solenoide de líquido para que el compresor bombee refrigerante al condensador antes de apagarse", "Vaciar tanque de recuperación", "Cargar refrigerante"], correct: 1, explanation: "Protege compresor durante off-cycle: solenoide cierra, compresor succiona evaporador, se apaga por low-pressure cutout." },
        { category:"Controles", q: "¿Qué tipo de motor usan los dampers de zona?", options: ["Motor de compresor", "Actuador de 24V que abre/cierra según señal del zone board", "Motor trifásico", "Son manuales"], correct: 1, explanation: "Actuadores de 24VAC: two-position (abierto/cerrado) o modulante. La fuerza debe vencer la presión del aire." },
        { category:"Controles", q: "¿Qué es un bypass damper?", options: ["Bypass del filtro", "Damper que abre para aliviar presión estática cuando zonas se cierran", "Damper contra incendios", "Control de humedad"], correct: 1, explanation: "Zonas cerradas = presión estática alta. El bypass recircula supply a return protegiendo blower y ductos." },
        { category:"Controles", q: "¿Para qué sirve un outdoor temperature sensor?", options: ["Termómetro decorativo", "Monitorea temperatura exterior para optimizar control: lockout, heat strips auxiliares, economizer", "Sensor de presión", "Medidor de humedad"], correct: 1, explanation: "Permite lockout de compresor, activación de calor auxiliar en heat pumps, y operación de economizer." },
        { category:"Controles", q: "¿Qué función tiene el float switch?", options: ["Controla bomba", "Apaga el AC si la charola de drenaje se llena, previniendo daños por agua", "Mide refrigerante", "Controla blower"], correct: 1, explanation: "Si la línea se tapa, agua sube, float abre circuito de cooling. Es código en muchos estados para instalaciones en áticos." },
        { category:"Controles", q: "¿Qué es una condensate pump?", options: ["Bomba de refrigerante", "Bomba que eleva condensado cuando no hay drenaje por gravedad", "Bomba de vacío", "Bomba de aceite"], correct: 1, explanation: "Para evaporadores en sótanos o donde no hay drenaje por gravedad. Incluye float switch de seguridad." },
        { category:"Controles", q: "¿Qué es una check valve?", options: ["Válvula de inspección", "Válvula unidireccional que permite flujo en una dirección y bloquea reversa", "Válvula de servicio", "Válvula de alivio"], correct: 1, explanation: "Previene flujo reverso en líneas de condensado, heat pumps, y líneas de gas." },
        { category:"Controles", q: "¿Qué es un transducer de presión?", options: ["Manómetro mecánico", "Sensor electrónico que convierte presión en señal eléctrica para sistemas de control", "Regulador de presión", "Válvula de alivio"], correct: 1, explanation: "Convierte presión a señal 4-20mA o 0-10V para BMS, chillers, y control electrónico avanzado." },
        { category:"Controles", q: "¿Qué es head pressure control?", options: ["Presión arterial", "Control que mantiene presión de condensación adecuada regulando aire o refrigerante al condensador", "Control de altura", "Presión de gas natural"], correct: 1, explanation: "Esencial en refrigeración comercial. Métodos: cycling fan, speed control, o flooding valve." },
        { category:"Controles", q: "¿Qué es un smart thermostat y qué ventajas ofrece?", options: ["Solo un termostato con pantalla táctil", "Termostato con WiFi que aprende hábitos, permite control remoto, optimiza horarios, y reporta diagnósticos", "Un termostato más caro sin beneficios", "Solo para casas nuevas"], correct: 1, explanation: "Smart thermostats: aprenden patrones de uso, geofencing, control remoto por app, alertas de mantenimiento, reportes de uso de energía, e integración con home automation." },
        { category:"Controles", q: "¿Qué es un VAV box (Variable Air Volume)?", options: ["Un tipo de filtro de aire", "Una caja con damper motorizado que regula el volumen de aire a cada zona en sistemas comerciales", "Un ventilador variable", "Una caja de fusibles"], correct: 1, explanation: "Los VAV boxes modulan el flujo de aire a cada zona según demanda del termostato local. Un controlador DDC ajusta el damper y puede tener reheat coil para calefacción de zona." },
        { category:"Controles", q: "¿Qué protocolo de comunicación usa un BMS moderno?", options: ["Solo señales de 24V on/off", "BACnet, Modbus, o LonWorks para comunicación digital entre controladores y el servidor central", "Solo WiFi doméstico", "Señales de radio AM/FM"], correct: 1, explanation: "BACnet es el estándar ASHRAE más común. Modbus es popular en equipos industriales. LonWorks se usa en edificios inteligentes. Permiten monitoreo, control, y diagnóstico remoto de todos los equipos." },
        { category:"Controles", q: "¿Qué es un occupied/unoccupied schedule?", options: ["Horario de trabajo del técnico", "Programación que ajusta temperaturas según si el edificio está ocupado o vacío para ahorrar energía", "Un calendario de mantenimiento", "Un horario de encendido de luces"], correct: 1, explanation: "Durante horas no ocupadas, el setpoint se relaja (más caliente en verano, más frío en invierno) ahorrando energía significativa. El sistema vuelve a comfort antes de la hora de ocupación (optimal start)." },
        { category:"Controles", q: "¿Qué es un enthalpy controller en un economizer?", options: ["Un controlador de velocidad del compresor", "Un controlador que compara la entalpía del aire exterior vs interior para decidir si usar free cooling", "Un medidor de presión del refrigerante", "Un tipo de humidistato"], correct: 1, explanation: "El enthalpy controller mide temperatura Y humedad del aire exterior. Solo abre los dampers del economizer cuando la entalpía exterior es menor que la interior, ahorrando más energía que un dry-bulb controller." },
        { category:"Tubería", q: "¿Qué es una trampa P en drenaje?", options: ["Trampa para partículas", "Sifón que sella paso de aire en equipos con presión negativa, requerido en furnaces de alta eficiencia", "Filtro de agua", "Check valve"], correct: 1, explanation: "La presión negativa succiona aire por la línea de drenaje impidiendo el flujo de agua. La trampa P mantiene sello de agua que lo previene." },
        { category:"Tubería", q: "¿Pendiente mínima para drenaje horizontal?", options: ["No necesita pendiente", "1/4 de pulgada por pie de longitud para drenaje por gravedad", "1 pulgada por pie", "La pendiente es opcional"], correct: 1, explanation: "Sin pendiente adecuada, agua se estanca, crece moho, y se tapa la línea." },
        { category:"Tubería", q: "¿Qué es un vibration eliminator?", options: ["Aislamiento acústico", "Conector flexible que absorbe vibración del compresor en la tubería de refrigerante", "Soporte anti-vibración", "Amortiguador del blower"], correct: 1, explanation: "Loop de cobre o conector flexible cerca del compresor. Absorbe vibración que causaría ruido y fatiga en la tubería." },
        { category:"Tubería", q: "¿Coupling vs swaging — cuándo usar cada uno?", options: ["Siempre coupling", "Coupling es más fácil; swaging elimina un fitting reduciendo puntos de posible fuga", "Swaging solo para acero", "No hay diferencia"], correct: 1, explanation: "Coupling: rápido con fitting. Swaging: un fitting menos = menos posibilidad de fuga pero requiere herramienta y técnica." },
        { category:"Tubería", q: "¿Qué es un reducer?", options: ["Reduce presión", "Fitting que conecta dos diámetros diferentes de tubería para transición de tamaño", "Reduce velocidad", "Reduce longitud"], correct: 1, explanation: "Se usa cuando fabricante especifica tamaños diferentes o cuando la distancia de línea requiere cambio de diámetro." },
        { category:"Tubería", q: "¿Precauciones al doblar tubería ACR?", options: ["Doblar rápido con manos", "Usar tube bender del tamaño correcto; radio mínimo 5x el diámetro", "Calentar con soplete", "Ninguna especial"], correct: 1, explanation: "Sin bender el tubo se aplana (kink) creando restricción. Usar bender del diámetro exacto, no exceder 90°." },
        { category:"Tubería", q: "¿Máxima longitud de línea para mini-split?", options: ["Sin límite", "Varía por modelo, típicamente 50-75 pies máximo con 25-50 pies de elevación", "Solo 10 pies", "200+ pies"], correct: 1, explanation: "Exceder la distancia causa pérdida de capacidad y pobre retorno de aceite. Se puede necesitar refrigerante adicional por longitud." },
        { category:"Tubería", q: "¿Qué es un access valve?", options: ["Puerta del equipo", "Port con Schrader en la línea de refrigerante para conectar manómetros y equipo de servicio", "Válvula principal de gas", "Válvula de drenaje"], correct: 1, explanation: "Permite conectar manifold para presiones, carga, o recuperación. El Schrader core sella cuando no hay manguera." },
        { category:"Tubería", q: "¿Diferencia entre tubería rígida y flexible de cobre?", options: ["Son iguales", "Rígida: tramos rectos para líneas principales. Flexible: rollos para espacios difíciles y mini-splits", "Flexible es más fuerte", "Solo rígida en HVAC"], correct: 1, explanation: "Rígida (hard drawn): paredes más gruesas, tramos de 10-20 pies. Flexible (soft/annealed): rollos 25-50 pies, se dobla fácil." },
        { category:"Tubería", q: "¿Por qué nitrógeno para prueba de presión y no aire comprimido?", options: ["Es más barato", "Nitrógeno es seco e inerte; aire comprimido contiene humedad y oxígeno que contaminarían", "Solo regulación", "Aire tiene mucha presión"], correct: 1, explanation: "Aire del compresor tiene humedad y aceite. Nitrógeno 99.9% seco e inerte protege el sistema de contaminación." },
        { category:"Tubería", q: "¿A qué presión se hace prueba de presión con nitrógeno?", options: ["50 PSI", "150-600 PSI dependiendo del refrigerante del sistema y las especificaciones del fabricante", "Máxima presión del tanque", "Solo 10 PSI"], correct: 1, explanation: "Para R-410A típicamente 550-600 PSI. Para R-22: 300-350 PSI. Siempre consultar fabricante. Mantener presión por 15-30 min verificando que no caiga." },
        { category:"Tubería", q: "¿Qué es una válvula de servicio y cómo funciona?", options: ["Un tipo de check valve", "Válvula de 3 posiciones (back-seated, mid, front-seated) que permite acceso al sistema para mantenimiento", "Un regulador de presión", "Solo un port de acceso"], correct: 1, explanation: "Back-seated: flujo normal, port de servicio cerrado. Mid-position: flujo + acceso al port. Front-seated: aísla el componente. Usar wrench cuadrado para operar." },
        { category:"Tubería", q: "¿Qué es un Schrader valve core?", options: ["Una válvula de bola", "Un mecanismo de válvula con resorte dentro del access port que sella automáticamente cuando no hay manguera conectada", "Un regulador de presión", "Un tipo de check valve"], correct: 1, explanation: "Similar al core de una llanta de auto. El pin central se presiona al conectar la manguera, permitiendo flujo. Al desconectar, el resorte lo cierra. Se remueven durante vacío para mayor flujo." },
        { category:"Tubería", q: "¿Cuál es la importancia de la limpieza interna de la tubería?", options: ["Solo apariencia de la instalación", "Contaminantes como virutas, óxido, humedad, y suciedad dañan compresor, TXV, y válvulas del sistema", "Solo afecta el color del refrigerante", "No tiene importancia práctica"], correct: 1, explanation: "Virutas de cobre tapan orificios y TXV. Humedad forma ácidos. Óxido de soldadura sin purga contamina aceite. Flux residual corroe internamente. La limpieza es crítica para la vida del sistema." },
        { category:"Tubería", q: "¿Qué es un spring hanger para tubería?", options: ["Un gancho decorativo", "Un soporte con resorte que permite movimiento térmico de la tubería mientras mantiene el soporte vertical", "Un tipo de abrazadera rígida", "Un soporte solo para ductos"], correct: 1, explanation: "La tubería se expande y contrae con cambios de temperatura. Los spring hangers permiten este movimiento sin crear stress. Se usan en recorridos largos de tubería donde la expansión térmica es significativa." },

        { category: "Mantenimiento", q: "¿Por qué es importante tomar fotos antes y después del mantenimiento?", options: ["Solo para redes sociales", "Documentar el estado del equipo, proteger contra reclamos, y demostrar valor del servicio al cliente", "Solo el supervisor las necesita", "No es necesario documentar con fotos"], correct: 1, explanation: "Fotos documentan: condición previa (protección legal), trabajo realizado (valor al cliente), y condiciones que requieren seguimiento. Parte de un servicio profesional completo." },
],

        intermedio: [
            // ========== NIVEL INTERMEDIO - 700 PREGUNTAS ==========
            // Diagnóstico, Fórmulas, Códigos, Comercial, Eficiencia, Bombas de Calor
            {category:'Diagnóstico con Instrumentos',q:'Un sistema split de 3 toneladas muestra 68 PSI en succión con R-410A. ¿Qué temperatura de evaporación corresponde?',options:['40°F','34°F','45°F','28°F'],correct:0,explanation:'68 PSI en R-410A corresponde aproximadamente a 40°F en la tabla PT (presión-temperatura). 28°F sería ~58 PSI, 34°F ~63 PSI, y 45°F ~75 PSI. Siempre verifica con tu tabla PT, no adivines.'},
            {category:'Diagnóstico con Instrumentos',q:'Mides 118 PSI en succión con R-410A. Usando la tabla PT, la temperatura de saturación es ~45°F. La temperatura de la línea de succión es 55°F. ¿Cuál es el superheat?',options:['15°F','12°F','8°F','10°F'],correct:3,explanation:'Superheat = Temperatura de línea de succión - Temperatura de saturación del evaporador. 55°F - 45°F = 10°F. Los errores comunes son restar al revés o confundir con subcooling.'},
            {category:'Diagnóstico con Instrumentos',q:'La presión de descarga en un sistema R-410A es 418 PSI. ¿Cuál es la temperatura de condensación según la tabla PT?',options:['110°F','120°F','115°F','105°F'],correct:2,explanation:'418 PSI en R-410A corresponde a ~115°F en la tabla PT. Los valores cercanos son: 105°F ~366 PSI, 110°F ~391 PSI, 120°F ~446 PSI. Memorizar rangos no es suficiente, hay que usar la tabla.'},
            {category:'Diagnóstico con Instrumentos',q:'Tienes temperatura de condensación de 105°F y la temperatura de la línea de líquido es 90°F. ¿Cuál es el subcooling?',options:['12°F','15°F','10°F','18°F'],correct:1,explanation:'Subcooling = Temperatura de condensación - Temperatura de línea de líquido. 105°F - 90°F = 15°F. Error común: confundir el orden de la resta o confundir subcooling con superheat.'},
            {category:'Diagnóstico con Instrumentos',q:'Un técnico mide superheat de 5°F y subcooling de 18°F en un sistema con TXV. ¿Qué indica esto?',options:['TXV abierta de más','Filtro drier tapado en la línea de líquido','Compresor con válvulas dañadas','Sistema sobrecargado de refrigerante'],correct:3,explanation:'Superheat bajo + subcooling alto = demasiado refrigerante. El exceso se acumula como líquido en el condensador, elevando el subcooling y reduciendo el superheat. Una TXV abierta daría superheat bajo pero subcooling normal.'},
            {category:'Diagnóstico con Instrumentos',q:'En un sistema R-22, la presión de succión es 69 PSI. ¿Cuál es la temperatura de saturación?',options:['40°F','44°F','42°F','38°F'],correct:0,explanation:'69 PSI en R-22 corresponde a 40°F. Este es un punto de referencia clave: R-22 a 40°F = ~69 PSI. R-410A a 40°F sería ~118 PSI, casi el doble. Nunca confundas las tablas entre refrigerantes.'},
            {category:'Diagnóstico con Instrumentos',q:'¿Cuál es el rango normal de superheat para un sistema residencial con TXV?',options:['10-18°F','8-14°F','5-10°F','15-25°F'],correct:2,explanation:'Con TXV el superheat normal es 5-10°F porque la válvula controla activamente el flujo. Sin TXV (tubo capilar o piston), el rango normal es más amplio, típicamente 10-18°F dependiendo de condiciones.'},
            {category:'Diagnóstico con Instrumentos',q:'Mides 0.5V AC en la terminal C del contactor. ¿Qué significa?',options:['Hay un voltaje fantasma, el contactor está abierto','Hay una fuga a tierra peligrosa','El contactor está abierto y eso es normal','El contactor está cerrado y funcionando'],correct:0,explanation:'0.5V AC es voltaje fantasma (ghost voltage) causado por inducción electromagnética. Es un voltaje residual que no puede hacer trabajo. El contactor está abierto. Si estuviera cerrado verías 0V o muy cerca de 0V entre C y el otro lado.'},
            {category:'Diagnóstico con Instrumentos',q:'Un capacitor de marcha está marcado 45/5 µF ±6%. ¿Cuál es el rango aceptable para el lado de 45 µF?',options:['40.5 - 49.5 µF','41.0 - 49.0 µF','42.3 - 47.7 µF','43.0 - 47.0 µF'],correct:2,explanation:'45 µF × 0.06 = 2.7 µF. Rango: 45 - 2.7 = 42.3 hasta 45 + 2.7 = 47.7 µF. El error común es calcular el 6% incorrectamente o usar ±10% que es el tolerancia para reemplazo, no para evaluar el capacitor existente.'},
            {category:'Diagnóstico con Instrumentos',q:'Un motor de abanico del condensador tiene 3 cables: marrón, morado y negro. Tu multímetro lee 8 ohms entre marrón y negro, y 5 ohms entre morado y negro. ¿Cuál es el cable común?',options:['Negro','No se puede determinar con esta información','Marrón','Morado'],correct:0,explanation:'El cable común siempre da la lectura más alta cuando mides entre los otros dos. Marrón a morado debería ser 8+5=13 ohms (mayor). Negro da lecturas menores a los otros dos, confirmando que negro es común (C). Run + Start = total a través de común.'},
            {category:'Diagnóstico con Instrumentos',q:'Mides amperaje en un compresor scroll de 3 toneladas: RLA en placa = 18A, tu pinza lee 22A. La temperatura exterior es 95°F. ¿Qué haces?',options:['Agregar refrigerante porque está bajo','Verificar presiones y voltaje antes de concluir','Cambiar el capacitor de marcha','Cambiar el compresor inmediatamente'],correct:1,explanation:'22A es alto vs 18A RLA pero NO es conclusivo solo con amperaje. Primero verifica: voltaje (bajo voltaje = alto amperaje), presiones (alta descarga sube amperaje), y condiciones del condensador. Diagnosticar por un solo síntoma es adivinar.'},
            {category:'Diagnóstico con Instrumentos',q:'¿Qué herramienta usas para medir la caída de presión estática en un sistema de ductos?',options:['Termómetro infrarrojo','Anemómetro de veleta','Manómetro digital de presión estática','Manómetro de refrigeración'],correct:2,explanation:'La presión estática se mide con un manómetro de presión estática (magnahelic o digital) en pulgadas de columna de agua (iwc). El manómetro de refrigeración mide PSI del refrigerante. El anemómetro mide velocidad del aire, no presión.'},
            {category:'Diagnóstico con Instrumentos',q:'Estás midiendo la caída de voltaje en un cable #10 AWG de 50 pies que alimenta un condensador. ¿Cuál es la máxima caída de voltaje aceptable?',options:['8%','3%','2%','5%'],correct:1,explanation:'NEC recomienda máximo 3% de caída de voltaje en un circuito ramal y 5% total (alimentador + ramal combinados). Una caída mayor puede causar bajo voltaje en el equipo, resultando en alto amperaje y daño al compresor.'},
            {category:'Diagnóstico con Instrumentos',q:'Un técnico conecta su manómetro al puerto de servicio de succión y lee 150 PSI con R-410A. El sistema está apagado y la temperatura ambiente es 75°F. ¿Es normal?',options:['Sí, es la presión de equalización correcta','Depende del tamaño del sistema','No, la presión debería ser más baja','No, la presión debería ser más alta'],correct:3,explanation:'R-410A a 75°F de temperatura ambiente debería ecualizar a ~217 PSI. 150 PSI indica que el sistema está bajo de refrigerante. La presión de ecualización siempre corresponde a la temperatura ambiente en la tabla PT, sin importar el tamaño del sistema.'},
            {category:'Diagnóstico con Instrumentos',q:'¿Cuál es la diferencia entre medir amperaje con una pinza amperimétrica en la línea común vs en una fase individual de un motor trifásico?',options:['La línea común lee el doble del amperaje real','No hay diferencia, ambas leen igual','La línea común lee el amperaje de una sola fase','La línea común lee la suma de todas las fases'],correct:2,explanation:'En un motor trifásico, cada línea (L1, L2, L3) lleva el amperaje de esa fase individual. No hay \'línea común\' como en monofásico. Si mides cada línea, obtienes el amperaje por fase. Las tres deberían estar balanceadas dentro del 2%.'},
            {category:'Fórmulas y Cálculos',q:'Un sistema de 5 toneladas tiene un SEER de 16. ¿Cuántos watts consume a capacidad máxima?',options:['4,500 watts','3,125 watts','4,000 watts','3,750 watts'],correct:3,explanation:'SEER = BTU/hr ÷ Watts. Una tonelada = 12,000 BTU/hr. 5 toneladas = 60,000 BTU/hr. Watts = BTU/hr ÷ SEER = 60,000 ÷ 16 = 3,750 watts. Error común: usar EER en vez de SEER o no convertir toneladas a BTU/hr.'},
            {category:'Fórmulas y Cálculos',q:'¿Cuál es la diferencia entre SEER y EER?',options:['SEER es promedio estacional, EER se mide a condiciones específicas (95°F)','No hay diferencia real, son intercambiables','SEER es para calefacción, EER es para enfriamiento','SEER se mide a una sola temperatura, EER es promedio estacional'],correct:0,explanation:'SEER (Seasonal Energy Efficiency Ratio) es un promedio que simula toda una temporada de enfriamiento con diferentes temperaturas. EER se mide a condiciones fijas: 95°F exterior, 80°F/67°F interior. SEER siempre es mayor que EER para el mismo equipo.'},
            {category:'Fórmulas y Cálculos',q:'Necesitas calcular la carga de enfriamiento de un cuarto de 20ft × 15ft × 8ft. Usando el método simplificado de 25 BTU/sq ft, ¿cuántas BTU/hr necesitas?',options:['7,500 BTU/hr','10,000 BTU/hr','6,000 BTU/hr','8,500 BTU/hr'],correct:0,explanation:'Área = 20 × 15 = 300 sq ft. Carga = 300 × 25 = 7,500 BTU/hr. Error común: multiplicar los tres números (20×15×8=2,400) usando el volumen en vez del área. El método simplificado usa pies cuadrados, no cúbicos.'},
            {category:'Fórmulas y Cálculos',q:'Un cliente quiere saber cuántas toneladas de AC necesita para una casa de 2,400 sq ft en clima caliente. Usando 500 sq ft por tonelada, ¿cuántas toneladas?',options:['5 toneladas','4.8 toneladas','4.5 toneladas','4 toneladas'],correct:1,explanation:'2,400 ÷ 500 = 4.8 toneladas. Nota: esto es solo una estimación RÁPIDA. Un Manual J es necesario para el cálculo real. En clima caliente se usa 400-500 sq ft/ton; en clima templado 500-600 sq ft/ton. Redondear sin calcular es adivinar.'},
            {category:'Fórmulas y Cálculos',q:'¿Cuántos BTU/hr produce un furnace de 80,000 BTU input con 80% AFUE?',options:['60,000 BTU/hr','64,000 BTU/hr','68,000 BTU/hr','72,000 BTU/hr'],correct:1,explanation:'Output = Input × AFUE. 80,000 × 0.80 = 64,000 BTU/hr. El 20% restante se pierde por el flue. Error común: confundir input con output. La placa del furnace dice input; el output real depende de la eficiencia.'},
            {category:'Fórmulas y Cálculos',q:'Un condensador rechaza 72,000 BTU/hr. El compresor agrega 12,000 BTU/hr de calor de compresión. ¿Cuánto calor absorbió el evaporador?',options:['48,000 BTU/hr','60,000 BTU/hr','72,000 BTU/hr','56,000 BTU/hr'],correct:1,explanation:'Calor del condensador = Calor del evaporador + Calor de compresión. 72,000 = Evaporador + 12,000. Evaporador = 72,000 - 12,000 = 60,000 BTU/hr (5 toneladas). El condensador siempre rechaza MÁS calor del que absorbe el evaporador.'},
            {category:'Fórmulas y Cálculos',q:'Un sistema tiene un CFM de 1,600 y el delta T del aire a través del evaporador es 20°F. ¿Cuántas BTU/hr está removiendo?',options:['28,800 BTU/hr','38,400 BTU/hr','36,000 BTU/hr','34,560 BTU/hr'],correct:3,explanation:'Sensible BTU/hr = CFM × 1.08 × ΔT = 1,600 × 1.08 × 20 = 34,560 BTU/hr. El factor 1.08 viene de (densidad del aire × calor específico × 60 min). Error común: usar 1.0 en vez de 1.08 o confundir con la fórmula latente.'},
            {category:'Fórmulas y Cálculos',q:'¿Cuál es el CFM correcto por tonelada para un sistema residencial estándar?',options:['400 CFM/ton','500 CFM/ton','450 CFM/ton','350 CFM/ton'],correct:0,explanation:'400 CFM por tonelada es el estándar para sistemas residenciales. 350 CFM/ton puede usarse en climas húmedos para mayor deshumidificación. 450-500 CFM/ton causa pobre deshumidificación y puede congelar el evaporador en condiciones de baja carga.'},
            {category:'Fórmulas y Cálculos',q:'Un sistema de 4 toneladas debería mover cuántos CFM en condiciones estándar?',options:['1,600 CFM','1,800 CFM','1,200 CFM','1,400 CFM'],correct:0,explanation:'4 toneladas × 400 CFM/ton = 1,600 CFM. Si mides significativamente menos, verifica: filtro sucio, evaporador congelado, blower motor débil, ductos colapsados, o dampers cerrados.'},
            {category:'Fórmulas y Cálculos',q:'La presión estática total de un sistema es 0.82 iwc. El máximo recomendado es 0.50 iwc. ¿Qué porcentaje por encima del máximo está?',options:['56%','32%','48%','64%'],correct:3,explanation:'(0.82 - 0.50) / 0.50 × 100 = 64% por encima del máximo. Presión estática alta reduce CFM dramáticamente, causa bajo delta T, y puede quemar el motor del blower. Causas: ductos subdimensionados, filtro sucio, registros cerrados.'},
            {category:'Fórmulas y Cálculos',q:'Calculas el superheat en un sistema con tubo capilar. Presión de succión: 121 PSI (R-410A) = 46°F saturación. Temperatura de línea de succión: 62°F. ¿Superheat?',options:['16°F','20°F','14°F','18°F'],correct:0,explanation:'Superheat = 62°F - 46°F = 16°F. Para sistemas con tubo capilar o pistón, el superheat normal es 10-20°F dependiendo de condiciones. Con TXV sería 5-10°F. El tipo de dispositivo de expansión cambia qué es \'normal\'.'},
            {category:'Fórmulas y Cálculos',q:'Un técnico calcula el subcooling: presión de descarga 350 PSI con R-410A = 104°F saturación. Temperatura de línea de líquido: 95°F. Pero el cliente dice que otro técnico midió 15°F de subcooling. ¿Quién tiene razón?',options:['Ambos podrían tener razón si midieron en diferente momento','Ninguno: necesitas más datos','El segundo técnico: subcooling es 15°F','El primer técnico: subcooling es 9°F'],correct:3,explanation:'Subcooling = 104°F - 95°F = 9°F. El cálculo es matemático, no de opinión. Si otro técnico obtuvo 15°F, o midió en condiciones diferentes, o calculó mal. Siempre confía en tus propias mediciones verificadas.'},
            {category:'Fórmulas y Cálculos',q:'¿Cuántos BTU hay en 1 kWh?',options:['2,412 BTU','4,200 BTU','1,000 BTU','3,413 BTU'],correct:3,explanation:'1 kWh = 3,413 BTU. Esta es una conversión fundamental. 1 watt = 3.413 BTU/hr. Para convertir watts a BTU/hr, multiplica por 3.413. Para BTU/hr a watts, divide por 3.413.'},
            {category:'Fórmulas y Cálculos',q:'Un heat strip de 10 kW, ¿cuántos BTU/hr produce?',options:['36,000 BTU/hr','32,000 BTU/hr','30,000 BTU/hr','34,130 BTU/hr'],correct:3,explanation:'10 kW × 3,413 BTU/kWh = 34,130 BTU/hr. Los heat strips eléctricos son 100% eficientes convirtiendo electricidad en calor. Error común: redondear 3,413 a 3,400 o 3,500 y obtener una respuesta incorrecta en el examen.'},
            {category:'Electricidad',q:'Un compresor monofásico tiene las siguientes lecturas de resistencia: C-S = 4 ohms, C-R = 3 ohms, S-R = 7 ohms. ¿Está bien el compresor?',options:['Sí, C-S + C-R = S-R confirma buen bobinado','No, Start debería tener menos resistencia que Run','No, las lecturas indican corto entre bobinados','No se puede determinar sin medir a tierra'],correct:0,explanation:'La prueba de bobinado: C-S + C-R debe igual S-R. 4 + 3 = 7 ✓. Esto confirma que no hay cortos entre bobinados. Start (C-S=4) tiene MÁS resistencia que Run (C-R=3), lo cual es correcto. Pero TAMBIÉN debes medir resistencia a tierra para verificar que no hay corto a carcasa.'},
            {category:'Electricidad',q:'Un circuito tiene 240V y una resistencia de 12 ohms. ¿Cuál es la corriente?',options:['22A','18A','24A','20A'],correct:3,explanation:'Ley de Ohm: I = V/R = 240/12 = 20A. Error frecuente: multiplicar V × R en vez de dividir. Recuerda: V=IR, I=V/R, R=V/I.'},
            {category:'Electricidad',q:'¿Cuántos watts consume un motor que jala 15A a 240V con factor de potencia de 0.85?',options:['2,700W','4,235W','3,600W','3,060W'],correct:3,explanation:'Watts reales = V × I × PF = 240 × 15 × 0.85 = 3,060W. Sin factor de potencia obtendrías 3,600 VA (volt-amperes), que son watts APARENTES, no reales. La diferencia entre watts y VA es el factor de potencia.'},
            {category:'Electricidad',q:'Dos resistencias de 10 ohms están en paralelo. ¿Cuál es la resistencia total?',options:['5 ohms','10 ohms','15 ohms','20 ohms'],correct:0,explanation:'En paralelo: 1/Rt = 1/R1 + 1/R2 = 1/10 + 1/10 = 2/10. Rt = 10/2 = 5 ohms. Regla rápida: dos resistencias iguales en paralelo = la mitad de una. En serie serían 20 ohms. Paralelo SIEMPRE da menos que la menor resistencia individual.'},
            {category:'Electricidad',q:'Un transformador 240V/24V tiene un fusible de 3A en el secundario. ¿Cuánto amperaje máximo puede pasar por el primario antes de quemar el fusible?',options:['0.3A','30A','0.2A','3A'],correct:0,explanation:'Potencia del primario = Potencia del secundario. 24V × 3A = 72VA. Primario: 72VA ÷ 240V = 0.3A. El transformador reduce voltaje pero proporcionalmente aumenta capacidad de corriente. El fusible en el secundario protege a 72VA total.'},
            {category:'Electricidad',q:'Mides 120V entre L1 y neutral, 120V entre L2 y neutral, pero solo 208V entre L1 y L2. ¿Qué tipo de servicio es?',options:['Trifásico 208V/120V','Monofásico 208V','Monofásico 240V con problema de voltaje','Hay un problema con el neutral'],correct:0,explanation:'208V entre fases con 120V a neutral es servicio trifásico estrella (wye) 208V/120V. En monofásico 240V verías 240V entre L1 y L2. 208V viene de 120 × √3 = 207.8V ≈ 208V. Esta es la diferencia clave entre servicio residencial y comercial.'},
            {category:'Electricidad',q:'¿Cuál es la fórmula para calcular watts en un circuito trifásico?',options:['V × I × 1.732','V × I × 3','V × I × PF','V × I × 1.414'],correct:0,explanation:'Watts trifásico = V × I × 1.732 (√3) × PF. El factor 1.732 es la raíz cuadrada de 3 y aplica a sistemas trifásicos. 1.414 es √2, que se usa para convertir RMS a pico. No confundas estos factores.'},
            {category:'Electricidad',q:'Un contactor de 40A tiene los contactos quemados. Mides 210V en un lado y 190V en el otro lado del contactor. ¿Cuánto voltaje se pierde en los contactos?',options:['15V','10V','20V','25V'],correct:2,explanation:'Caída de voltaje en el contactor = 210V - 190V = 20V. Un contactor bueno debería tener menos de 1V de caída. 20V de caída indica contactos severamente quemados o picados. Este voltaje se convierte en calor y empeora el problema.'},
            {category:'Electricidad',q:'Un motor de blower tiene 4 velocidades. La resistencia entre común y alta es 3 ohms, entre común y baja es 12 ohms. ¿Por qué la velocidad alta tiene MENOS resistencia?',options:['Menos resistencia = menos corriente = más velocidad','Es al revés, alta velocidad tiene más resistencia','Menos resistencia = más corriente = más velocidad','La resistencia no afecta la velocidad del motor'],correct:2,explanation:'Menos resistencia en el bobinado permite MÁS corriente, lo que genera un campo magnético más fuerte y más velocidad. Alta = menos ohms = más amps = más rápido. Baja = más ohms = menos amps = más lento. I = V/R.'},
            {category:'Electricidad',q:'Mides la corriente de un compresor monofásico de 230V: L1 = 19.5A, L2 = 19.8A. El RLA es 19A. ¿Cuál es el amperaje operando?',options:['19.5A','19.0A','19.8A','19.65A'],correct:3,explanation:'En monofásico 230V, el amperaje real del compresor es el PROMEDIO de ambas líneas: (19.5 + 19.8) / 2 = 19.65A. Esto está ligeramente por encima del RLA de 19A. Verifica voltaje y condiciones antes de condenar el compresor.'},
            {category:'Electricidad',q:'¿Cuál es el amperaje máximo que puede manejar un breaker de 30A antes de dispararse instantáneamente?',options:['Se dispara al exceder 30A','36A','45A','30A'],correct:2,explanation:'Un breaker estándar aguanta 100% de su rating continuamente pero el disparo magnético (instantáneo) típicamente ocurre entre 3-10x el rating para corto circuito. Para sobrecarga, un breaker de 30A puede tomar hasta ~45A (150%) por un tiempo corto antes de dispararse térmicamente.'},
            {category:'Electricidad',q:'Un sistema mini-split de 12,000 BTU requiere un circuito dedicado de 20A/230V. ¿Cuál es el tamaño mínimo de cable según NEC?',options:['#8 AWG','#12 AWG','#14 AWG','#10 AWG'],correct:1,explanation:'Un circuito de 20A requiere mínimo #12 AWG según NEC. #14 AWG es para 15A máximo. #10 AWG sería para 30A. Siempre verifica el manual de instalación del equipo ya que puede requerir un calibre mayor por la distancia del cable.'},
            {category:'Electricidad',q:'Encuentras un cable #8 AWG de cobre en un circuito de condensador. ¿Cuál es el amperaje máximo que puede manejar este cable?',options:['50A','40A','30A','55A'],correct:1,explanation:'#8 AWG cobre tiene capacidad de 40A según NEC tabla 310.16 (cable THHN en conducto). #10=30A, #8=40A, #6=55A, #4=70A. Si el cable está en un ático caliente, hay factores de derating que reducen esta capacidad.'},
            {category:'Electricidad',q:'Un relay de 24V tiene una bobina que consume 0.5A. ¿Cuántos watts disipa la bobina?',options:['24W','10W','12W','6W'],correct:2,explanation:'P = V × I = 24 × 0.5 = 12W. Esto es importante porque cada relay/contactor agrega carga al transformador. Si tienes muchos accesorios de 24V, puedes sobrecargar el transformador de control.'},
            {category:'Controles y Componentes',q:'Un presostato de alta se dispara repetidamente. Reseteaste 3 veces y sigue disparándose. ¿Qué NO debes hacer?',options:['Verificar la carga de refrigerante','Verificar el condensador por suciedad','Verificar el motor del ventilador del condensador','Puentear el presostato para probar'],correct:3,explanation:'NUNCA puentees un presostato de seguridad. Está disparándose por una razón: condensador sucio, motor del fan malo, sobrecarga de refrigerante, o restricción. Puentearlo elimina la protección y puede causar explosión del compresor o incendio.'},
            {category:'Controles y Componentes',q:'¿Cuál es la función del acumulador en un sistema de bomba de calor?',options:['Proteger el compresor de líquido en modo calefacción','Almacenar refrigerante líquido para el condensador','Filtrar contaminantes del refrigerante','Regular la presión de succión'],correct:0,explanation:'El acumulador se instala en la línea de succión antes del compresor para atrapar refrigerante líquido que no se evaporó completamente. Es crítico en bombas de calor porque en modo calefacción, el evaporador exterior puede enviar líquido. El compresor no puede comprimir líquido (slugging).'},
            {category:'Controles y Componentes',q:'Una válvula TXV tiene un bulbo sensor. ¿Dónde se instala correctamente?',options:['En la línea de succión, entre las 10 y 2 en punto del tubo','En la línea de succión, a las 12 en punto del tubo','En la línea de descarga, cerca del compresor','En la línea de líquido, después del filtro drier'],correct:0,explanation:'El bulbo de la TXV se instala en la línea de succión, en la posición de las 10 a las 2 (parte superior del tubo) para que lea temperatura del vapor, no del aceite que corre por el fondo. Si lo pones a las 6 (abajo), lee la temperatura del aceite y la TXV no regula bien.'},
            {category:'Controles y Componentes',q:'Un defrost board en una bomba de calor inicia defrost cada 90 minutos. El evaporador exterior no tiene escarcha. ¿Qué tipo de control de defrost tiene?',options:['Defrost inteligente con sensor de humedad','Defrost por tiempo solamente','Defrost por presión diferencial','Defrost por demanda con sensor de temperatura'],correct:1,explanation:'Si hace defrost sin escarcha y a intervalos fijos, es defrost por TIEMPO solamente. Es el método menos eficiente porque desperdicia energía. Defrost por demanda usa sensores (temperatura o presión) para solo activarse cuando hay escarcha real.'},
            {category:'Controles y Componentes',q:'Durante el ciclo de defrost de una bomba de calor, ¿qué sucede con la válvula reversible?',options:['Cambia a modo enfriamiento para calentar el serpentín exterior','Se apaga completamente','Se queda en modo calefacción','Alterna entre modos rápidamente'],correct:0,explanation:'En defrost, la válvula reversible cambia a modo enfriamiento. Esto envía gas caliente de descarga al serpentín exterior para derretir la escarcha. Al mismo tiempo, el ventilador exterior se apaga y los heat strips se activan para que el cliente no sienta aire frío.'},
            {category:'Controles y Componentes',q:'¿Cuál es la diferencia entre un relay SPST y un DPDT?',options:['No hay diferencia funcional significativa','SPST tiene 1 polo y 1 tiro, DPDT tiene 2 polos y 2 tiros','SPST tiene 2 contactos, DPDT tiene 4 contactos','SPST es para AC, DPDT es solo para DC'],correct:1,explanation:'SPST = Single Pole Single Throw: un circuito, on/off. DPDT = Double Pole Double Throw: dos circuitos independientes, cada uno con dos posiciones. DPDT puede controlar dos cargas o invertir polaridad. No tiene que ver con AC vs DC.'},
            {category:'Controles y Componentes',q:'Un presostato de baja está calibrado para cortar a 50 PSI y resetear a 100 PSI con R-410A. ¿Cuál es el diferencial?',options:['50 PSI','75 PSI','150 PSI','25 PSI'],correct:0,explanation:'Diferencial = Reset - Corte = 100 - 50 = 50 PSI. El diferencial evita que el presostato cicle rápidamente (short cycling). El sistema debe recuperar presión hasta el punto de reset antes de volver a arrancar.'},
            {category:'Controles y Componentes',q:'Un sensor de temperatura NTC (Negative Temperature Coefficient) muestra 50,000 ohms. ¿Qué temperatura indica?',options:['El sensor está abierto/dañado','Temperatura ambiente (~75°F)','Muy frío (~32°F o menos)','Muy caliente (~150°F)'],correct:2,explanation:'NTC = resistencia BAJA cuando está caliente, resistencia ALTA cuando está frío. 50,000 ohms es resistencia alta = temperatura baja (~32°F o menos). Si fuera PTC (Positive Temperature Coefficient), sería al revés. Siempre verifica qué tipo de sensor tiene el equipo.'},
            {category:'Controles y Componentes',q:'¿Cuántas posiciones tiene una válvula reversible (4-way valve) y cuántos tubos se conectan?',options:['2 posiciones, 4 tubos','3 posiciones, 4 tubos','4 posiciones, 4 tubos','2 posiciones, 3 tubos'],correct:0,explanation:'La válvula reversible tiene 2 POSICIONES (calefacción y enfriamiento) y 4 TUBOS: descarga del compresor, succión del compresor, serpentín interior, serpentín exterior. La válvula simplemente redirige el flujo de descarga hacia un serpentín u otro.'},
            {category:'Controles y Componentes',q:'Un economizer en un sistema comercial abre los dampers de aire exterior cuando la temperatura exterior es favorable. ¿Cuál es el setpoint típico para activarlo?',options:['Cuando el aire exterior está debajo de 55°F','Cuando el aire exterior está debajo de la temperatura de retorno','Cuando el aire exterior está debajo de 75°F','Cuando el aire exterior está debajo de 65°F'],correct:1,explanation:'El economizer se activa cuando la temperatura del aire exterior es MENOR que la temperatura de retorno (típicamente 72-75°F). Algunos usan entalpía (temperatura + humedad) en vez de solo temperatura. El punto no es un número fijo sino la comparación con el retorno.'},
            {category:'Controles y Componentes',q:'Un hard start kit (potential relay + start capacitor) se instala en un compresor. ¿Cuánto tiempo debe estar energizado el capacitor de arranque?',options:['0.5-1 segundo','5-10 segundos','Mientras el compresor esté encendido','2-3 segundos'],correct:0,explanation:'El start capacitor se energiza solo durante el arranque, típicamente 0.5-1 segundo hasta que el motor alcanza ~75% de su velocidad. Si se queda energizado más tiempo, se daña y puede explotar. El potential relay lo desconecta basándose en el CEMF (back-EMF) del motor.'},
            {category:'Controles y Componentes',q:'¿Qué indica una lectura de megohms baja (menos de 1 MΩ) entre el bobinado del compresor y tierra?',options:['El megóhmetro necesita calibración','El compresor está en buenas condiciones','La lectura es normal si el compresor está caliente','Hay un corto parcial a tierra en el bobinado'],correct:3,explanation:'Menos de 1 MΩ entre bobinado y carcasa/tierra indica degradación del aislamiento. Un compresor bueno debería leer infinito o al menos 500+ MΩ. Un compresor caliente puede leer un poco menos pero NUNCA menos de 1 MΩ. Esto es precursor de falla total a tierra.'},
            {category:'Diagnóstico',q:'Un sistema R-410A muestra: succión 100 PSI, descarga 480 PSI, superheat 25°F, subcooling 3°F. ¿Cuál es el diagnóstico más probable?',options:['Sistema bajo de refrigerante','TXV restringida','Condensador sucio','Compresor débil'],correct:0,explanation:'Succión baja (100 PSI) + superheat alto (25°F) + subcooling bajo (3°F) = falta de refrigerante. El poco refrigerante en el sistema absorbe todo el calor rápidamente (alto superheat) y no hay suficiente líquido en el condensador (bajo subcooling). La descarga alta puede ser por el condensador trabajando con poco flujo.'},
            {category:'Diagnóstico',q:'Un sistema R-410A muestra: succión 160 PSI, descarga 490 PSI, superheat 4°F, subcooling 22°F. ¿Diagnóstico?',options:['Sistema bajo de refrigerante','Sistema sobrecargado','Evaporador sucio','Compresor con válvulas dañadas'],correct:1,explanation:'Succión alta (160 PSI) + superheat bajo (4°F) + subcooling alto (22°F) = demasiado refrigerante. El exceso se acumula en el condensador (alto subcooling) y el evaporador recibe más de lo necesario (bajo superheat). Hay que recuperar refrigerante hasta que las lecturas se normalicen.'},
            {category:'Diagnóstico',q:'Un sistema R-410A muestra: succión 85 PSI, descarga 510 PSI, superheat 30°F, subcooling 4°F. Temperatura exterior 95°F. ¿Diagnóstico?',options:['Falta de refrigerante únicamente','Metering device restringido + bajo refrigerante','TXV abierta de más','Condensador restringido o sucio'],correct:1,explanation:'Succión muy baja + superheat muy alto + subcooling bajo + descarga alta = restricción en el metering device Y/O bajo refrigerante. La restricción limita el flujo al evaporador (succión baja, superheat alto). La alta descarga con bajo subcooling sugiere también falta de carga. Hay que verificar ambos.'},
            {category:'Diagnóstico',q:'Ambas presiones (succión y descarga) están más altas de lo normal. El superheat es bajo y el subcooling es alto. El amperaje del compresor está alto. ¿Qué pasa?',options:['Motor de condensador malo','Filtro drier tapado','Sobrecarga de refrigerante','Evaporador congelado'],correct:2,explanation:'Ambas presiones altas + superheat bajo + subcooling alto + alto amperaje = sobrecarga de refrigerante. Más refrigerante = más masa = más trabajo para el compresor = más amperaje. Todo sube. No confundir con condensador sucio donde la descarga sube pero el subcooling puede ser variable.'},
            {category:'Diagnóstico',q:'Un sistema muestra presión de succión normal pero presión de descarga muy alta. El superheat es normal. ¿Cuál es la causa más probable?',options:['Compresor con válvulas dañadas','Bajo refrigerante','TXV restringida','Condensador sucio o motor del fan malo'],correct:3,explanation:'Succión normal + descarga alta + superheat normal = problema en el lado de alta presión (condensador). El condensador no puede rechazar calor: puede estar sucio, el fan no gira, o hay algo bloqueando el flujo de aire. El evaporador funciona bien (succión y superheat normales).'},
            {category:'Diagnóstico',q:'Llegas a un sistema que no enfría. El compresor está prendido pero ambas presiones están iguales (ecualizadas). ¿Qué indica?',options:['Válvulas del compresor dañadas (no bombea)','TXV completamente abierta','Filtro drier completamente tapado','Falta total de refrigerante (fuga grande)'],correct:0,explanation:'Compresor corriendo con presiones ecualizadas = el compresor no está bombeando. Las válvulas internas están dañadas y el refrigerante circula libremente sin compresión. Si fuera fuga total, verías ambas presiones en 0 o muy bajas. Con TXV abierta verías succión alta pero descarga también.'},
            {category:'Diagnóstico',q:'Un furnace de gas enciende, calienta por 2 minutos, y se apaga por límite alto. Después de enfriarse, intenta de nuevo. ¿Cuál es la causa MÁS probable?',options:['Intercambiador de calor rajado','Flujo de aire restringido (filtro, blower, ductos)','Válvula de gas defectuosa','Sensor de llama sucio'],correct:1,explanation:'Apagado por límite alto después de calentar brevemente = sobrecalentamiento por falta de flujo de aire. Causas: filtro tapado, blower no arranca, ductos bloqueados, registros cerrados. La válvula de gas y el sensor de llama no causan apagado por límite alto. Un intercambiador rajado es posible pero menos común.'},
            {category:'Diagnóstico',q:'Un furnace tiene 3 flashes en el LED de diagnóstico. El manual dice 3 flashes = \'Pressure switch stuck open\'. El draft inducer motor está corriendo. ¿Qué verificas primero?',options:['Verificar el tubo de hule del pressure switch y el drain del colector','Verificar el thermostat','Reemplazar el pressure switch inmediatamente','Verificar el voltaje del transformador'],correct:0,explanation:'Pressure switch open con inducer corriendo: primero verifica el tubo de hule (puede estar tapado, desconectado, o con agua), el drain del colector de condensado (tapado causa respaldo de agua), y que el inducer realmente esté generando suficiente succión. El switch mismo es lo ÚLTIMO que reemplazas.'},
            {category:'Diagnóstico',q:'Un condensador mini-split muestra código de error E1 y la unidad no arranca. El compresor intentó arrancar pero se detuvo en 2 segundos. ¿Qué verificas?',options:['Solo el código en el manual del fabricante','Voltaje de alimentación, capacitor, y conexiones del compresor','Reemplazar el compresor','Reemplazar la tarjeta de control'],correct:1,explanation:'Compresor que intenta arrancar y falla rápido puede ser: bajo voltaje, capacitor débil, conexión suelta, o compresor locked rotor. Verifica voltaje, mide el capacitor, revisa conexiones. Los códigos de error son una GUÍA, no un diagnóstico final. Mide antes de reemplazar.'},
            {category:'Diagnóstico',q:'¿Cuál es el delta T normal del aire a través de un evaporador residencial en condiciones estándar?',options:['22-28°F','12-15°F','18-22°F','15-20°F'],correct:2,explanation:'Delta T normal del evaporador es 18-22°F (temperatura de retorno - temperatura de suministro). Menos de 15°F puede indicar exceso de flujo de aire, bajo refrigerante, o evaporador sobredimensionado. Más de 25°F indica flujo de aire bajo o sistema pequeño para la carga.'},
            {category:'Diagnóstico',q:'Mides delta T de 28°F a través del evaporador. El flujo de aire se siente débil. ¿Qué sospechas?',options:['TXV abierta de más','Flujo de aire bajo (filtro, blower, ductos)','Sobrecarga de refrigerante','Evaporador sobredimensionado'],correct:1,explanation:'Delta T alto + flujo de aire débil = poco aire pasando por el evaporador. El poco aire que pasa se enfría MUCHO (alto delta T). Causas: filtro sucio, blower en velocidad baja, ductos colapsados, evaporador congelado parcialmente. Más refrigerante no soluciona un problema de aire.'},
            {category:'Refrigerantes',q:'La presión de ecualización del R-410A a 70°F es aproximadamente:',options:['145 PSI','201 PSI','118 PSI','235 PSI'],correct:1,explanation:'R-410A a 70°F ecualiza a ~201 PSI. A 75°F ~217 PSI, a 80°F ~235 PSI. Estos valores son mucho más altos que R-22 (a 70°F ~121 PSI). Si conectas manómetros a un sistema apagado y no ves la presión de ecualización correcta, tienes una fuga.'},
            {category:'Refrigerantes',q:'¿Cuál es la presión de ecualización aproximada del R-22 a 75°F?',options:['165 PSI','127 PSI','145 PSI','112 PSI'],correct:1,explanation:'R-22 a 75°F ecualiza a ~127 PSI. Compara con R-410A a 75°F que es ~217 PSI. Siempre verifica con la tabla PT del refrigerante específico. Usar la tabla equivocada te da diagnósticos completamente errados.'},
            {category:'Refrigerantes',q:'Según EPA 608, ¿cuál es la multa máxima por venting refrigerante intencionalmente?',options:['$10,000 por día','$100,000 por incidente','$37,500 por día','$44,539 por día'],correct:3,explanation:'La multa bajo Clean Air Act Section 608 es hasta $44,539 por día por violación (ajustada por inflación). Esto incluye ventear refrigerante, no recuperar antes de reparar, o no tener certificación EPA. Las multas se actualizan periódicamente.'},
            {category:'Refrigerantes',q:'¿Cuál refrigerante es una mezcla azeotrópica?',options:['R-410A','R-407C','R-404A','R-22'],correct:0,explanation:'R-410A es near-azeotropic (se comporta casi como un refrigerante puro). R-407C y R-404A son mezclas zeotrópicas con glide de temperatura significativo. R-22 es un refrigerante puro (un solo componente), no una mezcla.'},
            {category:'Refrigerantes',q:'Un refrigerante zeotrópico como R-407C tiene \'temperature glide\'. ¿Qué significa esto en la práctica?',options:['El refrigerante pierde eficiencia en días calientes','La temperatura de evaporación y condensación varía durante el cambio de fase','El compresor trabaja más duro con este tipo de refrigerante','El refrigerante cambia de color con la temperatura'],correct:1,explanation:'Temperature glide significa que el refrigerante no evapora/condensa a una sola temperatura como los puros. R-407C tiene ~8°F de glide: empieza a evaporar a una temperatura y termina a otra. Esto afecta las lecturas de superheat y subcooling. Debes usar \'bubble point\' para subcooling y \'dew point\' para superheat.'},
            {category:'Refrigerantes',q:'¿Por qué R-410A requiere mangueras y manómetros diferentes que R-22?',options:['Porque R-410A opera a presiones mucho más altas','Las dos: presiones más altas Y diferentes puertos de servicio','Porque R-410A es tóxico y R-22 no','Porque tienen diferentes diámetros de puerto de servicio'],correct:1,explanation:'R-410A opera a casi el doble de presión que R-22 (400+ PSI vs 200+ PSI en descarga), requiriendo mangueras y manómetros rated para mayor presión. Además, los puertos de servicio son de 5/16" en vez del 1/4" del R-22, específicamente para evitar mezclas accidentales.'},
            {category:'Refrigerantes',q:'¿Cómo se debe cargar R-407C: en vapor o en líquido?',options:['En líquido siempre, porque es mezcla zeotrópica','En vapor o líquido, no importa','Solo en vapor por el lado de succión','Solo en líquido por el lado de alta'],correct:0,explanation:'Todas las mezclas zeotrópicas (R-407C, R-404A, etc.) DEBEN cargarse en fase líquida para mantener la composición correcta. Si cargas en vapor, los componentes más volátiles salen primero y la mezcla cambia de proporción. R-410A también se carga en líquido por la misma razón.'},
            {category:'Refrigerantes',q:'Para certificación EPA 608, ¿cuántos tipos de certificación existen?',options:['4: Type I, II, III, Universal','2: residencial y comercial','5: Type I, II, III, Universal, y Motor Vehicle','3: Type I, II, III'],correct:0,explanation:'EPA 608 tiene 4 certificaciones: Type I (small appliances <5 lbs), Type II (high-pressure equipment), Type III (low-pressure equipment), y Universal (cubre los 3 tipos). Motor Vehicle AC está bajo EPA Section 609, que es diferente.'},
            {category:'Refrigerantes',q:'¿Cuál es el nivel de vacío requerido para evacuar un sistema nuevo de R-410A según la mayoría de fabricantes?',options:['250 micrones','1,000 micrones','500 micrones','350 micrones'],correct:2,explanation:'La mayoría de fabricantes de R-410A requieren 500 micrones o menos antes de cargar. Algunos especifican 300-400 micrones. R-22 era menos estricto. El vacío profundo es necesario para eliminar humedad, que reacciona con R-410A y el aceite POE formando ácidos.'},
            {category:'Refrigerantes',q:'¿Qué tipo de aceite usa R-410A?',options:['POE (Polyolester)','PAG (Polyalkylene Glycol)','Alkylbenzene (AB)','Mineral'],correct:0,explanation:'R-410A usa aceite POE (Polyolester). R-22 usa aceite mineral. POE es higroscópico (absorbe humedad del ambiente), por eso debes minimizar la exposición al aire y hacer un vacío profundo. PAG se usa en sistemas automotrices con R-134a.'},
            {category:'Refrigerantes',q:'Si mezclas accidentalmente R-22 con R-410A en un sistema, ¿qué pasa?',options:['Se crea una nueva mezcla estable','Solo baja la capacidad de enfriamiento un 20%','Las presiones se vuelven impredecibles y se daña el compresor','Funciona pero con menor eficiencia'],correct:2,explanation:'Mezclar refrigerantes crea una mezcla desconocida con propiedades impredecibles. Las tablas PT ya no aplican, el aceite puede no ser compatible, las presiones son erráticas, y el compresor puede dañarse. El sistema debe vaciarse completamente, limpiarse, y recargarse con un solo refrigerante.'},
            {category:'Instalación',q:'¿Cuál es la distancia mínima recomendada entre un condensador y una pared o obstrucción?',options:['12 pulgadas','18 pulgadas','24 pulgadas','6 pulgadas'],correct:1,explanation:'La mayoría de fabricantes requieren mínimo 18-24 pulgadas de espacio libre alrededor del condensador para flujo de aire adecuado. Menos espacio causa recirculación de aire caliente, aumentando la presión de descarga y reduciendo eficiencia. Siempre verifica el manual del fabricante específico.'},
            {category:'Instalación',q:'Estás instalando líneas de refrigerante. La línea de succión debe estar aislada. ¿La línea de líquido también debe aislarse?',options:['No, nunca se aísla la línea de líquido','Sí, ambas líneas siempre deben aislarse','Solo si pasa por un ático o área caliente','Solo si el fabricante lo especifica en el manual'],correct:2,explanation:'La línea de succión SIEMPRE se aísla para prevenir ganancia de calor y sudoración. La línea de líquido se aísla cuando pasa por áreas calientes (ático, exterior expuesto al sol) para prevenir flash gas. Si la línea de líquido está en un área fresca, generalmente no necesita aislamiento.'},
            {category:'Instalación',q:'Al hacer una conexión con braze en tubería de cobre para refrigeración, ¿qué gas de purga debes usar?',options:['Nitrógeno seco (N2)','Aire comprimido','Argón','CO2'],correct:0,explanation:'Nitrógeno seco a baja presión (2-5 PSI) para purga durante soldadura. Previene la formación de óxido de cobre dentro del tubo. Aire comprimido contiene humedad y oxígeno que crean escamas de óxido. CO2 puede crear ácido carbónico con humedad. Argón es innecesario y costoso.'},
            {category:'Instalación',q:'La línea de succión sube 15 pies verticalmente desde el evaporador al condensador en una instalación residencial. ¿Se necesita trampa de aceite?',options:['Solo si la línea es mayor de 30 pies','No, nunca en residencial','Solo en sistemas con R-22','Sí, una trampa cada 15-20 pies de subida vertical'],correct:3,explanation:'En subidas verticales de la línea de succión, se recomienda una trampa de aceite (oil trap) cada 15-20 pies para asegurar el retorno de aceite al compresor. Sin trampa, el aceite se acumula en el punto más bajo y el compresor se queda sin lubricación.'},
            {category:'Instalación',q:'¿Cuál es la prueba de presión correcta para un sistema nuevo de R-410A antes de evacuar?',options:['150 PSI con nitrógeno','500-600 PSI con nitrógeno','300 PSI con nitrógeno','La presión de ecualización del refrigerante'],correct:1,explanation:'R-410A requiere prueba de presión a 500-600 PSI con nitrógeno seco. Esto es más alto que R-22 (300 PSI) porque R-410A opera a presiones más altas. NUNCA uses refrigerante o aire comprimido para prueba de presión. Verifica el manual del fabricante para la presión exacta.'},
            {category:'Instalación',q:'Al dimensionar ductos, ¿cuál es la velocidad de aire máxima recomendada en ductos principales de suministro residencial?',options:['600 FPM','1,500 FPM','900 FPM','1,200 FPM'],correct:2,explanation:'900 FPM (pies por minuto) es el máximo recomendado para ductos principales residenciales para mantener el nivel de ruido aceptable. Ramales: 600 FPM. Ductos de retorno: 700 FPM. Velocidades más altas causan ruido excesivo y mayor presión estática.'},
            {category:'Instalación',q:'¿Cuántos BTU/hr de pérdida de calor se estiman por cada pie de ducto sin aislar en un ático a 130°F si el aire de suministro está a 55°F?',options:['Depende del diámetro y material del ducto','Los ductos no pierden calor significativo','No se puede calcular sin más datos','Aproximadamente 2-5 BTU/hr por pie lineal'],correct:0,explanation:'La pérdida depende de: diámetro del ducto, material, grosor del aislamiento, diferencia de temperatura, y velocidad del aire. No hay un número fijo por pie lineal sin conocer estas variables. Por eso el Manual D requiere cálculos específicos. Responder con un número fijo es adivinar.'},
            {category:'Instalación',q:'Un mini-split requiere una línea de drenaje de condensado. ¿Cuál es la pendiente mínima recomendada?',options:['1" por pie','1/2" por pie','1/8" por pie','1/4" por pie'],correct:3,explanation:'La pendiente mínima para drenaje por gravedad es 1/4" por pie (2% de pendiente). Menos pendiente puede causar estancamiento de agua y crecimiento de algas/moho. Siempre instala una trampa P en la línea de drenaje si el sistema usa presión negativa (evaporador en ducto).'},
            {category:'Instalación',q:'¿Por qué un sistema de AC residencial con evaporador en el supply plenum necesita una trampa P en la línea de drenaje?',options:['La presión negativa del blower impide que el agua drene sin trampa','Para prevenir que insectos entren al sistema','Para prevenir olores del drenaje','Es requerimiento de código pero no tiene función real'],correct:0,explanation:'El blower crea presión negativa en el plenum de retorno/evaporador. Sin trampa P, esta succión impide que el agua caiga por gravedad y puede succionar aire por la línea de drenaje. La trampa P mantiene un sello de agua que permite el drenaje mientras bloquea la succión de aire.'},
            {category:'Instalación',q:'Según el código mecánico, ¿cuál es el tamaño mínimo de la apertura de retorno de aire para un sistema de 3 toneladas (1,200 CFM)?',options:['Se calcula basándose en no exceder 500 FPM en la grilla','No hay mínimo específico','Mínimo 20" × 20" sin importar el CFM','Se calcula con la fórmula: CFM ÷ 200'],correct:0,explanation:'El tamaño del retorno se calcula para no exceder la velocidad máxima recomendada en la grilla (~400-500 FPM). Área = CFM ÷ FPM. Para 1,200 CFM a 400 FPM: 1,200 ÷ 400 = 3 sq ft = 432 sq in. El área libre de la grilla es menor que el tamaño total por las aletas.'},
            {category:'Mantenimiento',q:'Durante un mantenimiento preventivo de verano, ¿cuál es la secuencia CORRECTA de pruebas?',options:['Limpiar condensador → medir presiones → verificar superheat/subcooling','Medir presiones primero siempre, sin importar el orden','Verificar termostato → medir amperaje → cobrar e irse','Medir presiones → verificar superheat → limpiar condensador'],correct:0,explanation:'SIEMPRE limpia el condensador ANTES de medir presiones. Un condensador sucio eleva la presión de descarga y altera todas las lecturas. Si mides presiones con condensador sucio, obtienes datos incorrectos y puedes diagnosticar mal (ej: pensar que tiene sobrecarga cuando solo está sucio).'},
            {category:'Mantenimiento',q:'¿Cada cuánto se debe cambiar un filtro de aire estándar de 1" en una casa con mascotas?',options:['Depende de la presión estática medida','Cada 30 días','Cada 90 días','Cada 60 días'],correct:0,explanation:'No hay un intervalo fijo universal. La respuesta correcta es MEDIR la presión estática. Un filtro nuevo tiene cierta caída de presión; cuando esa caída aumenta significativamente, es hora de cambiar. Las guías de 30-60-90 días son solo estimaciones. Con mascotas puede ser cada 2 semanas. Mide, no adivines.'},
            {category:'Mantenimiento',q:'Al limpiar un evaporador con coil cleaner, ¿en qué dirección aplicas el químico?',options:['No importa la dirección','En la misma dirección del flujo de aire','De arriba hacia abajo siempre','En dirección contraria al flujo de aire'],correct:3,explanation:'Aplica el coil cleaner en dirección CONTRARIA al flujo de aire para empujar la suciedad hacia afuera. Si aplicas en la misma dirección del aire, empujas la suciedad MÁS ADENTRO del serpentín. Lo mismo aplica al enjuagar.'},
            {category:'Mantenimiento',q:'Un capacitor de marcha mide 38 µF y está marcado como 40 µF ±6%. ¿Está dentro de especificación?',options:['No, cualquier lectura menor a 40 µF es mala','Sí, 38 µF está dentro del ±6%','Sí, pero debería monitorearse de cerca','No, ya perdió más del 5% y debe cambiarse'],correct:1,explanation:'40 µF ±6% = rango de 37.6 a 42.4 µF. 38 µF está DENTRO del rango (37.6 es el mínimo). Aunque está en el extremo bajo, técnicamente pasa. Si midieras 37 µF, estaría fuera de spec. Un capacitor nuevo debería leer más cerca de 40 µF.'},
            {category:'Mantenimiento',q:'Durante el mantenimiento, el amperaje del blower motor lee 7.2A y la placa dice FLA 7.5A. ¿Es aceptable?',options:['El blower motor no tiene FLA, solo los compresores','No se puede determinar sin conocer el voltaje','No, está demasiado cerca del máximo','Sí, está dentro del FLA'],correct:3,explanation:'7.2A vs 7.5A FLA = 96% de carga, que es alto pero dentro de lo aceptable. FLA es el amperaje a carga completa (Full Load Amps). Si excede el FLA, el motor está sobrecargado. Verifica que el blower esté limpio y los ductos no estén restringidos si el amperaje está alto.'},
            {category:'Mantenimiento',q:'¿Cuál es la forma correcta de verificar la carga de refrigerante en un sistema con TXV durante un mantenimiento?',options:['Verificar las presiones de succión y descarga es suficiente','Verificar solo el subcooling','Verificar solo el superheat','Verificar superheat Y subcooling'],correct:1,explanation:'En sistemas con TXV, el SUBCOOLING es el método principal para verificar la carga. La TXV controla el superheat automáticamente (5-10°F), así que el superheat no te dice mucho sobre la carga. El subcooling sí te dice si hay suficiente, poco, o mucho refrigerante en el condensador.'},
            {category:'Mantenimiento',q:'¿Cuál es la forma correcta de verificar la carga en un sistema con pistón o tubo capilar?',options:['Solo subcooling','Superheat Y subcooling','Solo presiones','Solo superheat'],correct:3,explanation:'En sistemas con dispositivo de expansión fijo (pistón o tubo capilar), el SUPERHEAT es el método principal para verificar carga. Estos dispositivos no controlan el superheat automáticamente como la TXV, así que el superheat varía directamente con la carga de refrigerante.'},
            {category:'Mantenimiento',q:'Al verificar un sistema de bomba de calor en modo calefacción, ¿dónde mides el superheat?',options:['En la línea de succión del evaporador interior','No se mide superheat en modo calefacción','En la línea de líquido','En la línea de succión del serpentín exterior'],correct:3,explanation:'En modo calefacción, el serpentín EXTERIOR es el evaporador. El superheat se mide en la línea de succión que sale del serpentín exterior hacia el compresor. Todo se invierte: exterior = evaporador, interior = condensador. Si mides en el lugar equivocado, obtienes datos erróneos.'},
            {category:'Compresores',q:'Un compresor scroll de 5 toneladas tiene LRA de 120A y RLA de 22A. Al arrancar, tu pinza lee 85A por 0.5 segundos. ¿Es normal?',options:['No, no debería pasar de 50A ni en arranque','No, debería llegar al LRA de 120A','Sí, 85A está dentro del rango de arranque normal','Depende si tiene hard start kit'],correct:2,explanation:'LRA es el MÁXIMO teórico de arranque, no es lo que siempre verás. El amperaje de arranque real puede ser menor que el LRA dependiendo de la carga y voltaje. 85A con LRA de 120A es perfectamente normal. Si tuviera hard start kit, el pico sería aún menor.'},
            {category:'Compresores',q:'¿Cuál es la diferencia principal entre un compresor reciprocante y un compresor scroll?',options:['El scroll no tiene válvulas de succión ni descarga','El reciprocante es más silencioso','El reciprocante tiene mejor eficiencia a carga parcial','El scroll usa pistones más pequeños'],correct:0,explanation:'El compresor scroll usa dos espirales (una fija y una orbital) para comprimir el gas. No tiene válvulas de succión ni descarga como el reciprocante. Esto lo hace más silencioso, más eficiente, y con menos partes móviles.'},
            {category:'Compresores',q:'Un compresor scroll se instala incorrectamente y gira al revés. ¿Qué sucede?',options:['Enfría pero con menor capacidad','El compresor se daña inmediatamente','No comprime, hace ruido fuerte, y se sobrecalienta','Funciona igual, el scroll es bidireccional'],correct:2,explanation:'Un scroll girando al revés NO comprime gas. Las espirales se separan en vez de comprimir. Escucharás ruido fuerte, presiones ecualizadas, y sobrecalentamiento. En trifásico, intercambia dos fases para corregir la rotación.'},
            {category:'Compresores',q:'¿Qué es \'slugging\' en un compresor?',options:['Cuando las válvulas de descarga están dañadas','Cuando líquido entra al cilindro de compresión','Cuando el compresor arranca con demasiada frecuencia','Cuando el compresor opera con bajo voltaje'],correct:1,explanation:'Slugging = líquido entrando al compresor. Los compresores comprimen GAS, no líquido. Líquido es incompresible y causa daño inmediato a válvulas, bielas, y cigüeñal. Causas: flood-back de refrigerante, acumulación de aceite, o retorno de líquido después de defrost.'},
            {category:'Compresores',q:'Un compresor hermético tiene terminales C, S, R. Mides: C-R = 2Ω, C-S = 5Ω, S-R = 7Ω. ¿Cuál es la terminal COMÚN?',options:['Siempre es el cable más grueso','La que NO estás tocando cuando obtienes la lectura MÁS ALTA','La que tiene el pin más grande en la placa','La que da la lectura MÁS BAJA entre las otras dos'],correct:1,explanation:'S-R = 7Ω es la lectura más alta. Las terminales que tocas son S y R, así que la que NO tocas = C (Común). Regla: la terminal excluida de la lectura más alta es Común. Verificación: C-R + C-S = S-R → 2 + 5 = 7 ✓'},
            {category:'Compresores',q:'Un compresor muestra lectura infinita (OL) entre la terminal C y la carcasa. ¿Qué significa?',options:['El compresor está abierto internamente','El aislamiento del bobinado está perfecto','El compresor tiene corto a tierra','El megóhmetro está descalibrado'],correct:1,explanation:'Lectura infinita entre bobinado y carcasa = NO hay fuga de corriente a tierra = aislamiento en perfecto estado. Si leyeras 0 ohms o valores bajos, ENTONCES habría corto a tierra. Siempre prueba las 3 terminales (C, S, R) contra la carcasa.'},
            {category:'Compresores',q:'¿Qué prueba determina si un compresor tiene válvulas de descarga dañadas sin abrirlo?',options:['Comparar presiones: si no se separan normalmente y el amperaje es bajo, válvulas malas','Medir la resistencia de los bobinados','Medir la temperatura de la línea de descarga','Verificar el capacitor de marcha'],correct:0,explanation:'Válvulas de descarga dañadas = el compresor no puede comprimir. Síntomas: presiones que no se separan (succión alta, descarga baja), amperaje BAJO (no hay carga de compresión), y compresor que suena pero no enfría. Las resistencias de bobinado estarán normales porque el problema es mecánico, no eléctrico.'},
            {category:'Compresores',q:'Un compresor inverter muestra código de error en la tarjeta de control. El compresor no arranca. ¿Qué verificas ANTES de reemplazar la tarjeta?',options:['Voltaje de alimentación, resistencia del compresor, y conexiones','Solo el código de error, la tarjeta siempre tiene razón','Resetear la tarjeta 3 veces y si sigue, reemplazarla','Reemplazar el compresor porque el error es del compresor'],correct:0,explanation:'La tarjeta de control detecta problemas pero no siempre identifica la causa raíz. Un código de \'falla de compresor\' puede ser causado por bajo voltaje, conexión floja, o compresor malo. Verifica voltaje, resistencia del compresor (C-S, C-R, S-R, y a tierra), y todas las conexiones ANTES de gastar en una tarjeta.'},
            {category:'Compresores',q:'Después de reemplazar un compresor en un sistema R-410A, ¿cuánto vacío debes hacer?',options:['1,000 micrones es suficiente','No es necesario si no abriste las líneas','Solo hasta que el manómetro marque 0 PSI','500 micrones o menos'],correct:3,explanation:'Después de reemplazar compresor y abrir el sistema, DEBES evacuar a 500 micrones o menos. El aceite POE del R-410A es extremadamente higroscópico y cualquier humedad causa ácidos. 1,000 micrones no es suficiente. Y \'0 PSI\' en un manómetro no significa vacío profundo.'},
            {category:'Compresores',q:'¿Cuál es la temperatura máxima aceptable en la línea de descarga de un compresor R-410A?',options:['200°F','275°F','225°F','150°F'],correct:2,explanation:'La temperatura de descarga máxima recomendada es ~225°F para la mayoría de compresores R-410A. Temperaturas más altas degradan el aceite POE y causan carbonización. Si excede 250°F consistentemente, hay un problema: bajo refrigerante, restricción, o retorno de gas caliente insuficiente.'},
            {category:'Motores Eléctricos',q:'Un motor ECM del blower no arranca. ¿Qué verificas PRIMERO?',options:['Verificar el capacitor del ECM','Reemplazar el motor, los ECM no se reparan','Verificar voltaje de alimentación Y señal de control','Medir resistencia del bobinado'],correct:2,explanation:'Los ECM necesitan DOS cosas: voltaje de alimentación (115V o 230V) Y señal de control (24V, PWM, o comunicación serial). Sin la señal de control, el motor no arranca aunque tenga voltaje. Los ECM NO tienen capacitor externo.'},
            {category:'Motores Eléctricos',q:'¿Cuál es la ventaja principal de un motor ECM vs un motor PSC?',options:['El ECM gira más rápido','El ECM mantiene CFM constante independiente de la presión estática','El ECM es más barato de reemplazar','El ECM no necesita mantenimiento'],correct:1,explanation:'La ventaja clave del ECM: AJUSTA su velocidad para mantener el CFM programado, incluso con presión estática alta. Un PSC pierde CFM dramáticamente con ductos restringidos. El ECM compensa pero consume más energía haciéndolo.'},
            {category:'Motores Eléctricos',q:'¿Cuántas RPM tiene un motor estándar de 4 polos a 60Hz?',options:['1,800 RPM','1,200 RPM','1,625 RPM','3,600 RPM'],correct:0,explanation:'RPM = 120 × Frecuencia ÷ Polos = 120 × 60 ÷ 4 = 1,800 RPM síncronas. Con slip: ~1,725-1,750 RPM reales. Motor de 2 polos = 3,600 RPM, 6 polos = 1,200 RPM. Blowers y ventiladores de condensador son típicamente 4 polos.'},
            {category:'Motores Eléctricos',q:'Un motor de condensador mide 4.2 µF en un capacitor marcado 5 µF ±6%. ¿Está bien?',options:['Solo es problema si el motor no arranca','No, 4.2 µF es 16% bajo y fuera de especificación','Depende de la edad del motor','Sí, está dentro de tolerancia'],correct:1,explanation:'5 µF ±6% = rango 4.7 a 5.3 µF. 4.2 µF está 16% bajo, bien fuera de spec. Esto reduce torque, causa giro lento, alto amperaje, y sobrecalentamiento. El motor puede arrancar pero no funcionará correctamente.'},
            {category:'Motores Eléctricos',q:'Para invertir la rotación de un motor trifásico, ¿qué haces?',options:['Intercambias cualquiera 2 de los 3 cables de fase','No se puede invertir sin un VFD','Intercambias los 3 cables','Cambias la velocidad del variador'],correct:0,explanation:'Intercambia CUALQUIERA 2 de los 3 cables de fase para invertir la rotación. No necesitas cambiar los 3. Esto invierte la secuencia de fases y el campo magnético rotante.'},
            {category:'Motores Eléctricos',q:'Un motor tiene \'Service Factor\' (SF) de 1.15 y es de 1 HP. ¿A cuántos HP puede operar continuamente?',options:['1.25 HP','1.10 HP','1.00 HP exacto','1.15 HP'],correct:3,explanation:'SF 1.15 × 1 HP = 1.15 HP máximo continuo sin daño bajo condiciones normales. Sin embargo, operar al SF reduce vida útil del motor. Es margen de seguridad, no modo normal de operación.'},
            {category:'Motores Eléctricos',q:'Un motor PSC de blower tiene cables: negro (L1), azul (alta), rojo (media-alta), amarillo (media-baja), blanco (baja). Para modo cooling, ¿cuál usas típicamente?',options:['Azul (alta) siempre','Blanco (baja) para menos ruido','Rojo (media-alta) siempre para cooling','Depende del fabricante y la tabla de selección de velocidad del furnace'],correct:3,explanation:'No hay regla universal. El fabricante del furnace/air handler especifica qué velocidad usar para cooling, heating, y continuous fan. Típicamente cooling usa velocidad más alta y heating más baja, pero SIEMPRE consulta la tabla del fabricante. Conectar a ojo es adivinar.'},
            {category:'Motores Eléctricos',q:'¿Qué indica un desbalanceo de voltaje mayor al 2% en un motor trifásico?',options:['Puede causar hasta 20% más calentamiento en el bobinado','Es normal y aceptable','El motor se apaga automáticamente','Solo afecta la eficiencia, no la vida del motor'],correct:0,explanation:'Un desbalanceo de voltaje del 2% puede causar un desbalanceo de CORRIENTE de hasta 20%, generando calor excesivo en los bobinados. NEMA MG-1 dice que más de 1% de desbalanceo requiere derate del motor. Más de 5% no debe operarse sin corrección.'},
            {category:'Motores Eléctricos',q:'Un VFD (Variable Frequency Drive) controla un motor de 5 HP. El VFD muestra una frecuencia de salida de 30 Hz. Si el motor es de 4 polos, ¿a cuántas RPM está girando?',options:['900 RPM','1,200 RPM','1,800 RPM','450 RPM'],correct:0,explanation:'RPM = 120 × Hz ÷ Polos = 120 × 30 ÷ 4 = 900 RPM. A 60Hz serían 1,800 RPM. El VFD reduce la frecuencia a la mitad, reduciendo la velocidad a la mitad. El VFD también debe reducir el voltaje proporcionalmente (V/Hz constante) para no sobrecalentar el motor.'},
            {category:'Motores Eléctricos',q:'Un motor de ventilador del condensador tiene bearing ruidoso después de 8 años. ¿Recomendación?',options:['Reemplazar el motor completo','Operar hasta que falle completamente','Reemplazar solo los bearings','Lubricar y monitorear'],correct:0,explanation:'Motores de condensador sellados no permiten reemplazo fácil de bearings ni lubricación efectiva. Con 8 años, el aislamiento del bobinado ya está degradado. Reemplazar completo es la recomendación profesional.'},
            {category:'Sistemas Comerciales',q:'Un RTU (Rooftop Unit) de 10 toneladas tiene 2 circuitos de refrigeración. ¿Por qué?',options:['Para tener operación en etapas y redundancia parcial','Es requerimiento de código para unidades comerciales','Porque un solo circuito no puede manejar 10 toneladas','Para usar menos refrigerante total'],correct:0,explanation:'Dos circuitos permiten: operación en etapas (5+5 ton, media o completa capacidad), redundancia parcial (si un circuito falla, el otro sigue), y mejor control de humedad en carga parcial. Un solo compresor de 10 ton PUEDE existir, pero los dos circuitos ofrecen más versatilidad.'},
            {category:'Sistemas Comerciales',q:'En un sistema VRF (Variable Refrigerant Flow) comercial, ¿cuál es la ventaja principal sobre un sistema convencional?',options:['Es más barato de instalar','Usa menos refrigerante','Cada zona puede calentar o enfriar independientemente al mismo tiempo','No necesita líneas de refrigerante'],correct:2,explanation:'VRF permite calentamiento y enfriamiento simultáneo en diferentes zonas usando un solo sistema. Una oficina con sol puede enfriar mientras un cuarto interior calienta. El sistema recupera calor rechazado de enfriamiento para usarlo en calefacción, maximizando eficiencia.'},
            {category:'Sistemas Comerciales',q:'Un chiller de 100 toneladas enfriado por agua tiene temperatura de agua helada de salida a 44°F y retorno a 56°F. ¿Cuál es el delta T del agua?',options:['10°F','14°F','8°F','12°F'],correct:3,explanation:'Delta T = Retorno - Salida = 56°F - 44°F = 12°F. El delta T típico de un chiller es 10-12°F. Un delta T mayor puede indicar bajo flujo de agua. Un delta T menor puede indicar exceso de flujo o carga baja.'},
            {category:'Sistemas Comerciales',q:'¿Cuál es la fórmula para calcular toneladas de enfriamiento de un chiller basado en flujo de agua?',options:['Tons = GPM × ΔT × 8.33','Tons = GPM × ΔT × 500 ÷ 12,000','Tons = GPM × ΔT ÷ 24','Tons = GPM × ΔT × 500'],correct:1,explanation:'Tons = (GPM × ΔT × 500) ÷ 12,000. El factor 500 viene de: 8.33 lb/gal × 60 min/hr × 1 BTU/lb·°F. 12,000 BTU/hr = 1 tonelada. Ejemplo: 240 GPM × 10°F × 500 ÷ 12,000 = 100 toneladas.'},
            {category:'Sistemas Comerciales',q:'Una torre de enfriamiento tiene approach de 7°F. La temperatura de bulbo húmedo exterior es 78°F. ¿Cuál es la temperatura del agua de salida de la torre?',options:['92°F','85°F','71°F','78°F'],correct:1,explanation:'Approach = Temperatura de agua fría de salida - Temperatura de bulbo húmedo. Agua salida = Bulbo húmedo + Approach = 78°F + 7°F = 85°F. La torre no puede enfriar el agua por debajo de la temperatura de bulbo húmedo. El approach mide qué tan cerca llega.'},
            {category:'Sistemas Comerciales',q:'Un economizer en un RTU tiene la entalpía del aire exterior a 28 BTU/lb y el aire de retorno a 31 BTU/lb. ¿Debe activarse el economizer?',options:['Solo si la temperatura exterior es menor de 55°F','No, la diferencia es muy pequeña','No se puede determinar sin la humedad relativa','Sí, el aire exterior tiene menor entalpía que el retorno'],correct:3,explanation:'El economizer con control de entalpía se activa cuando la entalpía del aire exterior es MENOR que la del retorno. 28 < 31, así que el aire exterior es más favorable (menos energía total). Esto es más preciso que solo comparar temperaturas, especialmente en climas húmedos.'},
            {category:'Sistemas Comerciales',q:'Un sistema de refrigeración comercial walk-in cooler opera con R-404A. La temperatura del cuarto debe ser 35°F. ¿Cuál debería ser aproximadamente la temperatura de evaporación?',options:['35°F','10°F','15°F','25°F'],correct:2,explanation:'La temperatura de evaporación típicamente es 15-20°F menor que la temperatura del espacio. Para un cuarto a 35°F: evaporación ~15-20°F. Este TD (temperature difference) permite la transferencia de calor del aire al refrigerante. Menos TD = menos transferencia, más TD = más deshumidificación.'},
            {category:'Sistemas Comerciales',q:'Un walk-in freezer a -10°F usa R-404A. La presión de succión debería ser aproximadamente:',options:['10 PSI','5 PSI','15 PSI','22 PSI'],correct:0,explanation:'R-404A a -20°F (temperatura de evaporación para freezer a -10°F con 10°F TD) es ~10 PSI. A estas presiones bajas, asegúrate de que el presostato de baja no esté disparando falsamente. En aplicaciones de baja temperatura, cada PSI representa varios grados.'},
            {category:'Sistemas Comerciales',q:'¿Cuál es la función de una válvula de expansión electrónica (EEV) comparada con una TXV mecánica?',options:['La EEV puede ajustar el superheat más rápido y con más precisión','No hay diferencia funcional significativa','La EEV es más barata y simple','La TXV es más precisa que la EEV'],correct:0,explanation:'La EEV tiene un motor paso a paso controlado electrónicamente que ajusta la apertura con mucha más velocidad y precisión que una TXV mecánica. Responde en segundos vs minutos. Permite control de superheat de ±1°F vs ±3-5°F de una TXV. Esencial en sistemas inverter y VRF.'},
            {category:'Sistemas Comerciales',q:'En un sistema de refrigeración con múltiples evaporadores, ¿para qué sirve una válvula EPR (Evaporator Pressure Regulator)?',options:['Controla el flujo de aceite al compresor','Mantiene presión mínima en cada evaporador individual','Regula la presión de descarga del compresor','Previene la migración de refrigerante al apagar'],correct:1,explanation:'La EPR se instala en la salida de cada evaporador para mantener una presión mínima, lo que mantiene una temperatura mínima. En un sistema con evaporadores de diferentes temperaturas (cooler y freezer), la EPR previene que el evaporador del cooler baje demasiado de temperatura.'},
            {category:'Calefacción',q:'Un furnace de gas tiene un intercambiador de calor primario y uno secundario. ¿Qué eficiencia tiene?',options:['95-98% AFUE','No se puede determinar sin más datos','80% AFUE','90-92% AFUE'],correct:0,explanation:'Dos intercambiadores = furnace de condensación de alta eficiencia (90%+). El secundario extrae calor adicional de los gases de combustión hasta que condensan, recuperando calor latente. Furnaces de 80% tienen solo un intercambiador y ventean gases calientes directamente.'},
            {category:'Calefacción',q:'Un furnace de 96% AFUE produce condensado. ¿Cuál es el pH aproximado del condensado y por qué importa?',options:['pH varía y no afecta la instalación','pH 7 (neutro), no hay riesgo','pH 3-4 (ácido), puede corroer drenajes de metal','pH 9-10 (básico), puede dañar tuberías de PVC'],correct:2,explanation:'El condensado de un furnace de gas es ÁCIDO con pH de 3-4 (similar al vinagre). Contiene ácido carbónico y trazas de ácido nítrico. Esto puede corroer tuberías de cobre y hierro. Se recomienda drenar en PVC o instalar un neutralizador de condensado si el código local lo requiere.'},
            {category:'Calefacción',q:'¿Cuál es la diferencia entre un furnace de draft inducido (induced draft) y tiro forzado (forced draft)?',options:['Forced draft es más eficiente que induced draft','Induced draft usa más gas que forced draft','No hay diferencia, son lo mismo','Induced draft jala gases de combustión, forced draft empuja aire hacia la combustión'],correct:3,explanation:'Induced draft: el motor inductor está en la SALIDA del intercambiador, JALANDO los gases de combustión a través del heat exchanger. Forced draft: el motor está en la ENTRADA, EMPUJANDO aire fresco hacia la cámara de combustión. La mayoría de furnaces residenciales modernos son induced draft.'},
            {category:'Calefacción',q:'Un furnace muestra código de error: \'Rollout switch open\'. ¿Qué indica y qué verificas?',options:['El limit switch se disparó por sobrecalentamiento','El pressure switch no cerró','Llamas salieron de la cámara de combustión - posible intercambiador rajado','El gas está a muy alta presión'],correct:2,explanation:'Rollout switch open = llamas salieron de la cámara de combustión (rollout). Causas: intercambiador de calor rajado o tapado, bloqueo en el flue/venteo, o bloqueo del inducer. Es una condición PELIGROSA. No hagas bypass del rollout switch. Inspecciona el intercambiador y el venteo.'},
            {category:'Calefacción',q:'¿Cuál es la presión correcta de gas natural en el manifold de un furnace estándar?',options:['14" WC','11" WC','7.0" WC','3.5" WC'],correct:3,explanation:'Gas natural en el manifold: 3.5" WC (pulgadas de columna de agua) es el estándar. La presión de entrada al regulador debe ser 5-7" WC. Para LP/propano, la presión del manifold es 10-11" WC. Usar la presión incorrecta causa combustión pobre, CO alto, o llama amarilla.'},
            {category:'Calefacción',q:'Un sensor de llama (flame sensor) lee 2.1 microamps (µA). ¿Es suficiente para mantener la válvula de gas abierta?',options:['No, el mínimo es 4 µA','Sí, cualquier lectura arriba de 0.5 µA es suficiente','Sí, el mínimo típico es 1.5-2.0 µA','No se puede medir con un multímetro estándar'],correct:2,explanation:'La mayoría de control boards requieren mínimo 1.5-2.0 µA para mantener la válvula abierta. 2.1 µA APENAS pasa. Un sensor limpio debería leer 4-6 µA. Aunque funciona ahora, es señal de que el sensor necesita limpieza. Debajo de 1.5 µA, la board cierra el gas por seguridad.'},
            {category:'Calefacción',q:'¿Cuál es el nivel máximo aceptable de CO (monóxido de carbono) en el air-free flue gas de un furnace?',options:['200 PPM','100 PPM','400 PPM','50 PPM'],correct:0,explanation:'El máximo aceptable de CO air-free en el flue es ~200 PPM para la mayoría de estándares. Arriba de 200 PPM indica combustión incompleta: burners sucios, intercambiador rajado, falta de aire de combustión, o gas incorrecto. Algunos fabricantes especifican máximos diferentes.'},
            {category:'Calefacción',q:'Un furnace de gas LP (propano) se convierte a gas natural. ¿Qué se debe cambiar?',options:['Solo los orifices del burner','Nada, ambos gases funcionan igual','Solo el regulador de gas','Orifices, resorte del regulador, y verificar BTU input'],correct:3,explanation:'Conversión LP a gas natural requiere: cambiar orifices (LP usa orifices más pequeños), ajustar el regulador (LP = 10-11" WC, gas natural = 3.5" WC), y verificar BTU input con clocking del medidor. LP tiene más BTU por pie cúbico que gas natural, así que los orifices de gas natural son MÁS GRANDES.'},
            {category:'Calefacción',q:'¿Cómo verificas el BTU input de un furnace usando el medidor de gas (gas meter clocking)?',options:['Lees el BTU input de la placa del furnace, no se necesita medir','Cronometras cuánto tarda en pasar 1 pie cúbico de gas y aplicas la fórmula','Mides la temperatura del flue y calculas BTU','Mides la presión de gas y multiplicas por el flujo'],correct:1,explanation:'Gas meter clocking: cronometras cuánto tarda el medidor en girar 1 o 2 pies cúbicos con solo el furnace encendido. BTU/hr = (3,600 ÷ segundos por ft³) × BTU por ft³ del gas (1,000 para natural, 2,500 para LP). Esto verifica que el furnace está recibiendo la cantidad correcta de gas.'},
            {category:'Calefacción',q:'Un heat pump tiene un balance point de 35°F. ¿Qué significa?',options:['La bomba de calor se apaga a 35°F exterior','A 35°F exterior, la capacidad del heat pump iguala la pérdida de calor de la casa','El defrost se activa a 35°F','El refrigerante cambia de fase a 35°F'],correct:1,explanation:'Balance point = la temperatura exterior donde la capacidad del heat pump IGUALA la demanda de calor del edificio. Debajo de 35°F, el heat pump no puede suplir toda la calefacción y el calor auxiliar (heat strips o gas) debe activarse para cubrir el déficit.'},
            {category:'Calefacción',q:'Una bomba de calor en modo calefacción tiene COP de 3.0. ¿Qué significa?',options:['Tiene 30% de eficiencia','Produce 3 watts de calor por cada watt de electricidad','Produce 3 BTU por cada BTU de electricidad','Consume 3 veces más que un furnace'],correct:2,explanation:'COP (Coefficient of Performance) de 3.0 = por cada 1 BTU (o watt) de electricidad consumida, produce 3 BTU (o watts) de calor. Es como 300% de eficiencia. Un heat strip eléctrico tiene COP de 1.0 (100%). COP varía con la temperatura exterior: baja cuando hace más frío.'},
            {category:'Calefacción',q:'Un furnace de 2 etapas en primera etapa opera al 70% de capacidad. Si el input es 100,000 BTU/hr y el AFUE es 96%, ¿cuántos BTU/hr entrega en primera etapa?',options:['70,000 BTU/hr','67,200 BTU/hr','72,000 BTU/hr','96,000 BTU/hr'],correct:1,explanation:'Primera etapa: 100,000 × 0.70 = 70,000 BTU/hr input. Output = 70,000 × 0.96 = 67,200 BTU/hr. Error común: calcular 96% del total y luego 70%, o no aplicar la eficiencia al input reducido.'},
            {category:'Calefacción',q:'Al instalar un furnace de alta eficiencia (90%+), ¿qué material se usa para el venteo?',options:['Acero inoxidable obligatorio','PVC Schedule 40 o CPVC','Metal galvanizado tipo B','Cobre tipo L'],correct:1,explanation:'Furnaces de 90%+ usan PVC o CPVC para venteo porque los gases de combustión están fríos (debajo de 150°F) y contienen condensado ácido. Metal galvanizado se corroería. Tipo B vent se usa para furnaces de 80% con gases calientes y secos.'},
            {category:'Psicrometría',q:'La temperatura de bulbo seco es 80°F y la temperatura de bulbo húmedo es 67°F. Usando la carta psicrométrica, la humedad relativa es aproximadamente:',options:['50%','65%','55%','40%'],correct:0,explanation:'80°F DB / 67°F WB corresponde a ~50% de humedad relativa en la carta psicrométrica. Este es el punto de diseño estándar para condiciones interiores en modo enfriamiento (AHRI). La diferencia entre DB y WB te da una indicación rápida de la humedad.'},
            {category:'Psicrometría',q:'¿Qué es el punto de rocío (dew point) y por qué importa en HVAC?',options:['La diferencia entre bulbo seco y húmedo','La temperatura a la que el agua hierve','La temperatura a la que el aire se satura y comienza la condensación','La temperatura del evaporador'],correct:2,explanation:'Dew point = la temperatura a la que el aire alcanza 100% de humedad relativa y el vapor de agua comienza a condensar. En HVAC, si la superficie del evaporador está debajo del dew point del aire, se produce condensación (deshumidificación). Si no, enfría pero no deshumidifica.'},
            {category:'Psicrometría',q:'Un evaporador opera a 40°F de temperatura de superficie. El dew point del aire en el cuarto es 55°F. ¿Se produce deshumidificación?',options:['No, el evaporador necesita estar más frío','Sí, porque la superficie del evaporador está debajo del dew point','Depende del flujo de aire','Solo si la humedad relativa es mayor al 60%'],correct:1,explanation:'Sí. La superficie del evaporador (40°F) está debajo del dew point del aire (55°F), así que el vapor de agua en el aire condensa al contactar la superficie fría. Si la superficie estuviera arriba de 55°F, enfriaría el aire pero no removería humedad.'},
            {category:'Psicrometría',q:'¿Cuál es la fórmula para calcular calor LATENTE removido por un evaporador?',options:['BTU/hr = lbs/hr × 970','BTU/hr = CFM × 0.68 × Δgr','BTU/hr = CFM × 4.5 × Δgr','BTU/hr = CFM × 1.08 × ΔT'],correct:2,explanation:'Calor latente = CFM × 4.5 × Δgr (diferencia en grains de humedad por libra de aire). El factor 4.5 viene de: densidad × 60 min × calor latente de vaporización. No confundir con sensible: CFM × 1.08 × ΔT. El total = sensible + latente.'},
            {category:'Psicrometría',q:'El SHR (Sensible Heat Ratio) de un sistema es 0.75. ¿Qué significa?',options:['75% de la carga es sensible, 25% es latente','El sistema es 75% eficiente','La temperatura baja 75% del ΔT total','75% del refrigerante es vapor'],correct:0,explanation:'SHR = Calor Sensible / Calor Total. SHR de 0.75 = 75% sensible (temperatura) y 25% latente (humedad). Un SHR bajo (0.60) indica alta carga de humedad (restaurante, gimnasio). Un SHR alto (0.90) indica carga seca (oficina de computadoras).'},
            {category:'Psicrometría',q:'¿Cuántos grains de humedad hay en 1 libra de aire a 75°F y 50% de humedad relativa (aproximadamente)?',options:['45 grains/lb','105 grains/lb','65 grains/lb','85 grains/lb'],correct:2,explanation:'A 75°F/50% RH, hay aproximadamente 65 grains/lb de aire seco. 7,000 grains = 1 libra de agua. Esta información se obtiene de la carta psicrométrica y es esencial para calcular cargas latentes y dimensionar equipos.'},
            {category:'Psicrometría',q:'Un cuarto tiene 75°F de bulbo seco y el termostato pide 72°F. Pero la humedad relativa es 70%. El cliente dice que siente calor aunque el AC está enfriando. ¿Por qué?',options:['El AC no está funcionando correctamente','El aislamiento de la casa es malo','El termostato está descalibrado','La alta humedad reduce la capacidad del cuerpo de enfriarse por evaporación de sudor'],correct:3,explanation:'A 70% de humedad, la evaporación de sudor es ineficiente, causando sensación de calor aunque la temperatura sea \'correcta\'. La temperatura EFECTIVA (heat index) es mayor. La solución es mejorar la deshumidificación: reducir CFM, agregar deshumidificador, o usar modo deshumidificación.'},
            {category:'Psicrometría',q:'¿Cuántos CFM de aire fresco (ventilación) requiere ASHRAE 62.1 por persona en una oficina típica?',options:['10 CFM/persona','5 CFM/persona','15 CFM/persona + 0.06 CFM/sq ft','25 CFM/persona'],correct:2,explanation:'ASHRAE 62.1 para oficinas: 5 CFM/persona (componente de personas) + 0.06 CFM/sq ft (componente de área). Para una persona en 150 sq ft: 5 + (0.06 × 150) = 5 + 9 = 14 CFM ≈ 15 CFM/persona incluyendo área. No es un número fijo por persona, incluye el componente de área.'},
            {category:'Psicrometría',q:'Un recuperador de energía (ERV) tiene eficiencia sensible del 75%. El aire exterior es 95°F y el aire de retorno es 75°F. ¿A qué temperatura entra el aire fresco después del ERV?',options:['90°F','80°F','82°F','85°F'],correct:1,explanation:'El ERV pre-enfría el aire exterior usando el aire de retorno. ΔT = 95 - 75 = 20°F. Recuperación = 20 × 0.75 = 15°F. Temperatura de aire fresco post-ERV = 95 - 15 = 80°F. El ERV reduce la carga del AC en 15°F de los 20°F de diferencia.'},
            {category:'Psicrometría',q:'¿Qué pasa si aumentas el CFM por encima de 450 CFM/ton en un sistema residencial?',options:['No hay efecto notable','Mejor enfriamiento y deshumidificación','Mejor enfriamiento pero PEOR deshumidificación','El evaporador se congela'],correct:2,explanation:'CFM alto (>450/ton): el aire pasa MÁS RÁPIDO por el evaporador, se enfría MENOS (delta T bajo), y NO alcanza el dew point suficiente para condensar humedad. Resultado: la casa se enfría pero queda húmeda. CFM bajo (350/ton): más deshumidificación pero posible congelamiento.'},
            {category:'Códigos y Seguridad',q:'Según OSHA, ¿cuál es el límite de exposición permisible (PEL) de CO para un trabajador en 8 horas?',options:['25 PPM','35 PPM','50 PPM','100 PPM'],correct:2,explanation:'OSHA PEL para CO = 50 PPM como promedio de 8 horas (TWA). NIOSH recomienda un límite más estricto de 35 PPM. A 200 PPM, se considera peligroso. A 800 PPM, puede ser fatal en menos de 2 horas. SIEMPRE lleva un detector de CO personal.'},
            {category:'Códigos y Seguridad',q:'Antes de trabajar en un circuito eléctrico, ¿cuál es el procedimiento correcto según OSHA?',options:['Apagar el breaker y empezar a trabajar','Usar guantes aislantes es suficiente','Lockout/Tagout: desenergizar, lockear, tagear, verificar con multímetro','Avisar a alguien que vas a trabajar en el circuito'],correct:2,explanation:'OSHA requiere LOTO (Lockout/Tagout): 1) Notificar, 2) Apagar, 3) Colocar candado y etiqueta, 4) Verificar con multímetro que está des-energizado, 5) Trabajar. Solo apagar el breaker sin lockear no es suficiente porque alguien más puede encenderlo.'},
            {category:'Códigos y Seguridad',q:'¿Cuál es la distancia mínima de trabajo para un circuito energizado de 240V según NFPA 70E?',options:['12 pulgadas','No hay mínimo, solo usa PPE','48 pulgadas','36 pulgadas'],correct:3,explanation:'NFPA 70E establece límites de approach para protección contra arco eléctrico. Para 240V, el limited approach boundary es 42" (3.5 ft) y el restricted boundary es 12". Dentro de estas distancias se requiere PPE apropiado. La distancia exacta depende del tipo de equipo.'},
            {category:'Códigos y Seguridad',q:'Un sistema de refrigeración comercial tiene una fuga de R-404A en un cuarto de máquinas. El detector de refrigerante alarma. ¿Cuál es la acción correcta?',options:['Llamar a los bomberos, el refrigerante es inflamable','Abrir ventanas para ventilar','Buscar la fuga inmediatamente para repararla','Evacuar el área, activar ventilación mecánica de emergencia, y no re-entrar sin equipo de protección'],correct:3,explanation:'Evacuar primero, ventilar con sistema mecánico de emergencia (no manual), y no re-entrar sin verificar niveles con detector. R-404A no es inflamable pero desplaza oxígeno y puede causar asfixia en concentraciones altas. ASHRAE 15 requiere sistemas de ventilación de emergencia en cuartos de máquinas.'},
            {category:'Códigos y Seguridad',q:'¿Cuántas libras de refrigerante requieren mantener registros de mantenimiento según EPA?',options:['Cualquier cantidad','5 libras o más','Solo equipos comerciales sin importar la cantidad','50 libras o más'],correct:3,explanation:'EPA requiere planes de mantenimiento de fugas para equipos con 50 libras o más de refrigerante. Esto incluye registros de todas las reparaciones, adiciones de refrigerante, y cálculos de tasa de fuga anual. La tasa máxima permitida es 30% para equipos comerciales y 10% para industriales.'},
            {category:'Códigos y Seguridad',q:'Según NEC, ¿se requiere un disconnect (desconectador) visible desde un condensador residencial?',options:['Solo si el equipo es de 240V o más','Sí, debe haber un disconnect a la vista del equipo','Solo si la distancia al panel es mayor a 25 pies','No, el breaker en el panel es suficiente'],correct:1,explanation:'NEC 440.14 requiere un medio de desconexión a la vista y accesible desde el equipo de AC. Esto permite que el técnico vea que el equipo está des-energizado mientras trabaja. El breaker del panel no cuenta si no es visible desde el equipo.'},
            {category:'Códigos y Seguridad',q:'¿Cuál es la tasa de fuga máxima anual permitida por EPA para un sistema de refrigeración comercial?',options:['30%','20%','10%','15%'],correct:0,explanation:'EPA permite máximo 30% de tasa de fuga anual para equipos de refrigeración y AC comercial. Para equipos industriales de proceso es 10%. Si la tasa excede el límite, el dueño debe reparar la fuga dentro de 30 días o desarrollar un plan de retiro del equipo.'},
            {category:'Códigos y Seguridad',q:'ASHRAE Standard 15 requiere un detector de refrigerante en cuartos de máquinas. ¿A qué concentración debe alarmar?',options:['Al 50% del TLV-TWA del refrigerante','Al nivel de IDLH del refrigerante','Al nivel máximo de PPM permitido por OSHA','Al 10% del LFL (Límite Inferior de Inflamabilidad)'],correct:3,explanation:'ASHRAE 15 requiere que el detector alarme al TLV-TWA del refrigerante O al 25% del LFL, lo que sea más bajo. Esto proporciona advertencia temprana antes de alcanzar niveles peligrosos. Para refrigerantes A1 (no inflamables como R-410A), se usa el TLV-TWA como referencia.'},
            {category:'Diagnóstico Avanzado',q:'Un sistema R-410A tiene: succión 130 PSI, descarga 380 PSI, superheat 12°F, subcooling 10°F. Temperatura exterior 85°F. ¿El sistema está operando normalmente?',options:['No, la succión está alta','Sí, todas las lecturas son normales','No, el subcooling está bajo','No se puede determinar sin medir el delta T del aire'],correct:1,explanation:'R-410A a 85°F exterior: succión ~130 PSI (evap ~44°F), descarga ~380 PSI (cond ~104°F), superheat 12°F, subcooling 10°F. Todo está en rangos normales. La descarga típica es ~30°F arriba del ambiente en el condensador. Siempre evalúa TODOS los datos juntos, no uno aislado.'},
            {category:'Diagnóstico Avanzado',q:'Un sistema muestra: presión de succión muy baja, presión de descarga baja, superheat alto, subcooling bajo, amperaje bajo. ¿Diagnóstico?',options:['Compresor con válvulas dañadas','Condensador sucio','Falta de refrigerante (fuga)','Evaporador congelado'],correct:2,explanation:'Todo bajo excepto superheat = falta de refrigerante. Poco refrigerante: succión baja (poco gas), descarga baja (poco flujo), superheat alto (gas se sobrecalienta fácil), subcooling bajo (poco líquido en condensador), amperaje bajo (menos trabajo). Busca la fuga antes de agregar refrigerante.'},
            {category:'Diagnóstico Avanzado',q:'Un sistema tiene: succión alta, descarga alta, superheat bajo, subcooling normal-alto, amperaje alto. ¿Qué causa este patrón?',options:['Bajo refrigerante','Condensador sucio','Evaporador sucio con carga excesiva de calor','Restricción en la línea de líquido'],correct:2,explanation:'Succión alta + descarga alta + superheat bajo + amperaje alto = exceso de carga térmica. El evaporador no puede absorber todo el calor: succión sube (el refrigerante no evapora completamente), descarga sube (más calor rechazar), y el compresor trabaja más. Verifica: evaporador sucio, exceso de calor en el espacio, o equipo subdimensionado.'},
            {category:'Diagnóstico Avanzado',q:'Llegas a un servicio: el sistema enfrió bien ayer pero hoy no enfría. El compresor no arranca. El contactor no jala. Verificas 24V al contactor: no hay voltaje. ¿Qué revisas PRIMERO?',options:['Verificar el capacitor del compresor','Reemplazar el transformador','Reemplazar el contactor','Verificar el termostato y la señal Y de enfriamiento'],correct:3,explanation:'Sin 24V al contactor: el problema está en el circuito de control, no en el contactor ni en el compresor. Rastrea desde el termostato: ¿está pidiendo enfriamiento? ¿Hay 24V en Y? ¿El control board envía la señal? ¿El transformador tiene salida? Diagnostica el circuito de control antes de reemplazar componentes.'},
            {category:'Diagnóstico Avanzado',q:'Un mini-split inverter muestra superheat fluctuando entre 2°F y 25°F cada 30 segundos. ¿Qué componente sospechas?',options:['Fuga intermitente de refrigerante','Termistores del evaporador descalibrados','EEV (válvula de expansión electrónica) con problemas','Compresor con válvulas dañadas'],correct:2,explanation:'Superheat que fluctúa drásticamente en ciclos cortos = EEV hunting (oscilando). La EEV abre y cierra excesivamente tratando de controlar el superheat. Causas: termistor defectuoso dando lecturas erráticas, control board con parámetros incorrectos, o EEV mecánicamente dañada. No es refrigerante ni compresor porque el problema es cíclico.'},
            {category:'Diagnóstico Avanzado',q:'Un filtro drier tapado en la línea de líquido muestra qué síntomas característicos?',options:['Succión alta, descarga alta','Subcooling alto antes del filtro','Amperaje alto del compresor','Caída de temperatura notable a través del filtro drier (entrada caliente, salida fría)'],correct:3,explanation:'Un filtro drier tapado actúa como un segundo dispositivo de expansión. Verás una CAÍDA de temperatura a través del drier: el lado de entrada estará caliente/tibio y el de salida frío, posiblemente con escarcha. También puedes medir caída de presión con manómetros antes y después. Succión baja, superheat alto.'},
            {category:'Diagnóstico Avanzado',q:'¿Cómo diferencias entre un sistema bajo de refrigerante y una restricción en el metering device? Ambos muestran succión baja y superheat alto.',options:['La restricción muestra línea de líquido caliente antes de la restricción; bajo refrigerante muestra línea de líquido tibia','Medir la corriente del compresor: es igual en ambos casos','Verificar subcooling: bajo refrigerante = subcooling bajo; restricción = subcooling normal-alto antes de la restricción','No se puede diferenciar sin agregar refrigerante primero'],correct:2,explanation:'El subcooling ANTES de la restricción es la clave. Bajo refrigerante: subcooling bajo en todo el sistema (no hay suficiente líquido en el condensador). Restricción: subcooling NORMAL o ALTO antes del punto de restricción porque el líquido se acumula detrás de la restricción.'},
            {category:'Diagnóstico Avanzado',q:'Un compresor scroll arranca y se apaga inmediatamente. Mides 245V en la línea, capacitor en spec, y presiones ecualizadas. ¿Qué sospechas?',options:['El overload interno está defectuoso','La tarjeta de control del inverter falló','El compresor está mecánicamente trabado pero intentó arrancar contra presiones ecualizadas','Contactor con contactos quemados'],correct:2,explanation:'Un compresor scroll que no puede arrancar con presiones ecualizadas puede estar mecánicamente trabado o intentando arrancar contra alta presión de succión. Los scrolls no tienen válvulas de descarga, así que arrancar contra presión equalizada puede trabar el mecanismo. Verifica si tiene time delay de 5 min para ecualización y si un hard start kit ayuda.'},
            {category:'Fórmulas y Cálculos',q:'Calculas total heat: Sensible=36,000 BTU/hr, Latente=12,000. ¿Total Heat y SHR?',options:['48,000 BTU/hr, SHR 0.75','48,000 BTU/hr, SHR 0.25','36,000 BTU/hr, SHR 0.75','24,000 BTU/hr, SHR 0.50'],correct:0,explanation:'Total=36k+12k=48k. SHR=Sensible/Total=36/48=0.75. 75% sensible, 25% latente.'},
            {category:'Fórmulas y Cálculos',q:'Un motor de 3 HP consume cuántos watts (1 HP=746W)?',options:['1,800W','2,238W','2,500W','3,000W'],correct:1,explanation:'3×746=2,238W. No uses 1,000W por HP.'},
            {category:'Fórmulas y Cálculos',q:'Circuito 240V, 20A. ¿Watts?',options:['5,200W','4,800W','4,200W','5,760W'],correct:1,explanation:'P=V×I=240×20=4,800W. Asumiendo PF=1 para cargas resistivas.'},
            {category:'Fórmulas y Cálculos',q:'3 resistencias en serie: 4Ω, 6Ω, 10Ω. Voltaje 120V. ¿Corriente?',options:['8A','4A','6A','12A'],correct:2,explanation:'Rt=4+6+10=20Ω. I=V/R=120/20=6A.'},
            {category:'Fórmulas y Cálculos',q:'Con 6A y resistencia de 10Ω en serie, ¿voltaje en esa resistencia?',options:['30V','40V','60V','50V'],correct:2,explanation:'V=I×R=6×10=60V. El voltaje se divide proporcionalmente.'},
            {category:'Fórmulas y Cálculos',q:'3 resistencias iguales de 12Ω en paralelo. ¿Rt?',options:['4Ω','12Ω','36Ω','6Ω'],correct:0,explanation:'Rt=R/n=12/3=4Ω. Paralelo siempre menor que la menor individual.'},
            {category:'Fórmulas y Cálculos',q:'Transformador 10:1, primario 240V. ¿Voltaje secundario?',options:['2,400V','24V','48V','12V'],correct:1,explanation:'Vs=240/10=24V. Transformador estándar de control HVAC.'},
            {category:'Fórmulas y Cálculos',q:'¿BTU para subir 1 libra de agua 1°F?',options:['0.5 BTU','1.5 BTU','2 BTU','1 BTU'],correct:3,explanation:'Definición de BTU. 1 galón=8.33 lb, así que 8.33 BTU para 1 galón/1°F.'},
            {category:'Fórmulas y Cálculos',q:'Calor latente de vaporización del agua a 212°F por libra:',options:['540 BTU','212 BTU','1,200 BTU','970 BTU'],correct:3,explanation:'~970 BTU/lb para convertir agua líquida en vapor SIN cambio de temperatura.'},
            {category:'Fórmulas y Cálculos',q:'2,000 CFM × densidad 0.075 lb/ft³. ¿Libras de aire por hora?',options:['15,000','12,000','6,000','9,000'],correct:3,explanation:'2,000×0.075×60=9,000 lb/hr. El factor 1.08 viene de 0.075×60×0.24.'},
            {category:'Fórmulas y Cálculos',q:'48,000 BTU/hr = ¿cuántas toneladas?',options:['3.5 ton','3 ton','4 ton','4.5 ton'],correct:2,explanation:'48,000÷12,000=4 ton. 1 ton=12,000 BTU/hr.'},
            {category:'Fórmulas y Cálculos',q:'Target subcooling=12°F, mides 8°F con TXV. ¿Qué haces?',options:['Tiene demasiado, recuperar','Necesitas superheat para decidir','Sistema bien','Agregar refrigerante hasta 12°F'],correct:3,explanation:'SC bajo del target con TXV=necesita más refrigerante.'},
            {category:'Fórmulas y Cálculos',q:'Chiller: 100 GPM, ΔT 10°F. ¿Toneladas?',options:['35.7','50','41.7','83.3'],correct:2,explanation:'(100×10×500)÷12,000=41.67 ton.'},
            {category:'Fórmulas y Cálculos',q:'Impedancia: R=30Ω, XL=40Ω. ¿Z total?',options:['60Ω','70Ω','50Ω','10Ω'],correct:2,explanation:'Z=√(30²+40²)=√2500=50Ω. Pitágoras en circuitos AC.'},
            {category:'Fórmulas y Cálculos',q:'Motor PF=0.85, 10A a 240V. ¿VA y Watts reales?',options:['VA=2,400; W=2,823','VA=2,400; W=2,040','VA=2,040; W=2,400','VA=2,040; W=1,734'],correct:1,explanation:'VA=240×10=2,400. W=2,400×0.85=2,040.'},
            {category:'Válvulas y Accesorios',q:'¿Función de válvula Schrader en puerto de servicio?',options:['Prevenir golpe de líquido','Regular presión automáticamente','Acceso para medir y cargar sin fugas','Controlar flujo de aceite'],correct:2,explanation:'Mantiene refrigerante sellado, se abre al insertar el conector de manguera.'},
            {category:'Válvulas y Accesorios',q:'Válvula de servicio \'back-seated\': ¿qué pasa con el puerto de servicio?',options:['Abierto al sistema','Compresor se detiene','Cerrado/aislado del sistema','Refrigerante sale al exterior'],correct:2,explanation:'Back-seated=abierta al sistema, puerto cerrado. Front-seated=cierra sistema, abre puerto. Mid=ambos abiertos.'},
            {category:'Válvulas y Accesorios',q:'Sight glass muestra burbujas constantes en línea de líquido. ¿Indica?',options:['Bajo refrigerante o restricción antes del visor','Sistema perfecto','Demasiado refrigerante','Aceite contaminado'],correct:0,explanation:'Burbujas=flash gas. Causas: bajo refrigerante, filtro drier tapado, línea caliente. Líquido sólido es normal.'},
            {category:'Válvulas y Accesorios',q:'¿Cuándo usas filtro drier bidireccional?',options:['Sistemas con tubo capilar','Bomba de calor donde el flujo se invierte','Solo enfriamiento','Comercial >10 ton'],correct:1,explanation:'Bidireccional permite flujo en ambas direcciones, necesario en heat pumps.'},
            {category:'Válvulas y Accesorios',q:'Check valve en línea de líquido de heat pump, ¿función?',options:['Regular presión de succión','Prevenir flujo inverso al apagar','Bypass del metering device que no se necesita en un modo','Proteger compresor'],correct:2,explanation:'La check valve bypasea el metering device que no se usa según el modo de operación.'},
            {category:'Válvulas y Accesorios',q:'Válvula solenoide cierra línea de líquido cuando termostato satisfecho. ¿Nombre del ciclo?',options:['Short cycling','Hot gas bypass','Pump down cycle','Liquid injection'],correct:2,explanation:'Pump down: solenoide cierra, compresor vacía evaporador, presostato de baja lo apaga.'},
            {category:'Válvulas y Accesorios',q:'Hot gas bypass valve, ¿qué hace?',options:['Aumenta presión de descarga','Descongela evaporador con gas caliente','Previene escarcha','Reduce capacidad redirigiendo gas de descarga a succión/evaporador'],correct:3,explanation:'Reduce capacidad efectiva en baja carga para prevenir congelamiento sin apagar compresor.'},
            {category:'Válvulas y Accesorios',q:'¿Función de válvula de alivio en recipiente de refrigerante?',options:['Controlar flujo al sistema','Purgar aire','Prevenir explosión liberando exceso de presión','Regular presión normal'],correct:2,explanation:'Abre automáticamente cuando presión excede límite seguro. NUNCA bloquear o remover.'},
            {category:'Ductos y Flujo de Aire',q:'Ducto rectangular 12"×8" equivale a ducto redondo de aprox:',options:['12"','10"','11"','8"'],correct:2,explanation:'Usando fórmula de diámetro equivalente: De≈11" para 12×8 rectangular.'},
            {category:'Ductos y Flujo de Aire',q:'Duct leakage típico en sistema residencial NO sellado:',options:['20-30%','5-10%','40-50%','10-15%'],correct:0,explanation:'20-30% de pérdida es típico sin sellar. Sellar con mastic reduce a <5%.'},
            {category:'Ductos y Flujo de Aire',q:'¿Dónde colocas puntos de medición de presión estática?',options:['Cada registro','Uno en suministro y otro en retorno, después del filtro','Solo retorno','Solo suministro'],correct:1,explanation:'Total=positiva(suministro)+negativa(retorno). Se suman valores absolutos. Max 0.50 iwc.'},
            {category:'Ductos y Flujo de Aire',q:'Sistema 3 ton, 0.80 iwc total. Filtro=0.10, evaporador=0.20. ¿Cuánto queda para ductos?',options:['No calculable','0.50 iwc','0.30 iwc','0.70 iwc'],correct:1,explanation:'ESP=0.80-0.10-0.20=0.50 iwc para ductos.'},
            {category:'Ductos y Flujo de Aire',q:'Return subdimensionado causa:',options:['Alta presión negativa, menor CFM, más ruido','Solo ruido sin afectar rendimiento','Mayor velocidad del blower compensando','Sin consecuencia'],correct:0,explanation:'Restricción=menos CFM, alto delta T, posible congelamiento, alto amperaje del blower.'},
            {category:'Ductos y Flujo de Aire',q:'Anemómetro lee 350 FPM en registro 10"×6". ¿CFM?',options:['145 CFM','350 CFM','175 CFM','210 CFM'],correct:0,explanation:'CFM=FPM×Área. (10×6)/144=0.417 ft². 350×0.417≈145 CFM. Ak real es menor por aletas.'},
            {category:'Ductos y Flujo de Aire',q:'Flex duct tiene más fricción que metal. Factor depende de:',options:['3x siempre','Cuánto está comprimido','2x siempre','1.5x siempre'],correct:1,explanation:'No hay factor fijo. Comprimido puede ser 3-5x. Estirado ~1.5-2x del metal.'},
            {category:'Herramientas',q:'Vacío a 350 µ, cierras válvula, sube a 500 µ en 10 min. ¿Indica?',options:['Fuga que debe repararse','Bomba necesita aceite','Humedad residual (outgassing)','Evacuación perfecta'],correct:2,explanation:'Sube a 500 y se estabiliza=humedad. Si sube sin parar=fuga. Sigue evacuando.'},
            {category:'Herramientas',q:'Manifold digital vs analógico, ¿ventaja principal?',options:['Digital calcula SH/SC automáticamente con sensores de temperatura','Digital solo para R-410A','Analógico más preciso','No hay diferencia'],correct:0,explanation:'Digitales tienen sensores de temp y tablas PT integradas para cálculo automático.'},
            {category:'Herramientas',q:'Bomba de vacío 2 etapas vs 1 etapa, ¿ventaja?',options:['Alcanza vacío más profundo (menos micrones)','Menos aceite','Sin mantenimiento','Más rápida solamente'],correct:0,explanation:'2 etapas: <20 µ vs ~75+ µ de 1 etapa. Primera etapa vacío grueso, segunda refina.'},
            {category:'Herramientas',q:'Detector de fugas alarma en conexión flare. ¿Siempre es fuga?',options:['No, puede ser residuo de servicio anterior','No, detectores son imprecisos','Sí, si alarma >30 seg','Sí, fuga confirmada'],correct:0,explanation:'Puede ser residuo. Limpia, ventila, prueba de nuevo. Confirma con burbujas.'},
            {category:'Herramientas',q:'¿Cada cuánto cambiar aceite de bomba de vacío?',options:['Antes de cada evacuación','Una vez al año','100 horas','Cuando está oscuro o turbio'],correct:3,explanation:'Cuando se ve oscuro/turbio/ácido. Verificar antes de cada uso.'},
            {category:'Herramientas',q:'Anemómetro hilo caliente vs veleta:',options:['Hilo caliente mejor para velocidades bajas, veleta para altas','Veleta mide CFM directo','Hilo mide temp, veleta velocidad','Miden lo mismo'],correct:0,explanation:'Hilo caliente más preciso en baja velocidad (registros). Veleta mejor para ductos.'},
            {category:'Herramientas',q:'Analizador combustión: O2=9%, CO=15 PPM, CO2=6%. ¿Furnace 80% OK?',options:['Sí, todo normal','No, O2 alto (exceso de aire)','No, CO peligroso','Falta dato de presión'],correct:1,explanation:'O2 al 9%=exceso de aire (ideal 4-8%). CO a 15 PPM aceptable. Orifices pueden necesitar ajuste.'},
            {category:'Herramientas',q:'Resolución mínima de multímetro para HVAC profesional:',options:['1V y 1A','Cualquiera funciona','Hasta 200V','0.1V, 0.01A, 0.1Ω mínimo'],correct:3,explanation:'0.1V para caídas, 0.01A para control, 0.1Ω para bobinados. Multímetro de $10 no alcanza.'},
            {category:'Tubería y Soldadura',q:'Braze en línea 3/4" de cobre, ¿qué aleación?',options:['BCuP (cobre-fósforo)','Solder 50/50','Soldadura de plomería','Silver braze 15%'],correct:0,explanation:'BCuP no necesita flux en cobre-cobre. NUNCA solder blanda en refrigeración.'},
            {category:'Tubería y Soldadura',q:'Gas de purga al soldar líneas de refrigeración:',options:['No se necesita','Acetileno baja presión','Nitrógeno seco a 2-5 PSI','Oxígeno'],correct:2,explanation:'N2 previene óxido interno. Sin purga, escamas bloquean TXV y filtros.'},
            {category:'Tubería y Soldadura',q:'Temperatura de fusión del braze BCuP:',options:['800-1,000°F','400-500°F','1,100-1,500°F','2,000-2,500°F'],correct:2,explanation:'BCuP funde 1,100-1,500°F. Solder blanda 400-500°F no sirve para refrigeración.'},
            {category:'Tubería y Soldadura',q:'Fuga en conexión flare después de apretar. ¿Causa más probable?',options:['Flare rajado, descentrado, o rebaba interna','Necesita más torque','Tuerca incorrecta','Falta Teflon tape'],correct:0,explanation:'NO uses Teflon en flares. Más torque en flare malo=más fuga.'},
            {category:'Tubería y Soldadura',q:'Tubo cobre 3/8" plomería: ¿OD real?',options:['7/16"','1/2"','5/8"','3/8" exacto'],correct:1,explanation:'Plomería 3/8"=ID, OD=1/2". ACR se mide por OD. No confundir o las conexiones no caben.'},
            {category:'Tubería y Soldadura',q:'Tubo ACR vs tipo L para refrigeración:',options:['ACR viene limpia, deshidratada y tapada; tipo L puede tener humedad','ACR solo para 1/4"','Tipo L más gruesa','Intercambiables'],correct:0,explanation:'ACR preparada para refrigeración. Tipo L de plomería puede contener contaminantes.'},
            {category:'Calefacción',q:'Furnace no enciende: inducer corre, pressure switch cierra, ignitor brilla, válvula no abre. ¿Verificas?',options:['Reemplazar válvula','Verificar 24V en la válvula desde el board','Thermostat mal','Ignitor defectuoso'],correct:1,explanation:'Sin 24V=problema board/cableado. Con 24V pero no abre=válvula mala. NUNCA cambiar sin verificar voltaje.'},
            {category:'Calefacción',q:'Ignitor brilla pero llama no enciende. Hay 24V en válvula. ¿Qué verificas?',options:['Filtro sucio','Presión de gas en manifold con manómetro WC','Ignitor frío, reemplazar','Flue bloqueado'],correct:1,explanation:'Válvula con 24V que no pasa gas: mide presión en manifold. Sin presión=suministro cortado o válvula mala.'},
            {category:'Calefacción',q:'Furnace: llama azul con puntas amarillas. ¿Indica?',options:['Intercambiador rajado','Gas con agua','Exceso de gas o falta de aire de combustión','Combustión perfecta'],correct:2,explanation:'Puntas amarillas=combustión incompleta. Produce CO. Causas: exceso gas, falta aire primario.'},
            {category:'Calefacción',q:'Gas clocking: 1 ft³ en 30 seg con gas natural. ¿BTU/hr input?',options:['150,000','120,000','100,000','80,000'],correct:1,explanation:'(3,600÷30)×1,000=120×1,000=120,000 BTU/hr.'},
            {category:'Calefacción',q:'Spark salta pero llama no se establece. 3 intentos → lockout. ¿Causa?',options:['Válvula no abre, sin gas, o electrodo desalineado','Módulo ignición defectuoso','Blower no arranca','Thermostat en off'],correct:0,explanation:'Si la chispa salta, el módulo funciona. Problema: sin gas, electrodo lejos, orifices tapados.'},
            {category:'Calefacción',q:'Hot surface ignitor (HSI) gap respecto al burner:',options:['Según bracket de fábrica, no hay ajuste de gap','1/4" del flujo de gas','Debe tocar el burner','2" mínimo por seguridad'],correct:0,explanation:'HSI se posiciona donde el bracket lo coloca. Si bracket doblado o HSI genérico, puede quedar fuera de zona de gas.'},
            {category:'Calefacción',q:'Flame sensor detecta la llama midiendo:',options:['AC 120V del circuito','Corriente de ionización DC en microamps','DC de batería thermostat','Resistencia que cambia con temperatura'],correct:1,explanation:'La llama rectifica AC a DC (ionización). Board detecta señal DC en µA. Sin llama, sin rectificación.'},
            {category:'Calefacción',q:'¿Por qué flame sensor sucio pierde señal gradualmente?',options:['Thermostat reduce demanda','Sensor se enfría','Capa de óxido/carbón aumenta resistencia, reduciendo µA progresivamente','Gas pierde presión'],correct:2,explanation:'Óxido/carbón/silicón aumenta resistencia. µA baja de 5→4→3→2→falla cuando cae bajo mínimo del board (~1.5-2 µA).'},
            {category:'Electricidad',q:'Fusible 3A de 24V se quema repetidamente. ¿Qué buscas?',options:['Thermostat incompatible','Transformador sobredimensionado','Corto en cableado 24V o componente en corto','Reemplazar con 5A'],correct:2,explanation:'NUNCA subir amperaje del fusible. Buscar cables pelados, bobina en corto. Fusible protege transformador.'},
            {category:'Electricidad',q:'En diagrama eléctrico, línea discontinua vs continua:',options:['Discontinua=fábrica, Continua=campo','Discontinua=24V, Continua=240V','Sin diferencia estándar','Discontinua=conexión mecánica, Continua=cable eléctrico'],correct:3,explanation:'Punteada=mecánica (no eléctrica). Continua=cable eléctrico. Estándar en diagramas HVAC.'},
            {category:'Electricidad',q:'Smart thermostat necesita cable C. Sistema viejo tiene 4 cables (R,G,Y,W). ¿Solución?',options:['Smart thermostats no necesitan C','Instalar kit add-a-wire o pasar cable de 5 hilos','Usar G como C y perder control fan','Conectar C al neutro 120V'],correct:1,explanation:'Add-a-wire kit o cable nuevo de 5+hilos. NUNCA conectar al neutro 120V.'},
            {category:'Electricidad',q:'Terminal Y2 en sistema de 2 etapas, ¿función?',options:['Activa deshumidificación','Activa segunda etapa de enfriamiento','Activa fan condensador','Respaldo de Y1'],correct:1,explanation:'Y1=primera etapa, Y2=segunda etapa. Thermostat activa Y1 primero, Y2 si no satisface.'},
            {category:'Electricidad',q:'Relay SPDT: terminales NC, NO, COM. Bobina sin energía, ¿qué conectados?',options:['NO y COM','NC y NO','Ninguno','NC y COM'],correct:3,explanation:'Sin energía: NC-COM conectados. Energizada: NO-COM conectados.'},
            {category:'Electricidad',q:'Time delay relay de 5 min en compresor, ¿propósito?',options:['Limitar tiempo operación','Controlar velocidad','Prevenir short cycling esperando ecualización de presiones','Apagar si hay fuga'],correct:2,explanation:'Las presiones necesitan ~5 min para ecualizar. Arrancar contra alta presión daña el compresor.'},
            {category:'Electricidad',q:'Interlock blower-compresor, ¿qué garantiza?',options:['Blower siempre a máxima velocidad','Compresor arranque antes que blower','Ambos se apagan al mismo tiempo','Compresor nunca opere sin blower encendido'],correct:3,explanation:'Sin flujo de aire, evaporador se congela y compresor se daña.'},
            {category:'Sistemas Comerciales',q:'Walk-in cooler: temp normal pero escarcha excesiva en evaporador. ¿Causa?',options:['Evaporador muy grande','Timer defrost desajustado, pocos ciclos','Compresor muy potente','Mucho refrigerante'],correct:1,explanation:'Defrost insuficiente en frecuencia o duración. Verificar: timer, heaters, terminación por temp, burletes de puerta.'},
            {category:'Sistemas Comerciales',q:'Display case con cortina de aire (air curtain). ¿Función?',options:['Barrera invisible que previene infiltración de aire caliente/húmedo','Enfriar producto rápido','Distribuir aire entre estantes','Eliminar olores'],correct:0,explanation:'Flujo laminar de aire frío actúa como puerta invisible, reduce infiltración.'},
            {category:'Sistemas Comerciales',q:'Rack system: 1 de 4 compresores no arranca, otros 3 mantienen temp. ¿Urgente?',options:['No, 3 compensan','Sí, los 3 trabajan más y pueden fallar por sobrecarga','Solo si temp sube','Depende de temporada'],correct:1,explanation:'Mayor duty cycle=más desgaste, amperaje, y temp descarga. Repara pronto.'},
            {category:'Sistemas Comerciales',q:'TD (Temperature Difference) del evaporador comercial: ¿qué es?',options:['Temp cuarto - temp evaporación','Succión-descarga','Aire suministro-retorno','Superheat-subcooling'],correct:0,explanation:'TD cooler 10-15°F, freezer 8-12°F. Alto TD=más deshumidificación.'},
            {category:'Sistemas Comerciales',q:'Receiver (recipiente de líquido), ¿función?',options:['Filtrar contaminantes','Almacenar líquido para variaciones de carga y servicio','Almacenar refrigerante de respaldo','Regular presión descarga'],correct:1,explanation:'Acomoda variaciones de carga y almacena toda la carga durante pump-down/servicio.'},
            {category:'Sistemas Comerciales',q:'Defrost gas caliente vs eléctrico en freezer:',options:['Gas caliente más rápido pero más caro','Gas caliente solo R-404A','Sin diferencia práctica','Eléctrico usa resistencias; gas caliente redirige descarga al evaporador'],correct:3,explanation:'Gas caliente más eficiente (usa calor existente), menos calor agregado al cuarto.'},
            {category:'Sistemas Comerciales',q:'Oil separator: ¿dónde se instala?',options:['Línea succión','Línea descarga, separa aceite y retorna al cárter','Línea líquido','En el receiver'],correct:1,explanation:'Después del compresor. Crítico en sistemas con líneas largas o evaporadores múltiples.'},
            {category:'Bombas de Calor',q:'Heat pump modo calefacción: ¿qué línea está fría y cuál caliente?',options:['Gruesa fría, delgada caliente','Gruesa caliente (descarga al interior), delgada fría','Ambas misma temp','Depende temp exterior'],correct:1,explanation:'En calefacción el flujo se invierte. Gruesa lleva gas caliente al interior.'},
            {category:'Bombas de Calor',q:'Válvula reversible energizada=calefacción. Si pierde señal, ¿a qué modo revierte?',options:['Se queda en calefacción','Revierte a enfriamiento (default)','Sistema se apaga','Última posición'],correct:1,explanation:'Reposo sin energía=enfriamiento (seguridad). Algunos fabricantes difieren.'},
            {category:'Bombas de Calor',q:'Heat pump dual fuel: ¿cuándo cambia a gas?',options:['Siempre gas en invierno','Manual','Cuando temp exterior baja al balance point económico','Solo cuando HP falla'],correct:2,explanation:'Cambia cuando gas es más barato que electricidad. Thermostat dual fuel gestiona transición.'},
            {category:'Bombas de Calor',q:'¿Por qué suministro de heat pump se siente tibio (90-100°F) vs furnace (130-150°F)?',options:['Flujo aire insuficiente','Thermostat mal','HP no funciona bien en invierno','Temp suministro HP es ~90-100°F vs 130-150°F del furnace, es normal'],correct:3,explanation:'Es NORMAL. Ambos calientan la casa, pero HP produce aire a menor temperatura.'},
            {category:'Bombas de Calor',q:'4-way valve con fuga interna. ¿Efecto?',options:['Solo afecta calefacción','Sin efecto notable','Menor eficiencia en AMBOS modos','Compresor se daña inmediato'],correct:2,explanation:'Gas caliente pasa a succión. Superheat alto, pérdida de capacidad en ambos modos.'},
            {category:'Bombas de Calor',q:'Técnico mide superheat en HP modo calefacción en serpentín INTERIOR. ¿Correcto?',options:['Sí, siempre misma línea','No se puede medir en calefacción','Sí, interior es siempre evaporador','No, en calefacción medir en serpentín EXTERIOR (evaporador)'],correct:3,explanation:'En calefacción: exterior=evaporador. Superheat en succión del exterior hacia compresor.'},
            {category:'Bombas de Calor',q:'HP en defrost: fan exterior off, válvula cambia, pero heat strips NO encienden. ¿Cliente siente?',options:['Nada diferente','Aire frío del suministro (sistema en modo AC sin calor auxiliar)','Aire extra caliente','Sistema se apaga'],correct:1,explanation:'Sin heat strips para compensar, cliente siente frío durante 3-10 min del defrost.'},
            {category:'Electricidad',q:'L1-neutral=118V, L2-neutral=110V. ¿Balanceado?',options:['Sí, siempre hay diferencia','No, 8V diferencia = 7% desbalanceo','Necesitas medir corriente','Sí, 228V aceptable'],correct:1,explanation:'7% excede 2% máximo. Puede causar 35%+ desbalanceo de corriente.'},
            {category:'Electricidad',q:'Capacitor marcha: 30 µF, debería ser 45 µF. ¿Puede causar que compresor no arranque?',options:['Solo si voltaje también bajo','No, 30 suficiente','Cap marcha no afecta arranque','Sí, 33% bajo impide arranque correcto'],correct:3,explanation:'33% bajo reduce torque significativamente. Overload se dispara por alto amperaje.'},
            {category:'Electricidad',q:'Capacitor dual 45/5: lado 45 OK (44µF), lado 5 lee 2.8µF. ¿Efecto?',options:['Fan condensador gira lento o no arranca','Solo más ruido','Ninguno','Ambos motores fallan'],correct:0,explanation:'2.8µF=44% bajo para fan condensador. Sin ventilación, presión descarga sube.'},
            {category:'Electricidad',q:'Bobina contactor 24V mide 18V. ¿Suficiente?',options:['No, necesita mínimo ~20V (85% nominal)','18V OK si temp alta','Sí','Depende fabricante'],correct:0,explanation:'A 75% del nominal, contactor puede chatear y quemar contactos. Verificar transformador.'},
            {category:'Electricidad',q:'Pinza amperimétrica: ¿por qué abrazar UN solo cable?',options:['Campos se cancelan, lectura 0A','2 cables da el doble','No importa, misma lectura','Puede dañar pinza'],correct:0,explanation:'Corrientes opuestas cancelan campos magnéticos. Siempre un solo conductor.'},
            {category:'Eficiencia Energética',q:'SEER 10 reemplazado por SEER 16. ¿% ahorro energético?',options:['37.5%','60%','16%','160%'],correct:0,explanation:'1-(10/16)=0.375=37.5%. No confundir con mejora de SEER (60%).'},
            {category:'Eficiencia Energética',q:'SEER2 mínimo en región suroeste EE.UU.:',options:['13.4','16','14.3','15.2'],correct:2,explanation:'14.3 SEER2 para splits en región sur. Norte=13.4. SEER2 usa pruebas más estrictas.'},
            {category:'Eficiencia Energética',q:'Bill $300/mes, AC=60%, SEER 10→18. ¿Ahorro mensual en AC?',options:['$120','$80','$100','$180'],correct:1,explanation:'AC=$180. Ahorro=1-(10/18)=44%. $180×0.44=$80. Bill nuevo≈$220.'},
            {category:'Eficiencia Energética',q:'¿Qué tiene más impacto: limpiar condensador o agregar 1 lb refrigerante?',options:['Mismo impacto','Depende de qué tan sucio y cuánto falta','Refrigerante siempre','Condensador siempre'],correct:1,explanation:'DEPENDE y MIDE. Condensador 50% bloqueado=-30% eficiencia. 1 lb faltante en 8 lbs=-12%. Mide, no adivines.'},
            {category:'Eficiencia Energética',q:'Sistema 15 años SEER 13 funciona bien. ¿Argumento para cambiar a SEER 20?',options:['SEER 13 es ilegal','35% ahorro, pero payback depende del costo y uso','Contamina','Puede fallar cualquier día'],correct:1,explanation:'Ahorro=1-(13/20)=35%. Si gasta $1,200/año en AC→$420/año ahorro. Payback con números reales, no miedo.'},
            {category:'Tablas PT y Presiones',q:'R-410A a 32°F saturación:',options:['92 PSI','105 PSI','76 PSI','118 PSI'],correct:0,explanation:'R-410A: 32°F≈92 PSI. 40°F=118, 45°F=128, 50°F=140.'},
            {category:'Tablas PT y Presiones',q:'R-22 a 45°F saturación:',options:['84 PSI','92 PSI','68 PSI','76 PSI'],correct:3,explanation:'R-22: 45°F≈76 PSI. R-410A a 45°F≈128 PSI (casi doble).'},
            {category:'Tablas PT y Presiones',q:'R-404A a -20°F:',options:['12 PSIG','18 PSIG','24 PSIG','6 PSIG'],correct:0,explanation:'Presiones bajas: cada PSI=varios grados. Usa manómetros de alta precisión.'},
            {category:'Tablas PT y Presiones',q:'R-410A a 120°F condensación:',options:['418 PSI','380 PSI','446 PSI','475 PSI'],correct:2,explanation:'Muy alta. Presostato corta ~550-610 PSI. A 446 ya estás en zona precaución.'},
            {category:'Tablas PT y Presiones',q:'Técnico usa tabla R-22 para R-410A. Lee 125 PSI. R-22 dice 43°F. Con R-410A correcto sería:',options:['32°F','44°F','38°F','50°F'],correct:1,explanation:'R-410A 125 PSI≈44°F. R-22 125 PSI≈72°F. Tabla equivocada=diagnóstico errado.'},
            {category:'Tablas PT y Presiones',q:'95°F exterior, condensador bien. ¿Temp condensación esperada R-410A?',options:['95°F igual al ambiente','105-115°F (10-20°F arriba)','135-145°F','120-130°F'],correct:1,explanation:'Condensación típica 15-30°F arriba del ambiente. Si +35°F=problema condensador.'},
            {category:'Tablas PT y Presiones',q:'Condensación 110°F en R-410A. ¿Presión descarga?',options:['370 PSI','350 PSI','420 PSI','391 PSI'],correct:3,explanation:'R-410A: 100°F=340, 105°F=366, 110°F=391, 115°F=418.'},
            {category:'Diagnóstico',q:'AC no enfría. Condensador corre pero blower interior no sopla. ¿Primer paso?',options:['Verificar blower: voltaje, capacitor, motor','Reemplazar thermostat','Agregar refrigerante','Verificar refrigerante'],correct:0,explanation:'Sin flujo aire interior, evaporador se congela. Apaga sistema y diagnostica blower.'},
            {category:'Diagnóstico',q:'Línea succión con escarcha desde evaporador hasta compresor. ¿Qué NO es causa?',options:['Blower velocidad incorrecta','Filtro sucio','Condensador sucio','Bajo refrigerante'],correct:2,explanation:'Congelamiento=lado BAJA. Condensador=lado ALTA. Causas: bajo aire, bajo refrigerante, metering restringido.'},
            {category:'Diagnóstico',q:'Furnace se apaga por limit switch open después 10 min. ¿Orden verificación?',options:['Presión gas→Sensor llama','Intercambiador→Transformador','Filtro→Blower→Ductos→Intercambiador','Válvula gas→Thermostat→Ignitor'],correct:2,explanation:'Limit=sobrecalentamiento por falta de flujo. Filtro más común y fácil primero.'},
            {category:'Diagnóstico',q:'Condensador zumba fuerte, compresor no arranca, fan gira normal. ¿Sospecha?',options:['Bearing fan malo','Fuga refrigerante','Thermostat intermitente','Compresor recibe voltaje pero no puede arrancar: cap, locked rotor, o bajo voltaje'],correct:3,explanation:'Zumbido=energizado pero no rota. Mide: voltaje→capacitor→amperaje arranque.'},
            {category:'Diagnóstico',q:'Mini-split sopla pero no enfría. Interior OK, exterior no arranca. Sin códigos. ¿Verificas?',options:['Agregar refrigerante','Tarjeta control interior','Voltaje alimentación a unidad exterior','Limpiar filtros'],correct:2,explanation:'Interior opera sin exterior: verificar voltaje, breaker, disconnect, cable.'},
            {category:'Diagnóstico',q:'Casa: upstairs 80°F, downstairs 68°F. Sistema una zona. ¿Causa probable?',options:['Ductos desbalanceados, falta dampers, retorno inadecuado arriba','Compresor débil','Bajo refrigerante','Thermostat mal ubicado'],correct:0,explanation:'Problema de distribución de aire. Caliente sube, frío baja. Solución: dampers o 2 zonas.'},
            {category:'Diagnóstico',q:'Olor dulce/químico cerca del evaporador. ¿Sospecha?',options:['Gas natural','Fuga de refrigerante','Drain pan desbordando','Moho'],correct:1,explanation:'Muchos refrigerantes huelen dulce. Verificar con detector y burbujas. Gas natural=huevo podrido.'},
            {category:'Diagnóstico',q:'RTU condensador tapado con semillas. ¿Dirección limpieza con agua?',options:['Afuera hacia adentro','Arriba hacia abajo','Adentro hacia afuera (misma dirección flujo aire)','Solo químico, nunca agua'],correct:2,explanation:'De ADENTRO hacia AFUERA empuja suciedad en dirección que entró.'},
            {category:'Diagnóstico',q:'Cliente pregunta cuánto refrigerante pusiste. No pusiste nada (lecturas bien). ¿Respuesta?',options:['Mediciones confirmaron carga correcta, agregar más causaría problemas','1 libra para que sienta valor','Evitar pregunta','Se consume con uso, pronto necesitará'],correct:0,explanation:'Honestidad profesional. Refrigerante NO se consume; si necesita=fuga.'},
            {category:'Diagnóstico',q:'Técnico nuevo: \'presiones bien=sistema bien\'. ¿Qué le falta?',options:['Necesita también: SH, SC, delta T, amperaje, voltaje','Solo filtro adicional','Nada','Presiones es único dato confiable'],correct:0,explanation:'Presiones solas pueden engañar. Diagnóstico completo: presiones+SH+SC+deltaT+amps+volts+temp exterior.'},
            {category:'Diagnóstico',q:'Problema intermitente: a veces enfría, a veces no. ¿Causa MÁS probable?',options:['Compresor al final de vida','Refrigerante contaminado','Thermostat incompatible','Contactor con contactos quemados haciendo/perdiendo contacto'],correct:3,explanation:'Contactos quemados=operación on/off intermitente. También: conexión suelta, cap intermitente, presostato ciclando.'},
            {category:'Diagnóstico',q:'Furnace huele a huevos podridos. ¿Acción?',options:['Evacuar casa, llamar compañía gas=posible fuga de gas natural','Verificar filtro','Limpiar intercambiador','Normal por polvo'],correct:0,explanation:'Mercaptano=fuga gas. NO usar interruptores. Evacuar. Cerrar válvula gas si seguro. Llamar desde afuera.'},
            {category:'Diagnóstico',q:'Intercambiador calor rajado visible. Furnace 18 años. ¿Acción?',options:['Sellar con silicón','Apagar inmediatamente, informar cliente, recomendar reemplazo','Solo documentar','Seguir mantenimiento y mencionar al final'],correct:1,explanation:'EMERGENCIA de seguridad: CO puede entrar al hogar. Apagar inmediato.'},
            {category:'Principios Refrigeración',q:'¿Dónde absorbe calor el refrigerante?',options:['Evaporador','Condensador','Compresor','Metering device'],correct:0,explanation:'Evaporador: líquido se evapora ABSORBIENDO calor del aire.'},
            {category:'Principios Refrigeración',q:'4 componentes del ciclo en orden de flujo:',options:['Evap→Comp→Cond→Meter','Comp→Cond→Meter→Evap','Meter→Evap→Cond→Comp','Cond→Meter→Evap→Comp'],correct:1,explanation:'Compresor→Condensador→Metering→Evaporador→regresa al Compresor.'},
            {category:'Principios Refrigeración',q:'Estado del refrigerante al ENTRAR al metering device:',options:['100% gas','100% líquido subenfriado','Gas sobrecalentado','Mezcla líq/vapor'],correct:1,explanation:'Debe ser líquido subenfriado. Flash gas antes del metering reduce capacidad.'},
            {category:'Principios Refrigeración',q:'Estado al SALIR del evaporador en condiciones normales:',options:['100% gas sobrecalentado','Mezcla','100% líquido','Gas a punto de condensar'],correct:0,explanation:'Gas sobrecalentado confirma que todo se evaporó. Mezcla=riesgo de slugging.'},
            {category:'Principios Refrigeración',q:'¿Por qué compresor no puede comprimir líquido?',options:['Muy pesado para motor','Líquido incompresible causa daño mecánico (hydraulic lock)','Líquido se evapora al entrar','Aceite se mezcla'],correct:1,explanation:'Slugging: fuerzas de incompresión rompen válvulas, bielas, cigüeñal.'},
            {category:'Principios Refrigeración',q:'Relación presión-punto de ebullición:',options:['Mayor presión=mayor punto ebullición','Solo afecta velocidad','Mayor presión=menor punto ebullición','Presión no afecta'],correct:0,explanation:'Principio fundamental. Metering reduce presión→baja punto ebullición→evaporación fría.'},
            {category:'Principios Refrigeración',q:'Calor latente de un refrigerante representa:',options:['Diferencia evaporación-condensación','Calor para subir 1°F','Calor de compresión','Calor absorbido/liberado al cambiar fase SIN cambiar temperatura'],correct:3,explanation:'Cambio de fase sin cambio de temperatura. Mecanismo principal de transferencia en refrigeración.'},
            {category:'Principios Refrigeración',q:'¿Por qué R-410A reemplazó R-22?',options:['No contiene cloro, ODP=0','Más barato','Más eficiente siempre','Menor presión'],correct:0,explanation:'R-22 HCFC daña ozono. R-410A HFC ODP=0 pero GWP=2,088 ahora siendo reemplazado también.'},
            {category:'Principios Refrigeración',q:'Sucesor de R-410A para residencial bajo AIM Act:',options:['R-32','R-22A','R-290','R-454B'],correct:3,explanation:'R-454B GWP 466 vs 2,088. A2L levemente inflamable. Nuevos estándares de seguridad.'},
            {category:'Principios Refrigeración',q:'Clasificación A2L significa:',options:['No tóxico, no inflamable','Baja toxicidad, levemente inflamable','Alta toxicidad, no inflamable','Baja toxicidad, altamente inflamable'],correct:1,explanation:'A=baja toxicidad, 2L=levemente inflamable. R-410A es A1. R-454B es A2L. R-290 es A3.'},
            {category:'Servicio al Cliente',q:'Thermostat en 68°F pero casa en 75°F. AC corriendo. ¿Verificar primero?',options:['Agregar refrigerante','Delta T: si 18-22°F, sistema funciona pero carga excede capacidad','Subir velocidad blower','Reemplazar thermostat'],correct:1,explanation:'DeltaT correcto=sistema funciona. Carga térmica excede capacidad. Agregar ref a sistema OK lo daña.'},
            {category:'Servicio al Cliente',q:'Cliente dice: técnico anterior dijo compresor nuevo $3,500. ¿Qué haces?',options:['Confirmar y proceder','Confirmar que el otro tenía razón','Hacer TU diagnóstico completo: presiones, electricidad, verificar si es realmente el compresor','Ofrecer precio más bajo'],correct:2,explanation:'NUNCA aceptar diagnóstico ajeno. Muchos compresores reemplazados innecesariamente por cap de $20.'},
            {category:'Servicio al Cliente',q:'Instalación: placa dice 5lb 12oz +0.6oz/ft sobre 15ft de 3/8". Usaste 30ft. ¿Total?',options:['6lb 3oz','5lb 12oz','No calculable','6lb 5oz'],correct:3,explanation:'30-15=15ft extra. 15×0.6=9oz. 5lb12oz+9oz=6lb5oz.'},
            {category:'Servicio al Cliente',q:'AC 15 años, compresor malo=$2,500. Sistema nuevo=$7,000. ¿Cómo asesoras?',options:['Siempre nuevo','Siempre reparar','No dar opinión','Regla 50%: reparación>50% de nuevo + >10 años=reemplazar suele ser mejor'],correct:3,explanation:'$2,500/$7,000=36%, bajo 50% pero con 15 años. Factores: eficiencia, garantía, tipo refrigerante.'},
            {category:'Fórmulas y Cálculos',q:'Target SH con pistón: ¿qué método?',options:['Siempre 10°F','SH=retorno-exterior','Tablas fabricante que ajustan por WB retorno y temp exterior','Si 5-25°F está bien'],correct:2,explanation:'Target varía con condiciones. Sin tablas no sabes el target correcto.'},
            {category:'Fórmulas y Cálculos',q:'SC target 12°F, lees 5°F. Agregas 4oz R-410A→7°F. ¿Cuánto más?',options:['8oz de golpe','Ya está bien a 7°F','Impredecible, seguir de 2-4oz midiendo cada vez','Otras 4oz exactas'],correct:2,explanation:'Relación oz-SC no es lineal. Agregar poco, esperar, medir. Nunca cantidades grandes.'},
            {category:'Fórmulas y Cálculos',q:'Heat strip 5kW a 240V. ¿Amperaje?',options:['15.8A','23.5A','18.2A','20.8A'],correct:3,explanation:'I=P/V=5,000/240=20.83A. Resistencia pura, PF=1.'},
            {category:'Fórmulas y Cálculos',q:'Transformador 40VA. Cargas: 4.8+12+2.4=19.2VA. ¿Soporta accesorio 24V×0.5A?',options:['No, excede','Depende del tipo','No, al límite','Sí, sobra capacidad'],correct:3,explanation:'19.2+12=31.2VA. 31.2/40=78%. Mantener bajo 80% del VA.'},
            {category:'Fórmulas y Cálculos',q:'240V/30A a 45ft. ¿Calibre mínimo?',options:['#8 obligatorio','#10 suficiente','#10 OK pero verificar caída de voltaje a 45ft','#6 por seguridad'],correct:2,explanation:'#10=30A capacidad. A 45ft VD≈2.2%, aceptable. A 75ft+ necesitarías #8.'},
            {category:'Fórmulas y Cálculos',q:'Supply plenum 55°F, registro lejano 62°F. ¿Qué indica?',options:['0°F, temp no cambia','Termómetro mal','7°F normal','7°F ganancia=ductos sin aislar o con fugas'],correct:3,explanation:'Ideal <2°F. 7°F=pérdida significativa. Verificar aislamiento y sellos.'},
            {category:'Controles y Componentes',q:'Transducer 0-500 PSI, 0.5-4.5V. A 2.5V, ¿presión?',options:['200 PSI','250 PSI','300 PSI','350 PSI'],correct:1,explanation:'(2.5-0.5)×(500/4)=2×125=250 PSI.'},
            {category:'Controles y Componentes',q:'Señal 4-20mA para damper. A 12mA, ¿posición?',options:['75%','50%','100%','0%'],correct:1,explanation:'(12-4)/16×100=50%. 4mA=cerrado, 20mA=abierto.'},
            {category:'Controles y Componentes',q:'Termistor NTC 10kΩ@77°F. 25kΩ@40°F. 5kΩ@100°F. A 15kΩ≈:',options:['50°F','70°F','85°F','60°F'],correct:3,explanation:'15kΩ entre 10k(77°F) y 25k(40°F), más cerca de 10k. ≈60°F. Relación no lineal.'},
            {category:'Controles y Componentes',q:'Entrada analógica vs digital en controlador:',options:['Analógica=motores, digital=sensores','Sin diferencia','Analógica varía continuo (0-10V, 4-20mA); digital=on/off','Analógica=cobre, digital=fibra'],correct:2,explanation:'Analógica: señales variables de rango. Digital: estados discretos on/off.'},
            {category:'Controles y Componentes',q:'VRF error comunicación. ¿Tipo cableado entre unidades?',options:['WiFi','Cable thermostat 18ga','Coaxial','Cable comunicación blindado 2-3 hilos'],correct:3,explanation:'Blindado protege de interferencia. No intercambiable con cable thermostat.'},
            {category:'Controles y Componentes',q:'Economizer sin sensor entalpía. ¿Puede operar con solo temp seca?',options:['Sí pero menos preciso en climas húmedos','No puede funcionar','Código lo prohíbe','Sí, más preciso'],correct:0,explanation:'Pierde precisión: 65°F/90% humedad≠65°F/30% humedad. Solución temporal.'},
            {category:'Refrigerantes',q:'Velocidad combustión máxima para clasificación A2L:',options:['≤10 cm/s','≤20 cm/s','≤4 cm/s','≤50 cm/s'],correct:0,explanation:'A2L≤10 cm/s. Muy lento vs propano A3 ~40 cm/s. Difícil de encender.'},
            {category:'Refrigerantes',q:'¿R-454B puede cargarse en sistema diseñado para R-410A?',options:['Sí en emergencias','Solo con adaptador','No, requiere equipo específico para R-454B','Sí, intercambiables'],correct:2,explanation:'NO es retrofit. Puertos diferentes, detectores, componentes A2L, instalación nueva.'},
            {category:'Refrigerantes',q:'Herramienta seguridad adicional para A2L:',options:['Extintor CO2','Máscara oxígeno','Ventilador industrial','Detector refrigerante calibrado para A2L en área de trabajo'],correct:3,explanation:'Detector que alarme si concentración alcanza nivel peligroso.'},
            {category:'Refrigerantes',q:'GWP R-454B vs R-410A:',options:['454B=466, 410A=2,088','Mismo GWP','454B=1,500, 410A=2,088','454B=750, 410A=1,500'],correct:0,explanation:'R-454B GWP 466 = 78% reducción vs R-410A 2,088.'},
            {category:'Refrigerantes',q:'¿Manifolds R-410A sirven para R-454B?',options:['Sí si están limpios','No, puertos diferentes para evitar mezclas','Sí, presiones similares','Solo mangueras'],correct:1,explanation:'R-410A=5/16" puertos. R-454B=1/4" SAE. Diferente para prevenir mezcla.'},
            {category:'Diagnóstico Avanzado',q:'Compresor OK por 20 min, luego overload. Presiones normales al inicio. ¿Sospecha?',options:['Thermostat mal','Bajo refrigerante','Filtro sucio','Bobinado débil que se abre al calentarse (spot burn)'],correct:3,explanation:'Funciona frío, falla caliente. Aislamiento dañado permite mayor resistencia/corto al calentar. Megger EN CALIENTE confirma.'},
            {category:'Diagnóstico Avanzado',q:'TXV: SH=2°F, SC=25°F. ¿Problema?',options:['Puede ser cualquiera, verificar TXV antes de remover refrigerante','Sistema bien','Sobrecarga: remover refrigerante','TXV abierta: reemplazar'],correct:0,explanation:'SH bajo+SC alto puede ser sobrecarga O TXV stuck open. Verificar TXV primero.'},
            {category:'Diagnóstico Avanzado',q:'Filtro drier tapado síntomas:',options:['Succión alta, descarga alta','Amperaje compresor alto','Caída temperatura notable: entrada caliente, salida fría/escarchada','SC alto antes del filtro'],correct:2,explanation:'Actúa como segundo metering device. Entrada caliente, salida fría. Escarcha posible.'},
            {category:'Diagnóstico Avanzado',q:'¿Cómo diferencias bajo refrigerante vs restricción metering? Ambos: succión baja, SH alto.',options:['No hay diferencia','Medir corriente, igual en ambos','SC antes de restricción: bajo ref=SC bajo en todo; restricción=SC normal-alto ANTES','No se puede sin agregar ref'],correct:2,explanation:'SC antes de la restricción es la clave diagnóstica.'},
            {category:'Diagnóstico Avanzado',q:'Scroll arranca y se apaga inmediato. 245V OK, cap OK, presiones ecualizadas. ¿Sospecha?',options:['Overload defectuoso','Mecánicamente trabado, intentó arrancar contra presiones ecualizadas','Contactos quemados','Tarjeta inverter'],correct:1,explanation:'Scrolls sin válvulas descarga pueden trabarse contra presión. Verificar time delay y hard start kit.'},
            {category:'Diagnóstico Avanzado',q:'Sistema muestra ambas presiones muy bajas y cercanas. Compresor corre. Amperaje bajo. ¿Diagnóstico?',options:['Sobrecarga refrigerante','Compresor con válvulas buenas','Fuga grande, casi sin refrigerante','Condensador sucio'],correct:2,explanation:'Ambas presiones bajas+ecualizándose+bajo amperaje=casi sin refrigerante. No confundir con válvulas malas donde presiones no se separan pero no son bajas.'},
            {category:'Diagnóstico Avanzado',q:'Un sistema con TXV: SC varía entre 5-20°F cada pocos minutos. SH estable en 8°F. ¿Qué pasa?',options:['Carga de refrigerante fluctuando','Nada, variación normal','Flujo de aire intermitente al condensador','Fuga intermitente'],correct:2,explanation:'SC que fluctúa con SH estable=problema en el condensador. Fan intermitente o bloqueando: cuando fan corre, SC normal. Cuando para, SC sube por condensador caliente.'},
            {category:'Diagnóstico Avanzado',q:'Después de un burn-out de compresor, ¿qué pasos adicionales se requieren además de reemplazar el compresor?',options:['Solo evacuar más tiempo','Solo cambiar compresor y cargar','Solo cambiar filtro drier','Cambiar filtro drier, lavar líneas con flush, verificar acidez aceite, evacuar profundo'],correct:3,explanation:'Burn-out contamina todo el sistema con ácido. Pasos: flush líneas, cambiar filtro drier oversized, verificar aceite, triple evacuación, y posible suction filter temporal.'},
            {category:'Diagnóstico Avanzado',q:'Un compresor tiene amperaje BAJO pero no enfría. Presiones no se separan. ¿Mecánico o eléctrico?',options:['Ambos simultáneamente','Mecánico: válvulas dañadas no comprimen gas','Eléctrico: bobinado en corto','Ninguno: es problema de refrigerante'],correct:1,explanation:'Amperaje BAJO + presiones ecualizadas = problema mecánico. Si fuera eléctrico (corto), el amperaje estaría ALTO. Válvulas dañadas: gas pasa sin comprimir, menos resistencia=menos amperaje.'},
            {category:'Psicrometría',q:'Temp bulbo seco 80°F, bulbo húmedo 67°F. ¿Humedad relativa aprox?',options:['65%','55%','50%','40%'],correct:2,explanation:'80°F DB/67°F WB≈50% RH. Punto diseño estándar AHRI.'},
            {category:'Psicrometría',q:'Punto de rocío (dew point): ¿qué es?',options:['Temp del evaporador','Temp donde agua hierve','Temp donde aire se satura y comienza condensación','Diferencia DB y WB'],correct:2,explanation:'Si superficie del evaporador está bajo dew point, se produce condensación (deshumidificación).'},
            {category:'Psicrometría',q:'Evaporador a 40°F, dew point del aire 55°F. ¿Se deshumidifica?',options:['Sí, superficie bajo dew point condensa humedad','Solo si RH>60%','No, evaporador necesita más frío','Depende del flujo'],correct:0,explanation:'40°F<55°F→condensación. Si superficie arriba de 55°F, enfría pero no deshumidifica.'},
            {category:'Psicrometría',q:'Fórmula calor LATENTE:',options:['lbs/hr×970','CFM×0.68×Δgr','CFM×1.08×ΔT','CFM×4.5×Δgr'],correct:3,explanation:'Latente=CFM×4.5×Δgr. Sensible=CFM×1.08×ΔT. Total=sensible+latente.'},
            {category:'Psicrometría',q:'SHR=0.75 significa:',options:['Temp baja 75%','75% eficiencia','75% vapor','75% sensible, 25% latente'],correct:3,explanation:'SHR=Sensible/Total. 0.75=75% temp, 25% humedad.'},
            {category:'Psicrometría',q:'Casa 75°F pero RH 70%. Cliente siente calor. ¿Por qué?',options:['Alta humedad impide evaporación de sudor','Mal aislamiento','AC no funciona','Thermostat descalibrado'],correct:0,explanation:'Alta RH reduce enfriamiento por sudor. Temp efectiva mayor. Solución: deshumidificar.'},
            {category:'Psicrometría',q:'ASHRAE 62.1 ventilación oficina:',options:['10 CFM/persona','5 CFM/persona','15 CFM/persona + 0.06 CFM/ft²','25 CFM/persona'],correct:2,explanation:'5 CFM/persona + 0.06 CFM/ft² del área. No es número fijo por persona.'},
            {category:'Psicrometría',q:'ERV eficiencia 75%. Exterior 95°F, retorno 75°F. ¿Temp aire fresco post-ERV?',options:['90°F','85°F','82°F','80°F'],correct:3,explanation:'ΔT=20°F. Recuperación=20×0.75=15°F. Post-ERV=95-15=80°F.'},
            {category:'Psicrometría',q:'CFM >450/ton efecto:',options:['Mejor enfriamiento y deshumidificación','Mejor enfriamiento pero PEOR deshumidificación','Sin efecto','Evaporador se congela'],correct:1,explanation:'Aire pasa rápido, se enfría menos, no alcanza dew point. Casa fría pero húmeda.'},
            {category:'Códigos y Seguridad',q:'OSHA PEL de CO para 8 horas TWA:',options:['100 PPM','50 PPM','35 PPM','25 PPM'],correct:1,explanation:'OSHA PEL=50 PPM (8hr TWA). NIOSH recomienda 35 PPM. 200 PPM=peligroso. Lleva detector CO.'},
            {category:'Códigos y Seguridad',q:'Antes de trabajar en circuito eléctrico, procedimiento OSHA:',options:['Apagar breaker y trabajar','LOTO: desenergizar, lock, tag, verificar con multímetro','Avisar a alguien','Guantes aislantes suficiente'],correct:1,explanation:'LOTO: Notificar→Apagar→Candado/etiqueta→Verificar con multímetro→Trabajar.'},
            {category:'Códigos y Seguridad',q:'Fuga R-404A en cuarto máquinas, detector alarma. ¿Acción?',options:['Evacuar, activar ventilación emergencia, no re-entrar sin protección','Llamar bomberos, inflamable','Buscar fuga inmediato','Abrir ventanas'],correct:0,explanation:'Evacuar primero. R-404A no inflamable pero desplaza oxígeno. ASHRAE 15 requiere ventilación emergencia.'},
            {category:'Códigos y Seguridad',q:'¿Cuántas libras refrigerante requieren registros de mantenimiento EPA?',options:['Cualquier cantidad','Solo comercial','50 lb+','5 lb+'],correct:2,explanation:'50 lb+ requiere planes mantenimiento fugas, registros, y cálculo tasa fuga anual.'},
            {category:'Códigos y Seguridad',q:'NEC: ¿disconnect visible desde condensador?',options:['Solo si >25ft del panel','No, breaker suficiente','Solo 240V+','Sí, debe haber disconnect a la vista del equipo'],correct:3,explanation:'NEC 440.14: desconexión visible y accesible desde el equipo.'},
            {category:'Códigos y Seguridad',q:'Tasa fuga anual máxima EPA para AC/ref comercial:',options:['15%','20%','10%','30%'],correct:3,explanation:'30% comercial, 10% industrial. Si excede, reparar en 30 días o plan de retiro.'},
            {category:'Diagnóstico',q:'R-410A: succión 130 PSI, descarga 380, SH 12°F, SC 10°F. Exterior 85°F. ¿Normal?',options:['No, SC bajo','No, succión alta','Sí, todo en rango','Falta delta T'],correct:2,explanation:'130 PSI(44°F), 380 PSI(104°F split ~19°F), SH 12, SC 10. Todo normal a 85°F.'},
            {category:'Diagnóstico',q:'Succión muy baja, descarga baja, SH alto, SC bajo, amps bajo. ¿Dx?',options:['Válvulas malas','Falta refrigerante','Evaporador congelado','Condensador sucio'],correct:1,explanation:'Todo bajo excepto SH=falta refrigerante. Buscar fuga antes de cargar.'},
            {category:'Diagnóstico',q:'Succión alta, descarga alta, SH bajo, SC normal-alto, amps alto. ¿Dx?',options:['Restricción línea líquido','Condensador sucio','Exceso carga térmica (evaporador sucio)','Bajo refrigerante'],correct:2,explanation:'Exceso calor que evaporador no absorbe. Verificar: evap sucio, exceso calor espacio, equipo subdimensionado.'},
            {category:'Diagnóstico',q:'Sistema no enfría. Compresor ON pero presiones iguales (ecualizadas). ¿Dx?',options:['Drier tapado','Fuga total','Válvulas compresor dañadas (no bombea)','TXV abierta'],correct:2,explanation:'Compresor corre con presiones ecualizadas=no comprime. Fuga total=presiones bajas/0, no ecualizadas al nivel normal.'},
            {category:'Diagnóstico',q:'Succión normal, descarga MUY alta, SH normal. ¿Causa?',options:['Bajo refrigerante','Válvulas malas','TXV restringida','Condensador sucio o fan malo'],correct:3,explanation:'Succión y SH normales=evaporador OK. Descarga alta=condensador no rechaza calor.'},
            {category:'Diagnóstico',q:'Furnace calienta 2 min, limit switch open. ¿Causa MÁS probable?',options:['Intercambiador rajado','Flujo aire restringido (filtro, blower, ductos)','Válvula gas defectuosa','Sensor llama sucio'],correct:1,explanation:'Limit=sobrecalentamiento por falta de flujo. Filtro más probable, luego blower, luego ductos.'},
            {category:'Diagnóstico',q:'3 flashes LED: pressure switch stuck open. Draft inducer corriendo. ¿Verificar primero?',options:['Thermostat','Tubo hule del switch y drain del colector','Voltaje transformador','Reemplazar pressure switch'],correct:1,explanation:'Tubo tapado/desconectado/con agua es causa más común. Switch es lo ÚLTIMO.'},
            {category:'Diagnóstico',q:'Mini-split error E1. Compresor intentó 2 seg. ¿Verificar?',options:['Reemplazar tarjeta','Solo código en manual','Reemplazar compresor','Voltaje, capacitor, conexiones compresor'],correct:3,explanation:'Códigos son GUÍA, no diagnóstico final. Medir antes de reemplazar.'},
            {category:'Diagnóstico',q:'Delta T normal evaporador residencial:',options:['12-15°F','18-22°F','22-28°F','15-20°F'],correct:1,explanation:'18-22°F. <15°F=exceso aire o bajo ref. >25°F=bajo flujo aire.'},
            {category:'Diagnóstico',q:'Delta T 28°F, flujo débil. ¿Sospecha?',options:['TXV abierta','Sobrecarga ref','Flujo aire bajo (filtro, blower, ductos)','Evaporador sobredimensionado'],correct:2,explanation:'Poco aire se enfría MUCHO. Causas: filtro, blower lento, ductos colapsados, evaporador parcial congelado.'},
            {category:'Diagnóstico',q:'R-410A ecualización a 70°F:',options:['201 PSI','118 PSI','145 PSI','235 PSI'],correct:0,explanation:'R-410A 70°F≈201 PSI. 75°F≈217. Si no ves presión correcta con sistema apagado=fuga.'},
            {category:'Diagnóstico',q:'R-22 ecualización a 75°F:',options:['165 PSI','145 PSI','127 PSI','112 PSI'],correct:2,explanation:'R-22 75°F≈127 PSI. R-410A 75°F≈217 PSI. Siempre tabla correcta.'},
            {category:'Diagnóstico',q:'EPA multa máxima por ventear refrigerante:',options:['$10,000/día','$37,500/día','$100,000/incidente','$44,539/día'],correct:3,explanation:'Clean Air Act Sec 608: hasta $44,539/día. Incluye ventear, no recuperar, o sin certificación.'},
            {category:'Diagnóstico',q:'¿Cuál es mezcla azeotrópica?',options:['R-407C','R-22','R-410A','R-404A'],correct:2,explanation:'R-410A near-azeotropic. R-407C y R-404A zeotrópicas. R-22 puro (un componente).'},
            {category:'Diagnóstico',q:'¿Cómo cargar R-407C?',options:['Solo vapor por succión','Líquido siempre (mezcla zeotrópica)','Vapor o líquido, no importa','Solo líquido por alta'],correct:1,explanation:'Zeotrópicas SIEMPRE en líquido para mantener composición. R-410A también en líquido.'},
            {category:'Diagnóstico',q:'Vacío requerido R-410A sistema nuevo:',options:['350 µ','500 µ','250 µ','1,000 µ'],correct:1,explanation:'500 micrones o menos. Aceite POE + humedad = ácidos. Más estricto que R-22.'},
            {category:'Diagnóstico',q:'Aceite de R-410A:',options:['Mineral','Alkylbenzene','PAG','POE (Polyolester)'],correct:3,explanation:'POE higroscópico (absorbe humedad). Minimizar exposición al aire. Vacío profundo obligatorio.'},
            {category:'Diagnóstico con Instrumentos',q:'Resistencia compresor C-S=infinito (OL). ¿Dx?',options:['Normal en scroll','Bobinado Start abierto','OK, alta es normal','Escala incorrecta'],correct:1,explanation:'OL=bobinado roto/abierto. Sin continuidad. Reemplazar.'},
            {category:'Diagnóstico con Instrumentos',q:'Megger aplica 500V DC. ¿Por qué no multímetro estándar?',options:['No aplica suficiente voltaje para detectar fugas parciales aislamiento','Ambos sirven','No mide resistencia','Daña compresor'],correct:0,explanation:'Multímetro usa ~3V. A 3V fuga parcial no detectable. Megger a 500V fuerza corriente por aislamiento débil.'},
            {category:'Diagnóstico con Instrumentos',q:'Amperaje LRA sostenido >3 seg durante arranque. ¿Indica?',options:['Voltaje alto','Funcionamiento correcto','Locked rotor: motor no acelera','Hard start funcionando'],correct:2,explanation:'LRA sostenido=rotor trabado. Overload se dispara. Causas: mecánico, cap muerto, bajo voltaje.'},
            {category:'Diagnóstico con Instrumentos',q:'Fusible de tarjeta mini-split mide OL. ¿Dx?',options:['Fusible quemado/abierto','No se prueba con multímetro','OK, infinito normal','Multímetro mal'],correct:0,explanation:'Fusible bueno=continuidad (~0Ω). OL=abierto. Investigar causa antes de reemplazar.'},
            {category:'Diagnóstico con Instrumentos',q:'Termómetro de pinza en tubería: ¿con o sin aislamiento?',options:['Sin aislamiento, directo en cobre','Con aislamiento','Encima con compound','No importa'],correct:0,explanation:'Directo en cobre. Aislamiento=barrera térmica=lecturas falsas. Compound térmico mejora contacto.'},
            {category:'Fórmulas y Cálculos',q:'Motor condensador: 2.8A a 240V. ¿Watts?',options:['672W','840W','720W','560W'],correct:0,explanation:'P=240×2.8=672W (VA sin PF).'},
            {category:'Fórmulas y Cálculos',q:'RTU: 2 compresores de 15A y 18A a 230V. ¿Watts total?',options:['10,120W','5,590W','7,590W','9,200W'],correct:2,explanation:'(15+18)×230=7,590W.'},
            {category:'Fórmulas y Cálculos',q:'SEER 14, 3 ton, $0.15/kWh. ¿Costo por hora a plena carga?',options:['$0.39','$0.32','$0.54','$0.46'],correct:0,explanation:'36,000÷14=2,571W=2.571kW. 2.571×$0.15=$0.39/hr.'},
            {category:'Fórmulas y Cálculos',q:'Torre enfriamiento: 120 ton, ΔT 10°F. ¿GPM necesarios?',options:['320','288','240','200'],correct:1,explanation:'GPM=120×12,000÷(500×10)=288.'},
            {category:'Fórmulas y Cálculos',q:'3 heat strips 5kW cada una a 240V. ¿Amperaje total?',options:['52.5A','62.5A','43.8A','75A'],correct:1,explanation:'15,000÷240=62.5A.'},
            {category:'Fórmulas y Cálculos',q:'Motor trifásico: L1-L2=460V, L1-L3=450V, L2-L3=470V. ¿% desbalanceo?',options:['1.1%','4.4%','3.3%','2.2%'],correct:3,explanation:'Prom=460V. Max desviación=10V. (10/460)×100=2.2%.'},
            {category:'Fórmulas y Cálculos',q:'120V, carga 1,440W continua. ¿Breaker mínimo?',options:['30A','15A','10A','20A'],correct:3,explanation:'12A/0.80=15A mín pero para continua=20A. NEC 80% rule.'},
            {category:'Fórmulas y Cálculos',q:'Compresor trifásico 460V, 28A, PF=0.90. ¿Watts?',options:['11,592','20,062','18,500','23,184'],correct:1,explanation:'460×28×1.732×0.90=20,062W.'},
            {category:'Controles y Componentes',q:'Humidistat cierra contacto cuando humedad sube. ¿Qué activa?',options:['Enfriamiento extra','Alarma','Ventilación o deshumidificación','Calefacción'],correct:2,explanation:'Activa deshumidificación, ventilación, o AC en modo deshumid.'},
            {category:'Controles y Componentes',q:'Crankcase heater en compresor, ¿función?',options:['Precalentar aceite arranque','Descongelar compresor','Calentar ref para eficiencia','Evitar migración de líquido al cárter cuando apagado'],correct:3,explanation:'Mantiene aceite caliente. Sin él, refrigerante migra al aceite y causa foaming al arrancar.'},
            {category:'Controles y Componentes',q:'Head pressure control en día frío, ¿cómo mantiene presión?',options:['Calienta línea líquido','Reduce fan speed o inunda condensador','Agrega refrigerante','Bloquea succión'],correct:1,explanation:'Fan cycling, speed control, o válvula inundación mantienen presión suficiente para metering device.'},
            {category:'Controles y Componentes',q:'Thermostat mecánico vs electrónico deadband:',options:['Electrónico más amplio','Ambos ±1°F','Mecánico más amplio (±2-3°F), electrónico estrecho (±0.5-1°F)','Igual'],correct:2,explanation:'Mecánico=bimetal, menos preciso. Electrónico=termistor, más preciso. Menor deadband=más confort pero más cycling.'},
            {category:'Instalación',q:'Mini-split: largo máximo típico de líneas refrigerante:',options:['25 ft','75-100 ft según fabricante','50 ft','150 ft sin restricción'],correct:1,explanation:'75-100ft es típico. Varía por fabricante y modelo. Más largo=más carga adicional y posible pérdida de capacidad.'},
            {category:'Instalación',q:'¿Por qué se pone trampa de aceite en línea de succión vertical?',options:['Para acumular agua','Para asegurar retorno de aceite al compresor en subidas','Solo es estético','Para reducir ruido'],correct:1,explanation:'Cada 15-20ft vertical. Sin trampa, aceite se acumula abajo y compresor pierde lubricación.'},
            {category:'Instalación',q:'Presión prueba sistema nuevo R-410A con nitrógeno:',options:['300 PSI','Presión ecualización','500-600 PSI','150 PSI'],correct:2,explanation:'R-410A más alto que R-22 (300 PSI). NUNCA usar refrigerante o aire comprimido para prueba.'},
            {category:'Instalación',q:'Velocidad aire máxima en ducto principal residencial:',options:['1,200 FPM','900 FPM','600 FPM','1,500 FPM'],correct:1,explanation:'900 FPM máx principal. Ramales 600 FPM. Retorno 700 FPM. Más=ruido y alta presión estática.'},
            {category:'Instalación',q:'Pendiente mínima drenaje condensado por gravedad:',options:['1" por pie','1/8" por pie','1/2" por pie','1/4" por pie'],correct:3,explanation:'1/4"/ft=2% pendiente. Menos=estancamiento y crecimiento biológico.'},
            {category:'Instalación',q:'¿Por qué trampa P en drenaje de evaporador en supply plenum?',options:['Prevenir olores','Presión negativa del blower impide drenaje sin trampa','Requerimiento sin función real','Prevenir insectos'],correct:1,explanation:'Blower crea presión negativa. Sin trampa P, succión impide caída de agua por gravedad.'},
            {category:'Instalación',q:'Tamaño retorno para 1,200 CFM sin exceder 500 FPM:',options:['Calcular para no exceder velocidad máxima en grilla','Mín 20"×20" siempre','No hay mínimo','CFM÷200'],correct:0,explanation:'Área=CFM÷FPM=1,200÷400=3 ft². Área libre de grilla menor que tamaño total por aletas.'},
            {category:'Instalación',q:'Al hacer flare en tubo 3/8": ¿cuánto debe sobresalir del block?',options:['La herramienta determina automáticamente','Al ras exacto','1/4" arriba','1/8" arriba'],correct:0,explanation:'Herramienta moderna con dado determina longitud. Demasiado=grueso/rajado. Poco=delgado/fuga.'},
            {category:'Instalación',q:'Distancia mínima condensador a pared:',options:['12"','18"','6"','24"'],correct:1,explanation:'18-24" para flujo aire. Menos=recirculación aire caliente. Verificar manual fabricante.'},
            {category:'Instalación',q:'Línea de succión: ¿siempre aislar?',options:['Solo línea de líquido se aísla','Sí siempre','No necesita aislamiento','Solo si pasa por ático'],correct:1,explanation:'Línea succión SIEMPRE se aísla. Línea líquido solo en áreas calientes (ático, sol directo).'},
            {category:'Mantenimiento',q:'Secuencia correcta mantenimiento verano:',options:['Presiones→SH→limpiar condensador','Thermostat→amperaje→cobrar','Limpiar condensador→presiones→SH/SC','Presiones primero siempre'],correct:2,explanation:'SIEMPRE limpiar condensador ANTES de medir. Condensador sucio altera todas las lecturas.'},
            {category:'Mantenimiento',q:'¿Cada cuánto cambiar filtro 1" con mascotas?',options:['60 días','90 días','30 días','Depende de presión estática medida'],correct:3,explanation:'MEDIR presión estática. No hay intervalo universal. Con mascotas puede ser cada 2 semanas.'},
            {category:'Mantenimiento',q:'Dirección aplicar coil cleaner en evaporador:',options:['Contraria al flujo de aire','Misma dirección flujo aire','No importa','Arriba hacia abajo'],correct:0,explanation:'CONTRA el flujo empuja suciedad hacia afuera. Con el flujo la empuja adentro.'},
            {category:'Mantenimiento',q:'Capacitor 38µF marcado 40µF ±6%. ¿En spec?',options:['Sí, dentro del ±6%','No, más del 5% bajo','Sí, monitorear','No, menos de 40 es malo'],correct:0,explanation:'40×0.06=2.4. Rango 37.6-42.4. 38µF>37.6=dentro de spec (apenas).'},
            {category:'Mantenimiento',q:'Blower motor 7.2A, placa FLA 7.5A. ¿Aceptable?',options:['Blower no tiene FLA','No, muy cerca del máximo','Sí, dentro de FLA','Necesitas voltaje también'],correct:2,explanation:'7.2<7.5 FLA=aceptable. Alto pero OK. Verificar blower limpio y ductos sin restricción.'},
            {category:'Mantenimiento',q:'Verificar carga con TXV: ¿qué método?',options:['Solo SH','SH y SC','Solo presiones','Solo SC'],correct:3,explanation:'TXV controla SH automáticamente. SC es método principal para verificar carga con TXV.'},
            {category:'Mantenimiento',q:'Verificar carga con pistón/capilar:',options:['SH y SC','Solo SC','Solo presiones','Solo SH'],correct:3,explanation:'Dispositivo fijo: SH varía con carga. SH es método principal.'},
            {category:'Mantenimiento',q:'HP modo calefacción: ¿dónde medir SH?',options:['Succión evaporador interior','Succión serpentín exterior (evaporador en calef)','No se mide en calef','Línea líquido'],correct:1,explanation:'En calef, exterior=evaporador. SH en línea que sale del exterior hacia compresor.'},
            {category:'Diagnóstico',q:'HP entra defrost pero sale después de 30 seg sin completar. ¿Causa?',options:['Válvula reversible atorada','Timer defrost mal configurado','Defrost termination sensor defectuoso o mal ubicado','Normal si no hay escarcha'],correct:2,explanation:'Si termina prematuramente, el sensor de terminación puede estar diciendo que ya está caliente cuando no lo está. Sensor desplazado, abierto, o corto.'},
            {category:'Diagnóstico',q:'Furnace 2-stage: primera etapa calienta bien, segunda no enciende. Thermostat pide W2. ¿Verificar?',options:['Reemplazar válvula gas completa','Board defectuoso siempre','Thermostat incompatible','24V en terminal W2 del board→si hay V, verificar válvula gas segunda etapa'],correct:3,explanation:'Rastrea la señal: ¿thermostat envía W2? ¿Board recibe y envía 24V? ¿Válvula tiene 24V en el solenoide de 2da etapa? Diagnostica el circuito, no reemplaces a ciegas.'},
            {category:'Diagnóstico',q:'Sistema enfría bien de noche pero no alcanza setpoint de día (95°F exterior). ¿El sistema está mal?',options:['No necesariamente: verifique si el equipo está dimensionado para temperaturas extremas','Agregar un segundo sistema','Siempre es bajo refrigerante','Sí, debería enfriar en cualquier condición'],correct:0,explanation:'Los sistemas se dimensionan para la temperatura de diseño local (ej: 100°F en muchas áreas). A temperaturas extremas pueden no satisfacer. Verifica: ¿tamaño correcto según Manual J? ¿lecturas normales? Si todo OK, el sistema funciona correctamente pero el día es extremo.'},
            {category:'Diagnóstico',q:'AC arranca y para cada 2-3 minutos (short cycling). Presiones no se estabilizan. ¿Causa?',options:['Filtro nuevo instalado ayer','Sistema sobrecargado','Todas pueden causar short cycling','Thermostat demasiado cerca de un registro de suministro'],correct:2,explanation:'Short cycling: thermostat mal ubicado (satisface rápido con aire frío directo), sobrecarga (presostato alta cicla), o incluso filtro restrictivo. También: bajo ref (presostato baja cicla), contactor malo, o overload intermitente. Diagnostica la causa específica.'},
            {category:'Diagnóstico',q:'Agua sale por el plenum de suministro. No por el drain pan. ¿Causa?',options:['Fuga de agua de plomería','Condensado normal','Drain pan rajado','Evaporador congelado que se está derritiendo desbordando el pan'],correct:3,explanation:'Si hay más agua de la que el pan y drain pueden manejar, es porque se acumuló hielo y ahora se derrite. Encuentra la causa del congelamiento: bajo ref, bajo flujo aire, o TXV stuck.'},
            {category:'Diagnóstico',q:'Un compresor tiene aceite oscuro con olor ácido cuando lo drenas. ¿Qué indica?',options:['Burn-out previo o degradación severa del aceite por humedad/ácidos','Solo necesita cambio de aceite','El aceite es de tipo diferente','Aceite normal después de muchos años'],correct:0,explanation:'Aceite oscuro+ácido=degradación química por humedad, sobrecalentamiento, o burn-out previo. El sistema está contaminado. Requiere: flush, filtro drier oversize, nuevo aceite, y triple evacuación.'},
            {category:'Diagnóstico',q:'Un sistema R-410A pierde 2 lbs de refrigerante por año. ¿Es aceptable?',options:['Depende del tamaño del sistema','Solo es problema si pierde más de 5 lbs/año','Sí, los sistemas pierden refrigerante naturalmente','No, los sistemas herméticos no pierden refrigerante; hay fuga'],correct:3,explanation:'Un sistema hermético NO pierde refrigerante. Cualquier pérdida=fuga. \'Topping off\' anualmente sin buscar fuga es mala práctica y puede violar regulaciones EPA. Encuentra y repara la fuga.'},
            {category:'Diagnóstico',q:'Instalaste un compresor nuevo pero el sistema no enfría. Presión descarga baja, succión alta. ¿Qué olvidaste?',options:['Cargar refrigerante','Agregar aceite','Cambiar el filtro drier','Verificar rotación del compresor (trifásico puede girar al revés)'],correct:3,explanation:'En trifásico, 50% de probabilidad de rotación incorrecta. Scroll al revés=no comprime, presiones no se separan, descarga baja, succión alta. Intercambia 2 fases para corregir.'},
            {category:'Diagnóstico',q:'Un condensador tiene un fan con aspas al revés (alguien lo reinstalò mal). ¿Efecto?',options:['Empuja aire al revés: hacia abajo en vez de hacia arriba, matando la eficiencia del condensador','Sin efecto notable','Gira más rápido','Solo hace más ruido'],correct:0,explanation:'Fan del condensador debe jalar aire a TRAVÉS del serpentín y expulsar arriba. Con aspas al revés, el flujo es ineficiente o invertido. La presión de descarga sube dramáticamente y el compresor se sobrecarga.'},
            {category:'Refrigerantes',q:'R-134a se usa en qué aplicación principal?',options:['Refrigeración comercial','Solo chillers','Residencial AC','Automotriz AC y refrigeración media temperatura'],correct:3,explanation:'R-134a: AC automotriz y refrigeración de media temperatura (coolers comerciales). Opera a presiones más bajas que R-410A. No se usa en AC residencial.'},
            {category:'Refrigerantes',q:'¿Qué es el GWP y por qué importa?',options:['Global Warming Potential: impacto en calentamiento global relativo a CO2','General Warranty Period del equipo','Gas Weight Per unit','Gas Working Pressure, presión de trabajo'],correct:0,explanation:'GWP mide cuánto contribuye al calentamiento global vs CO2 (GWP=1). R-410A GWP=2,088 significa 2,088 veces peor que CO2. Regulaciones AIM Act reducen uso de refrigerantes con alto GWP.'},
            {category:'Refrigerantes',q:'Un sistema tiene mezcla de R-22 y aire. ¿Cómo lo detectas?',options:['Solo con análisis de laboratorio','Presiones de descarga más altas de lo normal con subcooling bajo y burbujas en sight glass','No se puede detectar','El refrigerante cambia de color'],correct:1,explanation:'Aire=no condensable. Se acumula en el tope del condensador, elevando presión de descarga pero sin aportar capacidad de enfriamiento. SC puede ser bajo o variable. La solución es recuperar TODO y recargar después de evacuar.'},
            {category:'Refrigerantes',q:'¿Qué es el \'glide\' de temperatura en R-407C y cuánto es?',options:['8-9°F','5°F','15°F','2°F'],correct:0,explanation:'R-407C tiene ~8-9°F de glide. Comienza a evaporar a una temp y termina a otra. Usa \'dew point\' para SH y \'bubble point\' para SC. R-410A tiene <0.5°F glide (near-azeotropic).'},
            {category:'Refrigerantes',q:'¿Cuántas veces puedes reciclar refrigerante recuperado antes de que necesite reclamación?',options:['No hay límite si lo filtras y secas tú mismo','Tres veces','Solo instalaciones certificadas pueden reciclar','Una vez'],correct:0,explanation:'Reciclar (filtrar+secar con equipo certificado) puedes hacerlo múltiples veces para reusar en el mismo equipo o del mismo propietario. Reclamación (llevarlo a estándar ARI-700 como nuevo) requiere envío a instalación certificada.'},
            {category:'Refrigerantes',q:'¿Cuál es la diferencia entre recuperar, reciclar, y reclamar refrigerante?',options:['Recuperar=sacar del sistema; Reciclar=filtrar/secar; Reclamar=llevar a estándar de nuevo','No hay diferencia legal','Recuperar=llevar a estándar; Reciclar=reusar; Reclamar=destruir','Son lo mismo'],correct:0,explanation:'Recuperar: retirar y almacenar sin procesar. Reciclar: pasar por filtro y secador para reusar. Reclamar: procesar en instalación certificada hasta cumplir ARI-700 (como nuevo). Cada término tiene definición legal EPA específica.'},
            {category:'Diagnóstico Avanzado',q:'Un sistema tiene aire (no condensable) en el circuito. ¿Síntomas?',options:['Presión descarga más alta de lo normal, SH normal, SC errático','Ambas presiones bajas','Presión succión baja, SH alto','Presiones normales pero no enfría'],correct:0,explanation:'Aire se acumula en condensador elevando descarga. SH puede ser normal si carga OK. SC errático porque aire no condensa. Solución: recuperar todo, evacuar, y recargar.'},
            {category:'Diagnóstico Avanzado',q:'¿Cómo sabes si un sistema tiene humedad internamente sin abrir?',options:['Midiendo la presión','No se puede saber sin abrir','Por el color del refrigerante','Indicador de humedad en sight glass cambia de color (verde=seco, amarillo=húmedo)'],correct:3,explanation:'Sight glass con indicador: verde=seco/OK, amarillo=humedad. También: acid test del aceite, presiones erráticas, o válvulas de expansión que se congelan por cristales de hielo.'},
            {category:'Diagnóstico Avanzado',q:'Un compresor nuevo falla después de 6 meses en un sistema donde reemplazaste el anterior por burn-out. ¿Por qué?',options:['El refrigerante era incompatible','El sistema no fue limpiado correctamente; ácidos residuales dañaron el nuevo compresor','El compresor era de tamaño incorrecto','Mala suerte, defecto de fábrica'],correct:1,explanation:'Burn-out contamina todo el sistema con ácido. Si no haces flush de líneas, cambio de filtro drier oversize, y triple evacuación, los ácidos residuales destruyen el compresor nuevo en meses. Es la causa #1 de falla prematura post-reemplazo.'},
            {category:'Sistemas',q:'¿Cuál es la diferencia entre un sistema split y un sistema packaged?',options:['Split es más eficiente siempre','Split tiene componentes separados interior/exterior; packaged todo en una unidad','Packaged solo existe en comercial','Split no puede tener calefacción'],correct:1,explanation:'Split: condensador exterior + evaporador/air handler interior, conectados por líneas de refrigerante. Packaged: todo en una unidad (típicamente en el techo o junto a la casa). Packaged es más fácil de instalar pero menos eficiente generalmente.'},
            {category:'Sistemas',q:'Un sistema ductless mini-split multi-zone tiene 1 condensador exterior y 4 evaporadores interiores. ¿Cada zona puede estar a diferente temperatura?',options:['Solo en modo enfriamiento','Solo 2 temperaturas diferentes','Sí, cada evaporador tiene su propio thermostat y control independiente','No, todas las zonas tienen la misma temperatura'],correct:2,explanation:'Cada evaporador tiene su control. El condensador modula su capacidad para satisfacer la demanda combinada. Pero nota: un multi-zone básico NO puede calentar una zona mientras enfría otra (para eso necesitas VRF/heat recovery).'},
            {category:'Sistemas',q:'Un geothermal heat pump usa qué como fuente de calor/disipación?',options:['Agua subterránea o tierra a través de loop enterrado','Aire exterior','Energía solar','Gas natural'],correct:0,explanation:'Geothermal usa la temperatura estable del subsuelo (~55°F en muchas áreas). Más eficiente que air-source HP porque la temp del suelo es más estable que el aire. COP 3.5-5.0 vs 2.0-3.5 de air-source.'},
            {category:'Sistemas',q:'Un dual duct system tiene dos ductos separados: uno con aire caliente y otro con aire frío. ¿Cómo se controla la temperatura de cada zona?',options:['Cada zona apaga/enciende su sistema','Una caja de mezcla en cada zona combina aire caliente y frío según el thermostat','Solo usa un ducto a la vez','El thermostat selecciona un ducto u otro'],correct:1,explanation:'La mixing box en cada zona tiene dampers que mezclan proporcionalmente aire caliente y frío para lograr la temperatura deseada. Es un sistema comercial costoso pero con excelente control por zona.'},
            {category:'Sistemas',q:'Un VAV (Variable Air Volume) box controla la temperatura de zona ¿cómo?',options:['Encendiendo/apagando el AC','Variando el VOLUMEN de aire que entra a la zona con un damper modulante','Cambiando la velocidad del compresor','Variando la temperatura del aire'],correct:1,explanation:'VAV varía la cantidad de aire, no la temperatura. Más aire=más enfriamiento, menos aire=menos enfriamiento. El damper se modula según el thermostat de la zona. A diferencia de VVT donde se varía la temperatura.'},
            {category:'Electricidad',q:'Un VFD muestra error \'ground fault\' al arrancar el motor. ¿Verificar?',options:['Cambiar los fusibles','Subir el voltaje','Reemplazar VFD inmediatamente','Medir resistencia de aislamiento del motor y cables con megger'],correct:3,explanation:'Ground fault=fuga de corriente a tierra. Antes de culpar al VFD: megger el motor (puede tener aislamiento dañado) y verificar cables por daño. Si motor OK→verificar VFD.'},
            {category:'Electricidad',q:'¿Por qué un VFD genera armónicos y por qué importa?',options:['No genera armónicos','La inversión DC→AC crea frecuencias no fundamentales que distorsionan la red eléctrica','Armónicos mejoran la eficiencia','Solo importa para motores grandes'],correct:1,explanation:'El proceso PWM del VFD crea armónicos que pueden causar calentamiento en transformadores, interferencia en electrónica sensible, y penalizaciones de la compañía eléctrica. Filtros de armónicos pueden ser necesarios.'},
            {category:'Electricidad',q:'Un relay tipo ICM (time delay) tiene terminales 1-6. ¿Cuáles controlan el delay y cuáles la carga?',options:['Todos son intercambiables','1-2=bobina/control, 3-4=NC, 5-6=NO (típico)','Los pares se determinan por color del cable','No tiene terminales estándar'],correct:1,explanation:'Configuración típica: terminales 1-2 para bobina/señal de control. 3-4 son contactos NC (cerrados sin energía). 5-6 son contactos NO (abiertos sin energía). Siempre verifica el diagrama del relay específico.'},
            {category:'Electricidad',q:'Un transformador 24V tiene salida de 28V sin carga. Cuando conectas la carga, baja a 23V. ¿Problema?',options:['Normal, el voltaje baja con carga','El transformador está subdimensionado para la carga total','28V sin carga es demasiado alto','La carga es demasiado baja'],correct:1,explanation:'Una caída de 5V (28→23V) es excesiva. Indica que el transformador no tiene suficiente VA para la carga total. Solución: reemplazar con uno de mayor VA o reducir la carga del circuito de control. 23V es marginal para operar contactores.'},
            {category:'Electricidad',q:'¿Qué mide un amperímetro de gancho en modo \'inrush\' vs modo normal?',options:['Inrush captura el pico de corriente de arranque; normal lee RMS continuo','Inrush es más lento que normal','Inrush mide solo DC, normal solo AC','Lo mismo, no hay diferencia'],correct:0,explanation:'Modo inrush captura el pico máximo de corriente durante el arranque (~primeros 100ms). Modo normal mide el valor RMS estabilizado. Usar inrush para verificar LRA y normal para verificar RLA/FLA.'},
            {category:'Mini-Split/Ductless',q:'Un mini-split muestra \'P4\' error (protección por alta presión descarga). ¿Verificar?',options:['Solo resetear y seguir','Reemplazar tarjeta control','Refrigerante bajo','Condensador sucio, fan exterior, flujo aire exterior, y posible sobrecarga ref'],correct:3,explanation:'P4=alta presión=condensador sucio, fan no gira o gira lento, obstrucción aire exterior, o exceso de refrigerante. Limpiar condensador primero. Si persiste verificar fan y carga.'},
            {category:'Mini-Split/Ductless',q:'¿Cuál es la temperatura mínima de operación en modo calefacción para un mini-split estándar?',options:['32°F','-5°F a 5°F','-15°F a -22°F (hyper heat)','15°F'],correct:1,explanation:'Mini-splits estándar operan en calefacción hasta -5°F a 5°F exterior. Modelos \'hyper heat\' o \'cold climate\' llegan a -15°F a -22°F. Debajo del límite, la capacidad cae drásticamente.'},
            {category:'Mini-Split/Ductless',q:'Un mini-split pierde capacidad de calefacción conforme baja la temp exterior. A 17°F exterior produce ~60% de capacidad nominal. ¿Es defecto?',options:['Sí, debería mantener 100%','Solo si pierde más del 50%','No, es normal: la capacidad del HP disminuye con la temperatura exterior','Es defecto de instalación'],correct:2,explanation:'Es inherente al ciclo de refrigeración: menos calor disponible en el aire frío para absorber. A 17°F un HP convencional pierde ~40% de capacidad. Los inverter compensan parcialmente subiendo frecuencia del compresor.'},
            {category:'Mini-Split/Ductless',q:'¿Por qué los mini-splits inverter son más eficientes que los sistemas on/off convencionales?',options:['Tienen mejor refrigerante','Son más pequeños','Modulan velocidad del compresor para igualar la carga, evitando cycling on/off','Usan menos refrigerante'],correct:2,explanation:'Inverter=velocidad variable. Iguala la capacidad a la carga térmica. Evita: pérdidas por arranque, overcooling, y cycling. Opera la mayoría del tiempo a capacidad parcial eficiente en vez de ON/OFF.'},
            {category:'Mini-Split/Ductless',q:'Una unidad interior de mini-split tiene los filtros tapados. ¿Qué pasa con el sistema?',options:['Nada, solo menos flujo aire','Evaporador puede congelar, presión succión baja, eficiencia cae','La unidad exterior se protege automáticamente','Solo afecta la calidad del aire'],correct:1,explanation:'Filtros tapados=menos aire sobre evaporador=evaporador más frío=posible congelamiento+presión succión baja+SH bajo+compresor puede recibir líquido. La unidad exterior puede entrar en protección eventualmente pero el daño ya se hizo.'},
            {category:'Calefacción',q:'Un furnace modulating (modulante) varía su BTU input de 40% a 100%. ¿Ventaja sobre 2-stage?',options:['Solo es más silencioso','Confort superior: iguala capacidad a carga térmica, menos cycling, temperatura más uniforme','Solo es más caro sin ventaja','Solo ahorra 1% más de energía'],correct:1,explanation:'Modulante ajusta continuamente. En un día templado opera al 45% continuamente vs un 2-stage que cicla entre off y low. Resultado: temperatura más uniforme, mejor deshumidificación, menos ruido, y mayor eficiencia en carga parcial.'},
            {category:'Calefacción',q:'Un furnace de condensación produce ~3.5 galones de condensado por cada 100,000 BTU quemados. ¿A dónde va?',options:['Se drena a un desagüe o bomba de condensado','Se almacena en un tanque interno','Se recircula al sistema','Se evapora automáticamente'],correct:0,explanation:'El condensado (ácido, pH 3-4) debe drenarse: por gravedad a un floor drain, a una bomba de condensado si no hay drain cercano, o a un neutralizador primero si el código lo requiere. NUNCA dejarlo acumular.'},
            {category:'Calefacción',q:'¿Cuál es el propósito del \'inducer motor\' en un furnace?',options:['Circular aire de combustión fresco','Activar el ignitor','Crear draft negativo para jalar gases de combustión a través del intercambiador y al flue','Empujar aire caliente a los ductos'],correct:2,explanation:'El inducer crea draft negativo que jala gases de combustión por el heat exchanger y los expulsa por el vent. Es el PRIMER componente que arranca en la secuencia. El pressure switch verifica que el inducer esté creando suficiente draft antes de permitir ignición.'},
            {category:'Calefacción',q:'Secuencia de operación furnace: ¿cuál es el orden correcto?',options:['Thermostat→Inducer→Pressure Switch→Ignitor→Gas→Flame Sense→Blower','Thermostat→Ignitor→Gas→Inducer→Blower→Pressure Switch','Thermostat→Blower→Inducer→Ignitor→Gas','Thermostat→Gas→Ignitor→Inducer→Blower'],correct:0,explanation:'Orden: 1)Thermostat llama, 2)Inducer arranca, 3)Pressure switch verifica draft, 4)Ignitor se calienta, 5)Gas valve abre, 6)Flame sensor confirma llama, 7)Blower arranca después de delay.'},
            {category:'Calefacción',q:'Un furnace de 80% AFUE tiene intercambiador rajado. ¿Cuál es el peligro principal?',options:['Monóxido de carbono (CO) puede entrar al flujo de aire de la casa','Pierde eficiencia','Usa más gas','Hace más ruido'],correct:0,explanation:'Rajadura permite que gases de combustión (incluyendo CO) entren al supply air stream y se distribuyan por toda la casa. CO es inodoro, incoloro, y mortal. Esto es una EMERGENCIA. Apagar inmediatamente.'},
            {category:'Calefacción',q:'¿Cómo verificas un intercambiador de calor por rajaduras?',options:['Solo inspección visual es suficiente','Medir la temperatura del flue','Visual + cámara de inspección + test de llama (observar movimiento con blower on/off) + detector CO','Solo con detector de humo'],correct:2,explanation:'Inspección visual puede fallar porque rajaduras pueden estar en áreas no visibles. Métodos: inspección visual con espejo/cámara, observar la llama con blower encendido (rajadura causa movimiento), detector CO en supply air, y spray químico en área sospechosa.'},
            {category:'Controles y Componentes',q:'Un sistema BACnet en un edificio comercial tiene un controlador que no responde en la red. ¿Verificar primero?',options:['Llamar al fabricante','Reiniciar todo el sistema BMS','Verificar dirección IP/MAC, cableado de red, y que el controlador tenga power','Reemplazar controlador'],correct:2,explanation:'Comunicación perdida: 1)¿Tiene power? 2)¿Cable de red conectado y sin daño? 3)¿Dirección de red correcta y sin conflictos? 4)¿Switch de red funcional? Lo más común es problema de cableado o configuración, no controlador muerto.'},
            {category:'Controles y Componentes',q:'Un sensor de CO2 en un sistema DCV (Demand Control Ventilation) lee 1,200 PPM. ¿Qué significa?',options:['Nivel alto: indica insuficiente ventilación de aire fresco','El sensor está mal calibrado','Nivel normal de oficina','Peligro inmediato de asfixia'],correct:0,explanation:'ASHRAE recomienda mantener CO2 debajo de 1,000 PPM. 1,200 PPM indica que no hay suficiente aire fresco. El sistema DCV debería abrir dampers de aire exterior. A 5,000 PPM es el límite OSHA. 1,200 no es peligroso pero indica confort reducido.'},
            {category:'Controles y Componentes',q:'Un thermostat Modbus envía señal de 0-10V al VAV box. A 5V, ¿qué posición tiene el damper?',options:['Cerrado','100%','50%','25%'],correct:2,explanation:'0V=0% (cerrado), 10V=100% (abierto). 5V=50%. Escala lineal. Modbus es un protocolo de comunicación, pero la señal analógica 0-10V es la que controla físicamente el actuador del damper.'},
            {category:'Diagnóstico',q:'Sistema R-410A: SH=20°F con TXV. ¿Esto es normal o hay problema?',options:['Normal en cualquier sistema','Solo alto si SC también es alto','Normal con TXV','Alto: TXV restringida, bajo ref, o bulbo mal instalado'],correct:3,explanation:'Con TXV, SH debe ser 5-10°F. 20°F es demasiado alto. Causas: TXV restringida/stuck, bulbo perdió carga, bulbo mal ubicado, bajo refrigerante (aunque con TXV el SC es mejor indicador de carga).'},
            {category:'Diagnóstico',q:'Un compresor scroll tiene descarga a 180°F (R-410A). ¿Aceptable?',options:['Necesitas más datos','No, demasiado frío','Sí, normal','Sí, 180°F está debajo del máximo ~225°F'],correct:3,explanation:'Max recomendado ~225°F para R-410A. 180°F es perfectamente aceptable. Si fuera 250°F+ sería preocupante: bajo ref, restricción, o retorno gas caliente insuficiente.'},
            {category:'Diagnóstico',q:'Después de agregar refrigerante a un sistema con TXV, ¿cuánto tiempo esperas para tomar lecturas estables?',options:['10-15 minutos mínimo','Inmediatamente','30+ minutos','2-3 minutos'],correct:0,explanation:'Sistemas con TXV tardan más en estabilizar porque la TXV ajusta gradualmente. Espera mínimo 10-15 min después de agregar antes de tomar lecturas finales. Agregar de prisa sin esperar→sobrecarga.'},
            {category:'Diagnóstico',q:'Un sistema tiene SH normal pero SC de 0°F (cero). ¿Qué indica?',options:['Flash gas en línea de líquido: restricción, bajo ref, o línea demasiado caliente','SC de 0 es imposible','Sistema perfectamente cargado','Error de medición seguro'],correct:0,explanation:'SC=0 significa que la temp de línea de líquido iguala la temp de saturación: el refrigerante está justo en el punto de saturación con posible flash gas. Causas: bajo ref, restricción parcial antes del punto de medición, línea de líquido ganando demasiado calor.'},
            {category:'Diagnóstico',q:'¿Cuál es el approach del condensador y cuál es un valor normal?',options:['Approach=Temp líquido - Temp ambiente; normal 10-20°F','Approach=Temp descarga - Temp condensación; normal 50-100°F','Approach no se usa en AC','Approach=Temp condensación - Temp ambiente; normal 15-30°F'],correct:3,explanation:'Approach del condensador=Temp condensación - Temp aire entrando al condensador. Normal: 15-30°F. Más alto=condensador sucio/ineficiente. Este es diferente al approach de torre de enfriamiento.'},
            {category:'Diagnóstico',q:'Un furnace modulating opera al 45% de capacidad. El delta T del aire es 28°F. ¿Normal?',options:['Delta T no importa en modulante','No, delta T debería ser 18-22°F siempre','Puede ser normal: a baja capacidad con mismo CFM, delta T es menor. Pero si el blower también modula, delta T puede ser similar','Sí, 28°F es normal para modulante'],correct:1,explanation:'A 45% de capacidad con blower a velocidad completa, delta T debería ser MENOR (proporcionalmente). 28°F sugiere flujo de aire bajo. Pero muchos modulantes también reducen velocidad del blower, manteniendo delta T en rango normal de 18-22°F. 28°F es alto en cualquier caso.'},
            {category:'Diagnóstico',q:'Un refrigerador comercial con R-404A muestra presión de succión de 22 PSIG y el cuarto está a 38°F. ¿La presión es correcta?',options:['No, la presión es demasiado alta','No se puede determinar sin subcooling','Sí, 22 PSIG corresponde a ~24°F de evaporación, un TD de 14°F es normal para cooler','No, la presión es demasiado baja'],correct:2,explanation:'R-404A a 22 PSIG≈24°F. TD=38-24=14°F. Para walk-in cooler, TD de 10-15°F es normal. Esto está dentro del rango aceptable.'},
            {category:'Diagnóstico',q:'Mides voltaje trifásico: L1=468V, L2=472V, L3=460V. Motor es de 460V. ¿Aceptable?',options:['No, 472V es peligrosamente alto','No, 460V es demasiado bajo','Necesitas medir con motor apagado','Sí, todas dentro de ±10% del nominal y desbalanceo <2%'],correct:3,explanation:'Promedio=466.7V (±10% de 460 = 414-506V, todo OK). Desbalanceo: max dev=6V. (6/466.7)×100=1.3% (<2% NEMA). Aceptable.'},
            {category:'Diagnóstico',q:'Un compresor scroll de HP en modo calefacción tiene descarga a 240°F. ¿Es preocupante?',options:['240°F es perfectamente normal','No importa la temperatura de descarga','Sí, apagar inmediatamente antes de daño','No, pero está acercándose al límite de 225°F - monitorear y buscar causa'],correct:1,explanation:'225°F es el máximo recomendado para R-410A. A 240°F ya está excedido. Causas: bajo refrigerante en modo calefacción (exterior frío=menos absorción), restricción, o baja carga de calor en interior. Debe atenderse pero no es emergencia inmediata si es momentáneo.'},
            {category:'Electricidad',q:'Un thermostat llama por Y (enfriamiento) pero el compresor no arranca. Mides 24V en Y del board y 24V llegando al contactor. ¿El circuito de control está bien?',options:['No puedes saberlo sin medir amperaje','El problema es del thermostat','No, necesitas verificar que el contactor cierre','Sí, si hay 24V en el contactor, el circuito de control funciona - el problema está en power o contactor'],correct:3,explanation:'24V desde thermostat→board→contactor significa que el circuito de control funciona correctamente. Si el contactor tiene 24V pero no cierra: bobina del contactor mala, contactor mecánicamente trabado, o voltaje insuficiente (<20V efectivos por caída).'},
            {category:'Electricidad',q:'Un control board tiene LED rápido parpadeando. Manual dice: \'rapid flash = reversed polarity\'. ¿Qué significa?',options:['Las líneas de refrigerante están cruzadas','Los cables de alta tensión (L1/L2) están invertidos en el board','El thermostat tiene cables invertidos','El gas está al revés'],correct:2,explanation:'Reversed polarity en un furnace board típicamente significa que las conexiones de 120V o 240V (hot/neutral o L1/L2) están intercambiadas. Esto puede pasar después de un servicio eléctrico. Corregir la polaridad en el disconnect o panel.'},
            {category:'Válvulas y Accesorios',q:'Una TXV tiene powerhead, cuerpo, y ecualizador externo. ¿Para qué es el ecualizador externo?',options:['Compensar la caída de presión a través del evaporador para control preciso del superheat','Ecualizar presión entre succión y descarga','Conectar el manómetro de servicio','Drenar aceite del evaporador'],correct:0,explanation:'El ecualizador externo toma la presión REAL de la salida del evaporador (no la entrada). En evaporadores con caída de presión significativa, la presión de salida es menor que la de entrada. Sin ecualizador, la TXV \'piensa\' que la presión es mayor de lo real y restringe el flujo.'},
            {category:'Válvulas y Accesorios',q:'Una TXV con el bulbo amarrado en la posición de las 6 (abajo) del tubo de succión. ¿Problema?',options:['Posición correcta, el bulbo debe ir abajo','Solo importa en tubos verticales','No importa la posición del bulbo','El bulbo lee temperatura del aceite acumulado en el fondo del tubo, no del gas refrigerante'],correct:3,explanation:'El aceite viaja por el fondo del tubo de succión. A las 6, el bulbo lee la temp del aceite (más caliente) en vez del gas. Esto engaña a la TXV: piensa que el SH es alto y sobrealimenta. Posición correcta: entre las 10 y 2.'},
            {category:'Códigos y Seguridad',q:'ASHRAE 90.1 es un estándar de:',options:['Protección contra incendios','Eficiencia energética de edificios comerciales','Calidad del aire interior','Seguridad de refrigerantes'],correct:1,explanation:'ASHRAE 90.1 establece requisitos mínimos de eficiencia energética para edificios comerciales: envolvente, HVAC, iluminación, potencia eléctrica, y SWH. Es la base para muchos códigos de energía locales.'},
            {category:'Códigos y Seguridad',q:'¿Qué estándar ASHRAE cubre la calidad del aire interior y ventilación?',options:['ASHRAE 55','ASHRAE 15','ASHRAE 90.1','ASHRAE 62.1 para comercial, 62.2 para residencial'],correct:3,explanation:'62.1=ventilación comercial, 62.2=ventilación residencial. 90.1=eficiencia energética. 15=seguridad de refrigeración. 55=confort térmico.'},
            {category:'Refrigerantes',q:'R-290 (propano) tiene GWP de 3 y es altamente eficiente. ¿Por qué no se usa en AC residencial en EE.UU.?',options:['Es clasificación A3 (altamente inflamable), limitando la carga máxima y las aplicaciones','No está disponible','No es eficiente','EPA lo prohibió completamente'],correct:0,explanation:'R-290 es A3=altamente inflamable. Las restricciones de carga limitan su uso a equipos pequeños (<150g en algunos casos). Se usa en refrigeradores domésticos pequeños y algunos equipos portátiles. Para AC residencial, las cargas necesarias exceden los límites de seguridad actuales.'},
            {category:'Refrigerantes',q:'¿Qué significa \'retrofit\' de un refrigerante?',options:['Reparar el compresor','Cambiar el refrigerante de un sistema existente por uno compatible sin cambiar componentes mayores','Instalar un sistema nuevo','Cambiar el aceite'],correct:1,explanation:'Retrofit: reemplazar el refrigerante (ej: R-22 a R-407C) sin cambiar compresor ni componentes mayores. Puede requerir: cambio de aceite, ajuste de TXV, cambio de filtro drier. NO todos los refrigerantes son \'drop-in\' - muchos son \'near drop-in\' que requieren ajustes.'},
            {category:'Diagnóstico Avanzado',q:'¿Cuál es la forma más confiable de verificar la carga de un sistema cuando las condiciones exteriores no son estándar (ej: 60°F exterior)?',options:['Agregar hasta que las presiones \'se vean bien\'','Esperar un día más caliente para medir','Solo subcooling siempre funciona','Usar las tablas de charging del fabricante que ajustan por condiciones, o el método de pesaje (weighing)'],correct:3,explanation:'En condiciones no estándar, las reglas de SH/SC pueden no aplicar. Las opciones son: 1) Tablas del fabricante que cubren diferentes condiciones, 2) Cargar por peso usando la carga especificada + adicional por longitud de línea, 3) Esperar mejores condiciones. NUNCA cargar \'a ojo\'.'},
            {category:'Fórmulas y Cálculos',q:'Un sistema de 5 toneladas tiene coil de evaporador con face area de 4 sq ft. ¿Cuál es la face velocity a 2,000 CFM?',options:['No se puede calcular','800 FPM, demasiado alto','250 FPM, demasiado bajo','500 FPM, dentro del rango normal de 400-600 FPM'],correct:3,explanation:'Face velocity = CFM ÷ Face Area = 2,000 ÷ 4 = 500 FPM. El rango normal es 400-600 FPM para evaporadores residenciales. Mayor de 600=posible carryover de humedad. Menor de 300=sobredimensionado.'},
            {category:'Fórmulas y Cálculos',q:'Un furnace de 60,000 BTU output calienta una casa de 1,500 sq ft. ¿BTU por sq ft?',options:['20 BTU/sq ft','100 BTU/sq ft','40 BTU/sq ft, dentro del rango típico de 25-50 para climas templados','60 BTU/sq ft'],correct:2,explanation:'60,000÷1,500=40 BTU/sq ft. Rango típico: climas suaves 25-30, moderados 35-45, fríos 50-60. 40 es razonable. Manual J es el cálculo correcto, no BTU/sq ft, pero da una idea rápida.'},
            {category:'Electricidad',q:'Midiendo un motor monofásico: C a tierra=infinito, S a tierra=infinito, R a tierra=2 MΩ. ¿Evaluación?',options:['Todo perfecto','R tiene 2MΩ a tierra, bajo pero no cero. Aislamiento degradándose. Monitorear pero considerar reemplazo pronto','Motor está en corto a tierra','La lectura de 2MΩ es error de medición'],correct:1,explanation:'C y S OK (infinito). R a 2MΩ está por encima del mínimo de 1MΩ pero muestra degradación comparado con el infinito de C y S. El aislamiento de R está deteriorándose. Funcionará por ahora pero fallará eventualmente. Recomendación: planificar reemplazo.'},
            {category:'Electricidad',q:'Un capacitor de arranque lee 227 µF y está marcado 233-280 µF. ¿Está en spec?',options:['Depende de la edad del capacitor','Sí, suficientemente cerca','Los capacitores de arranque no tienen rango','No, 227 µF está debajo del rango mínimo de 233 µF'],correct:3,explanation:'El capacitor de arranque marca su rango aceptable: 233-280 µF. 227 es DEBAJO del mínimo. Aunque está cerca, técnicamente fuera de spec y puede causar problemas de arranque.'},
            {category:'Electricidad',q:'¿Cuál es la diferencia funcional entre un capacitor de arranque (start cap) y uno de marcha (run cap)?',options:['Start cap es más grande físicamente siempre','Run cap solo se usa en trifásico','Start cap: alta µF, solo en arranque (~1 seg), papel electrolítico. Run cap: baja µF, operación continua, aceite','Ambos funcionan igual'],correct:2,explanation:'Start cap: 100-800+ µF, solo durante arranque, tipo electrolítico, se daña si queda energizado. Run cap: 5-80 µF, operación continua, tipo aceite/film, más confiable a largo plazo. El potential relay desconecta el start cap después del arranque.'},
            {category:'Diagnóstico',q:'Un sistema tiene SH de 15°F y SC de 15°F con tubo capilar a 85°F exterior. ¿Carga correcta?',options:['No se puede determinar','Probablemente correcto: consultar tabla del fabricante para confirmar','SH muy alto, agregar refrigerante','SC muy alto, quitar refrigerante'],correct:0,explanation:'Con tubo capilar/pistón, el target de SH varía con condiciones. A 85°F exterior con cierta temp de retorno, el target podría ser 12°F o 20°F. Sin la tabla del fabricante, no puedes saber si 15°F es correcto. SC de 15°F es referencia secundaria. CONSULTA LA TABLA.'},
            {category:'Diagnóstico',q:'Un cliente se queja de olor a moho del AC. ¿Causa más probable?',options:['Ductos nuevos que huelen a adhesivo','Evaporador con crecimiento biológico (moho/bacterias) por humedad residual','Condensador exterior sucio','Refrigerante fugando'],correct:0,explanation:'El evaporador húmedo + drain pan son caldo de cultivo para moho y bacterias. La oscuridad y humedad constante facilitan el crecimiento. Solución: limpiar evaporador con biocida, limpiar drain pan, tratar con tabletas antimicrobianas, y verificar drenaje adecuado.'},
            {category:'Diagnóstico',q:'Un RTU comercial tiene 2 circuitos. Circuito 1: presiones normales. Circuito 2: ambas presiones muy altas, SH alto. ¿Dx circuito 2?',options:['Condensador sucio pero solo afecta circuito 2','Non-condensables (aire) en circuito 2','Sobrecarga de refrigerante','Bajo refrigerante'],correct:1,explanation:'Ambas presiones ALTAS con SH alto es la firma de non-condensables (aire) en el sistema. El aire eleva la presión de descarga (no condensa) y puede elevar succión. SH puede ser alto porque el aire interfiere con la transferencia de calor. No confundir con sobrecarga donde SH sería bajo.'},
            {category:'Diagnóstico',q:'Una bomba de calor no calienta. Verificas: válvula reversible tiene 24V en la bobina del solenoide. ¿La válvula debería haber cambiado?',options:['Depende del fabricante: algunos energizan para calefacción','24V no tiene relación con la válvula reversible','No, 24V=enfriamiento siempre','Sí siempre, 24V=calefacción en todos los sistemas'],correct:1,explanation:'La MAYORÍA de fabricantes energizan la válvula para calefacción (de-energized=enfriamiento como default). Pero ALGUNOS hacen lo contrario. Verificar el diagrama eléctrico del modelo específico. Si la válvula tiene 24V y no cambia: solenoide débil, válvula mecánicamente stuck, o slide atascado.'},
            {category:'Sistemas',q:'Un chiller centrifugo tiene \'surge\'. ¿Qué es?',options:['Inestabilidad aerodinámica donde el flujo de refrigerante se invierte momentáneamente en el impeller','Exceso de lubricante','Vibración normal del compresor','Una descarga eléctrica'],correct:1,explanation:'Surge en un chiller centrifugo: el flujo de gas momentáneamente se invierte por presión de descarga excesiva vs la capacidad del impeller. Causa vibración violenta, ruido fuerte, y puede dañar bearings. Se previene no operar debajo del mínimo de carga o con presión excesiva.'},
            {category:'Sistemas',q:'Un sistema VRF con heat recovery puede:',options:['Calentar unas zonas y enfriar otras SIMULTÁNEAMENTE','Solo calentar todas las zonas','Solo enfriar todas las zonas','Alternar entre calefacción y enfriamiento pero no simultáneamente'],correct:3,explanation:'VRF heat recovery: calentar y enfriar simultáneamente. El calor rechazado por las zonas en enfriamiento se usa para las zonas en calefacción. Máxima eficiencia cuando hay demanda mixta. Un VRF sin heat recovery solo puede hacer un modo a la vez.'},
            {category:'Sistemas',q:'¿Cuál es la eficiencia máxima teórica de un heat pump comparado con un calefactor de resistencia eléctrica?',options:['10x más eficiente','El HP puede ser 3-5x más eficiente (COP 3-5) porque MUEVE calor en vez de generarlo','2x más eficiente','Igual, ambos tienen COP máximo de 1'],correct:0,explanation:'Un heat strip tiene COP=1 (1 BTU de electricidad = 1 BTU de calor). Un HP MUEVE calor del exterior al interior, generando 3-5 BTU de calor por cada 1 BTU de electricidad. Esto es posible porque no genera calor desde cero, lo transporta.'},
            {category:'Sistemas',q:'Un sistema geothermal de loop cerrado tiene 300 ft de loop vertical. La temperatura del agua en el loop es 45°F en invierno. ¿El HP puede operar eficientemente?',options:['No, 45°F es demasiado frío','Depende del tipo de HP','Solo con calefacción auxiliar','Sí, geothermal opera eficientemente con agua a 30-90°F dependiendo del equipo'],correct:3,explanation:'Geothermal HPs están diseñados para operar con temperaturas de agua de 30-90°F. A 45°F, el COP puede ser 3.5-4.0, mucho mejor que un air-source HP con aire a 20°F. La estabilidad de la temperatura del subsuelo es la gran ventaja.'},
            {category:'Fórmulas y Cálculos',q:'Un sistema tiene fuga. Pierde 3 lbs/año de un cargo de 12 lbs. ¿Cuál es la tasa de fuga anual?',options:['36%','25%','12%','33%'],correct:3,explanation:'Tasa=(3/12)×100=25%. Espera — ¿o es la otra fórmula? No: Tasa de fuga = refrigerante perdido ÷ carga total × 100 = 3÷12×100 = 25%. Hmm, verifiquemos: 3/12 = 0.25 = 25%. La respuesta es 25%.'},
            {category:'Fórmulas y Cálculos',q:'Usando Ley de Ohm: R=8Ω, I=3A. ¿Voltaje?',options:['20V','24V','16V','11V'],correct:1,explanation:'V=I×R=3×8=24V.'},
            {category:'Fórmulas y Cálculos',q:'Watts = V²/R. Voltaje=120V, R=10Ω. ¿Watts?',options:['1,200W','1,320W','1,440W','1,560W'],correct:2,explanation:'P=V²/R=120²/10=14,400/10=1,440W. Fórmula alternativa cuando conoces V y R pero no I.'},
            {category:'Fórmulas y Cálculos',q:'I²R losses: un cable lleva 20A y tiene 0.5Ω de resistencia. ¿Watts perdidos en calor?',options:['200W','250W','150W','100W'],correct:0,explanation:'P=I²×R=20²×0.5=400×0.5=200W. Esta potencia se pierde como calor en el cable. Por eso importa el calibre del cable: menor resistencia=menos pérdidas.'},
            {category:'Fórmulas y Cálculos',q:'Capacitancia en paralelo: C1=30µF, C2=15µF. ¿Total?',options:['10µF','30µF','45µF','15µF'],correct:2,explanation:'Capacitores en PARALELO se SUMAN: Ct=C1+C2=30+15=45µF. (Opuesto a resistencias: resistencias en paralelo disminuyen, capacitores en paralelo aumentan).'},
            {category:'Fórmulas y Cálculos',q:'Frecuencia de 60Hz tiene un periodo de:',options:['60 segundos','1 segundo','0.060 segundos','0.0167 segundos'],correct:3,explanation:'Periodo=1/frecuencia=1/60=0.0167 seg=16.7 milisegundos. Esto significa que la corriente AC completa un ciclo completo cada 16.7 ms.'},
            {category:'Fórmulas y Cálculos',q:'Un motor de 1,800 RPM tiene slip de 4%. ¿RPM reales?',options:['1,800 RPM','1,750 RPM','1,728 RPM','1,764 RPM'],correct:2,explanation:'RPM reales=síncronas×(1-slip)=1,800×(1-0.04)=1,800×0.96=1,728 RPM. El slip es la diferencia entre velocidad síncrona y real del motor de inducción.'},
            {category:'Diagnóstico',q:'Un AC funciona bien con la puerta del closet del air handler abierta pero corta por presión baja con la puerta cerrada. ¿Causa?',options:['Contactor defectuoso','Bajo refrigerante','El closet no tiene retorno de aire y el blower crea vacío que colapsa el return, bajando flujo y presión succión','El thermostat está mal ubicado'],correct:2,explanation:'Closet cerrado sin return: el blower no tiene de dónde jalar aire. Crea vacío negativo extremo, flujo de aire colapsa, evaporador se congela, presión succión baja, presostato corta. Solución: instalar rejilla de retorno en la puerta del closet o ducto de retorno directo.'},
            {category:'Diagnóstico',q:'Después de un apagón, el AC no arranca cuando regresa la luz. El thermostat muestra normal. ¿Verificar?',options:['Time delay de 5 min anti-short-cycle: esperar antes de preocuparse','Agregar refrigerante','Reemplazar breaker','Reemplazar thermostat'],correct:0,explanation:'Muchos sistemas tienen anti-short-cycle delay de 3-5 minutos. Después de un apagón, el sistema espera que las presiones se ecualicen antes de arrancar. Espera 5 minutos. Si no arranca, verifica breaker, disconnect, y fusibles que pueden haberse dañado con el apagón.'},
            {category:'Servicio al Cliente',q:'Un cliente quiere que instales un thermostat WiFi que él compró. Al abrirlo, ves que necesita cable C que no tiene. ¿Qué le dices?',options:['Instalo sin C, usa baterías','Conecto G como C, pierde control de fan pero funciona','Necesita cable C para funcionar. Puedo instalar un kit add-a-wire o pasar cable nuevo. Esto tiene un costo adicional','No se puede instalar, devuélvelo'],correct:2,explanation:'Transparencia profesional. Explica que necesita cable C, las opciones disponibles (add-a-wire ~$30-50, cable nuevo ~$100-200), y deja que el cliente decida. No uses hacks como G→C sin explicar las consecuencias.'},
            {category:'Servicio al Cliente',q:'Al final de un mantenimiento, ¿cuáles son las mediciones que debes documentar por escrito para el cliente?',options:['Nada, la factura es suficiente','Voltaje, amperaje, SH, SC, presiones, delta T, cap readings, y condición general de filtro/coil — todo en un formulario de servicio','Solo si el cliente pregunta','Solo presiones'],correct:1,explanation:'Documentar TODO: establece baseline para comparación futura, demuestra profesionalismo, protege legalmente, y ayuda al próximo técnico. Si no mides, no tienes evidencia de que el sistema estaba bien cuando te fuiste.'},
            {category:'Servicio al Cliente',q:'Un cliente dice que su sistema \'pierde frío\' cada verano y otros técnicos \'le ponen gas\'. ¿Qué le explicas?',options:['Que use menos el AC para conservar el gas','Que tiene una fuga crónica: los sistemas no pierden refrigerante normalmente. Necesita una búsqueda de fuga y reparación, no rellenar cada año','Que necesita sistema nuevo','Que es normal perder gas cada año'],correct:1,explanation:'Los sistemas herméticos NO consumen refrigerante. Si necesita recarga anual=fuga crónica. Rellenar sin reparar: viola EPA, desperdicia dinero del cliente cada año, daña el medio ambiente, y la fuga puede empeorar. La solución correcta es encontrar y reparar la fuga.'},
            {category:'Instalación',q:'Un linesets preinsulado de 50ft tiene 3/8" líquido y 3/4" succión para un mini-split de 12,000 BTU. ¿Son los tamaños correctos?',options:['No, 12K siempre usa 1/4" y 1/2"','Sí, siempre 3/8" y 3/4"','El tamaño de línea no importa','Depende del modelo: verificar especificaciones del fabricante, ya que algunos modelos de 12K usan 1/4" líquido y 3/8" succión'],correct:3,explanation:'Los tamaños de línea varían por fabricante y modelo. Un mini-split de 12K puede usar: 1/4"×3/8", 1/4"×1/2", 3/8"×5/8", o 3/8"×3/4" según el fabricante. SIEMPRE verifica la placa o manual. Líneas incorrectas=pérdida de eficiencia o daño.'},
            {category:'Instalación',q:'Estás instalando un condensador sobre un pad de concreto. ¿Cuál es la altura mínima recomendada del pad sobre el suelo?',options:['A nivel del suelo es aceptable','3 pulgadas mínimo sobre el grado para prevenir inundación y facilitar drenaje','12 pulgadas mínimo','24 pulgadas por código'],correct:0,explanation:'Mínimo 3" sobre el nivel del suelo terminado para: prevenir inundación por lluvia/riego, facilitar drenaje, y mantener el equipo fuera del lodo. En zonas con nieve, elevar 12-18" sobre la acumulación de nieve esperada.'},
            {category:'Códigos y Seguridad',q:'Antes de hacer braze en una línea que tuvo refrigerante, ¿qué precaución de seguridad es CRÍTICA?',options:['Verificar que el sistema está completamente vacío: el calor puede descomponer refrigerante en gases tóxicos (fosgeno con HCFCs)','No se necesita precaución especial','Verificar que no hay gas natural cerca','Solo usar gafas de seguridad'],correct:0,explanation:'El calor extremo del soplete puede descomponer refrigerante residual en fosgeno (HCFC/HFC) u otros gases tóxicos. SIEMPRE: 1) Recuperar todo el refrigerante, 2) Verificar que la línea está vacía, 3) Purgar con N2, 4) Trabajar en área ventilada.'},
            {category:'Códigos y Seguridad',q:'Al trabajar en un techo comercial en verano, ¿cuál es el riesgo principal de OSHA?',options:['Solo quemaduras solares','Heat stress/heat stroke: hidratarse, tomar descansos, reconocer síntomas','No hay riesgos especiales en techos','Solo caídas'],correct:1,explanation:'El calor radiante del techo + temperatura ambiente + esfuerzo físico = riesgo alto de heat stress/stroke. OSHA requiere: agua disponible, descansos a la sombra, sistema de buddy, y plan de emergencia. Los síntomas incluyen: confusión, mareo, piel seca/caliente, náusea.'},
            {category:'Fórmulas y Cálculos',q:'Cable #12: 1.59Ω/1000ft. Circuito 100ft ida+vuelta. ¿R total?',options:['0.159Ω','1.59Ω','0.318Ω','3.18Ω'],correct:2,explanation:'200ft total. (200/1000)×1.59=0.318Ω.'},
            {category:'Fórmulas y Cálculos',q:'Cable 0.318Ω, 20A. ¿Watts perdidos?',options:['127.2W','63.6W','254.4W','190.8W'],correct:0,explanation:'P=I²R=400×0.318=127.2W.'},
            {category:'Fórmulas y Cálculos',q:'PF=cos(30°)=?',options:['0.71','0.50','0.97','0.87'],correct:3,explanation:'0.866≈0.87.'},
            {category:'Fórmulas y Cálculos',q:'BTU calentar 50 gal de 60°F a 120°F:',options:['19,990','34,990','24,990','29,990'],correct:2,explanation:'50×8.33×60=24,990.'},
            {category:'Fórmulas y Cálculos',q:'Ducto 12" redondo, 800 FPM. ¿CFM?',options:['704','628','830','502'],correct:1,explanation:'π×0.5²×800=628.'},
            {category:'Fórmulas y Cálculos',q:'70 pints/día = ¿galones?',options:['8.75','12.25','6.75','10.50'],correct:0,explanation:'70÷8=8.75.'},
            {category:'Diagnóstico',q:'Condensado gotea del plenum. ¿Causa?',options:['Normal AC nuevo','Drain tapada, desbordamiento','Pan tiene capacidad','Problema ref'],correct:1,explanation:'Drain tapada=respaldo y desbordamiento.'},
            {category:'Diagnóstico',q:'Blower se apaga pero burner sigue. ¿Falla?',options:['Normal','Relay/board no mantiene señal blower','Thermostat','Filtro'],correct:1,explanation:'Blower debe correr con burner. Limit cortará pronto.'},
            {category:'Diagnóstico',q:'Economizer 100% abierto a 100°F. ¿Problema?',options:['Stuck: sensor/actuador fallaron','Normal mucha gente','Ventilación mín','Siempre abierto'],correct:0,explanation:'Debería estar cerrado a 100°F.'},
            {category:'Diagnóstico',q:'Compresor nuevo zumba, no arranca. Fan OK.',options:['Thermostat','Ref incorrecto','Hard start, cableado CSR, voltaje, presiones','Condensador defectuoso'],correct:2,explanation:'Verificar antes de concluir compresor malo.'},
            {category:'Diagnóstico',q:'Presiones OK pero amp 30% bajo. ¿Significa?',options:['Compresor muriendo','Imposible','Bypass gas válvula/válvulas dañadas','Baja carga normal'],correct:2,explanation:'Gas recircula sin trabajo si no enfría con presiones OK.'},
            {category:'Diagnóstico',q:'AC OK puerta closet abierta, corta con cerrada.',options:['Contactor','Bajo ref','Sin return closet=vacío=flujo colapsa','Thermostat'],correct:2,explanation:'Instalar rejilla return en puerta closet.'},
            {category:'Diagnóstico',q:'Post-apagón AC no arranca. Thermostat OK.',options:['Agregar ref','Time delay 5 min, esperar','Reemplazar thermostat','Reemplazar breaker'],correct:1,explanation:'Anti-short-cycle delay. Si no arranca después, verificar breaker.'},
            {category:'Controles y Componentes',q:'Acumulador succión vs receiver:',options:['Acum=atrapa líquido antes compresor. Receiver=almacena después condensador','Ambos descarga','Lo mismo','Acum=comercial'],correct:0,explanation:'Funciones y ubicaciones diferentes.'},
            {category:'Controles y Componentes',q:'Desuperheater:',options:['Enfría descarga para precalentar agua doméstica','Precalienta ref','Elimina SH','Deshumidifica'],correct:0,explanation:'Calor gratis para agua mientras AC opera.'},
            {category:'Controles y Componentes',q:'Filter drier flecha:',options:['Hacia arriba','Contra flujo','No importa','Dirección flujo'],correct:3,explanation:'Al revés=material se suelta, causa restricción.'},
            {category:'Controles y Componentes',q:'Pressure relief compresor R-410A: ¿presión?',options:['200 PSI','1,000 PSI','300 PSI','550-625 PSI'],correct:3,explanation:'R-22 era ~400 PSI. R-410A más alto por presiones mayores.'},
            {category:'Principios Refrigeración',q:'R-410A presión alta porque:',options:['Punto ebullición -61°F vs R-22 -41°F','Tubos pequeños','Más aceite','Más denso'],correct:0,explanation:'Necesita más presión para condensar a temp ambiente.'},
            {category:'Principios Refrigeración',q:'Compression ratio alto=',options:['Normal','Mayor trabajo, menor eficiencia, mayor temp descarga','Bajo ref siempre','Mejor eficiencia'],correct:1,explanation:'CR alto=compresor trabaja más por cada lb ref.'},
            {category:'Principios Refrigeración',q:'Capacidad HP baja con frío porque:',options:['Menos calor disponible en aire frío','Igual','Thermostat','Aumenta'],correct:0,explanation:'A 17°F ~60% capacidad.'},
            {category:'Principios Refrigeración',q:'SH confirma no hay líquido porque:',options:['No relación','Solo presión','Gas subió temp más allá saturación=no queda líquido','Indica SC'],correct:2,explanation:'Solo gas puede sobrecalentarse.'},
            {category:'Principios Refrigeración',q:'SC confirma hay líquido sólido porque:',options:['Líquido bajó temp más allá saturación=100% líquido','Solo presión','SH al revés','No indica estado'],correct:0,explanation:'Solo líquido puede subenfriarse.'},
            {category:'Diagnóstico Avanzado',q:'Presiones fluctuando rápido (hunting). ¿Componente?',options:['Compresor débil','Thermostat','TXV/EEV hunting','Filtro'],correct:2,explanation:'Metering device abre/cierra excesivamente.'},
            {category:'Diagnóstico Avanzado',q:'Nuevo compresor falla 6 meses post burn-out. ¿Por qué?',options:['Ácidos no limpiados dañaron nuevo','Defecto fábrica','Tamaño','Ref incompatible'],correct:0,explanation:'Sin flush/drier/evac=ácidos destruyen en meses.'},
            {category:'Diagnóstico Avanzado',q:'SH 20°F con TXV. ¿Normal?',options:['Solo si SC alto','Normal cualquier','Normal TXV','Alto: TXV restringida, bajo ref, bulbo mal'],correct:3,explanation:'TXV debe mantener 5-10°F SH.'},
            {category:'Diagnóstico Avanzado',q:'SC=0°F. ¿Indica?',options:['Error','Imposible','Flash gas: restricción o bajo ref','Perfecto'],correct:2,explanation:'En saturación, posible vapor en línea líquido.'},
            {category:'Diagnóstico Avanzado',q:'Approach condensador:',options:['Descarga-condensación','Líquido-ambiente','Temp condensación-temp aire entrando. Normal 15-30°F','No se usa'],correct:2,explanation:'Mayor=condensador ineficiente.'},
            {category:'Diagnóstico Avanzado',q:'Post-cargar con TXV esperar:',options:['30+ min','2-3 min','10-15 min mínimo','Inmediato'],correct:2,explanation:'TXV ajusta gradualmente.'},
            {category:'Diagnóstico Avanzado',q:'Aire en sistema: síntomas:',options:['Succión baja','Normal pero no enfría','Descarga alta, SC errático','Ambas bajas'],correct:2,explanation:'Aire no condensa, eleva descarga.'},
            {category:'Diagnóstico Avanzado',q:'Indicador humedad sight glass verde:',options:['Húmedo','Seco OK','Solo R-22','Error'],correct:1,explanation:'Verde=seco. Amarillo=húmedo.'},
            {category:'Sistemas',q:'Chiller surge:',options:['Descarga eléctrica','Vibración normal','Flujo gas se invierte en impeller','Exceso lubricante'],correct:2,explanation:'Prevenir: no operar bajo mínimo carga.'},
            {category:'Sistemas',q:'VRF heat recovery:',options:['No simultáneo','Calienta y enfría zonas simultáneamente','Solo calienta','Solo enfría'],correct:1,explanation:'Calor rechazado de enfriamiento se usa para calefacción.'},
            {category:'Sistemas',q:'HP vs resistencia eficiencia:',options:['2x','Igual','3-5x (COP 3-5) porque MUEVE calor','10x'],correct:2,explanation:'1 BTU electricidad=3-5 BTU calor movido.'},
            {category:'Sistemas',q:'Geothermal loop 45°F invierno:',options:['Muy frío','Sí eficiente: opera 30-90°F. COP 3.5-4.0','Depende','Solo con aux'],correct:1,explanation:'Mucho mejor que air-source a 20°F aire.'},
            {category:'Sistemas',q:'VAV controla:',options:['Volumen aire con damper','Temperatura','ON/OFF','Velocidad compresor'],correct:0,explanation:'Más aire=más enfriamiento.'},
            {category:'Sistemas',q:'Split vs packaged:',options:['Split más eficiente','Packaged solo comercial','Split=separados. Packaged=todo en uno','Split sin calef'],correct:2,explanation:'Split conectado por líneas ref.'},
            {category:'Sistemas',q:'Dual duct:',options:['Thermostat selecciona','Mixing box combina caliente/frío por zona','Apaga/enciende','Solo un ducto'],correct:1,explanation:'Dampers mezclan proporcionalmente.'},
            {category:'Servicio al Cliente',q:'\'Pierde frío cada verano le ponen gas\':',options:['Fuga crónica. Buscar/reparar','Normal perder','Usar menos AC','Sistema nuevo'],correct:0,explanation:'Herméticos no consumen ref.'},
            {category:'Servicio al Cliente',q:'Documentar post-mantenimiento:',options:['V, A, SH, SC, presiones, deltaT, cap, filtro','Nada','Solo presiones','Si pregunta'],correct:0,explanation:'Todo: baseline, profesionalismo, protección.'},
            {category:'Servicio al Cliente',q:'Thermostat WiFi sin cable C:',options:['No se puede','G como C','Necesita C. Add-a-wire o cable nuevo','Baterías'],correct:2,explanation:'Transparencia con opciones claras.'},
            {category:'Instalación',q:'Linesets 12K mini-split tamaño:',options:['Siempre 1/4-1/2','Verificar specs fabricante','No importa','Siempre 3/8-3/4'],correct:1,explanation:'Varía por fabricante/modelo.'},
            {category:'Instalación',q:'Pad condensador altura:',options:['12" mín','3"+ sobre grado','A nivel OK','24" código'],correct:1,explanation:'Prevenir inundación. Nieve: 12-18".'},
            {category:'Códigos y Seguridad',q:'Pre-braze línea con ref:',options:['Solo gafas','Sin gas natural','Sin precaución','Sistema vacío: ref se descompone en tóxicos'],correct:3,explanation:'Fosgeno posible. Recuperar, vaciar, N2, ventilar.'},
            {category:'Códigos y Seguridad',q:'Techo comercial verano riesgo OSHA:',options:['Heat stress/stroke','Solo sol','Sin riesgos','Solo caídas'],correct:0,explanation:'Agua, sombra, descansos, buddy system.'},
            {category:'Códigos y Seguridad',q:'Espacio confinado verificar:',options:['Si hay luz','O2 mín 19.5% + detector multi-gas','Si hueles algo','Solo abrir puerta'],correct:1,explanation:'Bajo O2 por fuga ref, CO combustión, gases.'},
            {category:'Códigos y Seguridad',q:'PPE panel eléctrico energizado:',options:['Gafas, guantes rated, ropa FR/algodón','Sin PPE si sabes','Solo botas','Solo guantes'],correct:0,explanation:'NFPA 70E: protección arco flash.'},
            {category:'Códigos y Seguridad',q:'Cilindro ref en auto al sol:',options:['Solo si lleno','Solo viejos','Sin riesgo','Presión sube peligrosamente'],correct:3,explanation:'Temp↑=presión↑. DOT máx 80% llenado.'},
            {category:'Electricidad',q:'C-tierra=∞, S-tierra=∞, R-tierra=2MΩ:',options:['R degradándose, planificar reemplazo','Perfecto','Corto a tierra','Error'],correct:0,explanation:'2MΩ bajo vs infinito.'},
            {category:'Electricidad',q:'Start cap 227µF, spec 233-280µF:',options:['Depende edad','Debajo mínimo 233','Sin rango','Cerca suficiente'],correct:1,explanation:'Fuera spec por debajo.'},
            {category:'Electricidad',q:'Start vs run cap:',options:['Iguales','Run trifásico','Start: alta µF temporal electrolítico. Run: baja µF continuo aceite','Start grande'],correct:2,explanation:'Potential relay desconecta start.'},
            {category:'Electricidad',q:'VFD ground fault:',options:['Fusibles','Reemplazar VFD','Megger motor/cables antes culpar VFD','Subir voltaje'],correct:2,explanation:'Motor puede tener aislamiento dañado.'},
            {category:'Electricidad',q:'Transformador: 28V off, 23V on:',options:['Carga baja','28V alto','Subdimensionado: 5V caída excesiva','Normal'],correct:2,explanation:'23V marginal. Mayor VA o menos carga.'},
            {category:'Electricidad',q:'Inrush vs normal amperímetro:',options:['Inrush lento','Inrush=pico arranque. Normal=RMS continuo','Lo mismo','Inrush=DC'],correct:1,explanation:'Inrush para LRA, normal para FLA.'},
            {category:'Controles y Componentes',q:'BACnet no responde:',options:['Reiniciar todo','IP, cable, power primero','Reemplazar','Fabricante'],correct:1,explanation:'Más común: cable o config.'},
            {category:'Controles y Componentes',q:'CO2 1,200 PPM:',options:['Peligro','Normal','Sensor mal','Alto: más ventilación'],correct:3,explanation:'ASHRAE <1,000. No peligroso pero bajo confort.'},
            {category:'Controles y Componentes',q:'0-10V VAV a 5V:',options:['25%','100%','50%','Cerrado'],correct:2,explanation:'Lineal: 5/10=50%.'},
            {category:'Calefacción',q:'Modulante vs 2-stage:',options:['Solo 1%','Solo silencioso','Solo caro','Confort superior: ajusta continuamente'],correct:3,explanation:'45% continuo vs cycling en día templado.'},
            {category:'Calefacción',q:'Condensado furnace condensación:',options:['Se evapora','Recircula','Drenaje o bomba','Tanque'],correct:2,explanation:'pH 3-4 ácido. Neutralizador si requerido.'},
            {category:'Calefacción',q:'Inducer motor propósito:',options:['Draft para jalar gases combustión','Aire combustión','Activar ignitor','Aire caliente ductos'],correct:0,explanation:'Primero en secuencia. PS verifica draft.'},
            {category:'Calefacción',q:'Secuencia furnace:',options:['Therm→Gas→Ign→Ind','Therm→Blower→Ind→Ign→Gas','Therm→Ign→Gas→Ind→Blower','Therm→Inducer→PS→Ignitor→Gas→Flame→Blower'],correct:3,explanation:'Cada paso verifica anterior.'},
            {category:'Calefacción',q:'Intercambiador rajado peligro:',options:['Pierde eficiencia','Más gas','Ruido','CO entra a aire casa=emergencia'],correct:3,explanation:'Inodoro, incoloro, mortal. Apagar ya.'},
            {category:'Calefacción',q:'Verificar intercambiador:',options:['Visual+cámara+test llama+CO','Temp flue','Detector humo','Solo visual'],correct:0,explanation:'Rajaduras en áreas no visibles.'},
            {category:'Mini-Split/Ductless',q:'P4 mini-split:',options:['Bajo ref','Solo reset','Tarjeta','Condensador, fan, aire, sobrecarga ref'],correct:3,explanation:'Alta presión=condensación.'},
            {category:'Mini-Split/Ductless',q:'Temp mín HP estándar:',options:['-5 a 5°F','-22°F','15°F','32°F'],correct:0,explanation:'Hyper heat llega -15 a -22°F.'},
            {category:'Mini-Split/Ductless',q:'17°F ~60% capacidad. ¿Defecto?',options:['Instalación','No, normal','Si >50%','Sí, 100%'],correct:1,explanation:'Inherente al ciclo.'},
            {category:'Mini-Split/Ductless',q:'Inverter más eficiente porque:',options:['Menos ref','Mejor ref','Modula velocidad=iguala carga=no cycling','Más pequeño'],correct:2,explanation:'Velocidad variable=menos pérdidas.'},
            {category:'Mini-Split/Ductless',q:'Filtros tapados efecto:',options:['Solo aire','Evap congela, succión baja, eficiencia cae','Nada','Exterior protege'],correct:1,explanation:'Menos aire=evap frío=problemas.'},
            {category:'Refrigerantes',q:'R-134a:',options:['Automotriz y media temp','Comercial solo','Residencial','Solo chillers'],correct:0,explanation:'Presiones más bajas que R-410A.'},
            {category:'Refrigerantes',q:'GWP=',options:['Warranty','Weight','Gas Working Pressure','Global Warming Potential vs CO2'],correct:3,explanation:'R-410A=2,088x peor que CO2.'},
            {category:'Refrigerantes',q:'R-22+aire síntomas:',options:['No detectable','Solo lab','Descarga alta, SC errático','Color'],correct:2,explanation:'Aire no condensa.'},
            {category:'Refrigerantes',q:'Glide R-407C:',options:['2°F','15°F','8-9°F','5°F'],correct:2,explanation:'Usar dew/bubble point.'},
            {category:'Refrigerantes',q:'Reciclar: ¿cuántas veces?',options:['Sin límite con equipo certificado','Una','Solo instalaciones','Tres'],correct:0,explanation:'Reciclar≠reclamar.'},
            {category:'Refrigerantes',q:'Recuperar vs reciclar vs reclamar:',options:['Sacar vs filtrar vs estándar nuevo','Sin dif legal','Opuesto','Lo mismo'],correct:0,explanation:'Definición legal EPA.'},
            {category:'Refrigerantes',q:'R-290 no en AC porque:',options:['No eficiente','A3 inflamable, carga limitada','No disponible','Prohibido'],correct:1,explanation:'GWP=3 pero inflamable.'},
            {category:'Refrigerantes',q:'Retrofit:',options:['Reparar comp','Cambiar aceite','Cambiar ref por compatible sin cambiar componentes mayores','Sistema nuevo'],correct:2,explanation:'Puede requerir aceite/TXV/drier.'},
            {category:'Diagnóstico',q:'Cargar en condiciones no estándar:',options:['Esperar día caliente','A ojo','Solo SC','Tablas fabricante o pesaje'],correct:3,explanation:'Sin tablas=adivinar.'},
            {category:'Diagnóstico',q:'Sight glass verde:',options:['Húmedo','Error','Solo R-22','Seco OK'],correct:3,explanation:'Amarillo=húmedo.'},
            {category:'Diagnóstico',q:'Face velocity: 2,000 CFM, 4 ft²:',options:['500 FPM normal','No calc','250','800'],correct:0,explanation:'400-600 normal.'},
            {category:'Diagnóstico',q:'60K BTU, 1,500 ft²:',options:['60','40 BTU/ft² normal','20','100'],correct:1,explanation:'Manual J es correcto.'},
            {category:'Diagnóstico',q:'180°F descarga R-410A:',options:['OK debajo 225°F','Sí apenas','Más datos','Muy frío'],correct:0,explanation:'Preocupante >250°F.'},
            {category:'Diagnóstico',q:'TXV ecualizador externo:',options:['Puerto manómetro','Ecualiza suc-desc','Drena aceite','Compensa caída presión evaporador'],correct:3,explanation:'Toma presión REAL salida evap.'},
            {category:'Diagnóstico',q:'TXV bulbo posición 6:',options:['No importa','Posición correcta','Lee aceite caliente, sobrealimenta. Correcto: 10-2','Solo vertical'],correct:2,explanation:'Aceite engaña TXV.'},
            {category:'Diagnóstico',q:'SH 15, SC 15 con pistón 85°F:',options:['Consultar tabla fabricante','SC alto','SH alto','No determinable'],correct:0,explanation:'Sin tabla no sabes target.'},
            {category:'Diagnóstico',q:'Olor moho AC:',options:['Condensador','Evap con crecimiento biológico','Ref','Ductos nuevos'],correct:1,explanation:'Limpiar con biocida.'},
            {category:'Diagnóstico',q:'Circ2 RTU: ambas altas, SH alto:',options:['Non-condensables aire','Sobrecarga','Bajo ref','Condensador'],correct:0,explanation:'Aire no condensa.'},
            {category:'Diagnóstico',q:'HP no calienta, válvula 24V en bobina:',options:['Depende fabricante: verificar diagrama','Sí siempre cambia','Sin relación','No, 24V=cool'],correct:0,explanation:'Mayoría calef=energizada, algunos difieren.'},
            {category:'Códigos y Seguridad',q:'ASHRAE 90.1:',options:['Incendios','Seguridad ref','Calidad aire','Eficiencia energética comercial'],correct:3,explanation:'Base códigos energía.'},
            {category:'Códigos y Seguridad',q:'ASHRAE 62.1/62.2:',options:['Seguridad ref','Confort','Eficiencia','Ventilación comercial/residencial'],correct:3,explanation:'62.1 com, 62.2 res.'},
            {category:'Códigos y Seguridad',q:'ASHRAE 15:',options:['Electricidad','Seguridad refrigeración','Eficiencia','Ventilación'],correct:1,explanation:'Detectores, ventilación, válvulas alivio.'},
            {category:'Códigos y Seguridad',q:'ASHRAE 55:',options:['Energía','Ventilación','Refrigeración','Confort térmico'],correct:3,explanation:'Rangos temp, humedad, vel aire.'},
            {category:'Fórmulas y Cálculos',q:'V=IR: 8Ω, 3A:',options:['24V','20V','11V','16V'],correct:0,explanation:'3×8=24V.'},
            {category:'Fórmulas y Cálculos',q:'P=V²/R: 120V, 10Ω:',options:['1,440W','1,560W','1,320W','1,200W'],correct:0,explanation:'14,400/10=1,440W.'},
            {category:'Fórmulas y Cálculos',q:'I²R: 20A, 0.5Ω:',options:['250W','200W','100W','150W'],correct:1,explanation:'400×0.5=200W.'},
            {category:'Fórmulas y Cálculos',q:'Caps paralelo 30+15:',options:['45µF','10µF','30µF','15µF'],correct:0,explanation:'Se suman.'},
            {category:'Fórmulas y Cálculos',q:'1,800 RPM slip 4%:',options:['1,750','1,728','1,800','1,764'],correct:1,explanation:'0.96×1,800=1,728.'},
            {category:'Fórmulas y Cálculos',q:'60Hz periodo:',options:['60','0.060','1','0.0167 seg'],correct:3,explanation:'1/60=0.0167s.'},
            {category:'Fórmulas y Cálculos',q:'3 lbs fuga de 12 lbs carga:',options:['12%','25%','36%','33%'],correct:1,explanation:'3/12=25%.'},
            {category:'Fórmulas y Cálculos',q:'Gay-Lussac: 200 PSI a 70°F → 120°F:',options:['244','230','260','~219 PSI'],correct:3,explanation:'200×(580/530)=219.'},
            {category:'Controles y Componentes',q:'Pressure switch 2 tubos:',options:['Backup','Drenar','Error fábrica','Diferencial: compara draft vs atmosférica'],correct:3,explanation:'Switch cierra cuando draft suficiente.'},
            {category:'Controles y Componentes',q:'PS no cierra, inducer fuerte, tubo limpio:',options:['Medir draft con manómetro WC','Limpiar flame sensor','Reemplazar inducer','Reemplazar PS ya'],correct:0,explanation:'Si draft OK y no cierra=PS malo.'},
            {category:'Controles y Componentes',q:'LED heartbeat continuo:',options:['Corto circuito','Normal: board con power y funcionando','Debería fijo','Solo nuevos'],correct:1,explanation:'Sin parpadeo=board muerto.'},
            {category:'Controles y Componentes',q:'LED 2-3 flashes. ¿Interpretar?',options:['Buscar tabla códigos del modelo específico','Códigos no confiables','Siempre PS','Siempre flame sensor'],correct:0,explanation:'CADA fabricante diferente tabla.'},
            {category:'Compresores',q:'Frecuencia mínima compresor inverter:',options:['15-20 Hz','60 Hz','0 Hz','5 Hz'],correct:0,explanation:'Mínimo para lubricación. Máx 90-120Hz.'},
            {category:'Compresores',q:'Mini-split a 90 Hz:',options:['Normal','Error lectura','Defectuoso','~150% capacidad boost mode'],correct:3,explanation:'Nominal 60Hz. 90=turbo para alcanzar setpoint.'},
            {category:'Compresores',q:'Inverter mejor deshumidificación porque:',options:['Corre continuo baja velocidad=evap frío constante=remoción humedad','Solo modo deshumid','Ref diferente','Evap grande'],correct:0,explanation:'ON/OFF: evap se calienta en OFF, humedad vuelve.'},
            {category:'Ductos y Flujo de Aire',q:'Max presión estática residencial:',options:['1.00','2.00','0.50 iwc','0.25'],correct:2,explanation:'Más=flujo restringido, menor CFM.'},
            {category:'Ductos y Flujo de Aire',q:'0.70 iwc con PSC. ¿Pérdida CFM?',options:['Nada','40%','5%','20-30% vs 0.50 iwc'],correct:3,explanation:'PSC pierde CFM drásticamente. ECM compensa parcialmente.'},
            {category:'Sistemas Comerciales',q:'Delta T agua helada fan coil:',options:['10°F (44°F→54°F)','2°F','20°F','30°F'],correct:0,explanation:'Más bajo=exceso flujo. Más alto=bajo flujo.'},
            {category:'Sistemas Comerciales',q:'Glycol 30%:',options:['Anti-corrosión','Solo colorante','Más eficiente','Previene congelamiento ~15°F, reduce transferencia ~10%'],correct:3,explanation:'Necesario en frío pero penaliza rendimiento.'},
            {category:'Sistemas Comerciales',q:'Velocidad aire max cooling coils:',options:['800','200','500 FPM para evitar carryover humedad','1,200'],correct:2,explanation:'Eliminadores permiten ligeramente más.'},
            {category:'Diagnóstico',q:'Cycling cada 5 min, baja/sube 1°F:',options:['Normal','Bajo ref','Oversized, thermostat cerca registro, deadband estrecho','Compresor débil'],correct:2,explanation:'Enfría rápido=sobredimensionado.'},
            {category:'Diagnóstico',q:'RTU: compresores off, blower on. Supply 82°F, return 78°F:',options:['Satisfecho','Bajo ref','Blower mueve aire pero no enfría. Ductos ganan calor. Diagnosticar compresores','Normal ventilación'],correct:2,explanation:'Supply>return=ductos ganando calor.'},
            {category:'Diagnóstico',q:'SH 5°F, SC 5°F. ¿Cargado bien?',options:['Posible si fabricante especifica; no hay universal','Imposible','SC bajo','SH bajo'],correct:0,explanation:'SIEMPRE consultar fabricante.'},
            {category:'Diagnóstico',q:'ANTES de conectar manómetros:',options:['Verificar filtro','Encender','Medir voltaje','Identificar refrigerante para manómetros y tablas correctas'],correct:3,explanation:'Manómetros R-22 en R-410A=peligro seguridad.'},
            {category:'Compresores',q:'Un compresor reciprocante tiene válvulas de succión y descarga. Si la válvula de DESCARGA está dañada, ¿qué pasa con las presiones?',options:['Succión baja, descarga sube','Succión sube, descarga baja, presiones se acercan','Ambas bajan','Ambas suben'],correct:1,explanation:'Gas comprimido regresa al cilindro por la válvula dañada. Descarga no puede subir suficiente, succión no baja suficiente. Amperaje bajo porque el compresor no hace trabajo útil.'},
            {category:'Compresores',q:'¿Cuál es el amperaje típico de arranque (LRA) vs marcha (RLA) de un compresor? Relación aproximada:',options:['LRA = 10-15x el RLA','LRA = 4-6x el RLA','LRA = 2x el RLA','LRA = igual al RLA'],correct:1,explanation:'LRA típicamente 4-6 veces el RLA. Un compresor de 20A RLA puede tener 80-120A LRA durante los primeros 0.5-1 segundo. Hard start kits reducen el tiempo de LRA.'},
            {category:'Compresores',q:'Un compresor scroll gira al revés (rotación incorrecta trifásica). ¿Síntomas?',options:['Solo vibración sin efecto en presiones','Ruido fuerte, no comprime, ambas presiones NO se separan, alto amperaje momentáneo','Se daña inmediatamente','Funciona normal pero menos eficiente'],correct:1,explanation:'Scroll al revés no puede comprimir gas. Presiones se ecualizan. Alto ruido mecánico. Solución: intercambiar 2 de las 3 fases. Verificar con medidor de rotación de fases ANTES de arrancar.'},
            {category:'Compresores',q:'¿Qué tipo de aceite usa un compresor de R-410A y por qué es crítico el manejo?',options:['Mineral como R-22','Alkylbenzene','PAG como automotriz','POE (Polyolester) que es higroscópico: absorbe humedad del aire rápidamente'],correct:3,explanation:'POE absorbe humedad 50x más rápido que aceite mineral. Exposición al aire >15 minutos puede contaminar el aceite. Mantener tapado siempre. Humedad + POE = ácidos que destruyen el compresor.'},
            {category:'Motores Eléctricos',q:'Un motor ECM (Electronically Commutated Motor) en un air handler tiene qué ventaja principal sobre PSC?',options:['No necesita capacitor de marcha','Mantiene CFM constante independientemente de la presión estática ajustando su velocidad automáticamente','Gira más rápido','Es más barato'],correct:1,explanation:'ECM sensa la presión estática y ajusta RPM para mantener el CFM programado. Si el filtro se ensucia (más restricción), el ECM sube velocidad. Un PSC simplemente reduce CFM con más restricción.'},
            {category:'Motores Eléctricos',q:'Un motor PSC de 4 velocidades tiene cables: negro, azul, rojo, amarillo. El fabricante indica negro=alta, azul=media-alta, rojo=media-baja, amarillo=baja. Para enfriamiento normalmente usas:',options:['Negro o azul (alta o media-alta) para mover suficiente CFM sobre el evaporador','Amarillo (baja) para mejor deshumidificación','No importa la velocidad','Rojo siempre'],correct:0,explanation:'Enfriamiento necesita ~400 CFM/ton. Calefacción puede usar velocidad menor. El cable correcto depende del diseño del sistema y la presión estática. Verificar documentación del fabricante.'},
            {category:'Motores Eléctricos',q:'Mides un motor monofásico: bobinado Run=2Ω, Start=5Ω. ¿Cuál terminal es cuál si C-R mide 2Ω y C-S mide 5Ω?',options:['Common es el de mayor resistencia','Common es el terminal que da la lectura MÁS BAJA con Run Y la segunda más baja con Start','Start es siempre el más bajo','No se puede determinar'],correct:1,explanation:'Regla: C-R es la lectura más baja, C-S es la segunda, S-R es la MÁS ALTA (suma de las otras dos). C-R=2Ω, C-S=5Ω, entonces S-R debería ser ~7Ω. Common NO toca la lectura más alta.'},
            {category:'Bombas de Calor',q:'¿Qué es el COP de un heat pump y cuál es un valor típico en modo calefacción a 47°F exterior?',options:['COP=presión descarga/succión','COP siempre es 1.0','COP solo aplica a chillers','COP=BTU output/BTU input eléctrico. Típico 3.0-3.5 a 47°F (produce 3-3.5 BTU por cada 1 BTU eléctrico)'],correct:3,explanation:'COP (Coefficient of Performance) es la medida de eficiencia del HP. COP 3.0 = 300% eficiencia comparado con resistencia eléctrica (COP 1.0). A temperaturas más bajas, COP disminuye.'},
            {category:'Bombas de Calor',q:'Un auxiliary heat lockout a 40°F en un thermostat de bomba de calor. ¿Qué significa?',options:['El heat strip NO se enciende si la temp exterior está arriba de 40°F para ahorrar energía','El HP se apaga a 40°F','El defrost no opera sobre 40°F','El compresor se bloquea sobre 40°F'],correct:0,explanation:'Lockout de aux heat: arriba de 40°F, el HP tiene suficiente capacidad solo. Los heat strips (caros de operar) solo se activan debajo de 40°F cuando el HP no puede mantener el setpoint. Configurable en el thermostat.'},
            {category:'Bombas de Calor',q:'¿Cuándo debe hacer defrost una bomba de calor?',options:['Solo cuando el cliente lo activa','Cuando el serpentín exterior acumula escarcha: típicamente detectado por diferencial de presión, tiempo, o temperatura','Cada 30 minutos fijo','Nunca, los HP no necesitan defrost'],correct:1,explanation:'Defrost se inicia cuando: 1) Timer + temperatura del coil (demand defrost), 2) Diferencial de presión aire (más escarcha=más restricción), o 3) Timer fijo. Dura 3-10 minutos hasta que el coil exterior se calienta suficiente.'},
            {category:'Tablas PT y Presiones',q:'R-410A a 50°F de saturación (temperatura típica de evaporación):',options:['~105 PSIG','~140 PSIG','~160 PSIG','~118 PSIG'],correct:1,explanation:'R-410A 50°F≈140 PSIG. Puntos clave: 32°F=92, 40°F=118, 45°F=128, 50°F=140, 55°F=152. Estas presiones son MUCHO más altas que R-22 a las mismas temperaturas.'},
            {category:'Tablas PT y Presiones',q:'Si mides 152 PSIG en la succión de un sistema R-410A, ¿cuál es la temperatura de evaporación?',options:['~55°F - demasiado alta para AC, indica exceso de carga o alta carga térmica','~35°F - normal para freezer','~45°F - normal','~65°F'],correct:0,explanation:'R-410A 152 PSIG≈55°F de evaporación. Para AC residencial, la evaporación normal es 35-45°F. 55°F es alta: sistema sobrecargado, TXV stuck open, flujo aire excesivo, o carga térmica muy alta.'},
            {category:'Tablas PT y Presiones',q:'En un sistema R-410A apagado a temperatura ambiente de 80°F, ¿cuál debería ser la presión en ambos gauges?',options:['~0 PSIG','~235 PSIG (presión de saturación de R-410A a 80°F)','~340 PSIG','~118 PSIG'],correct:1,explanation:'Sistema apagado=presiones ecualizadas a la temperatura ambiente. R-410A a 80°F≈235 PSIG. Si lees significativamente menos, hay fuga. Si lees 0 o muy bajo, el sistema está vacío.'},
            {category:'Herramientas',q:'Un micron gauge lee 350 micrones después de evacuar. Cierras la válvula de la bomba. En 10 minutos sube a 1,500 micrones y sigue subiendo. ¿Diagnóstico?',options:['Normal, 1,500 es aceptable','FUGA en el sistema que debe encontrarse y repararse antes de cargar','El micron gauge está descalibrado','Humedad (outgassing) que se resolverá con más evacuación'],correct:1,explanation:'Si sube sin parar=FUGA. Si sube y se estabiliza (ej: 350→500→500)=humedad que necesita más evacuación. La clave es si SE ESTABILIZA o sigue subiendo. 1,500 subiendo=fuga definitiva.'},
            {category:'Herramientas',q:'¿Cuál es la diferencia entre un manifold de 2 válvulas y uno de 4 válvulas?',options:['2 válvulas es para residencial, 4 para comercial','No hay diferencia funcional','4 válvulas mide 4 presiones diferentes','4 válvulas permite aislar alta y baja independientemente Y conectar bomba/tanque sin contaminar el otro lado'],correct:3,explanation:'Manifold 4 válvulas: permite evacuar mientras mantienes una referencia de presión, cargar por un lado mientras mides por otro, y reduce contaminación cruzada. Es la herramienta profesional moderna vs el 2 válvulas básico.'},
            {category:'Herramientas',q:'Un manómetro compuesto (compound gauge) mide:',options:['Solo presión positiva','Temperatura y presión','Presión positiva Y vacío (por debajo de atmosférica) en el mismo gauge','Solo vacío'],correct:2,explanation:'El gauge azul (baja presión) es compuesto: mide desde ~30" Hg vacío hasta ~150+ PSI positivo. El gauge rojo (alta presión) solo mide presión positiva. El gauge de vacío separado (micron gauge) es más preciso para evacuación.'},
            {category:'Herramientas',q:'¿Por qué debes purgar las mangueras antes de conectar al sistema?',options:['Para verificar que no están tapadas','Para eliminar aire y humedad atrapados que contaminarían el sistema con non-condensables','Las mangueras no necesitan purga','Para calibrar los manómetros'],correct:1,explanation:'Las mangueras contienen aire (~2-3 cc por pie). Sin purgar, introduces aire al sistema. Método: conectar manguera al sistema, abrir brevemente la válvula del manifold para que el refrigerante empuje el aire, cerrar. O usar mangueras con válvulas de purga.'},
            {category:'Ductos y Flujo de Aire',q:'Un balancing damper en un ramal de ducto se usa para:',options:['Ajustar el flujo de aire a cada zona para distribución correcta según el diseño','Cerrar completamente el ducto en emergencia','Reducir el ruido','Filtrar el aire'],correct:0,explanation:'Balancing dampers ajustan el CFM a cada cuarto/zona. Sin balancear, los cuartos más cercanos al plenum reciben demasiado aire y los lejanos muy poco. Se ajustan durante el comisionamiento del sistema.'},
            {category:'Ductos y Flujo de Aire',q:'¿Cuál es la velocidad máxima recomendada en un registro de suministro residencial para evitar ruido?',options:['1,000 FPM','1,500 FPM','200 FPM','500-600 FPM para ruido aceptable en áreas ocupadas'],correct:3,explanation:'500-600 FPM máximo en registros para nivel de ruido aceptable (NC 30-35 para dormitorios). Ductos principales pueden ir a 700-900 FPM. Registros de retorno 400-500 FPM. Mayor velocidad=más ruido.'},
            {category:'Ductos y Flujo de Aire',q:'Mastic vs duct tape para sellar ductos. ¿Cuál es la opción profesional correcta?',options:['No necesitan sellarse','Duct tape de tela es suficiente','Mastic (sellador) o cinta de aluminio UL 181: duct tape de tela se seca y despega con el tiempo','Silicón de baño'],correct:2,explanation:'Duct tape de tela se seca, se contrae, y se despega en 1-5 años. Mastic es permanente y flexible. Cinta de aluminio UL 181 también es aceptable. HVAC profesional NUNCA usa duct tape de tela para sellar ductos permanentes.'},
            {category:'Eficiencia Energética',q:'Un sistema de 2 etapas vs 1 etapa del mismo SEER. ¿Cuál es más eficiente en la práctica?',options:['Igual si tienen mismo SEER','Depende del tamaño de la casa solamente','1 etapa siempre','2 etapas: opera en baja la mayoría del tiempo, que es más eficiente que cycling on/off a plena capacidad'],correct:3,explanation:'SEER se mide en condiciones estándar. En uso real, el 2 etapas opera en baja (~65% capacidad) la mayor parte del tiempo, que es más eficiente que el cycling on/off del single stage. Mejor deshumidificación también.'},
            {category:'Eficiencia Energética',q:'¿Qué es el HSPF y a qué aplica?',options:['High Speed Performance Factor','Solo aplica a furnaces','Heating Seasonal Performance Factor: mide eficiencia de calefacción de heat pumps. Mayor=mejor','Humidity System Performance Factor'],correct:2,explanation:'HSPF es para heat pumps lo que SEER es para enfriamiento. HSPF 8-10 es típico. HSPF 10+ es alta eficiencia. Mide BTU de calor producido por watt-hora de electricidad durante toda la temporada de calefacción.'},
            {category:'Eficiencia Energética',q:'Manual J es para:',options:['Calcular ductos','Seleccionar refrigerante','Instalar control boards','Calcular la carga térmica de un edificio para dimensionar el equipo correctamente'],correct:3,explanation:'Manual J calcula cuántos BTU/hr necesita el edificio considerando: área, aislamiento, ventanas, orientación, clima, ocupantes, electrodomésticos. Sin Manual J, el equipo puede ser sobre o subdimensionado. Manual D es para ductos, Manual S para selección de equipo.'},
            {category:'Eficiencia Energética',q:'Un sistema sobredimensionado (oversized) causa:',options:['Sin consecuencias negativas','Mejor enfriamiento y confort','Solo usa más electricidad pero enfría mejor','Short cycling, pobre deshumidificación, desperdicio de energía, y desgaste acelerado del compresor'],correct:3,explanation:'Oversized: enfría rápido→se apaga→humedad sube→enciende otra vez. Cycling frecuente desgasta compresor y contactor. La casa está fría pero húmeda e incómoda. Mayor costo inicial sin beneficio.'},
            {category:'Servicio al Cliente',q:'Un cliente pregunta: \'¿Es verdad que los filtros más caros son mejores?\' ¿Respuesta profesional?',options:['Filtros con mayor MERV filtran más pero TAMBIÉN restringen más aire. El filtro correcto balancea filtración con el flujo de aire que tu sistema necesita','MERV 16 es el mejor para cualquier sistema','No, todos los filtros son iguales','Sí, siempre compre el más caro'],correct:0,explanation:'MERV alto (13-16) filtra partículas finas PERO restringe flujo. Si el sistema no está diseñado para alta restricción, un MERV 16 puede causar los mismos problemas que un filtro sucio: bajo flujo, alta presión estática, evaporador congelado. MERV 8-11 es adecuado para la mayoría de sistemas residenciales.'},
            {category:'Servicio al Cliente',q:'Un cliente dice: \'Mi vecino tiene el mismo modelo de AC y enfría mejor.\' ¿Qué factores pueden explicar la diferencia?',options:['Solo la edad del equipo importa','El vecino tiene más refrigerante','Es imposible, mismo modelo=mismo rendimiento','Instalación (ductos, carga refrigerante, flujo aire), aislamiento de la casa, orientación solar, ventanas, y mantenimiento'],correct:3,explanation:'El equipo es solo parte de la ecuación. La instalación (ductos correctos, carga precisa, flujo aire correcto), la envolvente del edificio (aislamiento, ventanas, infiltración), y el mantenimiento hacen ENORME diferencia. Dos sistemas idénticos en casas diferentes rinden diferente.'},
            {category:'Válvulas y Accesorios',q:'Una válvula solenoide de líquido en un sistema comercial pump-down: ¿normalmente abierta o cerrada?',options:['Se abre manualmente','Normalmente cerrada (NC): se energiza para abrir cuando el thermostat llama por enfriamiento','Normalmente abierta siempre','Depende del día de la semana'],correct:1,explanation:'NC: sin energía=cerrada=no fluye refrigerante. El thermostat energiza la solenoide, abre el paso de líquido, el evaporador se llena, presión succión sube, y el presostato de baja arranca el compresor. Al satisfacer, solenoide cierra, compresor pump-down, presostato lo apaga.'},
            {category:'Válvulas y Accesorios',q:'Un bi-flow filter drier tiene flechas en AMBAS direcciones. ¿En qué tipo de sistema se usa?',options:['Bomba de calor donde el flujo de refrigerante se invierte según el modo','Solo comercial','Cualquier sistema AC','Solo con R-410A'],correct:0,explanation:'En bomba de calor, el flujo cambia de dirección entre calefacción y enfriamiento. Un drier unidireccional bloquearía el flujo en un modo. El bi-flow permite flujo en ambas direcciones mientras filtra y seca.'},
            {category:'Tubería y Soldadura',q:'¿Cuándo usas flux al hacer braze de cobre en refrigeración?',options:['Siempre en cualquier unión','Solo en tuberías de 1" o más','Nunca en refrigeración','Solo cuando unes cobre con latón (brass) u otro metal diferente. Cobre-cobre con BCuP no necesita flux'],correct:3,explanation:'BCuP contiene fósforo que actúa como auto-flux en uniones cobre-cobre. Con latón, acero, u otros metales, necesitas flux externo (tipo plata/BAg). NUNCA uses flux de plomería en refrigeración.'},
            {category:'Tubería y Soldadura',q:'Al cortar tubo de cobre ACR, ¿por qué es obligatorio usar un reamer después?',options:['Para remover la rebaba interna que restringe flujo, atrapa contaminantes, y causa turbulencia/ruido','Para que el flare salga mejor','El reamer no es necesario','Solo por estética'],correct:0,explanation:'El cortador de tubo deja una rebaba interna que: restringe el flujo como un orificio, atrapa contaminantes, y causa erosión del tubo por turbulencia. Siempre reamer con el tubo apuntando HACIA ABAJO para que las virutas caigan, no entren al tubo.'},
            {category:'Mantenimiento',q:'¿Cuál es el primer paso ANTES de cualquier mantenimiento en un sistema HVAC?',options:['Verificar el filtro','Verificar voltaje, desenergizar el sistema, y aplicar LOTO (Lock Out Tag Out)','Conectar manómetros','Hablar con el cliente sobre el costo'],correct:1,explanation:'Seguridad primero SIEMPRE. Verificar voltaje→desenergizar→LOTO→verificar ausencia de voltaje con multímetro. LUEGO proceder con el mantenimiento. Muchos accidentes ocurren por no verificar que el sistema está realmente desenergizado.'},
            {category:'Mantenimiento',q:'En un mantenimiento de invierno (pre-heating season), ¿qué verificas en un furnace de gas?',options:['Solo encender y ver si calienta','Flame sensor, ignitor, presiones gas, intercambiador (visual+CO), filtro, drain, flue, safety controls, y combustion analysis','Solo verificar thermostat','Solo cambiar filtro'],correct:1,explanation:'Mantenimiento completo: limpiar flame sensor, verificar ignitor (resistencia), medir presión gas manifiold, inspeccionar intercambiador, medir CO, verificar todos los safeties (limit, rollout, PS), limpiar drain, verificar flue, análisis de combustión, y documentar todo.'},
            {category:'Mantenimiento',q:'Un evaporador A-coil tiene suciedad visible en la cara de entrada. ¿Cómo lo limpias sin removerlo?',options:['Aplicar coil cleaner no-rinse o self-rinse CONTRA el flujo de aire, dejar actuar, el condensado lo enjuaga','Soplar con aire comprimido en dirección del flujo','No se puede limpiar sin remover','Raspar con cepillo de alambre'],correct:0,explanation:'Coil cleaner CONTRA el flujo (de la salida hacia la entrada) empuja la suciedad hacia afuera. Dejar actuar 10-15 min. El condensado del AC lo enjuaga gradualmente. Para sucio severo: enjuagar con agua baja presión. NUNCA alta presión que dobla aletas.'},
            {category:'Diagnóstico',q:'Un sistema enfría 2°F por debajo del setpoint antes de apagar. Después sube 4°F antes de encender de nuevo. ¿Es normal?',options:['Solo pasa con thermostats viejos','Depende del deadband del thermostat: ±1°F es estándar para electrónicos. Si son ±2°F, el thermostat puede ser mecánico o necesita ajuste','Sí, completamente normal','No, el sistema tiene problemas serios'],correct:1,explanation:'La diferencia total de 4°F (2° bajo + 2° sobre) = ±2°F deadband. Electrónicos suelen ser ±0.5-1°F. ±2°F sugiere thermostat mecánico o anticipador mal ajustado. Verificar tipo de thermostat y configuración de deadband/swing.'},
            {category:'Diagnóstico',q:'Un condenser fan motor se calienta y se apaga después de 20 minutos de operación. Se enfría y vuelve a funcionar. ¿Diagnóstico?',options:['Capacitor del fan malo','Motor con bearings desgastados o bobinado degradado: jala amperaje excesivo→overload interno se dispara→se enfría→repite','Flujo de aire excesivo','Voltaje bajo temporal'],correct:1,explanation:'Motor que cicla por overload térmico interno: bearings secos/desgastados aumentan fricción→más amperaje→más calor→overload abre. También posible: capacitor débil haciendo trabajar más al motor. Mide amperaje Y capacitor antes de reemplazar motor.'},
            {category:'Diagnóstico',q:'Después de una tormenta eléctrica, un mini-split no enciende. Sin códigos de error. Display apagado. ¿Diagnóstico?',options:['Esperar 24 horas para auto-reset','Reemplazar la unidad completa','Verificar: breaker, fusible en la tarjeta del outdoor unit, surge protector si tiene, y voltaje de alimentación','Es solo el control remoto sin baterías'],correct:2,explanation:'Tormentas causan surges que queman fusibles en las tarjetas. Verificar: 1) Breaker principal, 2) Disconnect, 3) Fusible en la tarjeta de la unidad exterior (muy común que se quemen), 4) Voltaje. Si la tarjeta se dañó, puede reemplazarse sin cambiar el equipo completo.'},
            {category:'Diagnóstico',q:'Un sistema tiene SH de 35°F con un pistón fijo. La temperatura exterior es 75°F. ¿El sistema está bajo de carga?',options:['Solo si SC también es alto','No, 35°F es siempre excesivo','Sí, definitivamente bajo','No necesariamente: con pistón, el target SH varía con condiciones. A 75°F exterior, el target puede ser 25-35°F según la tabla. Consultar fabricante'],correct:3,explanation:'Con pistón fijo, el target SH puede ser 5°F a 35°F+ dependiendo de temperatura exterior y bulbo húmedo del retorno. A 75°F exterior (día fresco), el target SH puede ser alto. NUNCA agregues refrigerante sin consultar la tabla del fabricante para las condiciones actuales.'},
            {category:'Principios Refrigeración',q:'¿Cuáles son los 3 métodos de transferencia de calor que aplican en HVAC?',options:['Evaporación, condensación, y compresión','Conducción y convección solamente','Conducción (contacto directo), convección (movimiento de fluido/aire), y radiación (ondas electromagnéticas)','Solo convección'],correct:2,explanation:'Los 3 aplican: Conducción en aletas del evaporador/condensador, Convección en el movimiento de aire/agua sobre los coils, Radiación en calor solar que entra por ventanas. El ciclo de refrigeración MUEVE calor usando estos 3 métodos.'},
            {category:'Principios Refrigeración',q:'¿Por qué se llama \'tonelada\' de refrigeración?',options:['Por el peso del compresor','Por el peso del refrigerante','Porque los primeros AC pesaban 1 tonelada','Porque 1 tonelada = capacidad de derretir 1 tonelada (2,000 lbs) de hielo en 24 horas = 12,000 BTU/hr'],correct:3,explanation:'Histórico: antes del AC mecánico, se usaba hielo para enfriar. Derretir 2,000 lbs de hielo en 24 hrs requiere 2,000×144 BTU (calor latente del hielo) = 288,000 BTU/24hr = 12,000 BTU/hr = 1 tonelada de refrigeración.'},
            {category:'Principios Refrigeración',q:'¿Cuál es la diferencia entre calor sensible y calor latente en un sistema AC?',options:['Sensible=en el evaporador. Latente=en el condensador','Son lo mismo','Sensible=cambio de temperatura que sientes. Latente=cambio de humedad (condensación en el evaporador) sin cambio de temperatura','Sensible=eléctrico. Latente=gas'],correct:2,explanation:'El AC remueve AMBOS: sensible (baja la temperatura del aire) y latente (condensa humedad en el evaporador). El SHR (Sensible Heat Ratio) indica la proporción: SHR 0.75 = 75% del trabajo es bajar temperatura, 25% es remover humedad.'},
            {category:'Psicrometría',q:'¿Cómo se mide la temperatura de bulbo húmedo y para qué sirve en HVAC?',options:['Con termómetro envuelto en mecha mojada; indica contenido de humedad del aire y se usa para calcular target superheat en pistón fijo','Con termómetro normal','No se usa en HVAC moderno','Solo con higrómetro digital'],correct:0,explanation:'WB se mide con mecha mojada: la evaporación enfría el termómetro. Mayor humedad=menos evaporación=WB más cercana a DB. Se usa para: target SH con pistón, condiciones de diseño, selección de equipo, y control de torres de enfriamiento.'},
            {category:'Psicrometría',q:'La temperatura de bulbo seco es 80°F y el bulbo húmedo es 80°F (iguales). ¿Cuál es la humedad relativa?',options:['0%','No se puede determinar','100% - el aire está completamente saturado','50%'],correct:2,explanation:'Cuando DB=WB, el aire está 100% saturado (RH=100%). No puede evaporar más agua (por eso la mecha no se enfría). Esto ocurre en niebla o lluvia. A 100% RH, el dew point también iguala a DB y WB.'},
            {category:'Sistemas Comerciales',q:'Un chiller de 200 toneladas opera con agua helada a 44°F de suministro y 54°F de retorno. ¿Cuántos GPM necesita?',options:['480 GPM usando la fórmula: GPM = (Tons × 12,000) / (500 × ΔT)','1,000 GPM','200 GPM','240 GPM'],correct:0,explanation:'GPM = (200 × 12,000) / (500 × 10) = 2,400,000 / 5,000 = 480 GPM. El factor 500 viene de: 8.33 lb/gal × 60 min/hr × 1 BTU/lb·°F. Si el GPM real es menor, el ΔT sube y puede causar problemas de congelamiento.'},
            {category:'Sistemas Comerciales',q:'Una torre de enfriamiento tiene approach de 7°F y el WB exterior es 78°F. ¿Cuál es la temperatura del agua fría que sale?',options:['78°F','71°F','85°F (WB + approach = 78 + 7)','92°F'],correct:2,explanation:'Approach de torre = Temp agua fría - Temp WB exterior. Si approach=7°F y WB=78°F: Agua fría = 78+7 = 85°F. Menor approach=torre más eficiente pero más cara. Approach típico: 5-10°F.'},
            {category:'Sistemas Comerciales',q:'Un RTU tiene un economizer que usa free cooling cuando la temperatura exterior es menor que el retorno. ¿Cuándo es más efectivo?',options:['En primavera/otoño cuando la temp exterior está fresca pero el edificio necesita enfriamiento por calor interno (personas, equipos, luces)','Solo en verano','Solo en invierno','Nunca es efectivo'],correct:0,explanation:'El economizer es más valioso cuando hay carga interna de enfriamiento (luces, computadoras, personas) pero el aire exterior está fresco. El aire exterior gratis enfría sin usar el compresor. En pleno verano el aire está muy caliente. En invierno el edificio puede necesitar calefacción.'},
            {category:'Sistemas Comerciales',q:'Un sistema DX tiene un evaporador de 3 circuitos con TXV. Un circuito muestra escarcha pero los otros 2 están normales. ¿Causa?',options:['Bajo refrigerante afectando solo un circuito','El compresor es débil','El distribuidor tiene un tubo restringido en ese circuito, o la TXV no distribuye uniformemente','Todo el evaporador tiene problema'],correct:2,explanation:'Un circuito con escarcha mientras otros están normales = distribución desigual de refrigerante. El distribuidor (distributor) después de la TXV tiene tubos capilares que deben ser iguales. Si uno está restringido, ese circuito recibe menos refrigerante y se congela por bajo flujo.'},
            {category:'Códigos y Seguridad',q:'¿Cuál es la concentración máxima permisible de CO (monóxido de carbono) en el aire de supply de un furnace según estándares?',options:['100 PPM es aceptable','50 PPM es normal','No hay estándar para CO en supply air','0 PPM idealmente, <9 PPM air-free es aceptable, >200 PPM air-free requiere acción inmediata'],correct:3,explanation:'El supply air no debería tener CO. Si detectas CO en el supply: intercambiador rajado o crack en el heat exchanger. <9 PPM puede ser interferencia ambiental. >25 PPM investiga. >200 PPM es peligroso y requiere apagar el furnace inmediatamente.'},
            {category:'Códigos y Seguridad',q:'Según NEC, un circuito dedicado para un AC condensador requiere que el breaker sea:',options:['No más del 175% del MCA (Maximum Circuit Ampacity) del equipo, usando el MCA de la placa','Cualquier breaker disponible','Exactamente igual al RLA','El doble del FLA'],correct:0,explanation:'NEC: breaker máximo según placa del equipo (MOCP = Maximum Overcurrent Protection). Cable mínimo según MCA. Ejemplo: placa dice MCA 25A, MOCP 40A → usa cable para 25A mínimo y breaker de 40A máximo. NUNCA exceder el MOCP.'},
            {category:'Códigos y Seguridad',q:'Un técnico EPA Type II puede trabajar en:',options:['Solo automotriz','Equipos de alta presión (la mayoría de AC y heat pumps)','Cualquier equipo sin restricción','Solo equipos pequeños <5 lbs'],correct:1,explanation:'EPA Type I=pequeños electrodomésticos (<5 lbs). Type II=alta presión (AC, heat pumps, mayoría de sistemas). Type III=baja presión (chillers centrifugos). Universal=todos los tipos. La certificación correcta es OBLIGATORIA por ley federal.'},
            {category:'Códigos y Seguridad',q:'Al trabajar con R-410A, ¿por qué NUNCA debes usar un torch (soplete) para buscar fugas?',options:['Solo es prohibido con R-22','El torch no detecta fugas','No hay razón, el torch es aceptable','R-410A se descompone con calor produciendo gases tóxicos incluyendo ácido fluorhídrico'],correct:3,explanation:'Cualquier refrigerante HFC/HCFC expuesto a llama abierta se descompone en compuestos tóxicos incluyendo fosgeno y ácido fluorhídrico. Usa detectores electrónicos, UV dye, o solución de burbujas. NUNCA torch/halide leak detector con refrigerantes modernos.'},
            {category:'Electricidad',q:'Un motor trifásico de 460V está conectado en estrella (wye). Si cambias a delta, ¿qué voltaje necesita?',options:['265V (460/√3 = 265V para mantener el mismo voltaje por bobinado)','460V igual','208V','230V'],correct:0,explanation:'En estrella, cada bobinado ve V_linea/√3 = 460/1.732 = 265V. En delta, cada bobinado ve V_linea directamente. Para mantener 265V por bobinado en delta, necesitas 265V de línea. Si conectas delta a 460V, cada bobinado recibe 460V (73% más)=quemará las bobinas.'},
            {category:'Electricidad',q:'¿Cuál es la diferencia entre un breaker de 1 polo y uno de 2 polos?',options:['1 polo es residencial, 2 polos comercial','1 polo protege 1 fase (120V). 2 polos protege 2 fases (240V) y AMBOS polos se disparan juntos','1 polo es para DC, 2 polos para AC','No hay diferencia, solo el tamaño'],correct:1,explanation:'1 polo: una fase a neutral = 120V. 2 polos: dos fases = 240V. El mecanismo interno de 2 polos asegura que AMBOS polos se desconectan simultáneamente. Esto es crítico: si solo se abre un polo, el equipo pierde una fase pero sigue energizado parcialmente (peligroso para motores).'},
            {category:'Electricidad',q:'Un circuito tiene 3 cargas en paralelo: 10A, 8A, y 12A a 120V. ¿Cuál es el amperaje total y qué tamaño de breaker necesitas?',options:['20A','30A con breaker de 30A','30A total. Con 80% rule para carga continua: 30/0.80 = 37.5A → breaker de 40A con cable #8 AWG','10A'],correct:2,explanation:'Cargas en paralelo: corrientes se SUMAN = 10+8+12 = 30A total. NEC 80% rule para cargas continuas: 30/0.80 = 37.5A mínimo → breaker de 40A. Cable #8 AWG rated para 40A. Si cargas no son continuas (<3 horas), 30A breaker con #10 AWG puede ser suficiente.'},
            {category:'Mini-Split/Ductless',q:'Un mini-split tiene código de error F6: sensor de temperatura del evaporador. ¿Cómo verificas?',options:['Medir resistencia del termistor con multímetro y comparar con la tabla de temperatura/resistencia del fabricante','Reemplazar el sensor sin verificar','Ignorar el código y seguir operando','Reemplazar toda la tarjeta de control'],correct:0,explanation:'Verificar: 1) Conexión del sensor (puede estar desconectado o corroído), 2) Medir resistencia con multímetro (ej: 10kΩ a 77°F para NTC típico), 3) Comparar con tabla del fabricante. Si la resistencia está fuera de rango o es infinita/cero, reemplazar el sensor (~$10-30), no la tarjeta (~$200+).'},
            {category:'Mini-Split/Ductless',q:'¿Por qué un mini-split necesita vacío más profundo que un sistema split convencional?',options:['El refrigerante es diferente','Solo si las líneas son muy largas','No necesita vacío más profundo','Las líneas son preinstaladas con flares que tienen mayor riesgo de fuga microscópica, y los volúmenes son pequeños donde cualquier humedad tiene mayor impacto'],correct:3,explanation:'Los mini-splits tienen cargas de refrigerante pequeñas (2-5 lbs). Cualquier cantidad de humedad o aire representa un porcentaje mayor de contaminación. Además, las uniones flare son más susceptibles a fugas microscópicas. 500 micrones o menos, con decay test, es obligatorio.'},
            {category:'Mini-Split/Ductless',q:'Un mini-split multi-zone tiene 1 outdoor + 3 indoor. Solo una indoor no enfría. Las otras 2 funcionan bien. ¿Dónde está el problema?',options:['Compresor exterior débil','Problema local en esa unidad interior: sensor, tarjeta, o válvula de expansión electrónica de esa unidad','Thermostat central','Bajo refrigerante en todo el sistema'],correct:1,explanation:'Si 2 de 3 funcionan bien, el compresor y la carga de refrigerante están OK. El problema es específico de esa unidad interior: sensor de temp dañado, tarjeta de control de esa unidad, EEV de esa unidad stuck, o filtros tapados en esa unidad.'},
            {category:'Instalación',q:'¿Por qué se recomienda instalar el thermostat en una pared interior a 5 pies de altura, lejos de ventanas y registros?',options:['Por código eléctrico','Para que el cable alcance','Para que lea la temperatura promedio real del espacio sin influencia de sol directo, corrientes de aire, o calor/frío de paredes exteriores','Por estética'],correct:2,explanation:'Ubicación correcta = lectura correcta = confort correcto. Errores comunes: cerca de ventana soleada (lee caliente→AC no para), cerca de registro de supply (lee frío→AC para temprano), en pared exterior (influencia de calor/frío exterior), o en cocina (calor de cocinar).'},
            {category:'Instalación',q:'Al hacer el vacío a un sistema nuevo, ¿por qué abres las válvulas de servicio del condensador DESPUÉS del vacío y no antes?',options:['Porque la carga de fábrica del condensador se libera al abrir las válvulas. Si las abres antes del vacío, perderías refrigerante al evacuar','Las válvulas siempre están abiertas','El orden no importa','Se abren antes para ayudar al vacío'],correct:0,explanation:'El condensador viene con la carga de refrigerante sellada detrás de las válvulas de servicio (cerradas). Evacúas las líneas y el evaporador, verificas vacío con decay test, y LUEGO abres las válvulas para que el refrigerante fluya al sistema completo. Si abres antes, tendrías que recuperar todo el refrigerante para evacuar.'},
            {category:'Instalación',q:'¿Cuál es el largo máximo de drenaje horizontal antes de necesitar una trampa adicional?',options:['Cada 50 pies','Solo al final del drenaje','Cada 10-15 pies horizontales para prevenir que el aire bloquee el flujo por gravedad','No hay límite'],correct:2,explanation:'En recorridos horizontales largos, el aire puede bloquear el flujo de agua por gravedad (air lock). Una trampa cada 10-15 pies previene esto y mantiene el flujo. También la pendiente mínima de 1/4"/ft es crítica en todo el recorrido.'},
            {category:'Compresores',q:'Un compresor tiene terminal C (Common), S (Start), R (Run). La resistencia más alta siempre es entre:',options:['C y S','C y R','Varía sin patrón','S y R (porque es la suma de C-R + C-S)'],correct:3,explanation:'S-R siempre es la más alta porque la corriente pasa por AMBOS bobinados (Run+Start) en serie. C-R es la más baja. C-S es intermedia. Si S-R ≠ C-R + C-S (aproximadamente), hay corto entre bobinados.'},
            {category:'Compresores',q:'¿Cuál compresor es más eficiente a carga parcial: scroll o reciprocante?',options:['Scroll es más eficiente a carga completa pero pierde eficiencia a carga parcial comparado con reciprocante','Iguales','Reciprocante siempre','Scroll siempre'],correct:0,explanation:'Scroll no tiene válvulas de succión/descarga por lo que a carga parcial re-expande gas, perdiendo eficiencia. Los compresores scroll con modulación digital o inverter solucionan esto parcialmente.'},
            {category:'Diagnóstico',q:'Un AC corta por high pressure. Después de enfriar 10 min, arranca de nuevo. ¿Verificar en qué orden?',options:['1) Condensador sucio/obstruido, 2) Fan condensador, 3) Sobrecarga ref, 4) Non-condensables','1) Refrigerante bajo, 2) Thermostat','1) Compresor, 2) Board','1) Filtro interior, 2) Blower'],correct:0,explanation:'Alta presión=problema de condensación. Lo más común y fácil primero: condensador limpio? Fan girando a velocidad correcta? Luego: sobrecarga ref? Aire en el sistema?'},
            {category:'Diagnóstico',q:'Furnace enciende pero blower no arranca. Después de 2 min, limit switch corta el burner. ¿Causa?',options:['Thermostat en OFF','Blower delay relay defectuoso, board no envía señal al blower, motor/cap del blower','Ignitor débil','Válvula gas mala'],correct:1,explanation:'La secuencia normal: burner enciende, después de 30-90 seg delay el blower arranca. Si el blower no arranca, el heat exchanger se sobrecalienta y el limit corta. Verificar: relay/board→voltaje al motor→capacitor→motor.'},
            {category:'Diagnóstico',q:'Un sistema tiene carga correcta verificada por peso. Pero SH es 25°F y SC es 3°F. ¿Qué más puede causar estos valores?',options:['Restricción en línea de líquido (drier tapado, king valve parcialmente cerrada, crimp en el tubo)','Solo bajo refrigerante causa esto','Compresor débil','El peso de la carga es incorrecto'],correct:0,explanation:'Restricción antes del metering device causa: SH alto (menos refrigerante llega al evaporador) y SC bajo (flash gas antes de la restricción). Si la carga por peso es correcta, busca restricciones.'},
            {category:'Diagnóstico',q:'Un compresor arranca, las presiones se separan momentáneamente, pero luego se ecualizan con el compresor corriendo. ¿Dx?',options:['Válvula de descarga dañada: permite que gas regrese al cilindro después de cada carrera','Bajo refrigerante','Condensador sucio','TXV cerrada'],correct:0,explanation:'Las presiones que se separan brevemente y regresan indican que el compresor intenta comprimir pero el gas regresa por válvulas dañadas. Diferente de un compresor que nunca separa presiones (rotación inversa en scroll).'},
            {category:'Electricidad',q:'¿Por qué algunos sistemas usan un crankcase heater con temporizador que lo apaga durante la operación?',options:['Cuando el compresor opera, el calor del motor mantiene el aceite caliente. El heater solo se necesita cuando el compresor está APAGADO','El heater consume mucha energía','Por regulación EPA','Para proteger el compresor del sobrecalentamiento'],correct:0,explanation:'El crankcase heater previene migración de refrigerante al aceite cuando está apagado. Durante operación, el calor del motor hace esta función. Timer apaga heater=ahorro energético. Algunos usan sensor de temperatura en vez de timer.'},
            {category:'Electricidad',q:'¿Qué mide un wattímetro que un amperímetro no puede?',options:['Resistencia','Potencia REAL (watts) considerando el factor de potencia, no solo la corriente aparente','Voltaje','Frecuencia'],correct:1,explanation:'Amp × Volt = VA (aparente). Watts reales = VA × PF. Un motor de 10A a 240V (2,400 VA) con PF 0.85 solo consume 2,040W reales. El wattímetro lee 2,040W directamente. El amperímetro no te dice el PF.'},
            {category:'Electricidad',q:'Un GFCI (Ground Fault Circuit Interrupter) trip en el circuito del condensador. ¿Qué significa?',options:['El GFCI es incompatible con motores','Corriente de fuga a tierra >5mA detectada: posible cable dañado, motor con aislamiento malo, o agua en una conexión','El sistema usa mucha corriente','Cortocircuito entre fases'],correct:1,explanation:'GFCI detecta diferencia entre hot y neutral >5mA (corriente que va a tierra). Causas: cable pelado tocando conduit, motor con aislamiento degradado, agua en caja de conexiones, o GFCI inadecuado para cargas con motor (algunos GFCIs trip con inrush normal).'},
            {category:'Mantenimiento',q:'¿Por qué es importante medir el amperaje del compresor en CADA mantenimiento?',options:['Permite detectar tendencias: si el amperaje sube gradualmente visita a visita, indica degradación antes de la falla total','Solo importa si el cliente se queja','El amperaje nunca cambia','Solo se mide en la instalación'],correct:0,explanation:'Baseline comparisons: si el compresor jalaba 15A el año pasado y ahora jala 17A con mismas condiciones, algo está cambiando (bearings, bobinados, pérdida de eficiencia mecánica). Detectar tendencias previene fallas sorpresa.'},
            {category:'Mantenimiento',q:'Un cliente tiene un contrato de mantenimiento anual. ¿Cuántas visitas mínimas son estándar?',options:['Solo cuando algo falla','1 visita al año','4 visitas (cada cambio de estación)','2 visitas: una pre-cooling (primavera) para el AC y una pre-heating (otoño) para calefacción'],correct:3,explanation:'Estándar: 2 visitas. Primavera: AC (condensador, refrigerante, eléctrico, filtro). Otoño: furnace/HP (combustión, intercambiador, ignición, safety controls). Algunos clientes premium pagan 4 visitas con cambios de filtro intermedios.'},
            {category:'Mantenimiento',q:'Al limpiar un condensador, ¿la presión de agua máxima recomendada es?',options:['500 PSI para limpieza profunda','~200 PSI máximo. Más alta dobla las aletas y daña el serpentín','No hay límite','1,000 PSI con hidrolavadora'],correct:1,explanation:'Aletas de aluminio son frágiles. ~200 PSI con boquilla de abanico ancho es suficiente. Hidrolavadoras de 1,000+ PSI doblan aletas y pueden perforar tubos. Mejor: chemical cleaner primero, luego enjuague suave de adentro hacia afuera.'},
            {category:'Principios Refrigeración',q:'Si AMBOS el superheat Y el subcooling son más altos de lo normal, ¿qué indica?',options:['Condensador sucio','Bajo refrigerante','Exceso de refrigerante','Restricción en el metering device o línea de líquido (menos refrigerante pasa al evaporador, más se acumula en el condensador)'],correct:3,explanation:'Restricción: menos ref pasa al evap→SH alto. Más ref se acumula en condensador/receiver→SC alto. Bajo ref: ambos BAJOS. Exceso: SC alto pero SH bajo. Condensador sucio: alta descarga, SC puede ser bajo.'},
            {category:'Principios Refrigeración',q:'¿Por qué los sistemas R-410A son más sensibles a la contaminación por humedad que los de R-22?',options:['El aceite POE de R-410A es higroscópico y reacciona con humedad formando ácidos más rápidamente que el aceite mineral de R-22','Las presiones más altas empujan la humedad','Los componentes son más débiles','R-410A absorbe más humedad'],correct:0,explanation:'Aceite mineral (R-22) absorbe poca humedad. POE (R-410A) absorbe humedad agresivamente y forma ácidos que corroen bobinados del compresor. Por eso la evacuación profunda (<500µ) es CRÍTICA en R-410A.'},
            {category:'Psicrometría',q:'Un humidificador de tipo bypass en un furnace: ¿cómo funciona?',options:['Agrega vapor de un tanque presurizado','Desvía una porción del aire caliente del supply a través de un pad húmedo y lo reintroduce al return, agregando humedad','Rocía agua en los ductos','Hierve agua y la inyecta'],correct:1,explanation:'El damper bypass abre cuando el humidistat llama. Aire caliente del supply pasa por el evaporator pad mojado, absorbe humedad, y regresa al return. Es simple y económico pero depende de que el furnace esté operando para funcionar.'},
            {category:'Psicrometría',q:'En un clima muy seco (Phoenix, AZ), un evaporative cooler (swamp cooler) es efectivo. ¿Por qué NO funciona en clima húmedo?',options:['No puede enfriar lo suficiente','Es prohibido en climas húmedos','Usa demasiada agua','La evaporación de agua requiere aire seco. En alta humedad, el agua no evapora eficientemente y el aire sale húmedo y caliente en vez de frío'],correct:3,explanation:'Evaporative cooling: agua evapora→absorbe calor→enfría aire. Funciona cuando DB-WB spread es grande (aire seco). En humedad alta, el spread es pequeño, poca evaporación, poco enfriamiento. En Phoenix (WB 65°F cuando DB 110°F)=45°F de enfriamiento potencial. En Houston (WB 78°F cuando DB 95°F)=solo 17°F.'},
            {category:'Sistemas',q:'¿Qué es un sistema VVT (Variable Volume and Temperature) y cómo difiere de VAV?',options:['VVT es para residencial','VVT solo varía temperatura','VVT varía tanto el volumen como la temperatura del aire a cada zona; VAV solo varía el volumen','Son lo mismo'],correct:2,explanation:'VAV: temperatura del aire constante, solo cambia la cantidad. VVT: puede cambiar cantidad Y temperatura usando zone dampers con recalentamiento o enfriamiento local. VVT es más flexible pero más complejo y costoso.'},
            {category:'Sistemas',q:'Un sistema DX vs un sistema de agua helada (chilled water): ¿cuál es más eficiente para edificios grandes?',options:['Depende solo del clima','Agua helada generalmente más eficiente en edificios grandes: chillers centralizados más eficientes + agua transporta más energía por volumen que refrigerante','DX siempre más eficiente','Iguales'],correct:1,explanation:'En edificios grandes: chiller central opera con mejor eficiencia (kW/ton) que múltiples unidades DX. El agua transporta calor eficientemente por tubería. Los sistemas DX son más simples y económicos para edificios pequeños/medianos.'},
            {category:'Códigos y Seguridad',q:'¿Cuál es la distancia mínima de un condensador a gas LP (propano) tank según código?',options:['3 pies','10 pies mínimo para evitar ignición de posibles fugas de gas por arco eléctrico del contactor/compresor','No hay distancia mínima','Solo si el tank es >500 galones'],correct:1,explanation:'NFPA 58 requiere distancias de fuentes de ignición a tanques LP. El contactor del condensador puede generar arco al cerrar/abrir. 10 pies es la distancia comúnmente aplicada. Verificar código local que puede ser más estricto.'},
            {category:'Códigos y Seguridad',q:'Un sistema de >50 lbs de refrigerante fuga. ¿Cuántos días tiene el propietario para reparar según EPA Section 608?',options:['30 días para reparar o un plan de retiro del equipo','Sin límite de tiempo','24 horas','90 días'],correct:0,explanation:'EPA: reparar la fuga dentro de 30 días de descubrimiento. Si no se puede reparar en 30 días, debe tener un plan documentado de retiro del equipo. Las verificaciones post-reparación son obligatorias para confirmar que la fuga se resolvió.'},
            {category:'Instalación',q:'Al vaciar líneas de un sistema nuevo con nitrógeno antes de evacuar, ¿a cuánto PSI soplas y por qué?',options:['150 PSI para presurizar todo','Solo al vacío sin nitrógeno','50 PSI estándar','2-5 PSI para purgar aire y humedad. NO alta presión que podría dañar componentes o ser peligrosa'],correct:3,explanation:'Flujo bajo (2-5 PSI, apenas soplando) para desplazar aire y humedad antes de conectar la bomba de vacío. La purga NO reemplaza la evacuación con bomba. Alta presión no es necesaria ni segura para purga.'},
            {category:'Instalación',q:'¿Cuál es la pendiente mínima de la línea de succión horizontal para retorno de aceite al compresor?',options:['1/2" de caída por cada 10 pies en dirección del flujo (hacia el compresor) para que la gravedad ayude al retorno de aceite','Pendiente hacia arriba','1" por pie','Sin pendiente, el refrigerante arrastra el aceite'],correct:0,explanation:'La velocidad del gas de succión arrastra aceite, pero la pendiente ayuda. Sin pendiente o con pendiente contraria, el aceite se acumula en puntos bajos. En líneas verticales, usa trampas de aceite cada 15-20 pies.'},
            {category:'Servicio al Cliente',q:'El cliente dice que quiere poner un filtro MERV 16 \'para la alergia\'. Su sistema tiene un blower PSC estándar. ¿Qué le dices?',options:['Un MERV 16 puede restringir demasiado el flujo para su blower PSC. Recomiendo MERV 11-13 que filtra bien sin dañar el sistema. O considerar un purificador de aire electrónico','Claro, instálelo sin problema','No importa el MERV','Solo use MERV 1'],correct:0,explanation:'MERV alto + PSC = disaster: alta presión estática, bajo flujo, evaporador congelado, compresor sobrecargado. MERV 11-13 captura la mayoría de alérgenos. Para más filtración: purificador electrónico con baja caída de presión, o upgrade a ECM blower.'},
            {category:'Servicio al Cliente',q:'Al entregar un trabajo de instalación, ¿qué documentación mínima debe recibir el cliente?',options:['Nada adicional, solo la garantía verbal','Solo la factura','Manual del equipo, garantías (fabricante + mano de obra), registro de carga de refrigerante, Manual J si es nueva instalación, y hoja de datos de comisionamiento con todas las mediciones','Manual del thermostat'],correct:2,explanation:'Documentación profesional protege al cliente Y a ti: Manual J prueba dimensionamiento correcto, datos de comisionamiento establecen baseline, registro de garantía (REGISTRAR con el fabricante), carga de refrigerante documentada para referencia futura.'},
            {category:'Válvulas y Accesorios',q:'Un EPR (Evaporator Pressure Regulator) se instala en la línea de succión de un evaporador multi-temp. ¿Su función?',options:['Mantener presión mínima en el evaporador para prevenir que la temperatura baje demasiado (ej: en un cooler de flores que no debe congelar)','Regular presión de descarga','Prevenir slugging','Controlar flujo de aceite'],correct:0,explanation:'En sistemas con múltiples evaporadores a diferentes temperaturas (walk-in cooler + freezer en el mismo rack), el EPR mantiene la presión del cooler arriba del punto de congelamiento mientras el freezer opera a presión baja. Sin EPR, el cooler congelaría los productos.'},
            {category:'Válvulas y Accesorios',q:'Una válvula de expansión termostática tiene un ajuste de superheat factory set a 10°F. ¿Se puede ajustar en campo?',options:['Sí, girando el tornillo de ajuste del spring (sentido horario=más SH, antihorario=menos), pero con precaución y medición','No, nunca se ajusta','Solo se reemplaza por otra TXV','Solo el fabricante puede ajustar'],correct:0,explanation:'Clockwise=más tensión del spring=requiere más presión del bulbo para abrir=más SH. Counterclockwise=menos SH. Ajustar en incrementos de 1/4 de vuelta, esperar 10-15 min, y medir. No ajustar más de 2 vueltas del factory set sin consultar al fabricante.'},
            {category:'Diagnóstico con Instrumentos',q:'Un clamp-on ammeter puede leer corriente sin abrir el circuito porque detecta:',options:['Calor del cable','Vibración del cable','El campo magnético generado alrededor del conductor por la corriente que fluye','Voltaje inductivo'],correct:2,explanation:'Corriente eléctrica genera campo magnético proporcional. La pinza amperimétrica tiene un transformador de corriente que detecta este campo. Por eso debes medir UN solo conductor: dos conductores con corriente opuesta cancelan el campo.'},
            {category:'Diagnóstico con Instrumentos',q:'Mides continuidad entre C-R del compresor: 0.3Ω. Entre C-S: 0.8Ω. Entre S-R: 1.0Ω. ¿El compresor está bien?',options:['No se puede determinar sin megger','No, S-R debería ser exactamente 1.1','Sí: C-R(0.3)+C-S(0.8)=1.1≈S-R(1.0). La pequeña diferencia es aceptable por precisión del metro','No, las resistencias son demasiado bajas'],correct:2,explanation:'S-R≈C-R+C-S es la regla. 1.0 vs 1.1 es <10% diferencia=aceptable por precisión del multímetro y temperatura. Las resistencias bajas (<1Ω para Run) son normales en compresores grandes. Confirma con megger para aislamiento a tierra.'},
            {category:'Diagnóstico con Instrumentos',q:'Tu multímetro lee 248V en el disconnect de un condensador rated 208-230V. ¿Está dentro del rango aceptable?',options:['No, 248V es peligroso','Marginal: 248V es 8% sobre 230V nominal. El rango estándar es ±10% (207-253V). Está dentro pero en el alto. Monitorear','El multímetro está mal calibrado','Sí, perfectamente normal'],correct:1,explanation:'±10% de 230V = 207-253V. 248V está dentro pero alto. Verificar bajo carga (puede bajar). Si el voltaje está consistentemente alto, puede indicar problema de la compañía eléctrica o un tap incorrecto en el transformador del panel.'},
            {category:'Controles y Componentes',q:'Un potential relay (SPP) desconecta el start capacitor basándose en:',options:['El voltaje inducido (back-EMF) en el bobinado Start que aumenta conforme el motor acelera','La temperatura del compresor','El amperaje del motor','Un temporizador fijo'],correct:0,explanation:'Cuando el motor alcanza ~75% de velocidad, el back-EMF en el bobinado Start sube lo suficiente para energizar la bobina del potential relay, que ABRE sus contactos NC y desconecta el start cap. Si el relay falla cerrado, el start cap se quema. Si falla abierto, el motor no arranca.'},
            {category:'Controles y Componentes',q:'Un hard start kit tiene un start capacitor y un potential relay (o PTC). ¿Cuándo lo necesitas?',options:['Cuando el compresor tiene dificultad para arrancar: bajo voltaje, presiones no ecualizadas, tuberías largas, o compresor envejecido','En todos los sistemas nuevos','Solo en sistemas comerciales','Solo en trifásico'],correct:0,explanation:'El hard start aumenta torque de arranque en 300-500%. Se necesita cuando: voltaje en el límite bajo, líneas largas (más presión contra la que arrancar), compresores al final de vida, o después de cortes de energía donde las presiones no ecualizaron.'},
            {category:'Controles y Componentes',q:'¿Cuál es la diferencia entre un presostato de corte (cut-out) y uno de diferencial (differential)?',options:['Differential es más preciso','Son lo mismo','Cut-out es la presión donde el switch ABRE. Differential es cuánto debe BAJAR la presión para que el switch CIERRE de nuevo','Cut-out es para alta, differential para baja'],correct:2,explanation:'Ejemplo: HP cut-out=400 PSI, differential=100 PSI. El switch abre a 400 PSI y no cierra hasta que baja a 300 PSI (400-100). Esto previene rapid cycling. LP: cut-in=similar concepto para baja presión.'},
            {category:'Controles y Componentes',q:'Un defrost timer electromecánico tiene 4 terminales típicos. ¿Cuáles son?',options:['1 terminal + tierra','Line (alimentación), neutral, timer motor, y contacts (a compresor y defrost heater)','Solo 2 terminales','8 terminales estándar'],correct:1,explanation:'Timer: 1-2=alimentación motor timer (corre siempre). 3-4=contactos que alternan entre compresor (normal) y defrost heater (defrost). Al entrar en defrost, desconecta compresor y conecta heaters. Al terminar, reconecta compresor.'},
            {category:'Sistemas Comerciales',q:'¿Qué es un \'floating head pressure\' control y por qué se usa?',options:['Sube presión en días calientes','Mantiene presión constante siempre','Permite que la presión de descarga baje cuando el ambiente está frío, reduciendo trabajo del compresor y ahorrando energía','Solo para R-22'],correct:2,explanation:'Tradicionalmente se mantiene head pressure alta para que el metering device funcione. Floating head permite que baje con el clima frío, reduciendo compression ratio y ahorrando 2-5% de energía por cada 10°F de reducción. Requiere EEV que opere a presiones variables.'},
            {category:'Sistemas Comerciales',q:'En un sistema de rack con múltiples compresores, ¿cómo se controla la capacidad?',options:['El primer compresor controla a los demás','Se controlan por temperatura del cuarto directamente','Todos funcionan siempre','Los compresores se encienden/apagan secuencialmente según la presión de succión para mantener la temperatura deseada'],correct:3,explanation:'El controlador del rack monitorea presión de succión (que refleja la carga térmica). Si la presión sube (más calor), enciende otro compresor. Si baja (menos calor), apaga uno. Balanceo de horas de operación asegura desgaste uniforme entre compresores.'},
            {category:'Diagnóstico',q:'Un sistema tiene alta presión descarga y baja succión simultáneamente. Amperaje alto. ¿Dx?',options:['Restricción en el metering device o línea líquido: refrigerante no pasa al evaporador','Bajo refrigerante','Condensador sucio','Exceso refrigerante'],correct:0,explanation:'Restricción: alta acumulación antes + baja después. Diferente de condensador sucio (alta desc pero succión puede ser normal/alta).'},
            {category:'Diagnóstico',q:'AC produce aire a 65°F supply pero el delta T es solo 12°F (retorno 77°F). ¿Problema?',options:['Evaporador sucio','Compresor débil','Exceso flujo de aire: blower en velocidad demasiado alta para el tamaño del sistema','Bajo refrigerante'],correct:2,explanation:'Delta T bajo con supply frío=demasiado CFM. El aire no permanece sobre el evaporador suficiente tiempo. Verificar velocidad del blower y comparar con 400 CFM/ton recomendado.'},
            {category:'Diagnóstico',q:'Un furnace de 2 etapas funciona en primera etapa pero nunca sube a segunda. Thermostat pide W2 correctamente (24V en W2 del thermostat). ¿Verificar?',options:['Solo reemplazar válvula gas','Board siempre defectuoso','24V en terminal W2 del control board. Si no hay: cable roto o board defectuoso. Si hay: verificar que el board envía señal a la válvula gas segunda etapa','Reemplazar thermostat'],correct:2,explanation:'Rastrear señal: Thermostat(W2)→cable→board(W2 input)→board procesa→board(output a válvula 2da etapa). Verifica voltaje en cada punto para aislar la falla.'},
            {category:'Electricidad',q:'Un motor de condensador tiene 4 cables: marrón(L1), marrón(L2), púrpura(C-común), amarillo(capacitor). ¿Cómo verificar si el capacitor está descargado antes de medirlo?',options:['No es necesario verificar','El capacitor se descarga solo','Cortocircuitar terminales con resistor de descarga o poner multímetro en DC volts: si lee voltaje, está cargado','Solo tocar los terminales'],correct:2,explanation:'Capacitores almacenan carga que puede dar descarga dolorosa. Usar resistor de 20kΩ/5W para descargar, o verificar con multímetro en DC volts. Si lee >10V, descargar antes de medir µF.'},
            {category:'Electricidad',q:'¿Qué es un \'floating neutral\' y por qué es peligroso para equipos HVAC?',options:['Técnica de cableado moderna','Conexión neutral suelta/perdida que causa voltaje desbalanceado: un lado puede subir a 150V+ y el otro bajar a 80V, dañando equipos','Neutral que no está conectado a tierra','Un tipo de interruptor'],correct:1,explanation:'Sin neutral sólido, los voltajes de las dos piernas se desbalancean según las cargas. Una pierna puede subir a 150-160V mientras la otra baja a 80-90V. Motores y electrónica se dañan. Causa: neutral suelto en panel, poste, o meter.'},
            {category:'Mantenimiento',q:'¿Cuándo debes reemplazar un contactor del condensador proactivamente?',options:['Cada 5 años fijo','Solo cuando falla','Solo si hace ruido','Cuando los contactos muestran picaduras visibles (pitting), decoloración, o se pegan al cerrar'],correct:3,explanation:'Contactores degradan gradualmente: contactos picados aumentan resistencia→más calor→más degradación. Inspecciona visualmente en cada mantenimiento. Reemplazar proactivamente es más barato que la llamada de emergencia cuando falla.'},
            {category:'Mantenimiento',q:'Al verificar carga en un sistema con TXV en un día de 105°F, notas SC=18°F. ¿Es sobrecargado?',options:['No necesariamente: en días muy calientes, SC puede ser más alto de lo normal porque el condensador trabaja más. Compara con el target del fabricante para 105°F','Sí, definitivamente sobrecargado','Solo es problema si >25°F','SC no cambia con la temperatura'],correct:0,explanation:'En días extremadamente calientes, la presión de descarga sube y puede aumentar el subcooling. El target del fabricante ajusta por condiciones. SC 18°F puede ser perfectamente normal a 105°F exterior para algunos sistemas.'},
            {category:'Instalación',q:'Al pasar líneas de refrigerante por un ático, ¿cómo las proteges?',options:['Solo la succión necesita aislamiento','Solo la línea de líquido','No necesitan protección en ático','Aislar ambas líneas (succión obligatorio, líquido recomendado en áticos calientes) y proteger de daño mecánico'],correct:3,explanation:'En áticos que llegan a 150°F+: la línea de líquido gana calor causando flash gas si no se aísla. La succión SIEMPRE se aísla para mantener eficiencia y prevenir condensación. Proteger mecánicamente de roedores y pisadas accidentales.'},
            {category:'Códigos y Seguridad',q:'El Mechanical Code requiere un secondary drain pan bajo un air handler en un ático o closet sobre espacio habitable. ¿Por qué?',options:['Es solo decorativo','Requerimiento de garantía, no de código','Para reducir vibración','Si el drenaje primario se tapa, el secondary pan captura el agua antes de que dañe el techo/piso/paredes del espacio inferior'],correct:3,explanation:'El secondary pan con drain separado o switch de seguridad (float switch que apaga el sistema) previene daño por agua. Es CÓDIGO, no opcional. El float switch es más confiable porque apaga el sistema si el primary falla, evitando daño.'},
            {category:'Diagnóstico con Instrumentos',q:'Mides voltaje con el sistema encendido entre L1 y neutral: 122V. Entre L1 y ground: 122V. Entre neutral y ground: 2V. ¿Hay problema?',options:['Neutral-ground de 2V es aceptable (<5V). Si fuera >5V indicaría neutral cargado con corriente por mala conexión','Sí, 2V es peligroso','Todo está perfecto (debería ser 0V)','Ground está suelto'],correct:0,explanation:'En un sistema cargado, <5V entre neutral y ground es aceptable por la caída de voltaje normal en el conductor neutral. >5V indica neutral con alta resistencia (conexión suelta) o cargado excesivamente. 0V exacto solo ocurre sin carga.'},
            {category:'Principios Refrigeración',q:'El \'heat of compression\' se agrega al refrigerante en el compresor. ¿A dónde va eventualmente?',options:['Se queda en el refrigerante permanentemente','Se rechaza en el condensador junto con el calor absorbido del espacio acondicionado','Se pierde al ambiente a través del compresor','Regresa al evaporador'],correct:1,explanation:'El condensador rechaza: calor absorbido en evaporador + calor de compresión. Por eso el condensador siempre rechaza MÁS BTU que los que el evaporador absorbe. La diferencia es el calor de compresión (trabajo del motor).'},
            {category:'Sistemas',q:'Un sistema package heat pump (todo en uno en el techo). ¿Ventaja sobre split system?',options:['Instalación más simple: sin líneas de refrigerante en campo, sin vacío en campo, carga de fábrica sellada','Más barato siempre','Siempre más eficiente','Más silencioso'],correct:0,explanation:'Packaged: todo conectado de fábrica=sin posibilidad de error en líneas de refrigerante, sin evacuación en campo. Desventaja: menos eficiente generalmente, más difícil de servir en techo, ductos pueden ganar calor en ático.'},
            {category:'Refrigerantes',q:'¿Cuál es el líquido de servicio correcto para presurizar un sistema para buscar fugas?',options:['Aire comprimido del taller','Oxígeno industrial','CO2','Nitrógeno seco con regulador. NUNCA aire comprimido (humedad+aceite), NUNCA oxígeno (explosivo con aceite), NUNCA refrigerante para prueba'],correct:3,explanation:'Nitrógeno: seco, inerte, no inflamable. Aire comprimido contiene humedad y aceite del compresor. Oxígeno con aceite de refrigeración puede EXPLOTAR. CO2 puede solidificarse en el metering device. Siempre N2 con regulador a presión especificada.'},
            {category:'Controles y Componentes',q:'Un liquid line solenoid valve (LLSV) se queda cerrada cuando debería abrir. ¿Síntomas?',options:['El condensador se apaga','Solo un poco menos frío','No hay síntoma notable','Presión de succión cae a vacío, compresor sigue corriendo contra vacío, overload se dispara o presostato de baja corta'],correct:3,explanation:'LLSV cerrada=no fluye refrigerante al evaporador=la presión de succión baja rápidamente a vacío. Si el presostato de baja no corta, el compresor puede dañarse operando en vacío. Verificar 24V en la bobina de la solenoide.'},
            {category:'Ductos y Flujo de Aire',q:'¿Cuántos CFM por tonelada es el estándar para sistemas residenciales?',options:['600 CFM/ton','No hay estándar','400 CFM/ton (±50 CFM) como regla general','200 CFM/ton'],correct:2,explanation:'400 CFM/ton es el estándar. 350 CFM/ton=mejor deshumidificación pero más frío. 450 CFM/ton=menos deshumidificación pero más confortable para temperatura. En climas húmedos: 350-380 CFM/ton. En climas secos: 400-450 CFM/ton.'},
            {category:'Eficiencia Energética',q:'¿Cuánto puede ahorrar un programmable thermostat correctamente configurado?',options:['<1%, insignificante','50% garantizado','10-15% en costos de calefacción/enfriamiento según DOE ajustando temp 7-10°F por 8 horas al día','30-40%'],correct:2,explanation:'DOE estima 10-15% para ajuste de 7-10°F durante 8 horas (trabajo/dormir). Realidad: depende de clima, aislamiento, y que el programa se USE correctamente. Muchos clientes no programan el thermostat, perdiendo el ahorro.'},
            {category:'Mini-Split/Ductless',q:'Un condensador de mini-split montado en pared vs en piso. ¿Cuál es más eficiente?',options:['Pared siempre mejor','Piso siempre mejor','Sin diferencia alguna','Montaje en pared puede ser ligeramente más eficiente por mejor flujo de aire sin obstrucciones del suelo, pero la diferencia es mínima vs la conveniencia'],correct:3,explanation:'Montaje en pared: mejor ventilación, fuera de alcance de mascotas/niños/vegetación, menos obstrucción por nieve. Piso: más fácil de servir, vibraciones amortiguadas por pad. Ambos son aceptables si se respetan las distancias mínimas del fabricante.'},
            {category:'Códigos y Seguridad',q:'¿Cuál es la razón #1 de muertes de técnicos HVAC en el campo?',options:['Accidentes de tráfico','Quemaduras','Exposición a refrigerante','Electrocución, seguida de caídas de techos/escaleras'],correct:3,explanation:'Electrocución es el riesgo mortal #1. LOTO siempre. Verificar voltaje antes de tocar. No asumir que está apagado. Caídas de techos es #2. Usar arnés en techos inclinados o altura >6 pies. La prevención salva vidas.'},
            {category:'Diagnóstico Avanzado',q:'Un compresor tiene winding resistance: C-R=1.2Ω, C-S=2.1Ω, S-R=3.2Ω. Megger C-ground=50MΩ, S-ground=50MΩ, R-ground=50MΩ. ¿Evaluación?',options:['Compresor en buenas condiciones: S-R≈C-R+C-S (3.3≈3.2 OK), y aislamiento a tierra >1MΩ en todos los terminales','Bobinado en corto','Aislamiento malo','No se puede evaluar'],correct:0,explanation:'Resistencias: 1.2+2.1=3.3 vs medido 3.2=diferencia <5%=normal. Megger: 50MΩ en los 3 terminales>>1MΩ mínimo=excelente aislamiento. Este compresor está en buenas condiciones eléctricas. Ahora verifica mecánicamente (presiones, amperaje).'},
            {category:'Diagnóstico Avanzado',q:'Un técnico dice: \'El subcooling indica la carga y el superheat indica el metering device.\' ¿Es correcto con TXV?',options:['Simplificado pero esencialmente correcto: con TXV, SC verifica carga y SH verifica funcionamiento de la TXV','Solo aplica a pistón','SC indica metering, SH indica carga','Completamente incorrecto'],correct:0,explanation:'Con TXV: la TXV controla SH automáticamente (target fijo). Si SH es incorrecto, es problema de la TXV (o bulbo). El SC varía con la cantidad de refrigerante. Esta simplificación es útil para diagnóstico rápido, aunque en realidad ambos parámetros están interrelacionados.'},
            {category:'Tubería y Soldadura',q:'Al soldar tubo 7/8" de cobre, ¿cuántas BTU de antorcha necesitas aproximadamente?',options:['Solo una vela es suficiente','Solo mapp gas funciona','Air-acetylene para 7/8" requiere tip mediano-grande. Para >1" típicamente necesitas oxi-acetileno','El mismo tip que para 1/4"'],correct:2,explanation:'Tubos más grandes necesitan más calor para llevar toda la junta a temperatura de braze. Air-acetylene funciona hasta ~1-1/4". Oxi-acetileno para >1" o tubos con masa térmica grande.'},
            {category:'Eficiencia Energética',q:'¿Cuál es la vida útil promedio de un AC residencial bien mantenido?',options:['Indefinida con mantenimiento','5-7 años','15-20 años','25-30 años'],correct:2,explanation:'15-20 años es típico. Con excelente mantenimiento puede llegar a 20+. Sin mantenimiento, 8-12 años. Factores: clima (costa=corrosión), calidad instalación, carga correcta, y mantenimiento regular.'},
            {category:'Herramientas',q:'¿Para qué se usa un UV dye kit en HVAC?',options:['Para verificar calidad del aceite','Se inyecta tinte UV al sistema. Con lámpara UV, las fugas brillan verde/amarillo donde el refrigerante escapa','Para limpiar evaporadores','Para medir UV del sol'],correct:1,explanation:'UV dye es permanente y circula con el refrigerante. Cualquier punto de fuga muestra fluorescencia con la lámpara UV. Efectivo para fugas pequeñas y difíciles de localizar. Se puede usar junto con detector electrónico.'},
            {category:'Herramientas',q:'¿Cuál es la ventaja de mangueras con válvulas de bola (ball valve) vs estándar?',options:['Permiten mayor flujo','Solo estéticas','Más baratas','Cierran en el punto de conexión, eliminando la pérdida de refrigerante al desconectar (low-loss fittings)'],correct:3,explanation:'Low-loss: la válvula cierra antes de desconectar, atrapando el refrigerante en la manguera. Mangueras estándar pierden el contenido de la manguera cada vez (~2-3 oz por set). Requerido por EPA para reducir emisiones.'},
            {category:'Bombas de Calor',q:'¿Qué indica una prueba de \'4-way valve bypass\'? Se mide temp en los 4 tubos durante operación.',options:['Si todos los tubos están fríos es normal','Si 2 tubos que deberían tener temps muy diferentes tienen temps similares, la válvula tiene fuga interna (bypass)','Solo funciona en modo enfriamiento','La prueba no es confiable'],correct:1,explanation:'4-way valve OK: tubos de descarga y succión tienen gran diferencia de temp. Bypass interno: gas caliente pasa directamente de descarga a succión dentro de la válvula=temps se acercan. Pérdida de capacidad en ambos modos.'},
            {category:'Bombas de Calor',q:'¿Por qué un HP en modo calefacción produce condensado en el serpentín EXTERIOR?',options:['En calefacción, el serpentín exterior es el evaporador (frío). La humedad del aire exterior condensa y puede congelarse en días fríos','No produce condensado exterior','Solo si tiene fuga','Error de instalación'],correct:0,explanation:'Exactamente como el evaporador interior produce condensado en enfriamiento. El aire exterior pasa sobre el serpentín frío, humedad condensa. Si la temp del serpentín baja de 32°F, se forma escarcha→necesita defrost.'},
            {category:'Bombas de Calor',q:'El defrost de un HP dura 3-10 minutos. Durante ese tiempo, ¿qué pasa con la presión de descarga?',options:['Sube rápidamente porque el gas caliente va al serpentín exterior para derretir el hielo','Baja a cero','Se mantiene igual','El compresor se apaga'],correct:0,explanation:'En defrost: la válvula reversible cambia a modo \'enfriamiento\' temporalmente, enviando gas caliente al serpentín exterior para derretir hielo. Descarga sube, el serpentín exterior se calienta, hielo se derrite, agua drena. Luego regresa a modo calefacción.'},
            {category:'Diagnóstico con Instrumentos',q:'¿Por qué medir voltaje CON CARGA (sistema encendido) y no solo sin carga?',options:['Solo importa para trifásico','El multímetro no mide bajo carga','Sin carga da la misma lectura','El voltaje puede caer significativamente bajo carga si hay conexiones sueltas, cables subdimensionados, o transformador débil'],correct:3,explanation:'Sin carga: el voltaje puede leer 240V perfecto. Con carga: si hay conexión suelta o cable con alta resistencia, el voltaje cae (ej: a 215V). Esta caída causa problemas que no verías midiendo solo sin carga. SIEMPRE mide bajo operación normal.'},
            {category:'Diagnóstico con Instrumentos',q:'Un termómetro infrarrojo (IR gun) mide la temperatura de la línea de succión 8°F más alta que un termómetro de contacto. ¿Por qué?',options:['El termómetro de contacto está mal','Ambos deberían leer igual','El IR mide la superficie del AISLAMIENTO, no del tubo. El contacto mide el tubo directamente debajo del aislamiento','El IR es impreciso'],correct:2,explanation:'IR mide la superficie a la que apuntas. Si apuntas al aislamiento, lees la temp del aislamiento (más caliente que el tubo). Para mediciones precisas de líneas de refrigerante, SIEMPRE usa termómetro de contacto directo en el tubo de cobre, no IR sobre el aislamiento.'},
        ],
      avanzado: [
        // ========== NIVEL AVANZADO - 200 PREGUNTAS ==========
        // Crew Leader 10+ años - Liderazgo, Diagnóstico, Comercial, Eléctrico, Diseño, Refrigerantes, Códigos, Clientes
        { category: "Liderazgo", q: "Como crew leader, ¿cuál es la primera acción al llegar a un trabajo?", options: ["Descargar equipo", "Revisar scope con el equipo y asignar tareas", "Mandar al helper por café", "Llamar al cliente"], correct: 1, explanation: "Un buen líder revisa el trabajo, asigna responsabilidades y se asegura que todos entiendan antes de empezar." },
        { category: "Liderazgo", q: "Un técnico nuevo comete el mismo error por tercera vez. ¿Mejor enfoque?", options: ["Gritarle frente al equipo", "Despedirlo", "Hablar en privado, identificar causa y reentrenar", "Ignorarlo"], correct: 2, explanation: "El coaching efectivo se hace en privado, identificando la causa y proporcionando entrenamiento adicional." },
        { category: "Liderazgo", q: "¿Qué debe incluir un toolbox talk?", options: ["Solo hora de lunch", "Hazards, PPE requerido, procedimientos de emergencia", "Chismes", "Quejas de salario"], correct: 1, explanation: "Un toolbox talk cubre peligros específicos, equipo de protección y qué hacer en emergencias." },
        { category: "Liderazgo", q: "Tu helper está en el teléfono constantemente. ¿Cómo manejas?", options: ["Quitarle el teléfono", "Conversación directa sobre expectativas", "Ignorarlo", "Reportar a HR"], correct: 1, explanation: "Una conversación directa pero respetuosa establece expectativas claras." },
        { category: "Liderazgo", q: "¿Mejor manera de dar feedback negativo?", options: ["Frente al equipo", "En privado, específico, con plan de mejora", "Por texto", "Nunca darlo"], correct: 1, explanation: "El feedback correctivo se da en privado, siendo específico y ofreciendo apoyo para mejorar." },
        { category: "Liderazgo", q: "Cliente se queja de tu técnico. ¿Qué haces primero?", options: ["Defender sin escuchar", "Escuchar, disculparte, hablar con técnico después", "Culpar al técnico", "Ignorar"], correct: 1, explanation: "Primero escucha y valida la queja, luego investiga los hechos con tu técnico." },
        { category: "Liderazgo", q: "¿Cómo manejas conflicto entre dos miembros del crew?", options: ["Dejarlos solos", "Hablar con cada uno, luego juntos si necesario", "Escoger un lado", "Transferirlos"], correct: 1, explanation: "Escucha ambas perspectivas individualmente, luego facilita conversación para resolver." },
        { category: "Liderazgo", q: "Tu crew está atrasado. ¿Mejor acción?", options: ["Saltar pasos de seguridad", "Evaluar causa, comunicar al office, ajustar plan", "Culpar al equipo", "Abandonar"], correct: 1, explanation: "Identifica la causa, comunica el nuevo timeline y reorganiza tareas." },
        { category: "Liderazgo", q: "¿Qué debe incluir tu daily report?", options: ["Solo horas", "Trabajo completado, materiales, problemas, próximos pasos", "Nada", "Solo quejas"], correct: 1, explanation: "Un buen reporte documenta progreso, recursos, obstáculos y plan siguiente." },
        { category: "Liderazgo", q: "Técnico pide salir por emergencia familiar. ¿Cómo respondes?", options: ["Siempre no", "Evaluar, reorganizar, permitir si posible", "Ignorar", "Reportar a HR"], correct: 1, explanation: "Un buen líder muestra empatía y acomoda cuando es razonablemente posible." },
        { category: "Liderazgo", q: "¿Mejor manera de entrenar helper en tarea nueva?", options: ["Darle manual", "Explicar, demostrar, practicar bajo supervisión, feedback", "Solo decirle", "Esperar curso"], correct: 1, explanation: "El método Tell-Show-Do-Review es más efectivo para entrenamiento práctico." },
        { category: "Liderazgo", q: "Tu mejor técnico quiere aumento pero no tienes autoridad. ¿Qué haces?", options: ["Prometer aumento", "Escuchar, documentar su valor, abogar con gerencia", "Decirle que busque otro trabajo", "Ignorar"], correct: 1, explanation: "Valida su petición, documenta contribuciones y presenta el caso a gerencia." },
        { category: "Liderazgo", q: "¿Cómo aseguras calidad en el trabajo?", options: ["Confiar ciegamente", "Inspecciones, checklists, estándares claros", "Solo si cliente se queja", "No es tu responsabilidad"], correct: 1, explanation: "La calidad se asegura con estándares claros, inspecciones regulares y checklists." },
        { category: "Liderazgo", q: "Técnico te dice que otro está robando materiales. ¿Qué haces?", options: ["Confrontar públicamente", "Documentar, investigar, reportar a supervisión", "Ignorar", "Despedir inmediatamente"], correct: 1, explanation: "Investiga discretamente y reporta a supervisión para acción apropiada." },
        { category: "Liderazgo", q: "¿Tu responsabilidad si miembro del crew se lesiona?", options: ["Solo llamar 911", "Primeros auxilios, reportar, documentar, asegurar escena", "Esconderlo", "Culpar al lesionado"], correct: 1, explanation: "Asegura atención médica, reporta según protocolo, documenta y preserva escena." },
        { category: "Liderazgo", q: "Crew necesita overtime. ¿Cómo lo manejas?", options: ["Obligarlos", "Comunicar necesidad, pedir voluntarios, asegurar compensación", "Falsificar timesheets", "Abandonar trabajo"], correct: 1, explanation: "Comunica honestamente, busca voluntarios y asegura pago correcto de horas extra." },
        { category: "Liderazgo", q: "¿Cómo mantienes moral en trabajo difícil?", options: ["Ignorar quejas", "Reconocer esfuerzo, comunicar progreso, asegurar descansos", "Amenazar", "Quejarte con ellos"], correct: 1, explanation: "La moral se mantiene reconociendo esfuerzos y celebrando avances." },
        { category: "Liderazgo", q: "Técnico llega tarde consistentemente. Ya hablaste dos veces. ¿Qué sigue?", options: ["Otra oportunidad informal", "Documentar y acción disciplinaria formal", "Ignorar", "Despedir sin documentar"], correct: 1, explanation: "Después de advertencias verbales, sigue documentación formal y disciplina progresiva." },
        { category: "Liderazgo", q: "¿Cómo delegas efectivamente?", options: ["Hacer todo tú", "Asignar según habilidades, instrucciones claras, seguimiento", "Órdenes vagas", "Cada quien decide"], correct: 1, explanation: "Delegar significa asignar según capacidades, comunicar expectativas y monitorear." },
        { category: "Liderazgo", q: "Cliente quiere cambios fuera de contrato. ¿Qué haces?", options: ["Hacerlos gratis", "Documentar, comunicar al office, obtener change order", "Negarte", "Hacerlos y cobrar después"], correct: 1, explanation: "Cualquier cambio debe documentarse y aprobarse antes de ejecutarse." },
        { category: "Liderazgo", q: "¿Mejor práctica para reuniones de crew al inicio?", options: ["No tener", "Breves 5-10 min, plan del día, safety, preguntas", "Una hora", "Solo cuando hay problemas"], correct: 1, explanation: "Reuniones cortas diarias alinean al equipo y previenen problemas." },
        { category: "Liderazgo", q: "Helper muestra potencial. ¿Cómo lo desarrollas?", options: ["Esperar que pida", "Tareas progresivamente más desafiantes y mentorearlo", "Mantenerlo helper", "Solo clases"], correct: 1, explanation: "El desarrollo se logra con responsabilidades incrementales y mentoría activa." },
        { category: "Liderazgo", q: "Técnico sabe mucho pero tiene mala actitud. ¿Cómo manejas?", options: ["Tolerar por sus skills", "Conversación directa sobre expectativas con consecuencias", "Despedirlo", "Ignorar"], correct: 1, explanation: "Las habilidades no excusan mal comportamiento. Abordar directamente con consecuencias claras." },
        { category: "Liderazgo", q: "Supervisor te pide algo que viola código. ¿Qué haces?", options: ["Hacerlo porque es jefe", "Expresar preocupación, documentar, negarte respetuosamente", "Renunciar", "Hacerlo y culparlo"], correct: 1, explanation: "Nunca violes código. Comunica profesionalmente y documenta para protegerte." },
        { category: "Liderazgo", q: "¿Clave para construir confianza con crew?", options: ["Ser amigo en todo", "Consistencia, honestidad, cumplir promesas, respaldarlos", "Nunca feedback negativo", "Muy estricto"], correct: 1, explanation: "La confianza se construye siendo consistente, honesto y cumpliendo tu palabra." },
        { category: "Diagnóstico Avanzado", q: "Sistema con presiones normales pero no enfría. ¿Causa probable?", options: ["Falta refrigerante", "Bajo flujo de aire en evaporador", "Compresor malo", "Termostato defectuoso"], correct: 1, explanation: "Con presiones normales, el problema suele ser flujo de aire - filtro sucio, evaporador congelado, blower deficiente." },
        { category: "Diagnóstico Avanzado", q: "Compresor hace cycling on/off cada 2-3 minutos. ¿Qué verificas?", options: ["Nivel de aceite", "Presiones y protecciones de alta/baja", "Color del refrigerante", "Amperaje del fan"], correct: 1, explanation: "Short cycling indica problemas de presión activando protecciones." },
        { category: "Diagnóstico Avanzado", q: "Compresor con alto amperaje pero presiones normales. ¿Causa?", options: ["Bajo refrigerante", "Problemas eléctricos/mecánicos internos del compresor", "Filtro sucio", "Termostato malo"], correct: 1, explanation: "Alto amperaje con presiones normales indica problemas internos del compresor." },
        { category: "Diagnóstico Avanzado", q: "¿Qué indica aceite en conexiones de refrigerante?", options: ["Bien apretada", "Fuga de refrigerante", "Exceso de aceite", "Normal"], correct: 1, explanation: "El aceite viaja con refrigerante. Manchas de aceite indican fuga." },
        { category: "Diagnóstico Avanzado", q: "Sistema TXV con superheat de 25°F. ¿Qué indica?", options: ["Perfecto", "Falta refrigerante o TXV restringida", "Exceso refrigerante", "Flujo aire excesivo"], correct: 1, explanation: "Superheat alto (normal 8-14°F) indica insuficiente refrigerante al evaporador." },
        { category: "Diagnóstico Avanzado", q: "Subcooling de 3°F en sistema TXV. ¿Qué significa?", options: ["Perfecto", "Bajo refrigerante", "Exceso refrigerante", "Condensador muy eficiente"], correct: 1, explanation: "Subcooling bajo (normal 10-15°F) indica insuficiente líquido - bajo refrigerante." },
        { category: "Diagnóstico Avanzado", q: "Data logger muestra presión succión sube de noche. ¿Causa?", options: ["Normal", "Fuga hacia lado baja cuando está off", "Termostato malo", "Compresor eficiente"], correct: 1, explanation: "Migración de refrigerante indica válvula check defectuosa o compresor con válvulas dañadas." },
        { category: "Diagnóstico Avanzado", q: "¿Cómo verificas válvulas internas dañadas en compresor?", options: ["Solo amperaje", "Temperatura descarga vs succión y prueba pump down", "Color aceite", "Escuchar ruido"], correct: 1, explanation: "Válvulas dañadas causan baja temperatura descarga y falla en pump down." },
        { category: "Diagnóstico Avanzado", q: "Condensador con approach temperature de 35°F. ¿Qué indica?", options: ["Excelente", "Condensador sucio o flujo restringido", "Normal", "Muy limpio"], correct: 1, explanation: "Approach alto (normal 10-15°F) significa condensador no transfiere calor bien." },
        { category: "Diagnóstico Avanzado", q: "¿Síntoma de filtro secador restringido?", options: ["Superheat bajo", "Diferencia de temperatura antes y después del filtro", "Presión alta", "Compresor ruidoso"], correct: 1, explanation: "Filtro restringido causa caída de presión y temperatura notable." },
        { category: "Diagnóstico Avanzado", q: "Sistema pierde charge intermitentemente. Tests no muestran fugas. ¿Qué sospechas?", options: ["No hay fuga", "Fuga solo bajo condiciones de operación", "Mal manómetro", "Exceso refrigerante"], correct: 1, explanation: "Algunas fugas solo aparecen cuando opera - expansión térmica o vibración la causa." },
        { category: "Diagnóstico Avanzado", q: "Compresor arranca pero se apaga por overload a 10 segundos. ¿Causa?", options: ["Termostato", "Compresor locked rotor o alto amperaje arranque", "Bajo refrigerante", "Contactor defectuoso"], correct: 1, explanation: "Apagado rápido por overload indica compresor trabado o problemas mecánicos." },
        { category: "Diagnóstico Avanzado", q: "¿Cómo diagnosticas contaminación de refrigerante?", options: ["Por color", "Prueba acidez aceite, análisis refrigerante, presiones anormales", "Oler refrigerante", "No se puede"], correct: 1, explanation: "Contaminación se detecta con prueba acidez, identificador y presiones inconsistentes." },
        { category: "Diagnóstico Avanzado", q: "Evaporador con escarcha solo en primeros tubos. ¿Qué indica?", options: ["Normal", "Bajo flujo refrigerante - restricción o bajo charge", "Muy buen enfriamiento", "Flujo aire excesivo"], correct: 1, explanation: "Escarcha parcial indica refrigerante se evapora antes de recorrer todo el evaporador." },
        { category: "Diagnóstico Avanzado", q: "Scroll con ruido metálico al arrancar que desaparece. ¿Causa?", options: ["Normal en scrolls", "Floodback - líquido entrando al compresor al arranque", "Compresor dañado", "Fan desbalanceado"], correct: 1, explanation: "Ruido al arranque que desaparece indica floodback - refrigerante líquido migrando al compresor." },
        { category: "Diagnóstico Avanzado", q: "¿Qué causa presión descarga alta con succión baja?", options: ["Sobrecarga refrigerante", "Restricción en línea líquido o dispositivo expansión", "Bajo refrigerante", "Fan condensador rápido"], correct: 1, explanation: "Alta descarga + baja succión indica restricción entre los dos lados." },
        { category: "Diagnóstico Avanzado", q: "Heat pump no cambia de modo. ¿Qué verificas?", options: ["Compresor", "Válvula reversing 4-way y su solenoide", "Termostato", "Refrigerante"], correct: 1, explanation: "La válvula 4-way controla cambio de modo. Verifica voltaje al solenoide." },
        { category: "Diagnóstico Avanzado", q: "¿Cómo verificas funcionamiento correcto de TXV?", options: ["Solo ver si enfría", "Medir superheat, verificar bulbo instalado, ver respuesta a cambios", "Escuchar ruido", "Medir voltaje"], correct: 1, explanation: "TXV funcional mantiene superheat estable y responde a cambios de carga." },
        { category: "Diagnóstico Avanzado", q: "Amperaje del compresor fluctúa constantemente. ¿Causa?", options: ["Normal", "Válvulas dañadas o problema refrigerante líquido intermitente", "Termostato ciclando", "Voltaje perfecto"], correct: 1, explanation: "Amperaje fluctuante indica problemas mecánicos o slugging intermitente." },
        { category: "Diagnóstico Avanzado", q: "¿Qué indica temperatura descarga extremadamente alta (>300°F)?", options: ["Muy eficiente", "Bajo refrigerante, restricción severa, o problema compresión", "Normal días calientes", "Compresor nuevo"], correct: 1, explanation: "Temperatura descarga muy alta indica compresor sin suficiente refrigerante para enfriarse." },
        { category: "Diagnóstico Avanzado", q: "Mini-split muestra código error comunicación. ¿Qué verificas?", options: ["Reiniciar", "Cableado comunicación, voltaje, conexiones indoor/outdoor", "Control remoto", "Refrigerante"], correct: 1, explanation: "Errores comunicación son problemas de cableado, conexiones flojas, o voltaje incorrecto." },
        { category: "Diagnóstico Avanzado", q: "Compresor no arranca pero tiene voltaje. ¿Siguiente paso?", options: ["Reemplazar compresor", "Verificar capacitor, relay arranque, continuidad bobinas", "Agregar refrigerante", "Cambiar termostato"], correct: 1, explanation: "Antes de condenar compresor, verifica componentes de arranque y bobinas." },
        { category: "Diagnóstico Avanzado", q: "¿Cómo determinas si sistema necesita refrigerante por método superheat?", options: ["Adivinar por clima", "Medir superheat actual vs requerido según condiciones", "Tocar líneas", "Ver sight glass"], correct: 1, explanation: "Compara superheat medido con target según temperaturas. Si está alto, puede necesitar refrigerante." },
        { category: "Diagnóstico Avanzado", q: "Sistema hace ruido silbido en línea líquido. ¿Causa?", options: ["Normal", "Flash gas por restricción o bajo refrigerante", "Muy lleno", "Compresor eficiente"], correct: 1, explanation: "El silbido indica refrigerante cambiando de líquido a gas prematuramente." },
        { category: "Diagnóstico Avanzado", q: "¿Manera correcta de verificar capacitor de arranque?", options: ["Ver si inflado", "Descargar, medir microfaradios, comparar con rating, sin fugas", "Escuchar ruido", "Medir voltaje"], correct: 1, explanation: "Capacitor se verifica descargándolo, midiendo capacitancia y comparando con rating (±10% aceptable)." },
        { category: "Soporte Técnico", q: "Técnico junior llama: compresor no arranca, tiene 240V. ¿Qué preguntas?", options: ["¿Qué almorzaste?", "¿Verificaste capacitor y contactor? ¿240V al compresor mismo?", "¿Termostato en cool?", "¿Color del compresor?"], correct: 1, explanation: "Guía al técnico a verificar que voltaje llegue al compresor y componentes de arranque funcionen." },
        { category: "Soporte Técnico", q: "¿Cómo guías remotamente a verificar TXV?", options: ["Que lo cambie", "Pedir superheat, verificar instalación bulbo, probar ajuste", "Preguntar si enfría", "Pedir foto"], correct: 1, explanation: "Diagnóstico remoto requiere datos específicos - superheat, posición bulbo, respuesta a cambios." },
        { category: "Soporte Técnico", q: "Oficina pregunta por qué trabajo toma más tiempo. ¿Cómo explicas?", options: ["Es complicado, no entenderían", "Explicar problema específico y tiempo adicional necesario", "No es mi culpa", "Ignorar"], correct: 1, explanation: "Comunica claramente el problema y cuánto tiempo adicional estimas." },
        { category: "Soporte Técnico", q: "Técnico describe ruido pero no lo identifica. ¿Qué pides?", options: ["Que adivine", "Video/audio, cuándo ocurre, qué componente parece ser", "Que ignore", "Que cierre trabajo"], correct: 1, explanation: "Video/audio ayuda enormemente. También cuándo ocurre y de dónde viene." },
        { category: "Soporte Técnico", q: "¿Cómo documentas falla para warranty claim?", options: ["Solo decir no sirve", "Fotos, modelo, serial, síntomas, mediciones, pasos diagnóstico", "Llamar manufacturer", "No documentar"], correct: 1, explanation: "Warranty claims requieren documentación completa - identificación, evidencia falla, diagnóstico." },
        { category: "Soporte Técnico", q: "Técnico encuentra problema fuera de su expertise. ¿Procedimiento?", options: ["Intentar reparar", "Documentar, comunicar limitaciones, escalar apropiadamente", "Abandonar", "Culpar cliente"], correct: 1, explanation: "Es profesional reconocer límites. Documenta y escala a alguien con expertise." },
        { category: "Soporte Técnico", q: "Cliente dice técnico no sabe lo que hace. ¿Cómo manejas?", options: ["Defender sin escuchar", "Escuchar queja, contactar técnico, resolver apropiadamente", "Culpar técnico", "Ignorar cliente"], correct: 1, explanation: "Escucha ambos lados, identifica problema real, toma acción para resolver." },
        { category: "Soporte Técnico", q: "¿Cuándo escalar a technical support del fabricante?", options: ["Siempre primero", "Cuando diagnóstico local no identifica causa o hay defecto fábrica", "Nunca", "Solo si pagan extra"], correct: 1, explanation: "Escala cuando agotaste diagnóstico estándar y sospechas problema específico del producto." },
        { category: "Soporte Técnico", q: "Técnico manda: succión 65 psig, descarga 220 psig, R-410A, 75°F outdoor. ¿Tu análisis?", options: ["Normal", "Presión succión baja - bajo refrigerante, restricción, o bajo flujo aire", "Presión descarga alta", "No se puede saber"], correct: 1, explanation: "Para R-410A a 75°F outdoor, succión 65 psig es baja (normal ~120 psig). Indica bajo charge o restricción." },
        { category: "Soporte Técnico", q: "¿Cómo instruyes hacer acid test del aceite?", options: ["No necesario", "Extraer muestra del process port, usar test kit, comparar color", "Solo oler aceite", "Cambiar compresor sin test"], correct: 1, explanation: "Acid test requiere muestra que se mezcla con reactivo y compara con escala colores." },
        { category: "Soporte Técnico", q: "Técnico reporta mini-split código E6. ¿Qué indicas?", options: ["Cambiar unidad", "Buscar significado código, verificar comunicación indoor-outdoor", "Ignorar código", "Reiniciar"], correct: 1, explanation: "Códigos tienen significados específicos. E6 usualmente indica problema comunicación." },
        { category: "Soporte Técnico", q: "Técnico dice revisó todo pero sistema no funciona. ¿Qué haces?", options: ["Creerle y reemplazar", "Pedir paso a paso qué revisó y lecturas específicas", "Mandarlo a casa", "Ir personalmente"], correct: 1, explanation: "Pide detalles específicos. A menudo se omite algo en diagnóstico." },
        { category: "Soporte Técnico", q: "Técnico y cliente tienen versiones diferentes. ¿Cómo manejas?", options: ["Creer cliente", "Documentar ambas, buscar evidencia objetiva, resolver basado en hechos", "Creer técnico", "Ignorar"], correct: 1, explanation: "Documenta perspectivas, busca evidencia objetiva, basa decisión en hechos." },
        { category: "Soporte Técnico", q: "Técnico nuevo pregunta cómo explicar cliente que necesita compresor. ¿Qué aconsejas?", options: ["Solo precio", "Explicar diagnóstico, qué significa, opciones, responder preguntas", "Presionar compra", "No explicar técnico"], correct: 1, explanation: "Enseña a comunicar problema y opciones en términos que cliente entienda." },
        { category: "Soporte Técnico", q: "¿Información mínima para ayudar remotamente con diagnóstico?", options: ["Solo síntoma", "Modelo/serial, síntomas, lecturas presiones/temperaturas, voltajes", "Nombre cliente", "Puedo adivinar"], correct: 1, explanation: "Diagnóstico remoto efectivo requiere identificación equipo, síntomas y mediciones." },
        { category: "Soporte Técnico", q: "Técnico llama frustrado, no encuentra problema. ¿Cómo ayudas?", options: ["Que se calme", "Regresar a lo básico, verificar paso a paso, mantener calma", "Mandarlo casa", "Criticar"], correct: 1, explanation: "Guíalo a tomar respiro, volver a fundamental del diagnóstico paso a paso." },
        { category: "Soporte Técnico", q: "¿Cómo verificas remotamente si técnico hizo diagnóstico correcto?", options: ["Confiar ciegamente", "Pedir fotos de lecturas, preguntas específicas sobre procedimiento", "No se puede", "Ir al sitio"], correct: 1, explanation: "Pide evidencia fotográfica y haz preguntas que revelen si siguió procedimiento correcto." },
        { category: "Soporte Técnico", q: "Fabricante rechazó warranty claim. ¿Qué haces?", options: ["Aceptar sin cuestionar", "Revisar razón, proveer documentación adicional o escalar", "Culpar técnico", "Cobrar cliente sin explicar"], correct: 1, explanation: "Entiende por qué fue rechazado, determina si hay documentación adicional, escala si válido." },
        { category: "Soporte Técnico", q: "¿Cómo entrenas técnicos para dar mejor información en llamadas de soporte?", options: ["No se puede", "Crear checklist de información necesaria antes de llamar", "Que averigüen solos", "Solo seniors llaman"], correct: 1, explanation: "Checklist estándar de información necesaria mejora eficiencia del soporte." },
        { category: "Soporte Técnico", q: "Código error no aparece en manual. ¿Siguiente paso?", options: ["Inventar qué significa", "Contactar technical support fabricante con toda información", "Ignorar código", "Reemplazar control"], correct: 1, explanation: "Fabricantes tienen documentación más completa. Contacta soporte con código y síntomas." },
        { category: "Sistemas Comerciales", q: "¿Diferencia principal entre rooftop unit y split system?", options: ["Color", "RTU tiene todos componentes en una unidad; split los separa", "Precio", "No hay diferencia"], correct: 1, explanation: "RTU es self-contained. Split separa condensador outdoor y evaporador indoor." },
        { category: "Sistemas Comerciales", q: "Economizer no abre. ¿Qué verificas primero?", options: ["Refrigerante", "Sensor outdoor air temperature/enthalpy, actuator, setpoints", "Compresor", "Termostato indoor"], correct: 1, explanation: "Economizer depende de sensores para decidir cuándo abrir. Verifica sensores, actuator, configuración." },
        { category: "Sistemas Comerciales", q: "¿Qué es demand control ventilation (DCV)?", options: ["Ventilación manual", "Sistema que ajusta ventilación según ocupación usando CO2", "Solo hospitales", "Tipo filtro"], correct: 1, explanation: "DCV usa sensores CO2 para detectar ocupación y ajustar aire fresco." },
        { category: "Sistemas Comerciales", q: "VRF muestra falla comunicación. ¿Causa más común?", options: ["Bajo refrigerante", "Problemas cableado comunicación entre unidades", "Compresor malo", "Termostato cliente"], correct: 1, explanation: "Sistemas VRF dependen de comunicación. Cableado incorrecto es causa más común." },
        { category: "Sistemas Comerciales", q: "¿Para qué sirve cooling tower en sistema chilled water?", options: ["Enfriar edificio directo", "Rechazar calor del condensador del chiller", "Calentar agua", "Filtrar aire"], correct: 1, explanation: "Cooling tower disipa calor removido por chiller usando evaporación de agua." },
        { category: "Sistemas Comerciales", q: "¿Qué verifica un BAS de un RTU?", options: ["Solo temperatura", "Temperaturas, presiones, status componentes, alarmas, scheduling, eficiencia", "Nada útil", "Solo nombre edificio"], correct: 1, explanation: "BAS monitorea y controla múltiples parámetros, permite scheduling, genera alarmas." },
        { category: "Sistemas Comerciales", q: "RTU de 10 tons con 2 compresores. Uno no enciende. ¿Cómo afecta capacidad?", options: ["No la afecta", "Reduce aproximadamente 50%", "Aumenta", "Solo ruido"], correct: 1, explanation: "Con un compresor fuera, opera a aproximadamente mitad de capacidad nominal." },
        { category: "Sistemas Comerciales", q: "¿Approach temperature típico de cooling tower?", options: ["0-2°F", "5-10°F", "25-30°F", "50°F"], correct: 1, explanation: "Approach típico es 5-10°F en cooling towers bien mantenidas." },
        { category: "Sistemas Comerciales", q: "¿Por qué chillers usan agua en lugar de refrigerante directo?", options: ["Más barato", "Permite transportar frío a largas distancias con tuberías más pequeñas y seguras", "No hay razón", "Tradición"], correct: 1, explanation: "Agua es segura, eficiente para transportar, permite diseños flexibles en edificios grandes." },
        { category: "Sistemas Comerciales", q: "Walk-in cooler a 45°F pero setpoint es 35°F. ¿Qué verificas?", options: ["Nada", "Evaporador, defrost, airflow, charge refrigerante", "Solo termostato", "Normal"], correct: 1, explanation: "10°F sobre setpoint es significativo. Verifica evaporador, flujo aire, charge." },
        { category: "Sistemas Comerciales", q: "¿Qué es un VAV box?", options: ["Tipo refrigerante", "Variable Air Volume box - controla flujo aire a zonas individuales", "Herramienta", "Marca equipo"], correct: 1, explanation: "VAV box ajusta volumen de aire suministrado a zona según demanda temperatura." },
        { category: "Sistemas Comerciales", q: "Head pressure alto en RTU en día no muy caliente. ¿Causa?", options: ["Normal", "Condensador sucio, fan defectuoso, o recirculación aire caliente", "Poco refrigerante", "Evaporador congelado"], correct: 1, explanation: "High head con condiciones moderadas indica problema rechazo calor." },
        { category: "Sistemas Comerciales", q: "¿Qué hace hot gas bypass valve?", options: ["Aumenta eficiencia", "Previene congelamiento evaporador en baja carga", "Enfría más rápido", "Reduce ruido"], correct: 1, explanation: "En baja carga, hot gas bypass mantiene presión succión mínima para prevenir congelamiento." },
        { category: "Sistemas Comerciales", q: "Chiller tiene COP de 4.0. ¿Qué significa?", options: ["Es malo", "Por cada unidad energía usada, produce 4 de enfriamiento", "Tiene 4 compresores", "Muy ineficiente"], correct: 1, explanation: "COP 4.0 significa eficiencia 400% - produce 4 unidades cooling por cada unidad energía." },
        { category: "Sistemas Comerciales", q: "¿Rango típico temperature supply air en RTU comercial?", options: ["40-45°F", "55-58°F", "65-70°F", "75-80°F"], correct: 1, explanation: "Supply air típico comercial es 55-58°F para manejar cargas sensibles y latentes." },
        { category: "Sistemas Comerciales", q: "Packaged unit con gas heat. ¿Qué verificar anualmente?", options: ["Solo filtro", "Heat exchanger por cracks, combustión, safety controls", "Color gas", "Nada"], correct: 1, explanation: "Heat exchanger puede desarrollar grietas que permiten gases combustión - peligro CO." },
        { category: "Sistemas Comerciales", q: "¿Qué indica humming sin starting en compresor RTU?", options: ["Normal", "Problema eléctrico/mecánico - capacitor, locked rotor, falla fase", "Solo necesita tiempo", "Termostato malo"], correct: 1, explanation: "Humming sin arranque indica motor trata de partir pero no puede." },
        { category: "Sistemas Comerciales", q: "Sistema refrigeración comercial usa R-448A. ¿Qué tipo es?", options: ["HCFC", "HFO blend bajo GWP reemplazo R-404A", "CFC", "Natural"], correct: 1, explanation: "R-448A es blend HFO diseñado como reemplazo R-404A con menor GWP." },
        { category: "Sistemas Comerciales", q: "¿Propósito del oil separator en refrigeración comercial?", options: ["Enfriar aceite", "Separar aceite del refrigerante en descarga y retornarlo al compresor", "Filtrar refrigerante", "Almacenar aceite"], correct: 1, explanation: "Oil separator captura aceite que sale con refrigerante y lo regresa al cárter." },
        { category: "Sistemas Comerciales", q: "Un ERV recupera qué del exhaust?", options: ["Solo temperatura", "Temperatura y humedad (energía sensible y latente)", "Solo humedad", "Nada útil"], correct: 1, explanation: "ERV transfiere calor sensible y latente entre aire entrante y saliente." },
        { category: "Sistemas Comerciales", q: "¿Qué causa short-cycling en compresor rack supermercado?", options: ["Normal", "Mal setpoint, low charge, o falla pressure switch", "Muy eficiente", "Cliente usando mucho"], correct: 1, explanation: "Short-cycling indica problemas control - setpoints incorrectos, bajo refrigerante." },
        { category: "Sistemas Comerciales", q: "¿Qué es VFD en HVAC comercial?", options: ["Tipo refrigerante", "Variable Frequency Drive - controla velocidad motores para ahorro energía", "Marca equipo", "Tipo filtro"], correct: 1, explanation: "VFD varía frecuencia eléctrica al motor permitiendo control velocidad y ahorro energía." },
        { category: "Sistemas Comerciales", q: "RTU con alta static pressure en supply. ¿Causa?", options: ["Filtros sucios o dampers cerrados", "Bajo refrigerante", "Compresor malo", "Normal"], correct: 0, explanation: "Alta static en supply indica restricción airflow - filtros sucios, dampers mal ajustados." },
        { category: "Sistemas Comerciales", q: "¿Por qué chillers centrífugos son eficientes en cargas parciales?", options: ["No son más eficientes", "Usan inlet guide vanes o VFD para reducir capacidad eficientemente", "Más refrigerante", "Solo más grandes"], correct: 1, explanation: "Chillers centrífugos usan inlet guide vanes o VFD que permiten reducción muy eficiente." },
        { category: "Sistemas Comerciales", q: "¿Qué monitorea differential pressure switch en filtros RTU?", options: ["Temperatura", "Caída presión través del filtro para indicar cuándo está sucio", "Flujo refrigerante", "Voltaje"], correct: 1, explanation: "Switch mide diferencia presión antes/después filtro. Mayor diferencia indica filtro sucio." },
        { category: "Sistemas Comerciales", q: "Sistema refrigeración con liquid subcooling de 2°F. ¿Es normal?", options: ["Sí, perfecto", "No, indica bajo refrigerante o problema condensador", "Solo invierno", "Depende cliente"], correct: 1, explanation: "2°F es muy bajo (normal 10-15°F). Indica carga insuficiente o condensador no funciona bien." },
        { category: "Sistemas Comerciales", q: "¿Qué es discharge air temperature sensor en RTU?", options: ["Mide temperatura exterior", "Mide temperatura aire después de unidad para control", "Mide temperatura refrigerante", "No existe"], correct: 1, explanation: "DAT sensor mide aire que sale del equipo para control de etapas enfriamiento." },
        { category: "Sistemas Comerciales", q: "Walk-in freezer -10°F usa qué tipo defrost?", options: ["Off-cycle", "Electric defrost con timer o demand", "Solo aire ambiente", "Agua caliente"], correct: 1, explanation: "A temperaturas freezer, se requiere electric defrost porque aire ambiente no puede derretir hielo." },
        { category: "Sistemas Comerciales", q: "¿Para qué sirve crankcase heater en compresor comercial?", options: ["Calentar edificio", "Prevenir migración refrigerante al aceite cuando está off", "Aumentar capacidad", "Reducir ruido"], correct: 1, explanation: "Crankcase heater mantiene aceite caliente para evitar refrigerante se condense cuando apagado." },
        { category: "Sistemas Comerciales", q: "¿Primer paso troubleshooting chiller que no arranca?", options: ["Agregar refrigerante", "Verificar safeties, control power, condiciones arranque permitidas", "Cambiar compresor", "Llamar fabricante"], correct: 1, explanation: "Chillers tienen múltiples safeties. Verifica todas las condiciones de permiso arranque." },
        { category: "Electricidad Avanzada", q: "Sistema 3-phase, voltaje entre fases 460V. ¿Voltaje fase a neutral?", options: ["460V", "Aproximadamente 265V (460÷√3)", "230V", "0V"], correct: 1, explanation: "Voltaje línea-neutral es línea-línea dividido √3 (1.732). 460÷1.732 ≈ 265V." },
        { category: "Electricidad Avanzada", q: "¿Qué indica desbalance voltaje >2% en sistema 3-phase?", options: ["Normal", "Problema suministro que puede dañar motores", "Más eficiencia", "Solo estético"], correct: 1, explanation: "Desbalance >2% causa calentamiento excesivo en motores trifásicos." },
        { category: "Electricidad Avanzada", q: "Motor trifásico gira al revés. ¿Cómo corregir?", options: ["Agregar capacitor", "Intercambiar cualquier dos de las tres fases", "Cambiar motor", "Reducir voltaje"], correct: 1, explanation: "Intercambiar dos conductores de fase invierte secuencia y dirección rotación." },
        { category: "Electricidad Avanzada", q: "VFD muestra fault de ground. ¿Qué verificas?", options: ["Refrigerante", "Aislamiento motor y cableado entre VFD y motor", "Termostato", "Temperatura"], correct: 1, explanation: "Ground fault indica corriente yendo a tierra - problema aislamiento motor o cableado." },
        { category: "Electricidad Avanzada", q: "¿Ventaja principal motor ECM sobre PSC?", options: ["Más barato", "Mayor eficiencia y control velocidad variable", "Más ruidoso", "Menos duración"], correct: 1, explanation: "ECM son más eficientes especialmente a velocidades parciales y permiten control preciso." },
        { category: "Electricidad Avanzada", q: "ECM blower no responde a cambio velocidad. ¿Qué verificas?", options: ["Refrigerante", "Señal control (0-10V, PWM, comunicación) y programación motor", "Filtro", "Nada"], correct: 1, explanation: "ECM requieren señal control correcta. Verifica tipo señal, voltaje, configuración/dip switches." },
        { category: "Electricidad Avanzada", q: "¿Qué es THD en calidad de energía?", options: ["Tipo cable", "Total Harmonic Distortion - distorsión onda voltaje/corriente", "Marca VFD", "Medida temperatura"], correct: 1, explanation: "THD mide distorsión en forma de onda, causada principalmente por cargas no lineales como VFDs." },
        { category: "Electricidad Avanzada", q: "Inverter compressor muestra código IPM fault. ¿Qué significa?", options: ["Bajo refrigerante", "Falla del Intelligent Power Module - problema inverter board", "Filtro sucio", "Normal"], correct: 1, explanation: "IPM es módulo potencia que controla compresor inverter. Falla indica problema electrónico del drive." },
        { category: "Electricidad Avanzada", q: "¿Cómo verificas contactos quemados en contactor trifásico?", options: ["Solo verlo", "Medir caída voltaje a través de cada polo con carga", "No se puede", "Cambiar sin verificar"], correct: 1, explanation: "Contactos quemados causan caída voltaje. Debe ser <1V a través de contacto cerrado." },
        { category: "Electricidad Avanzada", q: "Compresor scroll monofásico con terminales C, S, R. ¿Cuál tiene más resistencia?", options: ["C a S", "S a R (Start a Run)", "C a R", "Todos iguales"], correct: 1, explanation: "S a R suma ambos bobinados y tiene mayor resistencia. C-R es run, C-S es start." },
        { category: "Electricidad Avanzada", q: "VFD tiene opción 'flying start'. ¿Para qué sirve?", options: ["Arrancar más lento", "Detectar velocidad motor girando y sincronizarse sin paro completo", "Aumentar voltaje", "Solo diagnóstico"], correct: 1, explanation: "Flying start permite VFD detectar motor girando y reconectarse sin esperar paro total." },
        { category: "Electricidad Avanzada", q: "¿Qué causa compresor monofásico arranque dirección opuesta ocasionalmente?", options: ["Normal", "Capacitor arranque débil o defectuoso", "Exceso refrigerante", "Termostato malo"], correct: 1, explanation: "Capacitor débil no proporciona suficiente shift de fase para garantizar dirección correcta." },
        { category: "Electricidad Avanzada", q: "Transformer con 24V secundario pero 0V en control circuit. ¿Causa?", options: ["Transformer malo", "Fuse o limit switch abierto en circuito 24V", "Normal", "Voltaje línea bajo"], correct: 1, explanation: "Si transformer produce 24V pero no llega al circuito, hay interrupción - fuse o safety abierto." },
        { category: "Electricidad Avanzada", q: "¿Qué hace soft starter vs contactor directo?", options: ["Lo mismo", "Reduce corriente y torque arranque gradualmente", "Aumenta corriente arranque", "Solo agrega delay"], correct: 1, explanation: "Soft starter aumenta gradualmente voltaje, reduciendo corriente arranque y estrés mecánico." },
        { category: "Electricidad Avanzada", q: "Capacitor run mide 35µF pero marcado 40µF ±5%. ¿Está bueno?", options: ["Sí, dentro tolerancia", "No, está 12.5% bajo y fuera tolerancia", "Es perfecto", "Solo importa voltaje"], correct: 1, explanation: "35µF es 12.5% menor que 40µF, excede tolerancia ±5%. Debe reemplazarse." },
        { category: "Electricidad Avanzada", q: "¿Qué indica megohm reading de 0.5 MΩ en winding compresor?", options: ["Excelente", "Aislamiento dañado - compresor probablemente fallará", "Normal", "Solo limpieza"], correct: 1, explanation: "Aislamiento debe ser >1 MΩ mínimo, idealmente >10 MΩ. 0.5 MΩ indica compromiso." },
        { category: "Electricidad Avanzada", q: "VFD configurado para motor 10HP se usa con motor 5HP. ¿Correcto?", options: ["Nunca permitido", "Sí, pero ajustar parámetros motor en VFD", "VFD se quemará", "Motor se quemará"], correct: 1, explanation: "VFD puede controlar motor menor pero debe programarse con parámetros correctos." },
        { category: "Electricidad Avanzada", q: "¿Qué es carrier frequency en VFD?", options: ["Frecuencia motor", "Frecuencia switching del inverter, afecta ruido y calentamiento", "Frecuencia línea", "Velocidad compresor"], correct: 1, explanation: "Carrier frequency es frecuencia conmutación PWM. Mayor = menos ruido pero más calor en VFD." },
        { category: "Electricidad Avanzada", q: "Control board recibe 24V pero no hay output a contactor. ¿Qué verificas?", options: ["Agregar refrigerante", "Inputs al board (thermostats, safeties), programación, señales demand", "El compresor", "Nada"], correct: 1, explanation: "Verifica que board reciba señal demanda (Y) y todos inputs safety estén cerrados." },
        { category: "Electricidad Avanzada", q: "¿Por qué se usa choke (line reactor) con VFDs?", options: ["Reducir eficiencia", "Reducir harmónicos y proteger VFD de transientes voltaje", "Solo por código", "Aumentar velocidad"], correct: 1, explanation: "Reactores línea filtran distorsión harmónica y protegen VFD de picos voltaje." },
        { category: "Electricidad Avanzada", q: "Motor con winding resistance muy diferente entre fases. ¿Qué indica?", options: ["Normal", "Winding dañado, probable cortocircuito o abierto parcial", "Motor nuevo", "Voltaje incorrecto"], correct: 1, explanation: "Fases deben tener resistencia similar. Diferencia indica daño en bobinado." },
        { category: "Electricidad Avanzada", q: "¿Cómo calcular potencia circuito trifásico balanceado?", options: ["V x A", "√3 x V x A x Power Factor", "V x A ÷ 3", "V x A x 3"], correct: 1, explanation: "Potencia trifásica = √3 (1.732) × Voltaje línea-línea × Amperaje × Factor Potencia." },
        { category: "Electricidad Avanzada", q: "Motor 460V opera a 440V. ¿Efectos?", options: ["Ninguno", "Mayor corriente, menor torque, posible sobrecalentamiento", "Más eficiente", "Menos ruido"], correct: 1, explanation: "Bajo voltaje causa motor trabaje más para mismo torque, aumentando corriente y temperatura." },
        { category: "Electricidad Avanzada", q: "Dual capacitor muestra 35/5 µF. ¿Qué significa?", options: ["Total 40µF", "35µF para compresor (HERM), 5µF para fan (FAN)", "Necesita dos capacitores", "Defectuoso"], correct: 1, explanation: "Dual cap tiene dos capacitores - valor mayor típicamente para compresor, menor para fan." },
        { category: "Electricidad Avanzada", q: "¿Qué protección ofrece phase monitor en sistemas trifásicos?", options: ["Solo bajo voltaje", "Protección contra falta fase, reversión fase, y desbalance", "Nada útil", "Solo colores"], correct: 1, explanation: "Phase monitor detecta condiciones peligrosas - fase perdida, invertida, o desbalanceada." },
        { category: "Diseño de Sistemas", q: "Manual J indica 36,000 BTU/h. ¿Qué tamaño equipo?", options: ["5 toneladas para extra", "3 toneladas (36,000 ÷ 12,000)", "2 toneladas", "El más grande"], correct: 1, explanation: "Equipo debe dimensionarse para carga calculada. Sobredimensionar causa short-cycling y pobre dehumidification." },
        { category: "Diseño de Sistemas", q: "¿Factor Manual J que más impacta carga enfriamiento en climas calientes?", options: ["Infiltración aire", "Ganancia solar a través de ventanas", "Personas", "Iluminación"], correct: 1, explanation: "En climas soleados, ganancia solar por ventanas es típicamente el factor más grande." },
        { category: "Diseño de Sistemas", q: "Total ESP es 0.7 in.w.c. y blower maneja 0.5 in.w.c. ¿Qué pasa?", options: ["Funciona perfecto", "Flujo aire reducido significativamente bajo diseño", "Solo más ruido", "Motor se quema"], correct: 1, explanation: "Blower no puede vencer resistencia, resultando en CFM reducido y pobre comfort." },
        { category: "Diseño de Sistemas", q: "¿Para qué sirve Manual S en diseño sistemas?", options: ["Calcular ductos", "Seleccionar equipo que cumpla carga de Manual J", "Calcular carga", "Diseñar registers"], correct: 1, explanation: "Manual S guía selección de equipo apropiado para cumplir cargas calculadas." },
        { category: "Diseño de Sistemas", q: "¿Qué determina Manual D?", options: ["Tamaño equipo", "Diseño y tamaño sistema ductos", "Carga edificio", "Posición termostatos"], correct: 1, explanation: "Manual D proporciona procedimientos para diseñar sistemas ductos que entreguen flujo requerido." },
        { category: "Diseño de Sistemas", q: "¿Qué es friction rate en diseño ductos?", options: ["Velocidad aire", "Caída presión por cada 100 pies ducto", "Tamaño ducto", "Tipo material"], correct: 1, explanation: "Friction rate es pérdida presión estática (in.w.c. por 100 ft) usada para dimensionar ductos." },
        { category: "Diseño de Sistemas", q: "Friction rate 0.08 in.w.c./100ft, tramo necesita 60 CFM. ¿Diámetro ducto redondo?", options: ["4 pulgadas", "6 pulgadas aproximadamente", "10 pulgadas", "No importa"], correct: 1, explanation: "Usando ductulator, 60 CFM a 0.08 friction rate requiere aproximadamente 6\" ducto redondo." },
        { category: "Diseño de Sistemas", q: "¿Por qué es importante sensible heat ratio (SHR) en selección equipo?", options: ["Solo estético", "Determina si equipo manejará adecuadamente humedad", "No importante", "Solo precio"], correct: 1, explanation: "SHR del equipo debe coincidir con SHR de carga para controlar temperatura Y humedad." },
        { category: "Diseño de Sistemas", q: "Casa 2,000 sq ft. ¿Por qué no usar regla 400-500 sq ft por tonelada?", options: ["Puedes usarla", "Ignora factores: aislamiento, ventanas, orientación, clima, etc.", "Solo comercial", "Muy complicada"], correct: 1, explanation: "Reglas de dedo ignoran factores que varían enormemente entre edificios." },
        { category: "Diseño de Sistemas", q: "Supply register con NC rating 35. ¿Qué significa?", options: ["Tamaño 35", "Nivel ruido Noise Criteria 35 - relativamente silencioso", "Flujo 35 CFM", "Distancia throw"], correct: 1, explanation: "NC indica nivel ruido. NC 35 es aceptable para residencias y oficinas tranquilas." },
        { category: "Diseño de Sistemas", q: "¿Qué es throw en supply register?", options: ["Cómo se instala", "Distancia aire viaja antes de reducir a velocidad terminal", "Capacidad CFM", "Tamaño registro"], correct: 1, explanation: "Throw es distancia horizontal que aire viaja hasta reducir a velocidad específica." },
        { category: "Diseño de Sistemas", q: "Return dimensionado para 400 CFM pero sistema necesita 800 CFM. ¿Consecuencia?", options: ["Mayor eficiencia", "Presión negativa excesiva, ruido, posible daño", "Mejor filtración", "Solo estético"], correct: 1, explanation: "Return subdimensionado causa alta presión negativa, ruido, restricción airflow." },
        { category: "Diseño de Sistemas", q: "¿Qué es Manual T?", options: ["Cálculo carga", "Selección y diseño terminales distribución aire", "Diseño ductos", "Selección equipo"], correct: 1, explanation: "Manual T guía selección supply outlets y return grilles para distribución adecuada." },
        { category: "Diseño de Sistemas", q: "Sistema zoned, zona 1 llama, zona 2 no. ¿Qué debe hacer bypass damper?", options: ["Cerrarse", "Abrirse para manejar exceso aire de zona cerrada", "No existe bypass", "Nada"], correct: 1, explanation: "Bypass permite aire de zonas cerradas regrese al return, manteniendo flujo por equipo." },
        { category: "Diseño de Sistemas", q: "¿Rango velocidad aceptable en ductos principales residenciales?", options: ["100-200 FPM", "600-900 FPM", "2000-3000 FPM", "No importa"], correct: 1, explanation: "Velocidades 600-900 FPM balancean eficiencia con niveles ruido aceptables." },
        { category: "Diseño de Sistemas", q: "Cuarto 200 sq ft necesita 100 CFM. ¿Cuántos ACH aproximadamente?", options: ["1 ACH", "Aproximadamente 4 ACH", "10 ACH", "0.5 ACH"], correct: 1, explanation: "ACH = (CFM × 60) ÷ volumen. Con techo 8ft: (100×60)÷(200×8) ≈ 3.75 ACH." },
        { category: "Diseño de Sistemas", q: "¿Por qué return debe estar lejos de suministros?", options: ["Estético", "Asegurar aire circule por espacio antes de retornar", "No importa", "Reducir ruido"], correct: 1, explanation: "Suministro y retorno muy cerca causan short-circuiting - aire no acondiciona espacio." },
        { category: "Diseño de Sistemas", q: "Blower rated para 0.5 in.w.c. ESP. ¿Qué incluye este presupuesto?", options: ["Solo supply", "Toda resistencia externa: supply, return, grilles, registers, dampers, filtro", "Solo filtro", "Solo evaporador"], correct: 1, explanation: "ESP debe cubrir TODO fuera del equipo: ductos supply/return, grilles, filtros, dampers." },
        { category: "Diseño de Sistemas", q: "¿Qué indica delta-T de 25°F en evaporador?", options: ["Perfecto", "Airflow bajo - split debería ser 18-22°F", "Airflow alto", "Filtro limpio"], correct: 1, explanation: "Delta-T alto (>22°F) indica bajo flujo aire - filtro sucio, blower débil, ductos restringidos." },
        { category: "Diseño de Sistemas", q: "¿Cuántos CFM debe manejar return vs supply total?", options: ["50% del supply", "Igual o ligeramente mayor que supply total", "Doble del supply", "No importa"], correct: 1, explanation: "Return debe manejar al menos mismo CFM que supply para presión balanceada." },
        { category: "Diseño de Sistemas", q: "Edificio con presión negativa. ¿Qué problemas puede causar?", options: ["Ninguno", "Infiltración excesiva, backdrafting combustibles, puertas difíciles abrir", "Solo ruido", "Mejor eficiencia"], correct: 1, explanation: "Presión negativa causa aire no acondicionado entrando, backdrafting, puertas que no cierran." },
        { category: "Diseño de Sistemas", q: "¿Qué es face velocity en evaporator coil?", options: ["Velocidad refrigerante", "Velocidad aire entrando al coil (FPM)", "Capacidad BTU", "Temperatura aire"], correct: 1, explanation: "Face velocity es velocidad aire través del área frontal del coil. Típicamente 300-500 FPM óptimo." },
        { category: "Diseño de Sistemas", q: "Zona con 6,000 BTU/h ganancia. A 400 CFM/ton, ¿cuánto airflow?", options: ["100 CFM", "200 CFM (media tonelada)", "400 CFM", "800 CFM"], correct: 1, explanation: "6,000 BTU/h = 0.5 tons. A 400 CFM/ton: 0.5 × 400 = 200 CFM." },
        { category: "Diseño de Sistemas", q: "¿Por qué ductwork rígido preferido sobre flexible en tramos largos?", options: ["Estético", "Menor fricción, menor pérdida presión, mejor flujo aire", "Más fácil instalar", "Más barato"], correct: 1, explanation: "Ducto flexible tiene más fricción, causando mayores pérdidas especialmente en tramos largos." },
        { category: "Diseño de Sistemas", q: "¿Qué es equivalent length en diseño ductos?", options: ["Longitud real", "Longitud ducto recto con misma pérdida presión que fitting", "Diámetro", "No existe"], correct: 1, explanation: "Cada fitting agrega pérdida equivalente a cierta longitud de ducto recto." },
        { category: "Manejo de Refrigerantes", q: "Sistema R-22 necesita retrofit. ¿Mejor reemplazo drop-in?", options: ["R-410A", "R-407C o similar (no hay drop-in perfecto, requiere evaluación)", "R-134a", "Cualquier HFC"], correct: 1, explanation: "No hay drop-in perfecto para R-22. R-407C es opción pero requiere evaluar compatibilidad y posiblemente cambiar aceite." },
        { category: "Manejo de Refrigerantes", q: "Al retrofit R-22 a R-407C, ¿qué aceite es compatible?", options: ["Mineral oil original", "POE (Polyolester) oil", "PAG oil", "Aceite de motor"], correct: 1, explanation: "HFC como R-407C requieren aceite POE. Aceite mineral del R-22 no es compatible." },
        { category: "Manejo de Refrigerantes", q: "¿Por qué R-407C tiene 'glide' y qué significa para técnico?", options: ["No importa", "Es zeotropic - evapora a diferentes temperaturas, cargar solo en líquido", "Funciona igual R-22", "Solo precio"], correct: 1, explanation: "R-407C es mezcla con diferentes puntos burbuja/rocío. Siempre cargar en líquido para mantener composición." },
        { category: "Manejo de Refrigerantes", q: "¿Qué indica aceite negro en mirilla de compresor?", options: ["Normal", "Contaminación severa - probable burnout o degradación aceite", "Aceite nuevo", "Exceso aceite"], correct: 1, explanation: "Aceite negro indica contaminación por burnout, degradación ácida, o humedad excesiva." },
        { category: "Manejo de Refrigerantes", q: "¿Cuánto tiempo mínimo mantener vacío profundo (500 micrones)?", options: ["5 minutos", "Al menos 15-30 minutos para confirmar no sube", "1 minuto", "No importa"], correct: 1, explanation: "Mantener vacío permite verificar no hay fugas y humedad se evaporó." },
        { category: "Manejo de Refrigerantes", q: "Moisture indicator azul en mirilla. ¿Qué indica?", options: ["Sistema seco, perfecto", "Sistema seco, verificar no se torne verde con tiempo", "Sistema húmedo", "Filtro malo"], correct: 1, explanation: "Azul indica seco. Si cambia a verde/amarillo indica humedad." },
        { category: "Manejo de Refrigerantes", q: "¿Qué es oil logging en evaporador y qué lo causa?", options: ["Normal", "Aceite atrapado que reduce transferencia calor, por bajo retorno aceite", "Exceso aceite", "Filtro sucio"], correct: 1, explanation: "Oil logging ocurre cuando aceite se acumula por velocidades bajas, reduciendo eficiencia." },
        { category: "Manejo de Refrigerantes", q: "Sistema grande requiere agregar 20 lbs refrigerante. ¿Qué registro obligatorio?", options: ["Ninguno", "Documentar en log: fecha, cantidad, técnico, razón", "Solo decirle cliente", "Solo si >50 lbs"], correct: 1, explanation: "EPA requiere documentación de todas adiciones, especialmente en sistemas grandes por regulaciones fugas." },
        { category: "Manejo de Refrigerantes", q: "Olor refrigerante quemado y aceite indica qué condición?", options: ["Normal", "Probable burnout compresor con descomposición ácida", "Solo recarga", "Filtro sucio"], correct: 1, explanation: "Olor acre indica descomposición refrigerante/aceite por burnout, creando ácidos." },
        { category: "Manejo de Refrigerantes", q: "Después burnout, ¿por qué múltiples cambios aceite y filtro?", options: ["Vender más", "Remover toda contaminación ácida que sigue circulando", "No necesario", "Solo si huele mal"], correct: 1, explanation: "Ácidos del burnout permanecen. Múltiples cambios remueven contaminación progresivamente." },
        { category: "Manejo de Refrigerantes", q: "¿Tamaño filter-drier recomendado para cleanup después burnout?", options: ["El más pequeño", "Más grande de lo normal o en línea con succión", "Estándar", "No se necesita"], correct: 1, explanation: "Después burnout se usa filter-drier más grande para capturar más contaminación." },
        { category: "Manejo de Refrigerantes", q: "Sistema R-410A con presión succión 85 psig en cooling. ¿Evaluación?", options: ["Muy bajo", "Bajo si día caliente - normal ~120 psig para 40°F evap temp", "Perfecto", "Muy alto"], correct: 1, explanation: "R-410A a 85 psig corresponde a ~30°F saturación, muy frío para A/C. Indica bajo charge." },
        { category: "Manejo de Refrigerantes", q: "¿Por qué no mezclar diferentes aceites lubricantes?", options: ["Por color", "Pueden ser incompatibles y causar falta lubricación", "Solo recomendación", "Vender más aceite"], correct: 1, explanation: "Diferentes aceites pueden no mezclarse, causando separación y daño compresor." },
        { category: "Manejo de Refrigerantes", q: "¿Qué es floodback y cómo identificarlo?", options: ["Normal", "Líquido regresando al compresor - línea succión fría/escarcha hasta compresor", "Alto superheat", "Bajo subcooling"], correct: 1, explanation: "Floodback es refrigerante líquido en línea succión. Se identifica por línea muy fría hasta compresor." },
        { category: "Manejo de Refrigerantes", q: "Chiller 200 tons con leak rate 15% anual. ¿Qué requiere EPA?", options: ["Nada", "Reparar dentro 30 días o plan retrofit/retirement", "Solo documentar", "Reportar cliente"], correct: 1, explanation: "EPA requiere reparación sistemas comerciales con leak rate >10% dentro 30 días." },
        { category: "Manejo de Refrigerantes", q: "¿Práctica correcta agregar refrigerante a sistema con TXV?", options: ["Por succión siempre", "Agregar al lado líquido/alta, monitoreando subcooling", "Lo que quepa", "Solo por peso"], correct: 1, explanation: "Con TXV, subcooling indica charge. Se agrega al lado alta para alcanzar subcooling especificado." },
        { category: "Manejo de Refrigerantes", q: "Identificador refrigerante muestra R-22 con 8% aire. ¿Qué haces?", options: ["Usarlo", "Recuperar todo - aire contamina sistema y afecta rendimiento", "Purgar un poco", "Agregar más refrigerante"], correct: 1, explanation: "Refrigerante con aire (>2% non-condensables) no debe usarse. Debe recuperarse." },
        { category: "Manejo de Refrigerantes", q: "¿Por qué usar nitrógeno para pressure test en lugar de refrigerante?", options: ["Más barato", "Es seco, inerte, y legal - liberar refrigerante es ilegal", "Más fácil conseguir", "No hay razón"], correct: 1, explanation: "Nitrógeno es seco, no dañino, y usar refrigerante para testing viola EPA." },
        { category: "Manejo de Refrigerantes", q: "¿Qué es azeotropic refrigerant?", options: ["Con glide", "Mezcla que se comporta como sustancia pura - R-410A es near-azeotropic", "Refrigerante puro", "Solo R-22"], correct: 1, explanation: "Azeotropic significa mezcla evapora/condensa como sustancia pura sin cambio composición." },
        { category: "Manejo de Refrigerantes", q: "Después reemplazar compresor, ¿por qué agregar aceite adicional?", options: ["Compresores vienen sin aceite", "Sistema tiene aceite residual, agregar cantidad removida", "No necesario", "Llenar hasta arriba"], correct: 1, explanation: "Parte del aceite quedó en sistema viejo. Agrega cantidad equivalente a lo removido con compresor viejo." },
        { category: "Códigos y Permisos", q: "¿Cuál es el clearance mínimo requerido para condensadora según código?", options: ["0 pulgadas", "12-24 pulgadas dependiendo jurisdicción y fabricante", "6 pies", "No hay requisito"], correct: 1, explanation: "Códigos y fabricantes requieren clearance mínimo para flujo aire y servicio, típicamente 12-24\"." },
        { category: "Códigos y Permisos", q: "¿Qué documento necesitas antes de instalar sistema HVAC nuevo?", options: ["Nada", "Permiso de construcción/mecánico del municipio", "Solo factura", "Licencia de conducir"], correct: 1, explanation: "Instalaciones HVAC requieren permiso mecánico. Trabajar sin permiso puede resultar en multas." },
        { category: "Códigos y Permisos", q: "¿Quién puede obtener permiso para trabajo HVAC?", options: ["Cualquier persona", "El contratista con licencia apropiada", "El homeowner nunca", "Solo ingenieros"], correct: 1, explanation: "En la mayoría de jurisdicciones, solo contratistas licenciados pueden obtener permisos para trabajo HVAC." },
        { category: "Códigos y Permisos", q: "¿Qué verifica el inspector en instalación HVAC?", options: ["Solo precio", "Código cumplimiento: instalación, electrical, gas, ventilación, clearances", "Color equipo", "Marca preferida"], correct: 1, explanation: "Inspector verifica cumplimiento de códigos mecánicos, eléctricos, de gas, y seguridad." },
        { category: "Códigos y Permisos", q: "¿Qué es un change order y cuándo se necesita?", options: ["Cambio de técnico", "Documento formal para cambios al scope de trabajo original", "Cambio de horario", "No existe"], correct: 1, explanation: "Change order documenta modificaciones al contrato original, protegiendo a ambas partes." },
        { category: "Códigos y Permisos", q: "¿Qué requiere código para disconnect de equipo HVAC exterior?", options: ["Nada", "Disconnect visible y accesible dentro de sight del equipo", "Solo breaker interior", "Opcional"], correct: 1, explanation: "NEC requiere disconnect para servicio seguro, visible desde el equipo." },
        { category: "Códigos y Permisos", q: "¿Cuál es el propósito del código mecánico?", options: ["Hacer dinero", "Proteger salud y seguridad pública estableciendo estándares mínimos", "Complicar trabajo", "Solo burocracia"], correct: 1, explanation: "Códigos establecen requisitos mínimos para proteger ocupantes y técnicos." },
        { category: "Códigos y Permisos", q: "¿Qué pasa si inspector encuentra violación de código?", options: ["Nada", "Debe corregirse y reinspeccionarse antes de aprobar", "Solo advertencia", "Multa automática"], correct: 1, explanation: "Violaciones deben corregirse. El trabajo no se aprueba hasta cumplir código." },
        { category: "Códigos y Permisos", q: "¿Qué es Title 24 en California?", options: ["Programa TV", "Estándares eficiencia energética para edificios", "Tipo licencia", "Marca equipo"], correct: 1, explanation: "Title 24 establece requisitos de eficiencia energética para construcción en California." },
        { category: "Códigos y Permisos", q: "¿Qué documentación debes dejar al cliente después de instalación?", options: ["Nada", "Manuales, warranty info, permits, y documentación de inspección", "Solo factura", "Tu tarjeta"], correct: 1, explanation: "Cliente debe recibir documentación completa para warranty y referencia futura." },
        { category: "Códigos y Permisos", q: "¿Cuándo necesitas permiso para reemplazo de equipo 'like for like'?", options: ["Nunca", "Depende jurisdicción - muchas requieren permiso aun para reemplazos", "Siempre", "Solo comercial"], correct: 1, explanation: "Requisitos varían por jurisdicción. Muchas requieren permiso incluso para reemplazos directos." },
        { category: "Códigos y Permisos", q: "¿Qué es ACCA Standard 5?", options: ["Tipo refrigerante", "Estándar para calidad de instalación HVAC residencial", "Marca equipo", "Código eléctrico"], correct: 1, explanation: "ACCA Standard 5 establece criterios de calidad para instalaciones HVAC residenciales." },
        { category: "Códigos y Permisos", q: "¿Qué clearance requiere código para equipment en attic?", options: ["Nada", "Plataforma de servicio, acceso adecuado, luz, y switch", "Solo acceso", "No hay requisito"], correct: 1, explanation: "Código requiere acceso seguro, plataforma de servicio, iluminación, y switch para servicio en attics." },
        { category: "Códigos y Permisos", q: "¿Qué es load calculation y por qué es importante para código?", options: ["Pesar equipo", "Calcular tamaño correcto usando Manual J para cumplir código", "Opcional", "Solo comercial"], correct: 1, explanation: "Muchas jurisdicciones requieren load calculation para asegurar equipo correctamente dimensionado." },
        { category: "Códigos y Permisos", q: "¿Cuál es la consecuencia de instalar sin permiso?", options: ["Ninguna", "Multas, rehacer trabajo, problemas de insurance/venta", "Solo advertencia", "Premio"], correct: 1, explanation: "Trabajo sin permiso puede resultar en multas, obligación de rehacer, y problemas legales." },
        { category: "Clientes y Estimaciones", q: "Cliente pregunta por qué tu precio es más alto que competencia. ¿Mejor respuesta?", options: ["Porque sí", "Explicar valor: calidad, warranty, licencia, seguros, servicio post-venta", "Bajar precio", "Insultar competencia"], correct: 1, explanation: "Enfócate en valor que ofreces, no en criticar competencia. Diferencia tu servicio profesionalmente." },
        { category: "Clientes y Estimaciones", q: "¿Qué debe incluir un estimate profesional?", options: ["Solo precio total", "Scope trabajo, materiales, mano obra, términos, warranty, exclusiones", "Solo tu nombre", "Nada escrito"], correct: 1, explanation: "Estimate detallado protege a ambas partes y establece expectativas claras." },
        { category: "Clientes y Estimaciones", q: "Cliente quiere reparación pero sistema tiene 20 años. ¿Cómo abordas?", options: ["Solo reparar", "Presentar opciones: reparar vs reemplazar con pros/cons de cada una", "Solo vender nuevo", "No dar opinión"], correct: 1, explanation: "Cliente informado toma mejor decisión. Presenta ambas opciones honestamente." },
        { category: "Clientes y Estimaciones", q: "Cliente enojado porque reparación no duró. ¿Mejor enfoque?", options: ["Culpar al cliente", "Escuchar, empatizar, investigar causa, y ofrecer solución justa", "Ignorar", "Discutir"], correct: 1, explanation: "Escucha sin interrumpir, muestra empatía, y trabaja hacia solución que satisfaga al cliente." },
        { category: "Clientes y Estimaciones", q: "¿Cuándo es apropiado ofrecer maintenance agreement?", options: ["Nunca", "Después de explicar beneficios y cuando cliente muestra interés en protección", "Forzarlo siempre", "Solo en equipos nuevos"], correct: 1, explanation: "Presenta beneficios del mantenimiento preventivo sin presionar. Es servicio que beneficia al cliente." },
        { category: "Clientes y Estimaciones", q: "Cliente pregunta si puede esperar para hacer reparación. ¿Qué respondes?", options: ["Tienes que hacerlo hoy", "Explicar consecuencias de esperar y dejar que decida informadamente", "Amenazar", "No importa"], correct: 1, explanation: "Educa sobre riesgos de esperar pero respeta la decisión del cliente. Es su equipo y dinero." },
        { category: "Clientes y Estimaciones", q: "¿Cómo manejas cliente que quiere que uses sus partes compradas online?", options: ["Negarte completamente", "Explicar policy, limitaciones de warranty, y riesgos profesionalmente", "Aceptar siempre", "Insultarlo"], correct: 1, explanation: "Explica por qué prefieres usar tus partes pero ofrece opciones si política lo permite." },
        { category: "Clientes y Estimaciones", q: "Cliente dice vecino pagó menos por mismo trabajo. ¿Respuesta?", options: ["El vecino es tonto", "Cada trabajo es diferente, explicar qué incluye tu precio", "Igualar precio", "Discutir"], correct: 1, explanation: "Sin ver el otro trabajo, no puedes comparar. Enfócate en el valor de tu servicio." },
        { category: "Clientes y Estimaciones", q: "¿Qué información NO debes compartir con cliente sobre competencia?", options: ["Nada", "Información negativa o rumores sobre otros contratistas", "Tu pricing", "Tus servicios"], correct: 1, explanation: "Hablar mal de competencia es poco profesional y puede ser difamación. Enfócate en tu valor." },
        { category: "Clientes y Estimaciones", q: "Cliente pide descuento. ¿Mejor manera de manejar?", options: ["Siempre dar", "Evaluar situación, ofrecer valor adicional o terms alternos si posible", "Nunca dar", "Sentirse ofendido"], correct: 1, explanation: "Si das descuento, justifícalo. Mejor ofrecer valor adicional que simplemente reducir precio." },
        { category: "Clientes y Estimaciones", q: "¿Cuál es el propósito de follow-up después de instalación?", options: ["Ninguno", "Verificar satisfacción, responder preguntas, pedir referrals", "Solo vender más", "Molestar al cliente"], correct: 1, explanation: "Follow-up demuestra profesionalismo, identifica problemas temprano, y genera referrals." },
        { category: "Clientes y Estimaciones", q: "Cliente quiere pagar todo en efectivo sin recibo. ¿Qué haces?", options: ["Aceptar para evitar impuestos", "Explicar que todo trabajo debe documentarse por razones legales", "Ofrecer descuento", "No importa"], correct: 1, explanation: "Trabajo sin documentar viola regulaciones fiscales. Protege tu licencia y negocio." },
        { category: "Clientes y Estimaciones", q: "¿Cómo presentas opción de financiamiento?", options: ["No mencionarlo", "Explicar opciones disponibles como manera de hacer proyecto asequible", "Forzarlo", "Solo si preguntan"], correct: 1, explanation: "Financiamiento ayuda a clientes hacer mejoras que no podrían pagar de contado." },
        { category: "Clientes y Estimaciones", q: "Cliente llama con queja menor fuera de horario. ¿Cómo respondes?", options: ["Ignorar hasta lunes", "Responder profesionalmente, evaluar urgencia, programar solución", "Cobrar extra", "Ser grosero"], correct: 1, explanation: "Respuesta profesional construye relación. Evalúa si es emergencia o puede esperar." },
        { category: "Clientes y Estimaciones", q: "¿Qué hace la diferencia entre técnico promedio y excelente en relación con clientes?", options: ["Solo habilidades técnicas", "Comunicación, profesionalismo, educación del cliente, y seguimiento", "Precio bajo", "Velocidad"], correct: 1, explanation: "Excelencia técnica más habilidades interpersonales crean clientes leales y referrals." }
      ],

      elite: [
        // ========== NIVEL ELITE - 250 PREGUNTAS REALES ==========
        // Técnico Supervisor 10+ Años - Residencial, Comercial, Industrial
        
        // === SECCIÓN 1: DIAGNÓSTICO AVANZADO REFRIGERACIÓN (50 preguntas) ===
        { category: "Diagnóstico Refrigeración", q: "Sistema de refrigeración comercial con R-404A muestra: succión 20 PSI, descarga 280 PSI, superheat 8°F, subcooling 12°F. ¿Diagnóstico?", options: ["Carga correcta, sistema operando normal", "Sobrecarga de refrigerante", "Evaporador sucio", "Restricción en línea de líquido"], correct: 0, explanation: "Presiones normales para R-404A comercial, superheat 8°F y subcooling 12°F indican carga correcta. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: B) Sobrecarga de refrigerante; C) Evaporador sucio. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Walk-in freezer con R-448A no mantiene -10°F, solo llega a 15°F. Succión muy baja. ¿Causa más probable?", options: ["Termostato mal calibrado", "Evaporador bloqueado con hielo", "Fuga de refrigerante", "Compresor débil"], correct: 2, explanation: "Succión muy baja típicamente indica fuga de refrigerante. Verifica con detector antes de agregar carga. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: A) Termostato mal calibrado; B) Evaporador bloqueado con hielo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Rack de compresores muestra un compresor con amperaje 15% más alto que los otros. ¿Investigar?", options: ["Desbalance de voltaje en las fases", "Aceite incorrecto", "Normal variación entre compresores", "Válvulas de descarga dañadas en ese compresor"], correct: 0, explanation: "Desbalance de voltaje causa que un compresor trabaje más. Mide voltaje en las 3 fases. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: B) Aceite incorrecto; C) Normal variación entre compresores. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Sistema con TXV tiene superheat de 25°F constante sin importar la carga. ¿Problema?", options: ["Bulbo sensor mal posicionado o sin contacto térmico", "Todas las anteriores son posibles", "Filtro deshidratador tapado", "TXV subdimensionada"], correct: 1, explanation: "Superheat alto constante puede ser TXV pequeña, bulbo mal instalado, o restricción antes de la válvula. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: A) Bulbo sensor mal posicionado o sin contacto térmico; C) Filtro deshidratador tapado. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Condensador remoto enfriado por aire tiene approach de 35°F. ¿Es aceptable?", options: ["Depende del refrigerante", "No, indica condensador sucio o airflow reducido", "Solo en verano es problema", "Sí, es normal"], correct: 1, explanation: "Approach normal es 10-20°F. 35°F indica condensador sucio, fan fallando, o airflow obstruido. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: A) Depende del refrigerante; C) Solo en verano es problema. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Display case de supermercado tiene escarcha solo en la mitad del evaporador. ¿Causa?", options: ["Fan del evaporador débil", "Carga baja de refrigerante", "Defrost incompleto", "Distribuidor de refrigerante tapado parcialmente"], correct: 3, explanation: "Escarcha parcial indica distribución desigual de refrigerante - distribuidor o tubos tapados. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: A) Fan del evaporador débil; B) Carga baja de refrigerante. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Sistema de CO2 transcrítico muestra presión de 1,450 PSI en lado alto. ¿Es normal?", options: ["Sí, normal para CO2 transcrítico en día caliente", "Válvula de expansión cerrada", "Indica sobrecarga", "No, muy alto - peligro"], correct: 0, explanation: "CO2 transcrítico opera 900-1,500 PSI en alta. 1,450 PSI es normal en condiciones de alta temperatura ambiente. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: B) Válvula de expansión cerrada; C) Indica sobrecarga. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Compresor scroll hace ruido de rodamiento pero presiones son normales. ¿Acción?", options: ["Agregar aceite resolverá", "Cambiar solo el rodamiento", "Continuar operando hasta que falle", "Programar reemplazo preventivo - falla inminente"], correct: 3, explanation: "Ruido de rodamiento en scroll indica falla próxima. Programa reemplazo antes de falla catastrófica. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: A) Agregar aceite resolverá; B) Cambiar solo el rodamiento. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Sistema cascade NH3/CO2: el intercambiador intermedio muestra approach de 15°F. ¿Problema?", options: ["Irrelevante para operación", "Normal para cascade", "Muy bajo - riesgo de congelamiento", "Muy alto - reduce eficiencia significativamente"], correct: 3, explanation: "Approach en cascade debe ser 5-10°F. 15°F indica fouling o problema de flujo que reduce eficiencia. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: A) Irrelevante para operación; B) Normal para cascade. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Oil separator en sistema de baja temperatura retorna aceite espumoso. ¿Indica?", options: ["Refrigerante disuelto en aceite - temperatura muy fría", "Separator dañado", "Funcionamiento correcto", "Aceite incorrecto"], correct: 0, explanation: "Aceite espumoso indica refrigerante líquido mezclado. Puede necesitar oil heater o ajuste de operación. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: B) Separator dañado; C) Funcionamiento correcto. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Presión de succión fluctúa 10 PSI constantemente en sistema con múltiples evaporadores. ¿Causa?", options: ["EPR o solenoides hunting", "TXV mal ajustadas", "Normal con múltiples cargas", "Compresor con válvulas dañadas"], correct: 0, explanation: "Fluctuación en sistema multi-evaporador típicamente indica válvulas EPR o solenoides no operando correctamente. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: B) TXV mal ajustadas; C) Normal con múltiples cargas. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Ice machine produce hielo opaco en lugar de cristalino. ¿Problema de refrigeración?", options: ["Sí, evaporador muy frío", "Sí, ciclo de cosecha muy largo", "Sí, carga baja", "No, es problema de calidad de agua"], correct: 3, explanation: "Hielo opaco es causado por minerales en agua, no por el sistema de refrigeración. Necesita filtración. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: A) Sí, evaporador muy frío; B) Sí, ciclo de cosecha muy largo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Sistema de glicol muestra delta-T de 4°F en lugar de 10°F diseñado. ¿Indica?", options: ["Concentración de glicol incorrecta", "Flujo excesivo de glicol o transferencia de calor reducida", "Sistema muy eficiente", "Carga de refrigeración baja"], correct: 1, explanation: "Delta-T bajo indica flujo muy alto (bomba) o coils sucios que reducen transferencia de calor. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: A) Concentración de glicol incorrecta; C) Sistema muy eficiente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Compresor de tornillo no descarga completamente. Slide valve en 100%. ¿Problema?", options: ["Rotor desgastado", "Presión de aceite baja", "Todas son causas posibles", "Actuador de slide valve dañado"], correct: 2, explanation: "Falta de descarga puede ser actuador, presión de aceite insuficiente, o desgaste interno del rotor. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: A) Rotor desgastado; B) Presión de aceite baja. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Línea de líquido tiene 5°F de subenfriamiento pero sight glass muestra burbujas. ¿Por qué?", options: ["Altura causa pérdida de presión", "Restricción antes del sight glass", "Imposible esta condición", "Medición incorrecta"], correct: 0, explanation: "En instalaciones con altura vertical, la columna de líquido causa caída de presión mostrando burbujas. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: B) Restricción antes del sight glass; C) Imposible esta condición. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Sistema con reclaim de calor para agua caliente no produce agua suficientemente caliente. ¿Verificar?", options: ["Válvula desuperheater, control de flujo de agua, y bypass", "Cambiar compresor", "Agregar refrigerante", "Solo el sistema de agua"], correct: 0, explanation: "Recuperación de calor depende de válvula de control, flujo de agua, y que el bypass no esté abierto. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: B) Cambiar compresor; C) Agregar refrigerante. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Evaporador de cámara fría con aire forzado tiene delta-T de aire de 8°F. ¿Es bajo?", options: ["Sí, debería ser 15-20°F", "Depende del producto almacenado", "No, es normal para cámara fría", "Solo importa la temperatura final"], correct: 0, explanation: "Delta-T de 8°F es bajo. Puede indicar carga reducida, frost en coil, o airflow excesivo. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: B) Depende del producto almacenado; C) No, es normal para cámara fría. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Head pressure control mantiene 200 PSI en R-407C durante invierno. ¿Es correcto?", options: ["Demasiado alto, desperdicia energía", "No necesita head pressure control", "Correcto para mantener operación de TXV", "Demasiado bajo"], correct: 2, explanation: "Head pressure control a ~200 PSI asegura suficiente presión para operación correcta de TXV en clima frío. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: A) Demasiado alto, desperdicia energía; B) No necesita head pressure control. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Sistema muestra alto superheat Y alto subcooling simultáneamente. ¿Diagnóstico?", options: ["Lecturas incorrectas", "Restricción en línea de líquido entre condensador y válvula", "Compresor débil", "Sobrecarga severa"], correct: 1, explanation: "Esta combinación indica restricción que atrapa líquido antes del evaporador y starves al evaporador. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: A) Lecturas incorrectas; C) Compresor débil. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Defrost por gas caliente no completa. Evaporador aún tiene hielo después del ciclo. ¿Causa?", options: ["Check valve de hot gas no abre completamente", "Timer muy corto", "Temperatura de terminación muy baja", "Todas son posibles"], correct: 3, explanation: "Defrost incompleto puede ser tiempo insuficiente, válvula de hot gas, o setpoint de terminación. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: A) Check valve de hot gas no abre completamente; B) Timer muy corto. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Compresor arranca y para cada 30 segundos. Low pressure cutout. ¿Primera verificación?", options: ["Verificar aceite", "Cambiar presostato", "Verificar si evaporador está congelado bloqueando airflow", "Agregar refrigerante"], correct: 2, explanation: "Short cycling por baja presión frecuentemente es evaporador congelado que bloquea airflow. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: A) Verificar aceite; B) Cambiar presostato. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Oil return line de sistema de baja temp está fría pero sin escarcha. ¿Indica?", options: ["Sin retorno de aceite - línea tapada", "Funcionando correctamente", "Demasiado aceite retornando", "Temperatura ambiente alta"], correct: 0, explanation: "La línea debe mostrar algo de frío/escarcha si hay flujo. Línea no fría indica bloqueo. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: B) Funcionando correctamente; C) Demasiado aceite retornando. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Sistema con economizer de flash tank muestra temperatura de gas intermedio muy alta. ¿Por qué?", options: ["Normal para economizer", "Válvula de expansión del economizer restringida", "Sobrecarga del sistema", "Flash tank muy pequeño"], correct: 1, explanation: "Temperatura alta de gas intermedio indica que la válvula del economizer no está inyectando suficiente. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: A) Normal para economizer; C) Sobrecarga del sistema. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Reach-in cooler comercial cicla muy frecuentemente pero mantiene temperatura. ¿Problema?", options: ["Condensador muy eficiente", "Diferencial del termostato muy pequeño", "Ubicación del sensor", "No hay problema si mantiene temp"], correct: 1, explanation: "Cycling frecuente con temperatura correcta indica diferencial muy pequeño. Ajusta el diferencial. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: A) Condensador muy eficiente; C) Ubicación del sensor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Sistema de cerveza muestra glicol a 26°F pero cerveza a 38°F. ¿Delta-T correcto?", options: ["Depende del tipo de cerveza", "Glicol muy frío", "Sí, 12°F es normal", "No, muy alto - problema de transferencia"], correct: 3, explanation: "Delta-T de 12°F entre glicol y producto es alto. Debería ser 5-8°F. Verifica flujo y coils. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: A) Depende del tipo de cerveza; B) Glicol muy frío. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Compressor tiene oil foaming visible en sight glass al arrancar. ¿Prevención?", options: ["Cambiar a aceite sintético", "Instalar o verificar crankcase heater", "Arrancar más lento con soft start", "Reducir carga de refrigerante"], correct: 1, explanation: "Oil foaming al arranque indica refrigerante migrado al cárter. Crankcase heater lo previene. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: A) Cambiar a aceite sintético; C) Arrancar más lento con soft start. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Sistema tiene 3 compresores en paralelo. Uno tiene descarga 20°F más caliente. ¿Por qué?", options: ["Ese compresor maneja más carga", "Válvulas de descarga con fugas internas", "Normal variación", "Menos refrigerante a ese compresor"], correct: 1, explanation: "Descarga más caliente en un compresor indica bypass interno por válvulas dañadas - menor eficiencia. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: A) Ese compresor maneja más carga; C) Normal variación. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Suction accumulator está completamente escarchado. ¿Es normal?", options: ["Sí, indica que está trabajando", "No, indica floodback excesivo al compresor", "Solo en defrost", "Depende del refrigerante"], correct: 1, explanation: "Accumulator escarchado indica líquido excesivo regresando. Verifica TXV, carga, o defrost. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: A) Sí, indica que está trabajando; C) Solo en defrost. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Temperatura de descarga de 280°F con R-404A. ¿Aceptable?", options: ["No, máximo recomendado es 225°F", "Depende de la marca del compresor", "Solo durante pulldown", "Sí, normal para R-404A"], correct: 0, explanation: "R-404A tiene límite de descarga ~225°F. 280°F causa degradación de aceite y daño al compresor. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: B) Depende de la marca del compresor; C) Solo durante pulldown. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Refrigeración", q: "Válvula de servicio en posición media. ¿Para qué se usa?", options: ["Operación normal únicamente", "Recuperación de refrigerante", "Nunca se usa posición media", "Permite lectura de presión mientras sistema opera"], correct: 3, explanation: "Posición media (back-seated one turn) permite conectar manómetros mientras el sistema opera. Fuente: Modern Refrigeration and Air Conditioning, 21st Ed., Althouse et al. El diagnóstico de refrigeración comercial requiere dominio de superheat, subcooling y análisis de aceite. Las otras opciones son incorrectas: A) Operación normal únicamente; B) Recuperación de refrigerante. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 2: SISTEMAS HVAC COMERCIALES (50 preguntas) ===
        { category: "HVAC Comercial", q: "Rooftop de 25 toneladas con economizer. OAT es 55°F, return air 75°F. ¿Damper position esperada?", options: ["Mínimo outdoor air", "50% outdoor air", "Depende de la humedad", "100% outdoor air"], correct: 3, explanation: "A 55°F exterior con retorno a 75°F, economizer debería estar 100% abierto para free cooling. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: A) Mínimo outdoor air; B) 50% outdoor air. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Sistema VAV con presión de ducto hunting. ¿Ajuste de control típico?", options: ["Aumentar ganancia proporcional", "Solo ajustar setpoint", "Reducir ganancia proporcional y aumentar integral", "Cambiar el sensor"], correct: 2, explanation: "Hunting indica ganancia muy alta. Reduce P y aumenta I para respuesta más suave. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: A) Aumentar ganancia proporcional; B) Solo ajustar setpoint. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "AHU de hospital con 100% aire exterior. ¿Por qué no usa return air?", options: ["Código de incendios", "Mejor humedad", "Control de infecciones - evita recirculación de patógenos", "Ahorro de energía"], correct: 2, explanation: "Áreas críticas de hospitales usan 100% OA para prevenir recirculación de contaminantes. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: A) Código de incendios; B) Mejor humedad. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Chiller centrífugo muestra surge. ¿Qué está pasando?", options: ["Flujo de refrigerante se reversa momentáneamente", "Sobrecarga eléctrica", "Vibración de montaje", "Bajo nivel de aceite"], correct: 0, explanation: "Surge ocurre cuando la presión de descarga excede la capacidad del impeller, reversando flujo. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: B) Sobrecarga eléctrica; C) Vibración de montaje. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Cooling tower tiene conductividad de agua de 3,500 µS/cm. ¿Acción?", options: ["Reducir makeup water", "Aumentar blowdown para reducir concentración", "Normal, continuar", "Agregar más químicos"], correct: 1, explanation: "Conductividad alta indica minerales concentrados. Aumenta blowdown para mantener ciclos correctos. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: A) Reducir makeup water; C) Normal, continuar. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "VFD de fan muestra fault por 'DC bus undervoltage'. ¿Causa probable?", options: ["Caída de voltaje de entrada o problema de capacitores", "Parámetros incorrectos", "Carga muy alta", "Motor en corto"], correct: 0, explanation: "DC bus undervoltage indica problema en rectificación - verifica voltaje de entrada y capacitores. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: B) Parámetros incorrectos; C) Carga muy alta. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Sistema de agua helada tiene delta-T de 6°F vs diseño de 12°F. ¿Consecuencia?", options: ["Sin consecuencia", "Mejor comfort", "Flujo excesivo, menor eficiencia de chiller, más costo de bombeo", "Mayor eficiencia"], correct: 2, explanation: "Bajo delta-T significa más GPM para misma capacidad = más energía de bombeo y chiller menos eficiente. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: A) Sin consecuencia; B) Mejor comfort. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Building automation muestra punto en 'alarm' pero valor parece normal. ¿Verificar?", options: ["Verificar límites de alarma programados vs valor actual", "Cambiar el sensor", "Ignorar, es glitch", "Resetear el sistema"], correct: 0, explanation: "Alarma con valor aparentemente normal usualmente indica límites mal configurados en el software. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: B) Cambiar el sensor; C) Ignorar, es glitch. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "MAU (Make-up Air Unit) para cocina comercial. ¿CFM típico vs exhaust hood?", options: ["80-90% del exhaust para mantener negativa", "100% del exhaust", "50% es suficiente", "120% del exhaust"], correct: 0, explanation: "Make-up air típicamente 80-90% del exhaust para mantener cocina ligeramente negativa. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: B) 100% del exhaust; C) 50% es suficiente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Sistema de recuperación de calor rueda entálpica gira pero no transfiere. ¿Problema?", options: ["Normal en algunas condiciones", "Motor muy lento", "Sellos de la rueda desgastados o dañados", "Ductos mal conectados"], correct: 2, explanation: "Rueda girando sin transferencia indica sellos dañados que permiten bypass de aire. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: A) Normal en algunas condiciones; B) Motor muy lento. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Data center con cooling de precisión. ¿Por qué sensible heat ratio alto?", options: ["Reduce costo", "Mejor para equipos", "Equipos IT generan calor sensible casi puro, poca humedad", "Error de diseño"], correct: 2, explanation: "Servidores y equipos IT generan calor seco (sensible). Poca carga latente de personas. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: A) Reduce costo; B) Mejor para equipos. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Presión estática de supply duct es 3.5 IWG vs diseño de 2.0 IWG. ¿Efecto?", options: ["Mayor consumo de energía, menos CFM, posible ruido", "Más cooling", "Mejor distribución", "Sin efecto si alcanza temp"], correct: 0, explanation: "Presión alta indica restricción. Fan consume más energía, entrega menos CFM, y puede generar ruido. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: B) Más cooling; C) Mejor distribución. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Válvula de 3 vías en coil de AHU pasa agua aunque está cerrada. ¿Causa?", options: ["Normal con válvula de 3 vías", "Presión de bomba alta", "Necesita balanceo", "Asiento de válvula dañado o actuador no cierra completamente"], correct: 3, explanation: "Bypass en válvula cerrada indica asiento dañado o actuador que no alcanza cierre total. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: A) Normal con válvula de 3 vías; B) Presión de bomba alta. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Fan coil unit en hotel tiene ruido de agua. ¿Solución?", options: ["Cambiar el coil", "Normal para fan coil", "Subir velocidad del fan", "Purgar aire del coil y verificar presión de sistema"], correct: 3, explanation: "Ruido de agua indica aire atrapado en el coil. Purgar aire y verificar presión de expansión. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: A) Cambiar el coil; B) Normal para fan coil. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "DX rooftop con dos compresores - uno no arranca, el otro short-cycles. ¿Diagnóstico?", options: ["Bajo refrigerante", "El que no arranca causa que el otro trabaje demasiado", "Ambos compresores malos", "Problema de control"], correct: 3, explanation: "Un compresor fuera causa síntomas en el otro. Primero diagnostica por qué uno no arranca. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: A) Bajo refrigerante; B) El que no arranca causa que el otro trabaje demasiado. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Humidificador de vapor limpio vs electrodo. ¿Cuándo usar vapor limpio?", options: ["Más barato de operar", "Siempre es mejor", "Mayor capacidad", "Cuando la calidad del agua es mala o se necesita higiene (hospitales)"], correct: 3, explanation: "Vapor limpio evita minerales en el aire - crítico para hospitales y donde la calidad del agua es pobre. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: A) Más barato de operar; B) Siempre es mejor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Sistema VRF de 20 toneladas. ¿Longitud máxima típica de tubería?", options: ["330-540 pies dependiendo del fabricante", "Igual que split normal", "100 pies", "1000 pies sin límite"], correct: 0, explanation: "VRF permite longitudes de 330-540 pies típicamente con límites de altura y total de tubería. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: B) Igual que split normal; C) 100 pies. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "BAS muestra 'point in override'. ¿Qué significa?", options: ["Punto fuera de servicio", "Operador forzó valor manual, no sigue programa automático", "Alarma activa", "Sensor desconectado"], correct: 1, explanation: "Override significa que el punto fue forzado a valor manual y no responde a control automático. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: A) Punto fuera de servicio; C) Alarma activa. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Chiller scroll modular vs centrífugo grande. ¿Ventaja del modular?", options: ["Menos mantenimiento", "Mayor eficiencia siempre", "Redundancia, mejor part-load, y staging más granular", "Menor costo"], correct: 2, explanation: "Chillers modulares ofrecen redundancia parcial y eficiencia superior en carga parcial. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: A) Menos mantenimiento; B) Mayor eficiencia siempre. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Lab exhaust con VAV fume hoods. ¿Cómo mantiene presión negativa?", options: ["Solo exhaust VAV", "Presión no es crítica", "Supply fijo menor que exhaust fijo", "Supply VAV tracks exhaust con offset negativo"], correct: 3, explanation: "Supply trackea exhaust menos un offset (típico 10-20%) para mantener lab negativo. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: A) Solo exhaust VAV; B) Presión no es crítica. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Condensador evaporativo vs torre + chiller. ¿Cuándo elegir evaporativo?", options: ["Cuando espacio es limitado y carga es consistente", "Nunca, están obsoletos", "Solo en climas húmedos", "Siempre más eficiente"], correct: 0, explanation: "Condensadores evaporativos son compactos y eficientes pero menos flexibles que sistemas separados. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: B) Nunca, están obsoletos; C) Solo en climas húmedos. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Sensor de CO2 marca 2,800 ppm en sala de conferencias llena. ¿Acción?", options: ["Aumentar ventilación inmediatamente - ASHRAE limite 1,000 ppm", "Abrir ventanas", "Calibrar sensor - lectura incorrecta", "Normal para ocupación alta"], correct: 0, explanation: "2,800 ppm muy excede límite de 1,000 ppm. Aumentar OA o verificar sistema de ventilación. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: B) Abrir ventanas; C) Calibrar sensor - lectura incorrecta. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Sistema de ice storage. ¿Cuándo se hace el hielo típicamente?", options: ["Durante el día cuando hay carga", "24/7 continuamente", "Por la noche cuando electricidad es barata y no hay carga", "Solo en emergencias"], correct: 2, explanation: "Ice storage produce hielo nocturno (tarifa baja) para usar durante picos del día. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: A) Durante el día cuando hay carga; B) 24/7 continuamente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Smoke damper no cierra en prueba de alarma. ¿Diagnóstico?", options: ["Programación del BAS", "Verificar actuador, fusible térmico, y señal del panel", "Normal si no hay fuego real", "Solo necesita lubricación"], correct: 1, explanation: "Smoke dampers son críticos para seguridad. Verifica actuador, fusibles, y señal de control. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: A) Programación del BAS; C) Normal si no hay fuego real. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Underfloor air distribution (UFAD) vs overhead. ¿Beneficio principal?", options: ["Menor costo inicial", "Mejor estratificación, aire fresco donde están ocupantes", "Menos ductos", "Más simple de balancear"], correct: 1, explanation: "UFAD entrega aire fresco a nivel de ocupantes, permitiendo temperatura estratificada más eficiente. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: A) Menor costo inicial; C) Menos ductos. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 3: CONTROLES Y ELECTRICIDAD (40 preguntas) ===
        { category: "Controles Eléctricos", q: "Motor trifásico de 10 HP mide 28A en una fase, 26A en otra, 24A en la tercera. ¿Problema?", options: ["Desbalance de corriente significativo - verificar voltaje y conexiones", "Motor subdimensionado", "Demasiada carga", "Normal variación"], correct: 0, explanation: "Más de 10% de desbalance de corriente indica problema. Verifica voltaje de fases y conexiones. Fuente: NEC (National Electrical Code) NFPA 70 & Electricity for HVACR Technicians. Los controles eléctricos son el cerebro del sistema - entenderlos es fundamental para troubleshooting efectivo. Las otras opciones son incorrectas: B) Motor subdimensionado; C) Demasiada carga. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Eléctricos", q: "Contactor de compresor hace chatter (vibra). ¿Causa más común?", options: ["Normal al arrancar", "Voltaje de bobina bajo", "Corriente de carga alta", "Contactor de mala calidad"], correct: 1, explanation: "Chatter indica voltaje insuficiente para mantener la bobina energizada. Verifica transformador y cableado. Fuente: NEC (National Electrical Code) NFPA 70 & Electricity for HVACR Technicians. Los controles eléctricos son el cerebro del sistema - entenderlos es fundamental para troubleshooting efectivo. Las otras opciones son incorrectas: A) Normal al arrancar; C) Corriente de carga alta. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Eléctricos", q: "VFD programado para 60 Hz max muestra motor a 63 Hz. ¿Cómo es posible?", options: ["Slip del motor", "Motor de 50 Hz instalado", "Alguien cambió parámetro máximo en el VFD", "Imposible, error de display"], correct: 2, explanation: "La frecuencia máxima es un parámetro programable. Alguien lo modificó o estaba mal configurado. Fuente: NEC (National Electrical Code) NFPA 70 & Electricity for HVACR Technicians. Los controles eléctricos son el cerebro del sistema - entenderlos es fundamental para troubleshooting efectivo. Las otras opciones son incorrectas: A) Slip del motor; B) Motor de 50 Hz instalado. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Eléctricos", q: "Sensor de temperatura RTD 1000 ohm. ¿Lectura a 77°F (25°C)?", options: ["1000 ohms exactos", "900 ohms", "1097 ohms aproximadamente", "1200 ohms"], correct: 2, explanation: "RTD Pt1000 es 1000 ohms a 0°C. A 25°C aproximadamente 1097 ohms (coeficiente positivo). Fuente: NEC (National Electrical Code) NFPA 70 & Electricity for HVACR Technicians. Los controles eléctricos son el cerebro del sistema - entenderlos es fundamental para troubleshooting efectivo. Las otras opciones son incorrectas: A) 1000 ohms exactos; B) 900 ohms. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Eléctricos", q: "Termostato de 2 etapas. Diferencial entre stage 1 y stage 2 típico?", options: ["5°F", "0.5°F", "1-2°F", "Ambas arrancan juntas"], correct: 2, explanation: "Típicamente 1-2°F de diferencial entre etapas para staging escalonado suave. Fuente: NEC (National Electrical Code) NFPA 70 & Electricity for HVACR Technicians. Los controles eléctricos son el cerebro del sistema - entenderlos es fundamental para troubleshooting efectivo. Las otras opciones son incorrectas: A) 5°F; B) 0.5°F. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Eléctricos", q: "Señal de 4-20mA mide 2mA. ¿Qué indica?", options: ["Sensor fuera de rango bajo", "Señal normal baja", "Cable abierto o sensor desconectado", "0% de rango"], correct: 2, explanation: "4mA es el mínimo válido. Por debajo de 4mA indica cable roto o sensor desconectado. Fuente: NEC (National Electrical Code) NFPA 70 & Electricity for HVACR Technicians. Los controles eléctricos son el cerebro del sistema - entenderlos es fundamental para troubleshooting efectivo. Las otras opciones son incorrectas: A) Sensor fuera de rango bajo; B) Señal normal baja. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Eléctricos", q: "Actuador de damper 0-10V está a 5V pero damper está 100% abierto. ¿Problema?", options: ["Señal incorrecta del controlador", "Normal para ese modelo", "Linkage desconectado o actuador invertido", "Actuador configurado para fail-open"], correct: 2, explanation: "5V debería ser 50% abierto. 100% indica linkage suelto o configuración de actuador invertida. Fuente: NEC (National Electrical Code) NFPA 70 & Electricity for HVACR Technicians. Los controles eléctricos son el cerebro del sistema - entenderlos es fundamental para troubleshooting efectivo. Las otras opciones son incorrectas: A) Señal incorrecta del controlador; B) Normal para ese modelo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Eléctricos", q: "Ground fault en VFD. ¿Primer diagnóstico?", options: ["Desconectar motor y medir aislamiento con megger", "Reducir velocidad", "Cambiar el VFD", "Verificar parámetros"], correct: 0, explanation: "Ground fault indica problema de aislamiento. Desconecta motor y prueba con megger antes de reemplazar VFD. Fuente: NEC (National Electrical Code) NFPA 70 & Electricity for HVACR Technicians. Los controles eléctricos son el cerebro del sistema - entenderlos es fundamental para troubleshooting efectivo. Las otras opciones son incorrectas: B) Reducir velocidad; C) Cambiar el VFD. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Eléctricos", q: "Control de humidificador pide humedad pero no hay vapor. ¿Secuencia de verificación?", options: ["Verificar: agua disponible, válvula abierta, cilindro/elementos, control de enable", "Cambiar humidificador", "Subir setpoint", "Verificar ductos"], correct: 0, explanation: "Verifica sistemáticamente: suministro de agua, válvulas, elementos de calefacción, y señales de enable. Fuente: NEC (National Electrical Code) NFPA 70 & Electricity for HVACR Technicians. Los controles eléctricos son el cerebro del sistema - entenderlos es fundamental para troubleshooting efectivo. Las otras opciones son incorrectas: B) Cambiar humidificador; C) Subir setpoint. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Eléctricos", q: "Compresor con protección interna abierta. ¿Cuánto esperar antes de reintentar?", options: ["24 horas mínimo", "30-60 minutos para que se enfríe internamente", "No reintentar, está quemado", "Reintentar inmediatamente"], correct: 1, explanation: "Protección interna necesita tiempo para enfriarse. 30-60 minutos típicamente. Si persiste, diagnosticar causa. Fuente: NEC (National Electrical Code) NFPA 70 & Electricity for HVACR Technicians. Los controles eléctricos son el cerebro del sistema - entenderlos es fundamental para troubleshooting efectivo. Las otras opciones son incorrectas: A) 24 horas mínimo; C) No reintentar, está quemado. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Eléctricos", q: "Transformador de control 75VA. ¿Cuántos relés de 5VA puede manejar?", options: ["Solo 5 relés", "Ilimitado si voltaje es correcto", "15 relés (75÷5)", "10-12 relés máximo (80% regla)"], correct: 3, explanation: "Regla del 80%: usar máximo 80% de capacidad = 60VA disponible = ~12 relés de 5VA. Fuente: NEC (National Electrical Code) NFPA 70 & Electricity for HVACR Technicians. Los controles eléctricos son el cerebro del sistema - entenderlos es fundamental para troubleshooting efectivo. Las otras opciones son incorrectas: A) Solo 5 relés; B) Ilimitado si voltaje es correcto. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Eléctricos", q: "BACnet MS/TP no comunica. ¿Verificar primero?", options: ["Cambiar a BACnet IP", "Cambiar router", "Verificar dirección MAC única, baud rate, y polaridad del cable", "Actualizar firmware"], correct: 2, explanation: "Problemas de MS/TP usualmente son direcciones duplicadas, baud rate incorrecto, o polaridad invertida. Fuente: NEC (National Electrical Code) NFPA 70 & Electricity for HVACR Technicians. Los controles eléctricos son el cerebro del sistema - entenderlos es fundamental para troubleshooting efectivo. Las otras opciones son incorrectas: A) Cambiar a BACnet IP; B) Cambiar router. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Eléctricos", q: "Lectura de megger de motor: 2 megohms. ¿Motor aceptable?", options: ["Necesita información de voltaje", "Inaceptable - no operar", "Marginal - monitorear y planear reemplazo", "Excelente"], correct: 2, explanation: "Regla: mínimo 1 megohm por kV + 1 megohm. Para 460V: ~1.5 megohm mínimo. 2 megohm es marginal. Fuente: NEC (National Electrical Code) NFPA 70 & Electricity for HVACR Technicians. Los controles eléctricos son el cerebro del sistema - entenderlos es fundamental para troubleshooting efectivo. Las otras opciones son incorrectas: A) Necesita información de voltaje; B) Inaceptable - no operar. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Eléctricos", q: "Capacitor de run mide 38µF. Placa dice 40µF ±5%. ¿Está bien?", options: ["Reemplazar preventivamente", "Necesita prueba bajo carga", "Sí, dentro de tolerancia", "No, está 5% bajo"], correct: 2, explanation: "40µF ±5% = 38-42µF. 38µF está exactamente en el límite inferior, aceptable. Fuente: NEC (National Electrical Code) NFPA 70 & Electricity for HVACR Technicians. Los controles eléctricos son el cerebro del sistema - entenderlos es fundamental para troubleshooting efectivo. Las otras opciones son incorrectas: A) Reemplazar preventivamente; B) Necesita prueba bajo carga. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Eléctricos", q: "Presostato de alta se dispara a 410 PSI con R-410A. Setting típico?", options: ["Muy bajo - debería ser 600 PSI", "Depende del compresor", "Muy alto - riesgo de daño", "Correcto para proteger compresor"], correct: 3, explanation: "410 PSI para R-410A high cut-out es típico. Protege el sistema de presiones peligrosas. Fuente: NEC (National Electrical Code) NFPA 70 & Electricity for HVACR Technicians. Los controles eléctricos son el cerebro del sistema - entenderlos es fundamental para troubleshooting efectivo. Las otras opciones son incorrectas: A) Muy bajo - debería ser 600 PSI; B) Depende del compresor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Eléctricos", q: "EMS muestra trend de temperatura subiendo 0.5°F por hora en cuarto frío. ¿Acción?", options: ["Esperar alarma de temperatura", "Ajustar setpoint", "Investigar causa antes de que se convierta en problema", "Normal fluctuación"], correct: 2, explanation: "Trend ascendente gradual indica problema developing - investiga proactivamente. Fuente: NEC (National Electrical Code) NFPA 70 & Electricity for HVACR Technicians. Los controles eléctricos son el cerebro del sistema - entenderlos es fundamental para troubleshooting efectivo. Las otras opciones son incorrectas: A) Esperar alarma de temperatura; B) Ajustar setpoint. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Eléctricos", q: "Compresor scroll con protección de fase inversa. ¿Qué pasa si fases están invertidas?", options: ["Opera normalmente", "No arranca - protección lo previene", "Gira al revés dañando scroll", "Solo ruido diferente"], correct: 1, explanation: "Scrolls tienen protección de fase porque girar al revés destruye el mecanismo. No arranca si está invertido. Fuente: NEC (National Electrical Code) NFPA 70 & Electricity for HVACR Technicians. Los controles eléctricos son el cerebro del sistema - entenderlos es fundamental para troubleshooting efectivo. Las otras opciones son incorrectas: A) Opera normalmente; C) Gira al revés dañando scroll. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Eléctricos", q: "DDC controller muestra 'watchdog timeout'. ¿Qué significa?", options: ["Normal durante startup", "Comunicación lenta", "Procesador se congela y resetea - posible problema de hardware", "Batería baja"], correct: 2, explanation: "Watchdog timeout indica que el procesador no responde a tiempo - señal de problema de hardware. Fuente: NEC (National Electrical Code) NFPA 70 & Electricity for HVACR Technicians. Los controles eléctricos son el cerebro del sistema - entenderlos es fundamental para troubleshooting efectivo. Las otras opciones son incorrectas: A) Normal durante startup; B) Comunicación lenta. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Eléctricos", q: "Soft starter vs VFD para bomba de agua helada. ¿Cuándo soft starter es suficiente?", options: ["Nunca, siempre usar VFD", "Cuando velocidad constante es OK y solo necesitas arranque suave", "VFD siempre es más barato", "Soft starter es más eficiente"], correct: 1, explanation: "Soft starter es adecuado si no necesitas control de velocidad - solo arranque suave a velocidad fija. Fuente: NEC (National Electrical Code) NFPA 70 & Electricity for HVACR Technicians. Los controles eléctricos son el cerebro del sistema - entenderlos es fundamental para troubleshooting efectivo. Las otras opciones son incorrectas: A) Nunca, siempre usar VFD; C) VFD siempre es más barato. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Eléctricos", q: "Secuencia de arranque de chiller: ¿qué arranca primero?", options: ["Todo simultáneo", "Bomba de agua de condensador, luego agua helada, luego compresor", "Compresor", "Fan de torre"], correct: 1, explanation: "Establece flujo de agua primero, luego arranca compresor para evitar daño por falta de enfriamiento. Fuente: NEC (National Electrical Code) NFPA 70 & Electricity for HVACR Technicians. Los controles eléctricos son el cerebro del sistema - entenderlos es fundamental para troubleshooting efectivo. Las otras opciones son incorrectas: A) Todo simultáneo; C) Compresor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 4: TROUBLESHOOTING AVANZADO (40 preguntas) ===
        { category: "Troubleshooting", q: "Cliente dice que A/C residencial 'no enfría bien'. ¿Primeras 3 verificaciones?", options: ["Llamar al fabricante", "Reemplazar termostato", "Verificar temperatura de supply, delta-T, y estado del filtro", "Agregar refrigerante, cambiar filtro, limpiar coil"], correct: 2, explanation: "Mide supply air temp, calcula delta-T (debería ser 15-20°F), y verifica airflow con filtro limpio. Fuente: HVAC Troubleshooting Guide, Rex Miller & Modern Refrigeration and Air Conditioning. En diagnóstico, seguir un proceso sistemático ahorra tiempo y evita reemplazar partes innecesariamente. Las otras opciones son incorrectas: A) Llamar al fabricante; B) Reemplazar termostato. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Troubleshooting", q: "Furnace enciende, corre 30 segundos, y apaga. Flame sensor limpio. ¿Siguiente paso?", options: ["Cambiar flame sensor de todos modos", "Medir microamps de flame signal (debería ser 2-6 µA)", "Cambiar válvula de gas", "Verificar termopar"], correct: 1, explanation: "Si sensor está limpio, mide la señal. Bajo µA indica problema de llama, ground, o posición del sensor. Fuente: HVAC Troubleshooting Guide, Rex Miller & Modern Refrigeration and Air Conditioning. En diagnóstico, seguir un proceso sistemático ahorra tiempo y evita reemplazar partes innecesariamente. Las otras opciones son incorrectas: A) Cambiar flame sensor de todos modos; C) Cambiar válvula de gas. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Troubleshooting", q: "Heat pump en modo heat con auxiliary strips on pero no calientan. ¿Verificar?", options: ["Cambiar a gas", "Outdoor unit primero", "Fusibles, secuenciadores, elementos, y límites de seguridad", "Solo el termostato"], correct: 2, explanation: "Strips no calentando: verifica fusibles, secuenciadores de etapas, elementos, y limit switches. Fuente: HVAC Troubleshooting Guide, Rex Miller & Modern Refrigeration and Air Conditioning. En diagnóstico, seguir un proceso sistemático ahorra tiempo y evita reemplazar partes innecesariamente. Las otras opciones son incorrectas: A) Cambiar a gas; B) Outdoor unit primero. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Troubleshooting", q: "Sistema enfría pero evaporador tiene una sección completamente caliente. ¿Causa?", options: ["Carga baja en esa sección", "Normal para algunos evaporadores", "Expansion valve muy abierta", "Circuito de evaporador tapado o distribuidor bloqueado"], correct: 3, explanation: "Sección caliente indica que refrigerante no está llegando a esos tubos - restricción o bloqueo. Fuente: HVAC Troubleshooting Guide, Rex Miller & Modern Refrigeration and Air Conditioning. En diagnóstico, seguir un proceso sistemático ahorra tiempo y evita reemplazar partes innecesariamente. Las otras opciones son incorrectas: A) Carga baja en esa sección; B) Normal para algunos evaporadores. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Troubleshooting", q: "Mini split ductless: indoor unit gotea agua. ¿Causas a verificar?", options: ["Demasiado refrigerante", "Filtro sucio", "Drain tapado, pan roto, unidad desnivelada, coil congelado derritiendo", "Solo drain line tapado"], correct: 2, explanation: "Goteo puede ser drain tapado, pan cracked, unidad no nivelada, o agua de defrost de coil congelado. Fuente: HVAC Troubleshooting Guide, Rex Miller & Modern Refrigeration and Air Conditioning. En diagnóstico, seguir un proceso sistemático ahorra tiempo y evita reemplazar partes innecesariamente. Las otras opciones son incorrectas: A) Demasiado refrigerante; B) Filtro sucio. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Troubleshooting", q: "Compresor hace clicking pero no arranca. Capacitor OK. ¿Diagnóstico?", options: ["Bajo refrigerante", "Siempre es el capacitor", "Compresor en lock rotor - mecánicamente trabado", "Problema de termostato"], correct: 2, explanation: "Clicking con capacitor bueno indica compresor trabado mecánicamente o problema de start winding. Fuente: HVAC Troubleshooting Guide, Rex Miller & Modern Refrigeration and Air Conditioning. En diagnóstico, seguir un proceso sistemático ahorra tiempo y evita reemplazar partes innecesariamente. Las otras opciones son incorrectas: A) Bajo refrigerante; B) Siempre es el capacitor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Troubleshooting", q: "Sistema comercial tiene quejas de zonas calientes y frías. ¿Enfoque?", options: ["Problema de refrigerante", "Cambiar termostatos", "Agregar más capacidad", "Verificar balanceo de aire, dampers, y operación de VAV boxes"], correct: 3, explanation: "Zonas desiguales típicamente son problema de distribución de aire, no de capacidad. Fuente: HVAC Troubleshooting Guide, Rex Miller & Modern Refrigeration and Air Conditioning. En diagnóstico, seguir un proceso sistemático ahorra tiempo y evita reemplazar partes innecesariamente. Las otras opciones son incorrectas: A) Problema de refrigerante; B) Cambiar termostatos. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Troubleshooting", q: "Condenser fan motor zumba pero no gira. ¿Primera verificación?", options: ["Capacitor del motor", "Voltaje de control", "Contactor", "Verificar si aspas están trabadas o motor está caliente/dañado"], correct: 0, explanation: "Motor que zumba pero no gira usualmente es capacitor. También verifica que aspas giren libremente. Fuente: HVAC Troubleshooting Guide, Rex Miller & Modern Refrigeration and Air Conditioning. En diagnóstico, seguir un proceso sistemático ahorra tiempo y evita reemplazar partes innecesariamente. Las otras opciones son incorrectas: B) Voltaje de control; C) Contactor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Troubleshooting", q: "Refrigerador comercial mantiene temp pero consume 30% más electricidad. ¿Investigar?", options: ["Cambiar a modelo eficiente", "Medidor defectuoso", "Normal con más producto", "Condensador sucio, sellos de puerta, defrost, o carga incorrecta"], correct: 3, explanation: "Alto consumo sin problema de temperatura indica ineficiencia - condensador sucio es causa común. Fuente: HVAC Troubleshooting Guide, Rex Miller & Modern Refrigeration and Air Conditioning. En diagnóstico, seguir un proceso sistemático ahorra tiempo y evita reemplazar partes innecesariamente. Las otras opciones son incorrectas: A) Cambiar a modelo eficiente; B) Medidor defectuoso. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Troubleshooting", q: "Línea de succión tiene escarcha hasta el compresor. ¿Diagnóstico?", options: ["Falta de aislamiento", "TXV muy abierta o floodback severo", "Carga baja", "Normal en sistemas de baja temperatura"], correct: 1, explanation: "Escarcha hasta compresor indica líquido regresando - TXV abierta, carga excesiva, o superheat muy bajo. Fuente: HVAC Troubleshooting Guide, Rex Miller & Modern Refrigeration and Air Conditioning. En diagnóstico, seguir un proceso sistemático ahorra tiempo y evita reemplazar partes innecesariamente. Las otras opciones son incorrectas: A) Falta de aislamiento; C) Carga baja. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Troubleshooting", q: "ECM blower no arranca. Código de LED indica 'low voltage'. ¿Verificar?", options: ["Capacitor", "Cambiar motor ECM", "Problema de board principal", "Verificar voltaje de entrada al módulo y conexiones"], correct: 3, explanation: "ECM reportando bajo voltaje necesita verificación de alimentación antes de condenar el motor. Fuente: HVAC Troubleshooting Guide, Rex Miller & Modern Refrigeration and Air Conditioning. En diagnóstico, seguir un proceso sistemático ahorra tiempo y evita reemplazar partes innecesariamente. Las otras opciones son incorrectas: A) Capacitor; B) Cambiar motor ECM. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Troubleshooting", q: "Chiller muestra 'low flow' pero bomba está corriendo. ¿Problema?", options: ["Ignorar si hay flujo visible", "Verificar strainer, válvulas cerradas, aire en sistema, o impeller dañado", "Cambiar bomba", "Sensor de flujo malo"], correct: 1, explanation: "Alarma de bajo flujo con bomba corriendo: verifica obstrucciones, aire atrapado, o daño de bomba. Fuente: HVAC Troubleshooting Guide, Rex Miller & Modern Refrigeration and Air Conditioning. En diagnóstico, seguir un proceso sistemático ahorra tiempo y evita reemplazar partes innecesariamente. Las otras opciones son incorrectas: A) Ignorar si hay flujo visible; C) Cambiar bomba. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Troubleshooting", q: "Package unit no enfría. Presiones normales, blower funciona. ¿Buscar?", options: ["Agregar más refrigerante", "Verificar si aire está llegando a las zonas - ductos, dampers", "Compresor débil", "Cambiar TXV"], correct: 1, explanation: "Presiones normales significa que el equipo está enfriando. Problema es distribución de aire. Fuente: HVAC Troubleshooting Guide, Rex Miller & Modern Refrigeration and Air Conditioning. En diagnóstico, seguir un proceso sistemático ahorra tiempo y evita reemplazar partes innecesariamente. Las otras opciones son incorrectas: A) Agregar más refrigerante; C) Compresor débil. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Troubleshooting", q: "Gas furnace: flames amarillas y hollín en heat exchanger. ¿Diagnóstico?", options: ["Normal para gas natural", "Combustión incompleta - problema de aire, burners, o gas pressure", "Cambiar válvula de gas", "Solo necesita limpieza"], correct: 1, explanation: "Flames amarillas y hollín indican combustión incompleta - peligro de CO. Diagnosticar inmediatamente. Fuente: HVAC Troubleshooting Guide, Rex Miller & Modern Refrigeration and Air Conditioning. En diagnóstico, seguir un proceso sistemático ahorra tiempo y evita reemplazar partes innecesariamente. Las otras opciones son incorrectas: A) Normal para gas natural; C) Cambiar válvula de gas. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Troubleshooting", q: "Compresor trifásico mide resistencia igual entre todas las fases. ¿Indica?", options: ["Necesita prueba de megger para confirmar aislamiento", "Devanados en buen estado", "Listo para instalar", "Puede tener corto fase a fase"], correct: 0, explanation: "Resistencias iguales es buena señal pero no confirma aislamiento a tierra. Necesita prueba de megger. Fuente: HVAC Troubleshooting Guide, Rex Miller & Modern Refrigeration and Air Conditioning. En diagnóstico, seguir un proceso sistemático ahorra tiempo y evita reemplazar partes innecesariamente. Las otras opciones son incorrectas: B) Devanados en buen estado; C) Listo para instalar. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Troubleshooting", q: "RTU con gas heat: burner enciende pero se apaga en 10 segundos. ¿Causa?", options: ["Válvula de gas defectuosa", "Termostato", "Pressure switch, flame sensor, limit switch, o interlock de seguridad", "Demasiado gas"], correct: 2, explanation: "Apagado rápido después de ignición: verifica pressure switches, flame sensing, y safeties. Fuente: HVAC Troubleshooting Guide, Rex Miller & Modern Refrigeration and Air Conditioning. En diagnóstico, seguir un proceso sistemático ahorra tiempo y evita reemplazar partes innecesariamente. Las otras opciones son incorrectas: A) Válvula de gas defectuosa; B) Termostato. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Troubleshooting", q: "Sistema con TXV hunting (superheat varía mucho). ¿Causas comunes?", options: ["Normal para TXV", "TXV muy grande, bulbo mal instalado, o carga incorrecta", "Solo cambiar TXV", "Filtro sucio causa esto"], correct: 1, explanation: "Hunting de TXV: válvula sobredimensionada, bulbo sin buen contacto, o condiciones de carga fluctuantes. Fuente: HVAC Troubleshooting Guide, Rex Miller & Modern Refrigeration and Air Conditioning. En diagnóstico, seguir un proceso sistemático ahorra tiempo y evita reemplazar partes innecesariamente. Las otras opciones son incorrectas: A) Normal para TXV; C) Solo cambiar TXV. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Troubleshooting", q: "Window unit congela pero temperatura de cuarto es 75°F. ¿Por qué?", options: ["Airflow restringido, bajo refrigerante, o temp muy baja seteada", "Muy eficiente", "Fan muy rápido", "Normal en alta humedad"], correct: 0, explanation: "Congelamiento con cuarto caliente indica problema de airflow (filtro), carga baja, o setpoint extremo. Fuente: HVAC Troubleshooting Guide, Rex Miller & Modern Refrigeration and Air Conditioning. En diagnóstico, seguir un proceso sistemático ahorra tiempo y evita reemplazar partes innecesariamente. Las otras opciones son incorrectas: B) Muy eficiente; C) Fan muy rápido. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Troubleshooting", q: "Múltiples técnicos no encuentran fuga en sistema. ¿Tu enfoque?", options: ["Declarar que no hay fuga", "Reemplazar sistema", "Presurizar con nitrógeno seco, aislar secciones, usar múltiples métodos", "Agregar dye y esperar"], correct: 2, explanation: "Fugas difíciles: presuriza alto, aísla secciones sistemáticamente, combina métodos (electrónico, UV, jabón). Fuente: HVAC Troubleshooting Guide, Rex Miller & Modern Refrigeration and Air Conditioning. En diagnóstico, seguir un proceso sistemático ahorra tiempo y evita reemplazar partes innecesariamente. Las otras opciones son incorrectas: A) Declarar que no hay fuga; B) Reemplazar sistema. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Troubleshooting", q: "Sistema opera bien de día pero congela de noche. ¿Posible causa?", options: ["Termostato defectuoso", "Baja temp ambiente causa baja presión de succión - need low ambient control", "Carga alta de noche", "Normal variación"], correct: 1, explanation: "Congelamiento nocturno: temperatura ambiente baja causa succión muy baja. Necesita control de low ambient. Fuente: HVAC Troubleshooting Guide, Rex Miller & Modern Refrigeration and Air Conditioning. En diagnóstico, seguir un proceso sistemático ahorra tiempo y evita reemplazar partes innecesariamente. Las otras opciones son incorrectas: A) Termostato defectuoso; C) Carga alta de noche. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 5: SISTEMAS INDUSTRIALES Y ESPECIALES (35 preguntas) ===
        { category: "Industrial", q: "Sistema de amoníaco R-717: presión de succión 20 PSIG. ¿Temperatura de saturación?", options: ["28°F", "0°F", "-18°F aproximadamente", "40°F"], correct: 2, explanation: "Amoníaco a 20 PSIG corresponde aproximadamente a -18°F en las tablas P/T. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) 28°F; B) 0°F. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Detector de amoníaco muestra 35 ppm. ¿Acción requerida?", options: ["Evacuar inmediatamente", "Normal, continuar trabajo", "Investigar fuente - sobre 25 ppm requiere atención", "Solo registrar lectura"], correct: 2, explanation: "25-50 ppm de NH3 requiere identificar y reparar la fuente. Más de 300 ppm es IDLH. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Evacuar inmediatamente; B) Normal, continuar trabajo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Chiller de absorción de LiBr tiene cristalización. ¿Causa típica?", options: ["Concentración de LiBr muy alta por problema de vacío o agua", "Demasiado refrigerante", "Operación normal", "Muy poco refrigerante"], correct: 0, explanation: "Cristalización ocurre cuando LiBr se concentra demasiado - problema de dilución o vacío. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: B) Demasiado refrigerante; C) Operación normal. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Sistema de CO2 transcrítico opera sobre punto crítico (87.8°F, 1070 PSI). ¿Qué pasa en gas cooler?", options: ["Condensación normal", "No hay cambio de fase - solo enfriamiento de gas supercrítico", "Sistema falla", "Se forma líquido"], correct: 1, explanation: "Sobre el punto crítico CO2 no condensa - el gas cooler solo reduce temperatura sin cambio de fase. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Condensación normal; C) Sistema falla. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Compresor de tornillo industrial tiene Vi (volume ratio) de 2.6. ¿Para qué aplicación?", options: ["Ultra baja temperatura (-60°F)", "Cualquier aplicación", "Alta temperatura (+40°F)", "Temperatura media (0°F a -20°F)"], correct: 3, explanation: "Vi de 2.6 es típico para aplicaciones de media temperatura. Baja temp usa Vi más alto (3.5-5). Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Ultra baja temperatura (-60°F); B) Cualquier aplicación. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Receiver de líquido muestra nivel de 40%. ¿Es adecuado?", options: ["Muy alto, drenar", "Irrelevante para operación", "Sí, 30-70% es rango operativo normal", "No, muy bajo"], correct: 2, explanation: "Nivel de receiver entre 30-70% es normal. Permite expansión/contracción con cambios de carga. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Muy alto, drenar; B) Irrelevante para operación. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Sistema de refrigeración de proceso requiere ±0.5°F de control. ¿Tipo de sistema?", options: ["Solo unidades de precisión", "Cualquier sistema funciona", "DX estándar", "Sistema de glicol con control preciso o agua helada"], correct: 3, explanation: "Control preciso ±0.5°F requiere sistema de fluido secundario con control PID ajustado. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Solo unidades de precisión; B) Cualquier sistema funciona. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Oil equalizing line entre compresores. ¿Requisito de instalación crítico?", options: ["Solo necesita pendiente", "Cualquier posición funciona", "Debe conectar en el nivel de aceite operativo de los cárteres", "Debajo de los compresores"], correct: 2, explanation: "La línea de ecualización debe conectar al nivel operativo de aceite para balance correcto. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Solo necesita pendiente; B) Cualquier posición funciona. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Evaporador de placa para proceso tiene approach de 2°F. ¿Es normal?", options: ["Demasiado bajo", "Imposible", "Excelente - evaporadores de placa tienen approach bajo", "Muy alto para proceso"], correct: 2, explanation: "Evaporadores de placa son muy eficientes con approach típico de 1-3°F. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Demasiado bajo; B) Imposible. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Sistema con bomba de refrigerante líquido. ¿Ventaja sobre expansión por gravedad?", options: ["Más simple", "Menor costo", "Permite evaporadores por encima del receiver y mejor distribución", "Menos refrigerante"], correct: 2, explanation: "Bomba de líquido permite layouts flexibles y alimentación forzada a evaporadores elevados. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Más simple; B) Menor costo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Defrost por agua caliente en evaporador industrial. ¿Temperatura típica del agua?", options: ["50°F", "100-120°F", "180°F", "70°F"], correct: 1, explanation: "Agua de defrost típicamente 100-120°F. Muy caliente puede dañar productos, muy fría es ineficiente. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) 50°F; C) 180°F. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Sistema de cascada R-744/R-717. ¿Cuál es el refrigerante de baja temperatura?", options: ["Ambos trabajan igual", "Depende de la carga", "R-744 (CO2)", "R-717 (amoníaco)"], correct: 2, explanation: "En cascada típica, CO2 (R-744) maneja el lado frío y NH3 (R-717) el lado caliente. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Ambos trabajan igual; B) Depende de la carga. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Purger de aire en sistema de amoníaco elimina qué?", options: ["Solo aire", "Exceso de aceite", "Aire y otros no condensables acumulados", "Agua"], correct: 2, explanation: "Purgers eliminan aire y non-condensables que se acumulan y reducen eficiencia. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Solo aire; B) Exceso de aceite. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Congelador de espiral IQF. ¿Qué significa IQF?", options: ["Industrial Quality Freezer", "Internal Quick Freeze", "Instant Quick Frost", "Individual Quick Frozen - congela productos individualmente"], correct: 3, explanation: "IQF congela productos sueltos individualmente para que no se peguen entre sí. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Industrial Quality Freezer; B) Internal Quick Freeze. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Sistema de glicol muestra turbidez. ¿Indica?", options: ["Normal con el tiempo", "Necesita más glicol", "Muy concentrado", "Contaminación bacteriana o degradación - analizar inmediatamente"], correct: 3, explanation: "Turbidez indica degradación o contaminación biológica. Requiere análisis y tratamiento. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Normal con el tiempo; B) Necesita más glicol. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 6: SUPERVISIÓN Y GESTIÓN TÉCNICA (35 preguntas) ===
        { category: "Supervisión Técnica", q: "Técnico junior diagnostica 'compresor malo' en cada sistema. ¿Cómo mejorarlo?", options: ["Training en diagnóstico sistemático y verificación de sus conclusiones", "Asignar solo trabajo simple", "Despedirlo", "Dejarlo aprender solo"], correct: 0, explanation: "Técnicos que 'condenan' partes sin diagnosticar necesitan mentoring en proceso sistemático. Fuente: ACCA Quality Installation & Management Guidelines. Como supervisor, tu rol es desarrollar técnicos competentes y asegurar calidad. Las otras opciones son incorrectas: B) Asignar solo trabajo simple; C) Despedirlo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Supervisión Técnica", q: "Proyecto de retrofit de 20 RTUs. ¿Cómo secuenciar para mínima interrupción?", options: ["Todos al mismo tiempo", "Por zonas, manteniendo redundancia, fuera de horas pico", "Solo en verano", "Uno por mes"], correct: 1, explanation: "Retrofits grandes se secuencian para mantener operación parcial y minimizar impacto. Fuente: ACCA Quality Installation & Management Guidelines. Como supervisor, tu rol es desarrollar técnicos competentes y asegurar calidad. Las otras opciones son incorrectas: A) Todos al mismo tiempo; C) Solo en verano. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Supervisión Técnica", q: "Cliente comercial reporta alto consumo eléctrico. ¿Tu approach de auditoría?", options: ["Revisar facturas, baseline, operación de equipos, y BAS scheduling", "Pedir a la utility que investigue", "Solo revisar HVAC", "Recomendar equipo nuevo"], correct: 0, explanation: "Auditoría energética sistemática: compara historial, verifica operación, y revisa schedules. Fuente: ACCA Quality Installation & Management Guidelines. Como supervisor, tu rol es desarrollar técnicos competentes y asegurar calidad. Las otras opciones son incorrectas: B) Pedir a la utility que investigue; C) Solo revisar HVAC. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Supervisión Técnica", q: "Equipo nuevo instalado pero no alcanza capacidad especificada. ¿Proceso?", options: ["Reclamar al fabricante", "Verificar instalación, condiciones de operación, y mediciones antes de escalar", "Agregar equipo adicional", "Aceptar como está"], correct: 1, explanation: "Primero verifica que instalación y condiciones son correctas antes de involucrar al fabricante. Fuente: ACCA Quality Installation & Management Guidelines. Como supervisor, tu rol es desarrollar técnicos competentes y asegurar calidad. Las otras opciones son incorrectas: A) Reclamar al fabricante; C) Agregar equipo adicional. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Supervisión Técnica", q: "PM (mantenimiento preventivo) consistentemente toma más tiempo del cotizado. ¿Acción?", options: ["Cambiar técnicos", "Hacer menos en cada PM", "Revisar scope de PM, tiempo real necesario, y ajustar cotización o proceso", "Cobrar más después"], correct: 2, explanation: "Si PM toma más tiempo consistentemente, el scope o el estimado necesitan ajuste. Fuente: ACCA Quality Installation & Management Guidelines. Como supervisor, tu rol es desarrollar técnicos competentes y asegurar calidad. Las otras opciones son incorrectas: A) Cambiar técnicos; B) Hacer menos en cada PM. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Supervisión Técnica", q: "Building tiene 15 años de data de HVAC. ¿Cómo usarla para mejoras?", options: ["Solo guardarla", "Empezar desde cero", "Muy vieja para usar", "Análisis de tendencias, comparar eficiencia, identificar degradación"], correct: 3, explanation: "Data histórica revela tendencias de degradación y oportunidades de mejora cuando se analiza. Fuente: ACCA Quality Installation & Management Guidelines. Como supervisor, tu rol es desarrollar técnicos competentes y asegurar calidad. Las otras opciones son incorrectas: A) Solo guardarla; B) Empezar desde cero. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Supervisión Técnica", q: "Cliente pide garantía extendida de 5 años en instalación. ¿Consideraciones?", options: ["Evaluar riesgo, costo de cobertura, y precio apropiado", "Nunca ofrecer más de 1 año", "Siempre aceptar", "Solo si el fabricante lo cubre"], correct: 0, explanation: "Garantías extendidas son válidas si el precio cubre el riesgo y costo potencial de servicio. Fuente: ACCA Quality Installation & Management Guidelines. Como supervisor, tu rol es desarrollar técnicos competentes y asegurar calidad. Las otras opciones son incorrectas: B) Nunca ofrecer más de 1 año; C) Siempre aceptar. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Supervisión Técnica", q: "Comisionado de sistema nuevo. ¿Qué documentación entregas al cliente?", options: ["Lo que el cliente pida", "Factura únicamente", "Solo manual del equipo", "O&M manuals, as-builts, balancing reports, startup records, training documentation"], correct: 3, explanation: "Closeout package completo incluye manuales, planos, reportes de arranque, y documentación de training. Fuente: ACCA Quality Installation & Management Guidelines. Como supervisor, tu rol es desarrollar técnicos competentes y asegurar calidad. Las otras opciones son incorrectas: A) Lo que el cliente pida; B) Factura únicamente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Supervisión Técnica", q: "Técnico estrella quiere más responsabilidad. ¿Cómo desarrollarlo?", options: ["Asignar proyectos progresivamente más complejos con mentoring", "Promoverlo inmediatamente", "Esperar que haya vacante", "Mandarlo a clases solamente"], correct: 0, explanation: "Desarrollo de liderazgo: asigna responsabilidades crecientes con soporte y feedback. Fuente: ACCA Quality Installation & Management Guidelines. Como supervisor, tu rol es desarrollar técnicos competentes y asegurar calidad. Las otras opciones son incorrectas: B) Promoverlo inmediatamente; C) Esperar que haya vacante. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Supervisión Técnica", q: "Callback rate (regresos) de tu equipo es 12%. ¿Aceptable?", options: ["Muy alto - industria apunta a bajo 5%", "Excelente", "Imposible medir", "Normal para HVAC"], correct: 0, explanation: "Callback rate sobre 8-10% indica problemas de diagnóstico o calidad. Meta es bajo 5%. Fuente: ACCA Quality Installation & Management Guidelines. Como supervisor, tu rol es desarrollar técnicos competentes y asegurar calidad. Las otras opciones son incorrectas: B) Excelente; C) Imposible medir. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Supervisión Técnica", q: "Sistema viejo funciona pero ineficiente. ¿Cómo presentar caso de reemplazo?", options: ["Análisis de costo de propiedad: energía, reparaciones, downtime vs nuevo", "Esperar que falle", "Solo decir que es viejo", "Recomendar reparación"], correct: 0, explanation: "Business case para reemplazo necesita números: costo actual de operación vs nuevo equipo. Fuente: ACCA Quality Installation & Management Guidelines. Como supervisor, tu rol es desarrollar técnicos competentes y asegurar calidad. Las otras opciones son incorrectas: B) Esperar que falle; C) Solo decir que es viejo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Supervisión Técnica", q: "Cliente quiere modificación que viola código. ¿Respuesta?", options: ["Ignorar y no cotizar", "Hacerlo si firma waiver", "Reportarlo a la ciudad", "Explicar la violación y ofrecer alternativas que cumplan código"], correct: 3, explanation: "Nunca violes código. Explica el problema y ofrece soluciones que cumplan con regulaciones. Fuente: ACCA Quality Installation & Management Guidelines. Como supervisor, tu rol es desarrollar técnicos competentes y asegurar calidad. Las otras opciones son incorrectas: A) Ignorar y no cotizar; B) Hacerlo si firma waiver. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Supervisión Técnica", q: "Nuevo refrigerante requiere training. ¿Quién lo necesita?", options: ["Solo al instalar", "Todos los técnicos que trabajarán con ese refrigerante", "Solo técnicos senior", "Es igual que otros"], correct: 1, explanation: "Refrigerantes nuevos (especialmente A2L) requieren training específico para todo el personal. Fuente: ACCA Quality Installation & Management Guidelines. Como supervisor, tu rol es desarrollar técnicos competentes y asegurar calidad. Las otras opciones son incorrectas: A) Solo al instalar; C) Solo técnicos senior. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Supervisión Técnica", q: "Inspección identifica problema de seguridad. Cliente dice 'arréglalo después'. ¿Acción?", options: ["Explicar riesgo claramente, documentar, y recomendar acción inmediata", "Documentar y esperar", "Reportar a autoridades", "Reparar sin permiso"], correct: 0, explanation: "Comunica riesgo claramente por escrito. Es decisión del cliente pero tu responsabilidad es informar. Fuente: ACCA Quality Installation & Management Guidelines. Como supervisor, tu rol es desarrollar técnicos competentes y asegurar calidad. Las otras opciones son incorrectas: B) Documentar y esperar; C) Reportar a autoridades. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Supervisión Técnica", q: "Sistema complejo necesita especialista de fábrica. ¿Cómo coordinas?", options: ["El cliente contacta al fabricante", "Actúas como coordinador entre cliente y fabricante, facilitas acceso", "Esperas que alguien lo haga", "No es tu responsabilidad"], correct: 1, explanation: "Como contratista principal, coordinas recursos incluyendo soporte de fábrica cuando es necesario. Fuente: ACCA Quality Installation & Management Guidelines. Como supervisor, tu rol es desarrollar técnicos competentes y asegurar calidad. Las otras opciones son incorrectas: A) El cliente contacta al fabricante; C) Esperas que alguien lo haga. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 7: EFICIENCIA Y CÓDIGOS (25 preguntas) ===
        { category: "Eficiencia Energética", q: "Chiller opera a 0.65 kW/ton. Rating es 0.55 kW/ton. ¿Pérdida de eficiencia?", options: ["18% menos eficiente que diseño", "Normal con edad", "5%", "Insignificante"], correct: 0, explanation: "(0.65-0.55)/0.55 = 18% de pérdida. Indica necesidad de mantenimiento o condiciones anormales. Fuente: ASHRAE Standard 90.1 & ENERGY STAR Program Requirements. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Normal con edad; C) 5%. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia Energética", q: "Building usa 25 kBTU/sf/year. ¿Cómo se compara con promedio?", options: ["No se puede comparar", "Muy eficiente", "Cerca del promedio para oficinas", "Muy alto consumo"], correct: 2, explanation: "25-35 kBTU/sf/year es típico para oficinas. Depende del clima y tipo de edificio. Fuente: ASHRAE Standard 90.1 & ENERGY STAR Program Requirements. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) No se puede comparar; B) Muy eficiente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia Energética", q: "Economizer ahorra energía cuando OAT está debajo de qué temperatura típicamente?", options: ["Return air temperature", "55-65°F dependiendo de entalpía", "Solo bajo 40°F", "75°F siempre"], correct: 1, explanation: "Economizer se activa cuando aire exterior puede enfriar sin compresores, típicamente bajo 55-65°F. Fuente: ASHRAE Standard 90.1 & ENERGY STAR Program Requirements. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Return air temperature; C) Solo bajo 40°F. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia Energética", q: "VFD en bomba a 80% velocidad. ¿Reducción aproximada de consumo?", options: ["20%", "80%", "48% aproximadamente (ley del cubo)", "Igual consumo"], correct: 2, explanation: "Ley de afinidad: potencia varía con cubo de velocidad. 0.8³ = 0.51, o sea 49% de potencia original. Fuente: ASHRAE Standard 90.1 & ENERGY STAR Program Requirements. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) 20%; B) 80%. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia Energética", q: "Demand response event. ¿Qué estrategia de HVAC?", options: ["Pre-cooling, raise setpoints, reduce outdoor air temporarily", "Operar normalmente", "Apagar todo", "Solo apagar luces"], correct: 0, explanation: "Demand response: pre-enfría antes del evento, luego sube setpoints y reduce OA temporalmente. Fuente: ASHRAE Standard 90.1 & ENERGY STAR Program Requirements. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Operar normalmente; C) Apagar todo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia Energética", q: "Condensador con approach de 25°F vs diseño de 15°F. ¿Impacto en eficiencia?", options: ["Menor consumo", "Ninguno", "Solo afecta vida del equipo", "10-15% más consumo de compresor"], correct: 3, explanation: "Cada grado de approach adicional aumenta consumo aproximadamente 1-1.5%. 10°F extra = ~10-15%. Fuente: ASHRAE Standard 90.1 & ENERGY STAR Program Requirements. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Menor consumo; B) Ninguno. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia Energética", q: "Night setback de 8°F en calefacción. ¿Ahorro típico?", options: ["30%+", "1-2%", "10-15% en costo de heating", "No hay ahorro real"], correct: 2, explanation: "Setback de 8°F por 8 horas puede ahorrar 10-15% en costo de heating típicamente. Fuente: ASHRAE Standard 90.1 & ENERGY STAR Program Requirements. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) 30%+; B) 1-2%. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia Energética", q: "Duct leakage test muestra 15% de fugas. ¿Impacto?", options: ["Solo afecta comfort", "Normal para ductos", "Pérdida significativa de capacidad y energía desperdiciada", "Mínimo"], correct: 2, explanation: "15% de fugas en ductos causa pérdida de capacidad y energía condicionada significativa. Fuente: ASHRAE Standard 90.1 & ENERGY STAR Program Requirements. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo afecta comfort; B) Normal para ductos. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Códigos y Estándares", q: "ASHRAE 90.1 es estándar de qué?", options: ["Calidad de aire", "Seguridad eléctrica", "Refrigerantes", "Eficiencia energética para edificios comerciales"], correct: 3, explanation: "ASHRAE 90.1 establece requisitos mínimos de eficiencia energética para edificios comerciales. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Calidad de aire; B) Seguridad eléctrica. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Códigos y Estándares", q: "ASHRAE 62.1 determina qué?", options: ["Carga de refrigerante", "Eficiencia de equipos", "Seguridad eléctrica", "Requisitos de ventilación y calidad de aire interior"], correct: 3, explanation: "ASHRAE 62.1 establece tasas mínimas de ventilación y requisitos de calidad de aire interior. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Carga de refrigerante; B) Eficiencia de equipos. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Códigos y Estándares", q: "Sistema con refrigerante A2L en cuarto mecánico. ¿Requisito especial?", options: ["Ninguno diferente", "Prohibido en interiores", "Solo en residencial", "Detector de refrigerante y ventilación según ASHRAE 15"], correct: 3, explanation: "Refrigerantes A2L (ligeramente inflamables) requieren detección y ventilación según ASHRAE 15. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Ninguno diferente; B) Prohibido en interiores. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Códigos y Estándares", q: "IMC requiere clearance para servicio de equipo. ¿Mínimo típico?", options: ["6 pulgadas", "No hay requisito", "30 pulgadas al frente del equipo para servicio", "12 pulgadas"], correct: 2, explanation: "IMC típicamente requiere 30 pulgadas de clearance al frente para acceso de servicio. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) 6 pulgadas; B) No hay requisito. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Códigos y Estándares", q: "Sistema nuevo requiere HERS testing en California. ¿Qué verifica?", options: ["Solo eficiencia de equipo", "Duct leakage, refrigerant charge verification, fan airflow", "Nada específico", "Solo instalación eléctrica"], correct: 1, explanation: "HERS testing verifica fugas de ductos, carga de refrigerante, y airflow como parte de Title 24. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo eficiencia de equipo; C) Nada específico. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Códigos y Estándares", q: "NFPA 90A aplica a qué?", options: ["Refrigerantes", "Solo extintores", "Calderas únicamente", "Instalación de sistemas HVAC y control de humo"], correct: 3, explanation: "NFPA 90A cubre requisitos de instalación de HVAC relacionados con protección contra incendios. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Refrigerantes; B) Solo extintores. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Códigos y Estándares", q: "UL 1995 certifica qué equipos?", options: ["Equipos de calefacción y enfriamiento", "Controles únicamente", "Calderas", "Solo compresores"], correct: 0, explanation: "UL 1995 es el estándar de seguridad para equipos de heating y cooling. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Controles únicamente; C) Calderas. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 8: REFRIGERANTES Y MEDIO AMBIENTE (25 preguntas) ===
        { category: "Refrigerantes", q: "R-454B está clasificado como A2L. ¿Qué significa la 'L'?", options: ["Long life", "Lower flammability - baja inflamabilidad", "Low temperature", "Liquid only"], correct: 1, explanation: "L significa Lower flammability - difícil de encender y quema lento. Requiere precauciones pero menos que A2. Fuente: EPA 608 Regulations & ASHRAE Standard 34 - Designation of Refrigerants. Conocer las propiedades de los refrigerantes es esencial para diagnóstico de presiones y carga correcta. Las otras opciones son incorrectas: A) Long life; C) Low temperature. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes", q: "R-32 tiene GWP de 675 vs R-410A con 2088. ¿Reducción porcentual?", options: ["90%", "30%", "50%", "68% menor GWP"], correct: 3, explanation: "(2088-675)/2088 = 68% reducción en GWP de R-32 vs R-410A. Fuente: EPA 608 Regulations & ASHRAE Standard 34 - Designation of Refrigerants. Conocer las propiedades de los refrigerantes es esencial para diagnóstico de presiones y carga correcta. Las otras opciones son incorrectas: A) 90%; B) 30%. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes", q: "Sistema retrofiteado de R-22 a R-407C. ¿Cambio de aceite requerido?", options: ["Depende del compresor", "No, mismo aceite funciona", "Sí, cambiar a POE (polyolester)", "Solo agregar aditivo"], correct: 2, explanation: "R-407C requiere aceite POE. El aceite mineral del R-22 no es compatible. Fuente: EPA 608 Regulations & ASHRAE Standard 34 - Designation of Refrigerants. Conocer las propiedades de los refrigerantes es esencial para diagnóstico de presiones y carga correcta. Las otras opciones son incorrectas: A) Depende del compresor; B) No, mismo aceite funciona. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes", q: "Glide de R-407C es aproximadamente cuántos grados?", options: ["2°F", "0°F - no tiene glide", "9°F aproximadamente", "20°F"], correct: 2, explanation: "R-407C tiene glide de aproximadamente 9°F entre bubble y dew point. Fuente: EPA 608 Regulations & ASHRAE Standard 34 - Designation of Refrigerants. Conocer las propiedades de los refrigerantes es esencial para diagnóstico de presiones y carga correcta. Las otras opciones son incorrectas: A) 2°F; B) 0°F - no tiene glide. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes", q: "¿Por qué algunos refrigerantes nuevos son A2L en lugar de A1?", options: ["Mejor rendimiento", "Menor GWP pero ligeramente inflamables como trade-off", "Error de clasificación", "Más baratos de producir"], correct: 1, explanation: "Refrigerantes de bajo GWP frecuentemente tienen ligera inflamabilidad como compromiso ambiental. Fuente: EPA 608 Regulations & ASHRAE Standard 34 - Designation of Refrigerants. Conocer las propiedades de los refrigerantes es esencial para diagnóstico de presiones y carga correcta. Las otras opciones son incorrectas: A) Mejor rendimiento; C) Error de clasificación. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes", q: "Presión de trabajo de R-410A vs R-22. ¿Diferencia aproximada?", options: ["R-22 es más alta", "Varía mucho", "Igual presión", "R-410A aproximadamente 50-60% más alta"], correct: 3, explanation: "R-410A opera aproximadamente 50-60% más alta presión que R-22 - requiere componentes rated para alta presión. Fuente: EPA 608 Regulations & ASHRAE Standard 34 - Designation of Refrigerants. Conocer las propiedades de los refrigerantes es esencial para diagnóstico de presiones y carga correcta. Las otras opciones son incorrectas: A) R-22 es más alta; B) Varía mucho. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes", q: "Sistema con R-290 (propano). ¿Límite de carga típico por circuito en USA?", options: ["5 lbs", "50 lbs", "150 gramos máximo para equipos self-contained", "Sin límite"], correct: 2, explanation: "EPA limita R-290 a ~150g por circuito para equipos self-contained por ser inflamable (A3). Fuente: EPA 608 Regulations & ASHRAE Standard 34 - Designation of Refrigerants. Conocer las propiedades de los refrigerantes es esencial para diagnóstico de presiones y carga correcta. Las otras opciones son incorrectas: A) 5 lbs; B) 50 lbs. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes", q: "Recovery de refrigerante mezclado. ¿Destino final?", options: ["Reclamation facility certificada o destrucción", "Ventear pequeñas cantidades", "Reusar en cualquier sistema", "Vender a otro contratista"], correct: 0, explanation: "Refrigerante mezclado o contaminado va a reclamación certificada o destrucción apropiada. Fuente: EPA 608 Regulations & ASHRAE Standard 34 - Designation of Refrigerants. Conocer las propiedades de los refrigerantes es esencial para diagnóstico de presiones y carga correcta. Las otras opciones son incorrectas: B) Ventear pequeñas cantidades; C) Reusar en cualquier sistema. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes", q: "R-744 (CO2) tiene GWP de cuánto?", options: ["0", "100", "675", "1 - es la referencia base"], correct: 3, explanation: "CO2 tiene GWP de 1 por definición - es la base de comparación para otros refrigerantes. Fuente: EPA 608 Regulations & ASHRAE Standard 34 - Designation of Refrigerants. Conocer las propiedades de los refrigerantes es esencial para diagnóstico de presiones y carga correcta. Las otras opciones son incorrectas: A) 0; B) 100. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes", q: "Sistema con leak rate de 25% anual. ¿Clasificación según EPA?", options: ["Aceptable para comercial", "Excede límite de 20% para industrial o 10% para comfort cooling", "Solo problema si supera 50%", "Normal"], correct: 1, explanation: "25% excede los límites EPA. Requiere plan de reparación y puede requerir retrofit o retiro. Fuente: EPA 608 Regulations & ASHRAE Standard 34 - Designation of Refrigerants. Conocer las propiedades de los refrigerantes es esencial para diagnóstico de presiones y carga correcta. Las otras opciones son incorrectas: A) Aceptable para comercial; C) Solo problema si supera 50%. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes", q: "Cilindro de recuperación debe presurizarse con qué antes de usar?", options: ["Nitrógeno seco", "Refrigerante del sistema", "Evacuar a vacío profundo", "Aire"], correct: 2, explanation: "Cilindros de recuperación deben evacuarse a vacío antes de usar para evitar contaminación. Fuente: EPA 608 Regulations & ASHRAE Standard 34 - Designation of Refrigerants. Conocer las propiedades de los refrigerantes es esencial para diagnóstico de presiones y carga correcta. Las otras opciones son incorrectas: A) Nitrógeno seco; B) Refrigerante del sistema. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes", q: "Color de cilindro para R-410A según ARI.", options: ["Verde", "Naranja", "Azul", "Rosa (rose/pink)"], correct: 3, explanation: "R-410A tiene cilindro rosa según el código de colores ARI/AHRI. Fuente: EPA 608 Regulations & ASHRAE Standard 34 - Designation of Refrigerants. Conocer las propiedades de los refrigerantes es esencial para diagnóstico de presiones y carga correcta. Las otras opciones son incorrectas: A) Verde; B) Naranja. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes", q: "AIM Act reduce HFCs a qué porcentaje para 2036?", options: ["75% de baseline", "15% de baseline (85% reducción)", "0% - eliminación total", "50% de baseline"], correct: 1, explanation: "AIM Act reduce producción/importación de HFCs a 15% del baseline para 2036 (85% reducción). Fuente: EPA 608 Regulations & ASHRAE Standard 34 - Designation of Refrigerants. Conocer las propiedades de los refrigerantes es esencial para diagnóstico de presiones y carga correcta. Las otras opciones son incorrectas: A) 75% de baseline; C) 0% - eliminación total. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes", q: "Refrigerante R-1234yf es usado principalmente en qué aplicación?", options: ["Refrigeración comercial", "Refrigeradores domésticos", "Chillers industriales", "Aire acondicionado automotriz"], correct: 3, explanation: "R-1234yf reemplazó al R-134a en sistemas automotrices por su bajo GWP (<1). Fuente: EPA 608 Regulations & ASHRAE Standard 34 - Designation of Refrigerants. Conocer las propiedades de los refrigerantes es esencial para diagnóstico de presiones y carga correcta. Las otras opciones son incorrectas: A) Refrigeración comercial; B) Refrigeradores domésticos. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes", q: "Sistema necesita aceite POE. ¿Por qué es crítico mantenerlo seco?", options: ["Solo afecta color", "Solo por rendimiento", "No es crítico", "POE es muy higroscópico - absorbe humedad que causa ácido"], correct: 3, explanation: "POE absorbe humedad rápidamente. Humedad forma ácido que daña el compresor. Fuente: EPA 608 Regulations & ASHRAE Standard 34 - Designation of Refrigerants. Conocer las propiedades de los refrigerantes es esencial para diagnóstico de presiones y carga correcta. Las otras opciones son incorrectas: A) Solo afecta color; B) Solo por rendimiento. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario de Campo", q: "Sistema de 15 toneladas enfría bien pero cicla cada 4 minutos. ¿Problema más probable?", options: ["Diferencial de termostato muy pequeño o protección activándose", "Necesita más refrigerante", "Normal para el tamaño", "Muy eficiente"], correct: 0, explanation: "Short cycling con buena temperatura indica diferencial pequeño o safety trips. Investiga la causa. Fuente: ACCA Quality Installation Field Guide & Real-World Case Studies. Los escenarios de campo prueban tu capacidad de aplicar conocimiento en situaciones reales. Las otras opciones son incorrectas: B) Necesita más refrigerante; C) Normal para el tamaño. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario de Campo", q: "PM en chiller: approach empeoró 3°F desde el año pasado. ¿Acción?", options: ["Esperar más degradación", "Normal con edad", "Programar limpieza de tubos - degradación indica fouling", "Cambiar refrigerante"], correct: 2, explanation: "Degradación de approach indica fouling de tubos. Programar limpieza antes de que empeore más. Fuente: ACCA Quality Installation Field Guide & Real-World Case Studies. Los escenarios de campo prueban tu capacidad de aplicar conocimiento en situaciones reales. Las otras opciones son incorrectas: A) Esperar más degradación; B) Normal con edad. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario de Campo", q: "Cliente pregunta: '¿Puedo dejar el sistema apagado 3 meses mientras viajo?' ¿Consejo?", options: ["Sí, sin problema", "Solo si es invierno", "Mejor setback alto que apagar - evita humedad y problemas al regresar", "Nunca apagar"], correct: 2, explanation: "Setback extremo es mejor que apagar completamente - mantiene algo de circulación y control de humedad. Fuente: ACCA Quality Installation Field Guide & Real-World Case Studies. Los escenarios de campo prueban tu capacidad de aplicar conocimiento en situaciones reales. Las otras opciones son incorrectas: A) Sí, sin problema; B) Solo si es invierno. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario de Campo", q: "Técnico quiere usar refrigerante de cilindro sin etiqueta. ¿Tu política?", options: ["Probar en sistema viejo", "Está bien si huele correcto", "Nunca usar refrigerante sin identificación positiva", "OK si él sabe qué es"], correct: 2, explanation: "Refrigerante sin identificar puede ser mezclado o incorrecto. Nunca lo uses. Fuente: ACCA Quality Installation Field Guide & Real-World Case Studies. Los escenarios de campo prueban tu capacidad de aplicar conocimiento en situaciones reales. Las otras opciones son incorrectas: A) Probar en sistema viejo; B) Está bien si huele correcto. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario de Campo", q: "Sistema tiene fuga en ubicación inaccesible. Costo de reparación es 70% del valor del equipo. ¿Recomendación?", options: ["Presentar opciones: reparar costoso vs reemplazar con análisis de costo", "Abandonar el sistema", "Reparar siempre", "Reemplazar sin discutir"], correct: 0, explanation: "Cuando reparación es muy costosa relativa al valor, presenta ambas opciones con pros y cons honestos. Fuente: ACCA Quality Installation Field Guide & Real-World Case Studies. Los escenarios de campo prueban tu capacidad de aplicar conocimiento en situaciones reales. Las otras opciones son incorrectas: B) Abandonar el sistema; C) Reparar siempre. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario de Campo", q: "Edificio nuevo: commissioning muestra RTU no alcanza CFM especificado. ¿Causa más común?", options: ["Ductos con más restricción que diseño o registros cerrados", "Especificación incorrecta", "RTU defectuoso", "Normal para nuevo"], correct: 0, explanation: "CFM bajo en sistema nuevo típicamente es restricción de ductos o dampers - raramente el equipo. Fuente: ACCA Quality Installation Field Guide & Real-World Case Studies. Los escenarios de campo prueban tu capacidad de aplicar conocimiento en situaciones reales. Las otras opciones son incorrectas: B) Especificación incorrecta; C) RTU defectuoso. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario de Campo", q: "Cliente comercial demora 90 días en pagar facturas. ¿Cómo manejas?", options: ["Dejar de atenderlo", "Hablar sobre términos, considerar depósitos o pagos adelantados", "Cobrar intereses sin avisar", "Aceptar como es"], correct: 1, explanation: "Aborda el problema directamente. Ajusta términos o requiere depósitos para trabajos futuros. Fuente: ACCA Quality Installation Field Guide & Real-World Case Studies. Los escenarios de campo prueban tu capacidad de aplicar conocimiento en situaciones reales. Las otras opciones son incorrectas: A) Dejar de atenderlo; C) Cobrar intereses sin avisar. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario de Campo", q: "Instalación casi completa y encuentras que el equipo está dañado de fábrica. ¿Proceso?", options: ["Instalar y reclamar después", "Culpar al transporte", "Reparar tú mismo", "Documentar daño, contactar distribuidor, no instalar equipo dañado"], correct: 3, explanation: "Documenta con fotos, contacta al proveedor, no instales equipo que sabes está dañado. Fuente: ACCA Quality Installation Field Guide & Real-World Case Studies. Los escenarios de campo prueban tu capacidad de aplicar conocimiento en situaciones reales. Las otras opciones son incorrectas: A) Instalar y reclamar después; B) Culpar al transporte. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario de Campo", q: "Sistema mini split de pared: cliente reporta que gotea cuando hace mucho calor afuera. ¿Por qué?", options: ["Alta humedad causa más condensado que el drain puede manejar, o drain parcialmente tapado", "Unidad defectuosa", "Normal en calor extremo", "Filtro sucio"], correct: 0, explanation: "Alta humedad = más condensado. Verifica capacidad de drenaje y que la línea no esté restringida. Fuente: ACCA Quality Installation Field Guide & Real-World Case Studies. Los escenarios de campo prueban tu capacidad de aplicar conocimiento en situaciones reales. Las otras opciones son incorrectas: B) Unidad defectuosa; C) Normal en calor extremo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario de Campo", q: "Termostato marca 72°F pero cliente dice que siente más calor. ¿Verificar?", options: ["Cliente exagera", "Cambiar termostato", "El termostato es correcto", "Ubicación del termostato, calibración, y temperatura real en zona ocupada"], correct: 3, explanation: "Verifica donde está el termostato y si la lectura representa la zona ocupada. Mide independientemente. Fuente: ACCA Quality Installation Field Guide & Real-World Case Studies. Los escenarios de campo prueban tu capacidad de aplicar conocimiento en situaciones reales. Las otras opciones son incorrectas: A) Cliente exagera; B) Cambiar termostato. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario de Campo", q: "PM de primavera: sistema funcionó bien todo el invierno. ¿Qué verificar para preparar para verano?", options: ["Nada si funcionó bien", "Lo mismo que en otoño", "Revisar lado de cooling: coil, drenaje, refrigerante, controles de cooling", "Solo cambiar filtro"], correct: 2, explanation: "PM estacional prepara el sistema para la próxima temporada - enfócate en lo que usará en verano. Fuente: ACCA Quality Installation Field Guide & Real-World Case Studies. Los escenarios de campo prueban tu capacidad de aplicar conocimiento en situaciones reales. Las otras opciones son incorrectas: A) Nada si funcionó bien; B) Lo mismo que en otoño. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario de Campo", q: "Gas furnace: cliente pregunta si puede convertir de gas natural a propano. ¿Respuesta?", options: ["Sí con kit de conversión correcto y ajuste de gas pressure", "Solo cambiando válvula", "Mejor comprar nuevo", "No es posible"], correct: 0, explanation: "Conversión es posible con kit del fabricante, cambio de orifices, y ajuste de presión de manifold. Fuente: ACCA Quality Installation Field Guide & Real-World Case Studies. Los escenarios de campo prueban tu capacidad de aplicar conocimiento en situaciones reales. Las otras opciones son incorrectas: B) Solo cambiando válvula; C) Mejor comprar nuevo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario de Campo", q: "Sistema geotérmico con loop abierto: performance ha bajado gradualmente. ¿Causa probable?", options: ["Compresor desgastado", "Loop está fallando", "Fouling en intercambiador de calor por minerales del agua", "Normal con edad"], correct: 2, explanation: "Loop abierto con agua de pozo frecuentemente causa scale/fouling en el intercambiador. Fuente: ACCA Quality Installation Field Guide & Real-World Case Studies. Los escenarios de campo prueban tu capacidad de aplicar conocimiento en situaciones reales. Las otras opciones son incorrectas: A) Compresor desgastado; B) Loop está fallando. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario de Campo", q: "Llegas a emergencia: sistema totalmente muerto. Breaker principal está trip. ¿Primer paso?", options: ["Cambiar breaker", "Resetear breaker", "Investigar POR QUÉ se disparó antes de resetear", "Verificar termostato"], correct: 2, explanation: "Breaker tripped tiene causa. Encontrar por qué antes de resetear evita daño mayor o riesgo. Fuente: ACCA Quality Installation Field Guide & Real-World Case Studies. Los escenarios de campo prueban tu capacidad de aplicar conocimiento en situaciones reales. Las otras opciones son incorrectas: A) Cambiar breaker; B) Resetear breaker. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario de Campo", q: "Cliente quiere que instales termostato que compró en Amazon. ¿Tu política?", options: ["Instalar cualquier cosa", "Negarte completamente", "Cobrar triple", "Verificar compatibilidad, advertir sobre garantía, y documentar que no es tu equipo"], correct: 3, explanation: "Puedes instalar pero documenta que el cliente proveyó el equipo y garantía es limitada. Fuente: ACCA Quality Installation Field Guide & Real-World Case Studies. Los escenarios de campo prueban tu capacidad de aplicar conocimiento en situaciones reales. Las otras opciones son incorrectas: A) Instalar cualquier cosa; B) Negarte completamente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario de Campo", q: "Sistema comercial: Building manager dice 'solo pon refrigerante y vete'. Presiones indican fuga. ¿Acción?", options: ["Agregar y reportar a EPA", "Explicar obligación de encontrar fuga, documentar si él rechaza diagnóstico", "Negarte a tocar el sistema", "Hacer lo que dice"], correct: 1, explanation: "Explica la obligación legal y técnica. Si rechaza, documenta y considera si quieres el trabajo. Fuente: ACCA Quality Installation Field Guide & Real-World Case Studies. Los escenarios de campo prueban tu capacidad de aplicar conocimiento en situaciones reales. Las otras opciones son incorrectas: A) Agregar y reportar a EPA; C) Negarte a tocar el sistema. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario de Campo", q: "Diagnóstico tomó 2 horas en problema complejo. Cliente queja de costo. ¿Respuesta?", options: ["No cobrar diagnóstico", "Explicar valor del diagnóstico correcto vs reemplazo innecesario de partes", "Reducir factura", "Discutir con el cliente"], correct: 1, explanation: "Diagnóstico correcto ahorra dinero a largo plazo. Explica el valor profesionalmente. Fuente: ACCA Quality Installation Field Guide & Real-World Case Studies. Los escenarios de campo prueban tu capacidad de aplicar conocimiento en situaciones reales. Las otras opciones son incorrectas: A) No cobrar diagnóstico; C) Reducir factura. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario de Campo", q: "Sistema con warranty de fabricante. Cliente quiere que tú hagas el claim. ¿Proceso?", options: ["No es tu responsabilidad", "Garantizar tú el resultado", "Ayudar con documentación y proceso, pero dejar claro roles y expectativas", "Solo si pagas labor"], correct: 2, explanation: "Facilita el proceso pero sé claro sobre qué cubre warranty y qué es responsabilidad del cliente. Fuente: ACCA Quality Installation Field Guide & Real-World Case Studies. Los escenarios de campo prueban tu capacidad de aplicar conocimiento en situaciones reales. Las otras opciones son incorrectas: A) No es tu responsabilidad; B) Garantizar tú el resultado. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario de Campo", q: "Inspection después de tu instalación: pasa todo excepto un item menor. ¿Actitud correcta?", options: ["Pedir a cliente que lo haga", "Discutir con inspector", "Corregir rápidamente y solicitar re-inspección", "Es culpa del inspector"], correct: 2, explanation: "Correcciones menores son normales. Corrige profesionalmente y cierra el permiso. Fuente: ACCA Quality Installation Field Guide & Real-World Case Studies. Los escenarios de campo prueban tu capacidad de aplicar conocimiento en situaciones reales. Las otras opciones son incorrectas: A) Pedir a cliente que lo haga; B) Discutir con inspector. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario de Campo", q: "RTU en restaurante: compresor falla domingo 10am. Restaurante abre 11am. ¿Opciones realistas?", options: ["Nada se puede hacer tan rápido", "Evaluar si reparación temporal es posible, o solución de emergencia mientras consigues parte", "Solo cerrar restaurante", "Instalar unidad nueva en 1 hora"], correct: 1, explanation: "En emergencia, busca soluciones creativas temporales mientras trabajas en reparación definitiva. Fuente: ACCA Quality Installation Field Guide & Real-World Case Studies. Los escenarios de campo prueban tu capacidad de aplicar conocimiento en situaciones reales. Las otras opciones son incorrectas: A) Nada se puede hacer tan rápido; C) Solo cerrar restaurante. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario de Campo", q: "Cotizaste trabajo basado en info del cliente. Al llegar es mucho más complejo. ¿Manejo?", options: ["Hacer el trabajo al precio original", "Explicar diferencia, dar nuevo precio, dejar que cliente decida", "Irte sin hacer nada", "Hacer trabajo parcial"], correct: 1, explanation: "Comunica el cambio de scope honestamente y deja que el cliente decida con información correcta. Fuente: ACCA Quality Installation Field Guide & Real-World Case Studies. Los escenarios de campo prueban tu capacidad de aplicar conocimiento en situaciones reales. Las otras opciones son incorrectas: A) Hacer el trabajo al precio original; C) Irte sin hacer nada. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Final", q: "Después de 10+ años como supervisor técnico, ¿cuál es la habilidad más valiosa?", options: ["Conocer a todos los proveedores", "Combinación de diagnóstico, comunicación, liderazgo y visión de negocio", "Velocidad de trabajo", "Conocimiento técnico puro"], correct: 1, explanation: "El técnico completo combina excelencia técnica con habilidades de comunicación, liderazgo y negocio. Fuente: HVAC Excellence Practical Examination Guidelines. Dominar estos escenarios demuestra competencia profesional completa. Las otras opciones son incorrectas: A) Conocer a todos los proveedores; C) Velocidad de trabajo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Final", q: "Técnico joven pregunta cómo llegar a tu nivel. ¿Tu consejo principal?", options: ["Buscar el trabajo mejor pagado", "Especializarse en una sola cosa", "Nunca dejar de aprender, hacer preguntas, y buscar entender el por qué", "Trabajar muchas horas"], correct: 2, explanation: "El crecimiento viene de curiosidad constante, humildad para aprender, y entender fundamentos. Fuente: HVAC Excellence Practical Examination Guidelines. Dominar estos escenarios demuestra competencia profesional completa. Las otras opciones son incorrectas: A) Buscar el trabajo mejor pagado; B) Especializarse en una sola cosa. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Final", q: "¿Qué distingue a un técnico de nivel Elite?", options: ["Herramientas más caras", "Años de experiencia solamente", "Capacidad de resolver problemas complejos, enseñar a otros, y ver el sistema completo", "Certificaciones acumuladas"], correct: 2, explanation: "Elite significa dominio técnico, capacidad de mentoría, y visión sistémica más allá de los síntomas. Fuente: HVAC Excellence Practical Examination Guidelines. Dominar estos escenarios demuestra competencia profesional completa. Las otras opciones son incorrectas: A) Herramientas más caras; B) Años de experiencia solamente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Final", q: "Si no mides, estás adivinando. ¿Cómo aplicas esta filosofía como supervisor?", options: ["Solo cuando hay problemas", "No aplica a supervisión", "En todo: métricas de equipo, satisfacción de cliente, eficiencia, y resultados", "Solo para diagnóstico técnico"], correct: 2, explanation: "La filosofía de medición aplica a todo: desempeño, calidad, eficiencia, y mejora continua. Fuente: HVAC Excellence Practical Examination Guidelines. Dominar estos escenarios demuestra competencia profesional completa. Las otras opciones son incorrectas: A) Solo cuando hay problemas; B) No aplica a supervisión. Fuente: HVAC Excellence Training Manual & Industry Standards." }
        ,
        // === PREGUNTAS ADICIONALES PARA COMPLETAR 250 (70 más) ===
        { category: "Diagnóstico Avanzado", q: "Compresor reciprocante con válvulas de descarga dañadas. ¿Cómo lo identificas sin abrir?", options: ["No se puede saber", "Medir amperaje", "Comparar presión de descarga con otros compresores, pump-down test anormal", "Solo por ruido"], correct: 2, explanation: "Válvulas dañadas causan presiones anormales y el compresor no puede mantener pump-down. Fuente: Carrier System Design Manual & Trane Air Conditioning Manual. El diagnóstico correcto requiere medir primero - 'Si no mides, estás adivinando.'. Las otras opciones son incorrectas: A) No se puede saber; B) Medir amperaje. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Avanzado", q: "Sistema con receiver muestra sight glass lleno pero subcooling es 2°F. ¿Es correcto?", options: ["Sí, perfecto", "Falta refrigerante", "Definitivamente sobrecargado", "Puede ser normal - receiver almacena líquido, subcooling bajo es aceptable"], correct: 3, explanation: "Con receiver, subcooling bajo puede ser normal porque el receiver actúa como buffer de líquido. Fuente: Carrier System Design Manual & Trane Air Conditioning Manual. El diagnóstico correcto requiere medir primero - 'Si no mides, estás adivinando.'. Las otras opciones son incorrectas: A) Sí, perfecto; B) Falta refrigerante. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Avanzado", q: "Diferencia de presión entre entrada y salida de filtro deshidratador es 8 PSI. ¿Acción?", options: ["Agregar filtro adicional", "Normal", "Restricción - reemplazar filtro deshidratador", "Solo monitorear"], correct: 2, explanation: "Más de 2-3 PSI de caída indica filtro restringido que debe reemplazarse. Fuente: Carrier System Design Manual & Trane Air Conditioning Manual. El diagnóstico correcto requiere medir primero - 'Si no mides, estás adivinando.'. Las otras opciones son incorrectas: A) Agregar filtro adicional; B) Normal. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Avanzado", q: "Sistema de baja temperatura con oil return intermitente. ¿Solución de diseño?", options: ["Agregar más aceite frecuentemente", "Oil separator, heat tracing en succión, y diseño de piping para retorno", "Operar a temperatura más alta", "Cambiar tipo de aceite"], correct: 1, explanation: "Sistemas de baja temp necesitan diseño específico para retorno de aceite - no solo agregar aceite. Fuente: Carrier System Design Manual & Trane Air Conditioning Manual. El diagnóstico correcto requiere medir primero - 'Si no mides, estás adivinando.'. Las otras opciones son incorrectas: A) Agregar más aceite frecuentemente; C) Operar a temperatura más alta. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Avanzado", q: "Evaporador tiene distribución desigual de superheat entre circuitos. ¿Problema?", options: ["Distribuidor desajustado o parcialmente tapado", "Normal para multi-circuito", "TXV muy pequeña", "Carga incorrecta"], correct: 0, explanation: "Superheat desigual entre circuitos indica problema de distribución - distribuidor o feeding tubes. Fuente: Carrier System Design Manual & Trane Air Conditioning Manual. El diagnóstico correcto requiere medir primero - 'Si no mides, estás adivinando.'. Las otras opciones son incorrectas: B) Normal para multi-circuito; C) TXV muy pequeña. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Avanzado", q: "Compresor scroll tiene 'check valve chatter' al apagar. ¿Peligroso?", options: ["Indica low charge", "No, es ruido normal de ecualización de presión", "Solo si es muy fuerte", "Sí, daña el scroll"], correct: 1, explanation: "Scrolls tienen válvula de alivio que puede hacer ruido al apagar - es normal y no daña. Fuente: Carrier System Design Manual & Trane Air Conditioning Manual. El diagnóstico correcto requiere medir primero - 'Si no mides, estás adivinando.'. Las otras opciones son incorrectas: A) Indica low charge; C) Solo si es muy fuerte. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Lab con 100% exhaust y sin recirculación. ¿Cómo recuperar energía?", options: ["Energy recovery wheel o heat pipe entre exhaust y supply", "No se puede con 100% OA", "Reducir exhaust", "Solo economizer"], correct: 0, explanation: "Aunque no hay recirculación, puedes recuperar energía del exhaust para pre-acondicionar supply. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: B) No se puede con 100% OA; C) Reducir exhaust. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Sistema VAV en modo de mañana: todas las cajas al máximo pero building no calienta. ¿Verificar?", options: ["Normal para warm-up", "Verificar si supply air temp es suficiente y que realmente haya flujo", "Reducir OA", "Agregar capacidad"], correct: 1, explanation: "Cajas al máximo sin resultado: verifica que el aire esté suficientemente caliente y que fluya realmente. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: A) Normal para warm-up; C) Reducir OA. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Condensador evaporativo en modo seco (sin agua). ¿Cuándo es apropiado?", options: ["Cuando OAT es bajo y no necesita evaporación para alcanzar condiciones", "Solo en invierno", "Cuando falta agua", "Nunca, siempre usar agua"], correct: 0, explanation: "En clima frío, operación seca ahorra agua y químicos cuando la evaporación no es necesaria. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: B) Solo en invierno; C) Cuando falta agua. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Primary-secondary pumping en chiller plant. ¿Propósito de la configuración?", options: ["Redundancia de bombas", "Requerido por código", "Ahorro de energía siempre", "Desacoplar flujo de chiller (constante) del flujo de building (variable)"], correct: 3, explanation: "Primary-secondary permite flujo constante a través del chiller mientras el building varía. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: A) Redundancia de bombas; B) Requerido por código. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Enthalpy economizer vs dry-bulb. ¿Cuándo usar enthalpy?", options: ["Son intercambiables", "Siempre es mejor", "En climas húmedos donde humedad afecta carga más que temperatura sola", "Solo en climas secos"], correct: 2, explanation: "Enthalpy considera humedad - importante en climas húmedos donde aire fresco puede estar muy húmedo. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: A) Son intercambiables; B) Siempre es mejor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "HVAC Comercial", q: "Free cooling en chiller plant. ¿Qué permite eliminar temporalmente?", options: ["Bombas", "Todo el sistema", "Cooling tower", "Operación del compresor del chiller usando agua fría del exterior"], correct: 3, explanation: "Free cooling usa agua fría de torre directamente, eliminando necesidad de compresión. Fuente: ASHRAE Handbook - HVAC Applications & Carrier Commercial HVAC Manual. Los sistemas comerciales requieren entender economizers, VAV, y controles BAS. Las otras opciones son incorrectas: A) Bombas; B) Todo el sistema. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles", q: "Sensor de presión diferencial en edificio muestra 0.03 IWG positivo. ¿Correcto?", options: ["Muy bajo", "Debería ser negativo", "Sí, edificios comerciales típicamente +0.02 a +0.05 positivo", "Muy alto"], correct: 2, explanation: "Ligera presión positiva en edificio (0.02-0.05 IWG) previene infiltración y es normal. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Muy bajo; B) Debería ser negativo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles", q: "PID loop tiene ganancia proporcional de 10 y hunting severo. ¿Ajuste?", options: ["Reducir ganancia significativamente, tal vez a 3-5", "Aumentar derivativa", "Solo ajustar integral", "Aumentar a 15"], correct: 0, explanation: "Hunting indica ganancia muy alta. Reducir P significativamente es primer paso. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Aumentar derivativa; C) Solo ajustar integral. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles", q: "Interlock de seguridad: flow switch de agua en chiller. ¿Qué previene?", options: ["Alto consumo", "Alta presión", "Daño por congelamiento del evaporador sin flujo de agua", "Ruido"], correct: 2, explanation: "Sin flujo de agua, el evaporador se congela y puede dañarse - flow switch previene operación sin flujo. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Alto consumo; B) Alta presión. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles", q: "Actuador de damper se mueve a 2% cuando debería ir a 0%. ¿Por qué diseño intencional?", options: ["Minimum position para prevenir cierre completo y falta de ventilación", "Falta de señal", "Error de calibración", "Actuador dañado"], correct: 0, explanation: "Muchos sistemas tienen mínimo intencional para asegurar algo de ventilación siempre. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Falta de señal; C) Error de calibración. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles", q: "Compresor digital (pulsado) vs inverter. ¿Diferencia operativa?", options: ["Digital pulsa on/off rápido; inverter varía velocidad continuamente", "Inverter pulsa", "Digital es más eficiente", "Son lo mismo"], correct: 0, explanation: "Compresores digitales modulan por duty cycle (on/off rápido); inverter cambia velocidad de motor. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Inverter pulsa; C) Digital es más eficiente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles", q: "Sistema con múltiples chillers: lead-lag vs equal runtime. ¿Cuándo equal runtime?", options: ["Siempre igual es mejor", "Cuando ambos chillers son idénticos y quieres desgaste parejo", "Nunca usar equal", "Solo en emergencia"], correct: 1, explanation: "Equal runtime iguala horas de operación en chillers idénticos para desgaste uniforme. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Siempre igual es mejor; C) Nunca usar equal. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes Avanzado", q: "Sistema con R-407C necesita carga adicional. ¿Cómo agregas?", options: ["Depende de presión", "Solo vapor", "Solo líquido - mezcla zeotrópica cambia composición si cargas vapor", "Vapor o líquido igual"], correct: 2, explanation: "Zeotropics como R-407C deben cargarse en líquido para mantener composición correcta. Fuente: ASHRAE Handbook - Fundamentals, Chapter 29: Refrigerants. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Depende de presión; B) Solo vapor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes Avanzado", q: "¿Por qué R-410A no es retrofit directo para R-22?", options: ["Es drop-in con kit", "Presiones 50-60% más altas requieren componentes rated para alta presión", "Solo es más caro", "Solo cambia el aceite"], correct: 1, explanation: "R-410A tiene presiones mucho más altas - condensador, líneas y controles deben ser rated para ello. Fuente: ASHRAE Handbook - Fundamentals, Chapter 29: Refrigerants. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Es drop-in con kit; C) Solo es más caro. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes Avanzado", q: "Sistema con R-134a en aplicación de media temp. ¿Presión de succión típica?", options: ["10-15 PSIG", "35-40 PSIG", "20-25 PSIG", "5 PSIG"], correct: 2, explanation: "R-134a en media temperatura (35°F evap) típicamente 20-25 PSIG en succión. Fuente: ASHRAE Handbook - Fundamentals, Chapter 29: Refrigerants. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) 10-15 PSIG; B) 35-40 PSIG. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes Avanzado", q: "Aceite POE expuesto a aire por 30 minutos. ¿Acción?", options: ["Filtrar y usar", "Calentar para evaporar humedad", "Usarlo normalmente", "Descartar - POE absorbe humedad rápidamente del aire"], correct: 3, explanation: "POE es muy higroscópico. Exposición prolongada al aire lo contamina con humedad. Fuente: ASHRAE Handbook - Fundamentals, Chapter 29: Refrigerants. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Filtrar y usar; B) Calentar para evaporar humedad. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes Avanzado", q: "Sistema evacuado a 500 micrones, se apaga bomba, sube a 1500 micrones. ¿Indica?", options: ["Vacío normal", "Bomba defectuosa", "Fuga en sistema", "Humedad evaporando - continuar evacuación hasta estabilizar bajo 500"], correct: 3, explanation: "Rise después de cortar bomba típicamente es humedad evaporando. Continúa hasta que estabilice. Fuente: ASHRAE Handbook - Fundamentals, Chapter 29: Refrigerants. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Vacío normal; B) Bomba defectuosa. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Sistema de amoníaco: qué nivel de PPM requiere evacuación inmediata?", options: ["500 ppm", "50 ppm", "300 ppm (IDLH)", "25 ppm"], correct: 2, explanation: "300 ppm es IDLH (Immediately Dangerous to Life or Health) para amoníaco. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) 500 ppm; B) 50 ppm. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Chiller de absorción: qué pasa si hay aire en el sistema?", options: ["Pierde vacío, cristalización posible, rendimiento reducido", "Opera normalmente", "Solo ruido", "Más eficiente"], correct: 0, explanation: "Absorción requiere vacío. Aire causa problemas de operación y posible cristalización. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: B) Opera normalmente; C) Solo ruido. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Compresor de tornillo con variable Vi. ¿Cuándo ajustar?", options: ["Solo el fabricante puede", "Nunca después de instalación", "Cuando condiciones de operación cambian significativamente de diseño", "Cada mantenimiento"], correct: 2, explanation: "Vi se optimiza para condiciones específicas. Si cambian las condiciones, el Vi óptimo cambia. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Solo el fabricante puede; B) Nunca después de instalación. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Plate heat exchanger con approach de 1°F. ¿Problema?", options: ["Demasiado bajo, riesgo", "Muy eficiente", "Imposible", "Excelente - plates pueden lograr approach muy bajo"], correct: 3, explanation: "PHE son muy eficientes y pueden lograr approach de 1-2°F normalmente. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Demasiado bajo, riesgo; B) Muy eficiente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Sistema de glicol pierde protección: punto de congelamiento subió de 5°F a 25°F. ¿Causa?", options: ["Dilución - agua agregada sin glicol proporcional", "Normal con tiempo", "Error de prueba", "Glicol se degrada"], correct: 0, explanation: "Pérdida de concentración típicamente es por agregar agua sin glicol al sistema. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: B) Normal con tiempo; C) Error de prueba. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Compresor centrífugo en surge repetidamente. ¿Solución operacional?", options: ["Apagar y reparar", "Operar a máxima velocidad", "Ignorar si es breve", "Reducir head (diferencial de presión) o aumentar flujo"], correct: 3, explanation: "Surge es por relación head/flow. Reduce head o aumenta flow para salir de zona de surge. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Apagar y reparar; B) Operar a máxima velocidad. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Supervisión", q: "Tu equipo tiene alto turnover. ¿Primera área a examinar?", options: ["Pagar más siempre resuelve", "Cultura, comunicación, oportunidades de crecimiento, y condiciones de trabajo", "Es normal en HVAC", "Contratar mejor"], correct: 1, explanation: "Turnover alto tiene múltiples causas. Dinero es parte pero cultura y crecimiento importan mucho. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Pagar más siempre resuelve; C) Es normal en HVAC. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Supervisión", q: "Técnico experimentado resiste usar nuevos procedimientos. ¿Approach?", options: ["Entender sus preocupaciones, explicar el por qué, e involucrar en mejoras", "Forzar cumplimiento", "Ignorar si produce resultados", "Despedirlo"], correct: 0, explanation: "Resistencia al cambio se maneja mejor con comunicación y participación que con imposición. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Forzar cumplimiento; C) Ignorar si produce resultados. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Supervisión", q: "Cliente importante quiere precio especial en proyecto grande. ¿Consideración?", options: ["Nunca descuentos", "Evaluar valor total de relación, no solo este proyecto", "Solo si amenaza con irse", "Siempre dar descuento a importantes"], correct: 1, explanation: "Decisiones de precio consideran la relación completa, no solo transacción individual. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Nunca descuentos; C) Solo si amenaza con irse. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Supervisión", q: "Nuevo código entra en vigor en 6 meses. ¿Preparación?", options: ["Esperar hasta que aplique", "Entrenar equipo ahora, ajustar procedimientos, comunicar a clientes", "Solo cuando inspectores exijan", "No afecta trabajo existente"], correct: 1, explanation: "Preparación proactiva evita problemas. Entrena y prepara antes de que sea obligatorio. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Esperar hasta que aplique; C) Solo cuando inspectores exijan. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Supervisión", q: "Accidente menor en sitio - nadie lastimado. ¿Proceso?", options: ["Solo registrar internamente", "Olvidarlo si no hubo lesión", "Investigar como near-miss, documentar, implementar prevención", "Reportar a OSHA"], correct: 2, explanation: "Near-misses son oportunidades de aprendizaje. Investiga y previene el próximo que sí cause daño. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo registrar internamente; B) Olvidarlo si no hubo lesión. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia", q: "Building opera 24/7 pero tiene schedule de setback. ¿Problema?", options: ["Normal para 24/7", "Ahorra energía", "Solo en HVAC viejo", "Setback causa arranques innecesarios sin ahorro real si está ocupado"], correct: 3, explanation: "Setback en edificio 24/7 no ahorra si siempre hay carga - causa cycling innecesario. Fuente: ASHRAE Standard 90.1 (Energy Standard) & DOE Energy Efficiency Guidelines. La eficiencia energética impacta directamente los costos operativos del cliente. Las otras opciones son incorrectas: A) Normal para 24/7; B) Ahorra energía. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia", q: "Chiller plant con 3 chillers: 1 grande, 2 pequeños. ¿Estrategia de staging?", options: ["Siempre el grande primero", "Rotar igualmente", "Pequeños para carga base, grande para picos - optimizar por eficiencia de carga parcial", "No importa el orden"], correct: 2, explanation: "Staging óptimo usa chillers donde son más eficientes - generalmente no es el más grande primero. Fuente: ASHRAE Standard 90.1 (Energy Standard) & DOE Energy Efficiency Guidelines. La eficiencia energética impacta directamente los costos operativos del cliente. Las otras opciones son incorrectas: A) Siempre el grande primero; B) Rotar igualmente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia", q: "Outdoor air reset de supply air temp. ¿Cómo funciona?", options: ["Solo en modo cooling", "Fija supply temp siempre", "Supply baja con OAT", "Supply temp sube cuando OAT baja - reduce reheat y energía"], correct: 3, explanation: "OA reset sube SAT en clima frío reduciendo necesidad de reheat - ahorra energía significativa. Fuente: ASHRAE Standard 90.1 (Energy Standard) & DOE Energy Efficiency Guidelines. La eficiencia energética impacta directamente los costos operativos del cliente. Las otras opciones son incorrectas: A) Solo en modo cooling; B) Fija supply temp siempre. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia", q: "Demand limiting en BAS. ¿Qué controla?", options: ["Solo luces", "Temperatura solamente", "Flujo de agua", "Reduce cargas eléctricas para evitar picos de demanda y cargos"], correct: 3, explanation: "Demand limiting reduce cargas cuando se acerca al pico para evitar demand charges altos. Fuente: ASHRAE Standard 90.1 (Energy Standard) & DOE Energy Efficiency Guidelines. La eficiencia energética impacta directamente los costos operativos del cliente. Las otras opciones son incorrectas: A) Solo luces; B) Temperatura solamente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Códigos", q: "Equipo instalado requiere disconnect visible desde la unidad. ¿Por qué?", options: ["Seguridad - técnico puede verificar que está desconectado mientras trabaja", "Código obsoleto", "Solo para inspección", "Conveniencia"], correct: 0, explanation: "Disconnect visible permite al técnico confirmar que la energía está cortada mientras trabaja en equipo. Fuente: IMC (International Mechanical Code) & UMC (Uniform Mechanical Code). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Código obsoleto; C) Solo para inspección. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Códigos", q: "ASHRAE 15 limita carga de refrigerante en occupied spaces basado en qué?", options: ["RCL - Refrigerant Concentration Limit basado en toxicidad/inflamabilidad", "Preferencia del diseñador", "Costo del refrigerante", "Eficiencia"], correct: 0, explanation: "ASHRAE 15 establece límites de carga basados en concentración segura si hay release. Fuente: IMC (International Mechanical Code) & UMC (Uniform Mechanical Code). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Preferencia del diseñador; C) Costo del refrigerante. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Técnico", q: "Package unit no arranca. Verificas: voltaje OK, termostato calling, nada pasa. ¿Siguiente?", options: ["Verificar transformador de control, fusibles, y safeties", "Cambiar termostato", "Cambiar contactor", "Problema de refrigerante"], correct: 0, explanation: "Con power OK y call pero nada pasa: verifica circuito de control - transformador, fusibles, safeties. Fuente: NATE Certification Exam Reference Materials. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Cambiar termostato; C) Cambiar contactor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Técnico", q: "Furnace cierra válvula de gas después de 30 segundos. Burners encendidos OK. ¿Causa?", options: ["Válvula defectuosa", "Flame sensor no detectando llama - verificar sensor y llama", "Limit abierto", "Gas pressure bajo"], correct: 1, explanation: "Si burners encienden pero corta gas: flame sensor no está sensing. Verifica o limpia sensor. Fuente: NATE Certification Exam Reference Materials. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Válvula defectuosa; C) Limit abierto. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Técnico", q: "Heat pump no cambia a defrost automáticamente. ¿Qué controla el inicio de defrost?", options: ["Termostato interior", "Sensor de hielo", "Combinación de tiempo y temperatura/presión (demand defrost) o solo timer", "Solo timer"], correct: 2, explanation: "Defrost puede ser time-initiated (timer) o demand-initiated (temp/pressure sensing) o combinación. Fuente: NATE Certification Exam Reference Materials. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Termostato interior; B) Sensor de hielo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Técnico", q: "VRF outdoor muestra código de 'refrigerant imbalance'. ¿Qué significa?", options: ["Error de comunicación", "Distribución desigual entre circuitos - posible válvula o sensor con problema", "Falta refrigerante general", "Demasiado refrigerante"], correct: 1, explanation: "Imbalance indica que refrigerante no se distribuye correctamente entre circuitos internos del sistema. Fuente: NATE Certification Exam Reference Materials. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Error de comunicación; C) Falta refrigerante general. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Técnico", q: "Chiller muestra 'low evaporator refrigerant temp'. ¿Preocupación?", options: ["Riesgo de congelamiento - verificar flujo de agua y carga", "Solo informativo", "Normal para chiller", "Mayor eficiencia"], correct: 0, explanation: "Temperatura muy baja de refrigerante en evaporador indica riesgo de congelamiento - actúa rápido. Fuente: NATE Certification Exam Reference Materials. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Solo informativo; C) Normal para chiller. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Técnico", q: "Sistema opera pero supply air temp no baja de 62°F aunque setpoint es 55°F. ¿Diagnóstico?", options: ["Termostato malo", "Solo recalibrar", "Normal para el sistema", "Capacidad insuficiente, restricción de airflow, o problema de refrigeración"], correct: 3, explanation: "No alcanzar supply temp indica problema de capacidad, airflow, o circuito de refrigeración. Fuente: NATE Certification Exam Reference Materials. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Termostato malo; B) Solo recalibrar. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Técnico", q: "Walk-in con dos evaporadores: uno muy frío, otro tibio. Misma válvula solenoide. ¿Problema?", options: ["Distribución de refrigerante desigual después de la solenoide", "Termostato malo", "Un evaporador defectuoso", "Normal operación alternada"], correct: 0, explanation: "Con misma solenoide y diferente temperatura: problema de distribución en piping o válvulas individuales. Fuente: NATE Certification Exam Reference Materials. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Termostato malo; C) Un evaporador defectuoso. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Técnico", q: "RTU con gas heat: ignitor glows pero no hay ignición. Gas está llegando. ¿Verificar?", options: ["Pressure switch", "Verificar posición del ignitor relativo al gas, y que el glow sea suficientemente caliente", "Válvula de gas", "Cambiar ignitor"], correct: 1, explanation: "Si ignitor brilla pero no enciende: posición incorrecta o temperatura insuficiente del ignitor. Fuente: NATE Certification Exam Reference Materials. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Pressure switch; C) Válvula de gas. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Técnico", q: "Sistema con economizer: OAT 50°F pero economizer no abre. ¿Secuencia de diagnóstico?", options: ["Cambiar actuador", "Normal si hay cooling call", "Desactivar economizer", "Verificar sensor OAT, setpoint de enable, actuador, y señal de control"], correct: 3, explanation: "Economizer no abriendo: verifica toda la cadena - sensor, enable conditions, actuador, señal. Fuente: NATE Certification Exam Reference Materials. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Cambiar actuador; B) Normal si hay cooling call. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Final", q: "Has llegado al Nivel Elite. ¿Qué responsabilidad conlleva?", options: ["Solo proyectos grandes", "Trabajar menos", "Mantener estándares altos, mentorear a otros, y continuar aprendiendo", "Solo cobrar más"], correct: 2, explanation: "Nivel Elite significa responsabilidad de mantener excelencia y desarrollar a la próxima generación. Fuente: HVAC Excellence Practical Examination Guidelines. Dominar estos escenarios demuestra competencia profesional completa. Las otras opciones son incorrectas: A) Solo proyectos grandes; B) Trabajar menos. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Final", q: "¿Cuál es la marca de un verdadero profesional de Elite en HVAC?", options: ["Trabajar solo", "Nunca pedir ayuda", "Saber cuándo pedir ayuda, admitir lo que no sabe, y siempre seguir aprendiendo", "Tener todas las respuestas"], correct: 2, explanation: "Los verdaderos profesionales saben sus límites, buscan aprender, y no tienen ego que les impida mejorar. Fuente: HVAC Excellence Practical Examination Guidelines. Dominar estos escenarios demuestra competencia profesional completa. Las otras opciones son incorrectas: A) Trabajar solo; B) Nunca pedir ayuda. Fuente: HVAC Excellence Training Manual & Industry Standards." }
        ,
        // === ÚLTIMAS 19 PREGUNTAS ===
        { category: "Técnico Avanzado", q: "Sistema muestra presión de succión fluctuando con cada ciclo de defrost. ¿Normal?", options: ["No, indica problema", "Solo en heat pumps", "Sí, defrost envía gas caliente que temporalmente eleva presión de succión", "Indica baja carga"], correct: 2, explanation: "Durante defrost, gas caliente causa elevación temporal de succión - es operación normal. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) No, indica problema; B) Solo en heat pumps. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Motor de ventilador mide 8.5 amps. Placa dice 9.0 FLA. ¿Evaluación?", options: ["Normal - dentro de FLA (Full Load Amps)", "Necesita capacitor nuevo", "Motor subdimensionado", "Operando alto, preocupante"], correct: 0, explanation: "8.5 amps con FLA de 9.0 está bien - operando cerca pero dentro de especificación. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Necesita capacitor nuevo; C) Motor subdimensionado. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Condensador evaporativo con scale visible en fill media. ¿Efecto en operación?", options: ["Ninguno significativo", "Mejora distribución", "Solo cosmético", "Reduce contacto agua-aire, aumenta head pressure, reduce eficiencia"], correct: 3, explanation: "Scale en fill media bloquea superficie y reduce transferencia de calor significativamente. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Ninguno significativo; B) Mejora distribución. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Sistema de dos compresores con unloader: uno cargado 100%, otro 50%. ¿Es eficiente?", options: ["Siempre dividir carga", "Sí, matches carga", "Posiblemente no - un compresor al 100% puede ser más eficiente que dos parciales", "Depende de la marca"], correct: 2, explanation: "Compresores son más eficientes a carga completa. Evalúa si staging diferente es mejor. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Siempre dividir carga; B) Sí, matches carga. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Hot gas reheat coil en AHU. ¿Propósito principal?", options: ["Deshumidificar enfriando y luego recalentando sin usar energía adicional", "Backup de calefacción", "Solo para laboratorios", "Ahorro de refrigerante"], correct: 0, explanation: "Hot gas reheat usa calor de descarga para recalentar después de dehumidificar - eficiente. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Backup de calefacción; C) Solo para laboratorios. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Avanzado", q: "Fan array (múltiples fans pequeños) vs un fan grande. ¿Ventaja del array?", options: ["Más barato siempre", "Redundancia parcial, mejor control de capacidad, y más fácil mantenimiento", "Solo para espacios pequeños", "Mayor eficiencia siempre"], correct: 1, explanation: "Fan arrays ofrecen redundancia, staging granular, y se pueden cambiar sin parar el sistema. Fuente: Trane Engineers Newsletter & ASHRAE Journal Technical Articles. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Más barato siempre; C) Solo para espacios pequeños. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Avanzado", q: "Return air plenum vs ducted return. ¿Cuándo NO usar plenum?", options: ["En edificios nuevos", "Nunca usar plenum", "Cuando hay contaminantes en el espacio o se requiere filtración antes del return", "Siempre es preferible ducted"], correct: 2, explanation: "Plenum return no filtra - problemas si hay contaminantes, o cuando se requiere control de presión. Fuente: Trane Engineers Newsletter & ASHRAE Journal Technical Articles. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) En edificios nuevos; B) Nunca usar plenum. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Avanzado", q: "Building automation: trend log muestra cycling rápido de válvula. ¿Causa probable?", options: ["Control loop mal tuned - ganancia muy alta", "Válvula defectuosa", "Sensor intermitente", "Normal para modulación"], correct: 0, explanation: "Cycling rápido de válvula es señal clásica de PID loop con ganancia excesiva. Fuente: Trane Engineers Newsletter & ASHRAE Journal Technical Articles. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Válvula defectuosa; C) Sensor intermitente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Avanzado", q: "Chiller con VFD en compresor centrífugo. ¿Beneficio principal?", options: ["Protección de surge", "Optimización de eficiencia en carga parcial variando velocidad", "Arranque más suave únicamente", "Menor ruido"], correct: 1, explanation: "VFD permite operar a velocidad óptima para la carga actual, mejorando eficiencia parcial. Fuente: Trane Engineers Newsletter & ASHRAE Journal Technical Articles. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Protección de surge; C) Arranque más suave únicamente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial Avanzado", q: "Sistema de CO2 subcrítico vs transcrítico. ¿Cuál tiene mayor presión de operación?", options: ["Depende de temperatura", "Son iguales", "Transcrítico - opera sobre punto crítico con presiones muy altas", "Subcrítico"], correct: 2, explanation: "Transcrítico opera sobre 1070 PSI (punto crítico). Subcrítico usa presiones más bajas. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Depende de temperatura; B) Son iguales. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial Avanzado", q: "Oil drain en evaporador industrial. ¿Por qué periódicamente lo abres?", options: ["Limpiar evaporador", "Verificar refrigerante", "Cambiar aceite", "Drenar aceite acumulado que reduce eficiencia de transferencia de calor"], correct: 3, explanation: "Aceite acumula en evaporadores de baja temp. Drenar periódicamente mantiene eficiencia. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Limpiar evaporador; B) Verificar refrigerante. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial Avanzado", q: "Sistema cascade con R-404A en alta y R-744 en baja. ¿Temperatura del cascade exchanger típica?", options: ["0°F", "-60°F", "-15°F a -25°F típicamente", "+20°F"], correct: 2, explanation: "Cascade exchanger opera donde ambos sistemas se encuentran - típicamente -15 a -25°F. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) 0°F; B) -60°F. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes", q: "A2L refrigerants (como R-32). ¿Qué training adicional necesitan técnicos?", options: ["Manejo de ligeramente inflamables, detectores, y precauciones de ignición", "Solo lectura de manual", "Ninguno especial", "Igual que A1"], correct: 0, explanation: "A2L requiere entendimiento de inflamabilidad, uso de detectores, y evitar fuentes de ignición. Fuente: EPA 608 Regulations & ASHRAE Standard 34 - Designation of Refrigerants. Conocer las propiedades de los refrigerantes es esencial para diagnóstico de presiones y carga correcta. Las otras opciones son incorrectas: B) Solo lectura de manual; C) Ninguno especial. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes", q: "Sistema con R-407C perdió carga y se rellenó con vapor. ¿Resultado?", options: ["Opera normalmente", "Composición incorrecta - mezcla no tendrá performance esperado", "Solo afecta presiones", "Más eficiente"], correct: 1, explanation: "Cargar vapor cambia composición de mezcla zeotrópica. Debe recuperarse y cargar líquido. Fuente: EPA 608 Regulations & ASHRAE Standard 34 - Designation of Refrigerants. Conocer las propiedades de los refrigerantes es esencial para diagnóstico de presiones y carga correcta. Las otras opciones son incorrectas: A) Opera normalmente; C) Solo afecta presiones. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia", q: "Reset de hot water temp basado en OAT. ¿Lógica?", options: ["Aumentar con OAT", "Solo manual", "Siempre temperatura fija", "Reducir temp de agua cuando OAT sube - building necesita menos calor"], correct: 3, explanation: "OA reset baja temperatura de agua caliente cuando hace menos frío afuera - ahorra energía. Fuente: ASHRAE Standard 90.1 (Energy Standard) & DOE Energy Efficiency Guidelines. La eficiencia energética impacta directamente los costos operativos del cliente. Las otras opciones son incorrectas: A) Aumentar con OAT; B) Solo manual. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia", q: "Coil de precalentamiento de OA en AHU. ¿Cuándo se activa?", options: ["Siempre en invierno", "Solo con 100% OA", "Cuando OAT está bajo congelamiento para prevenir congelamiento del coil de cooling", "Nunca - ineficiente"], correct: 2, explanation: "Preheat previene que aire muy frío congele el cooling coil - activa bajo cierta temp. Fuente: ASHRAE Standard 90.1 (Energy Standard) & DOE Energy Efficiency Guidelines. La eficiencia energética impacta directamente los costos operativos del cliente. Las otras opciones son incorrectas: A) Siempre en invierno; B) Solo con 100% OA. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario", q: "Cliente pregunta: '¿Puedo usar filtro más restrictivo para mejor calidad de aire?' ¿Respuesta?", options: ["Depende - sistema debe estar diseñado para la caída de presión del filtro", "No, nunca cambiar filtro especificado", "Sí, siempre mejor filtración es mejor", "Solo HEPA funciona"], correct: 0, explanation: "Filtros más restrictivos necesitan que el sistema pueda manejar la caída de presión adicional. Fuente: ACCA & RSES Field Service Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) No, nunca cambiar filtro especificado; C) Sí, siempre mejor filtración es mejor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario", q: "Llegas a commissioning y el instalador ya se fue. Sistema no opera correctamente. ¿Tu rol?", options: ["No es tu problema", "Documentar hallazgos, comunicar a propietario, proponer soluciones", "Reparar todo sin costo", "Llamar al instalador"], correct: 1, explanation: "Commissioning independiente: documenta issues, reporta a propietario, no corrijas sin autorización. Fuente: ACCA & RSES Field Service Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) No es tu problema; C) Reparar todo sin costo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Final", q: "Después de completar 250 preguntas Elite, ¿qué has demostrado?", options: ["Solo conocimiento teórico", "Que necesitas más estudio", "Que puedes memorizar", "Dominio técnico profundo, criterio profesional, y capacidad de liderazgo técnico"], correct: 3, explanation: "Nivel Elite certifica dominio integral - técnico, diagnóstico, y criterio profesional avanzado. Fuente: HVAC Excellence Practical Examination Guidelines. Dominar estos escenarios demuestra competencia profesional completa. Las otras opciones son incorrectas: A) Solo conocimiento teórico; B) Que necesitas más estudio. Fuente: HVAC Excellence Training Manual & Industry Standards." }
      ],
      platino: [
        { category: "EPA 608", q: "¿Cuál es la multa máxima por violar las regulaciones de la Sección 608 de la EPA?", options: ["$5,000 total", "$37,500 por día por violación", "$1,000 por incidente", "$10,000 por día"], correct: 1, explanation: "La EPA puede imponer multas de hasta $37,500 por día por cada violación de las regulaciones de refrigerantes. Fuente: EPA Section 608 Certification Manual, 40 CFR Part 82. Las regulaciones EPA protegen el medio ambiente y tu certificación - cumplirlas es obligatorio. Las otras opciones son incorrectas: A) $5,000 total; C) $1,000 por incidente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "EPA 608", q: "¿Qué tipo de certificación EPA 608 necesitas para trabajar en todos los equipos?", options: ["Tipo I", "Tipo II", "Tipo III", "Universal"], correct: 3, explanation: "La certificación Universal permite trabajar en equipos pequeños, de alta presión y de baja presión. Fuente: EPA Section 608 Certification Manual, 40 CFR Part 82. Las regulaciones EPA protegen el medio ambiente y tu certificación - cumplirlas es obligatorio. Las otras opciones son incorrectas: A) Tipo I; B) Tipo II. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "EPA 608", q: "¿A qué presión se debe evacuar un sistema con más de 200 lbs de refrigerante R-410A?", options: ["10 inches Hg vacuum", "0 psig", "25 inches Hg vacuum", "15 inches Hg vacuum"], correct: 1, explanation: "Sistemas con más de 200 lbs de refrigerante de alta presión deben evacuarse a 0 psig. Fuente: EPA Section 608 Certification Manual, 40 CFR Part 82. Las regulaciones EPA protegen el medio ambiente y tu certificación - cumplirlas es obligatorio. Las otras opciones son incorrectas: A) 10 inches Hg vacuum; C) 25 inches Hg vacuum. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "EPA 608", q: "¿Cuánto tiempo tienes para reparar una fuga en un sistema comercial con más de 50 lbs de refrigerante?", options: ["45 días", "60 días", "30 días", "14 días"], correct: 2, explanation: "Las fugas en sistemas comerciales con más de 50 lbs deben repararse dentro de 30 días. Fuente: EPA Section 608 Certification Manual, 40 CFR Part 82. Las regulaciones EPA protegen el medio ambiente y tu certificación - cumplirlas es obligatorio. Las otras opciones son incorrectas: A) 45 días; B) 60 días. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "EPA 608", q: "¿Qué es el GWP y por qué es importante?", options: ["Gas Working Pressure - presión de trabajo", "Global Warming Potential - impacto ambiental del refrigerante", "General Work Practice - práctica de trabajo", "Gauge Working Point - punto de medición"], correct: 1, explanation: "GWP (Global Warming Potential) mide el impacto de un refrigerante en el calentamiento global comparado con CO2. Fuente: EPA Section 608 Certification Manual, 40 CFR Part 82. Las regulaciones EPA protegen el medio ambiente y tu certificación - cumplirlas es obligatorio. Las otras opciones son incorrectas: A) Gas Working Pressure - presión de trabajo; C) General Work Practice - práctica de trabajo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "EPA 608", q: "¿Qué refrigerante tiene el GWP más alto?", options: ["R-290 (3)", "R-410A (2088)", "R-32 (675)", "R-744 (1)"], correct: 1, explanation: "R-410A tiene un GWP de 2088, significativamente más alto que las alternativas más nuevas. Fuente: EPA Section 608 Certification Manual, 40 CFR Part 82. Las regulaciones EPA protegen el medio ambiente y tu certificación - cumplirlas es obligatorio. Las otras opciones son incorrectas: A) R-290 (3); C) R-32 (675). Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "EPA 608", q: "Según la EPA, ¿cuál es la tasa de fuga máxima permitida para equipos comerciales?", options: ["20%", "30%", "10%", "35%"], correct: 1, explanation: "La tasa de fuga anual máxima para equipos de refrigeración comercial es 30%. Fuente: EPA Section 608 Certification Manual, 40 CFR Part 82. Las regulaciones EPA protegen el medio ambiente y tu certificación - cumplirlas es obligatorio. Las otras opciones son incorrectas: A) 20%; C) 10%. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "EPA 608", q: "¿Qué documento debes mantener cuando recuperas refrigerante?", options: ["Solo factura", "Registro de recuperación con fecha, tipo y cantidad", "Nada si es menos de 5 lbs", "Foto del equipo"], correct: 1, explanation: "Debes mantener registros de toda recuperación incluyendo fecha, tipo de refrigerante y cantidad. Fuente: EPA Section 608 Certification Manual, 40 CFR Part 82. Las regulaciones EPA protegen el medio ambiente y tu certificación - cumplirlas es obligatorio. Las otras opciones son incorrectas: A) Solo factura; C) Nada si es menos de 5 lbs. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "EPA 608", q: "¿Qué es el AIM Act y cómo afecta tu negocio?", options: ["Elimina R-22 inmediatamente", "Solo aplica a manufactura", "Phase-down de HFCs - reduce producción e importación gradualmente", "Regula instalaciones solamente"], correct: 2, explanation: "El AIM Act de 2020 reduce gradualmente la producción e importación de HFCs hasta 85% para 2036. Fuente: EPA Section 608 Certification Manual, 40 CFR Part 82. Las regulaciones EPA protegen el medio ambiente y tu certificación - cumplirlas es obligatorio. Las otras opciones son incorrectas: A) Elimina R-22 inmediatamente; B) Solo aplica a manufactura. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "EPA 608", q: "¿Cuándo puedes ventear refrigerante legalmente?", options: ["Cantidades pequeñas durante reparación", "Nunca es legal ventear", "Cualquier cantidad en emergencia", "Solo refrigerantes naturales en pequeñas cantidades"], correct: 3, explanation: "Solo se permite ventear pequeñas cantidades de refrigerantes con GWP muy bajo como CO2, amoníaco o hidrocarburos. Fuente: EPA Section 608 Certification Manual, 40 CFR Part 82. Las regulaciones EPA protegen el medio ambiente y tu certificación - cumplirlas es obligatorio. Las otras opciones son incorrectas: A) Cantidades pequeñas durante reparación; B) Nunca es legal ventear. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "EPA 608", q: "Tu técnico recuperó refrigerante mezclado. ¿Qué debe hacer?", options: ["Venderlo a otra compañía", "Mezclarlo con refrigerante nuevo", "Reusar en cualquier sistema", "Enviarlo a reclamación certificada"], correct: 3, explanation: "Refrigerante contaminado o mezclado debe enviarse a una instalación de reclamación certificada por EPA. Fuente: EPA Section 608 Certification Manual, 40 CFR Part 82. Las regulaciones EPA protegen el medio ambiente y tu certificación - cumplirlas es obligatorio. Las otras opciones son incorrectas: A) Venderlo a otra compañía; B) Mezclarlo con refrigerante nuevo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "EPA 608", q: "¿Qué información debe estar en la etiqueta de un cilindro de recuperación?", options: ["Solo tu nombre", "Nada si es para uso propio", "Tipo de refrigerante, fecha, y estado (recuperado/reciclado)", "Peso únicamente"], correct: 2, explanation: "Los cilindros deben etiquetarse con tipo de refrigerante, fecha de recuperación y estado del refrigerante. Fuente: EPA Section 608 Certification Manual, 40 CFR Part 82. Las regulaciones EPA protegen el medio ambiente y tu certificación - cumplirlas es obligatorio. Las otras opciones son incorrectas: A) Solo tu nombre; B) Nada si es para uso propio. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "EPA 608", q: "Cliente quiere que instales R-22 en sistema nuevo. ¿Qué haces?", options: ["Cobrar extra por ser escaso", "Usar R-22 reciclado", "Instalarlo si tiene el refrigerante", "Rechazar - es ilegal instalar R-22 en equipos nuevos"], correct: 3, explanation: "Desde 2010 es ilegal usar R-22 en equipos nuevos. Solo se permite en servicio de equipos existentes. Fuente: EPA Section 608 Certification Manual, 40 CFR Part 82. Las regulaciones EPA protegen el medio ambiente y tu certificación - cumplirlas es obligatorio. Las otras opciones son incorrectas: A) Cobrar extra por ser escaso; B) Usar R-22 reciclado. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "EPA 608", q: "¿Cada cuánto debes verificar fugas en sistemas con más de 50 lbs de refrigerante?", options: ["Trimestralmente", "Anualmente", "Solo cuando hay problemas", "Mensualmente"], correct: 1, explanation: "Sistemas con más de 50 lbs requieren verificación anual de fugas y documentación. Fuente: EPA Section 608 Certification Manual, 40 CFR Part 82. Las regulaciones EPA protegen el medio ambiente y tu certificación - cumplirlas es obligatorio. Las otras opciones son incorrectas: A) Trimestralmente; C) Solo cuando hay problemas. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "EPA 608", q: "¿Qué es SNAP y cómo afecta la selección de refrigerantes?", options: ["Sistema de certificación", "Tipo de compresor", "Método de carga", "Programa que lista refrigerantes aceptables por aplicación"], correct: 3, explanation: "SNAP (Significant New Alternatives Policy) lista refrigerantes aprobados para cada tipo de aplicación. Fuente: EPA Section 608 Certification Manual, 40 CFR Part 82. Las regulaciones EPA protegen el medio ambiente y tu certificación - cumplirlas es obligatorio. Las otras opciones son incorrectas: A) Sistema de certificación; B) Tipo de compresor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 2: OSHA 30 Y SEGURIDAD (50 preguntas) ===
        { category: "OSHA 30", q: "¿Cuál es el límite de exposición permisible (PEL) de OSHA para R-410A?", options: ["No hay PEL específico - usar 1000 ppm como guía", "500 ppm", "100 ppm", "50 ppm"], correct: 0, explanation: "R-410A no tiene PEL específico de OSHA, pero se recomienda mantener exposición bajo 1000 ppm. Fuente: OSHA 29 CFR 1926 (Construction) & 29 CFR 1910 (General Industry). La seguridad no es negociable - las prácticas correctas protegen tu vida y la de otros. Las otras opciones son incorrectas: B) 500 ppm; C) 100 ppm. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA 30", q: "Trabajando en techo comercial a 15 pies, ¿qué protección contra caídas necesitas?", options: ["Zapatos antideslizantes", "Ninguna bajo 20 pies", "Solo casco", "Barandas, red de seguridad o arnés personal"], correct: 3, explanation: "OSHA requiere protección contra caídas a partir de 6 pies en construcción general. Fuente: OSHA 29 CFR 1926 (Construction) & 29 CFR 1910 (General Industry). La seguridad no es negociable - las prácticas correctas protegen tu vida y la de otros. Las otras opciones son incorrectas: A) Zapatos antideslizantes; B) Ninguna bajo 20 pies. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA 30", q: "¿Qué debe incluir tu programa de Lockout/Tagout (LOTO)?", options: ["Solo candados", "Procedimientos escritos, capacitación, y auditorías anuales", "Guantes de trabajo", "Letreros de advertencia"], correct: 1, explanation: "LOTO requiere procedimientos escritos específicos, capacitación documentada y auditorías periódicas. Fuente: OSHA 29 CFR 1926 (Construction) & 29 CFR 1910 (General Industry). La seguridad no es negociable - las prácticas correctas protegen tu vida y la de otros. Las otras opciones son incorrectas: A) Solo candados; C) Guantes de trabajo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA 30", q: "Tu empleado sufrió lesión que requirió puntos. ¿Qué formulario OSHA debes completar?", options: ["Ninguno si volvió a trabajar", "Solo reporte interno", "Formulario de compensación", "OSHA 300 Log"], correct: 3, explanation: "Lesiones que requieren tratamiento médico más allá de primeros auxilios deben registrarse en OSHA 300. Fuente: OSHA 29 CFR 1926 (Construction) & 29 CFR 1910 (General Industry). La seguridad no es negociable - las prácticas correctas protegen tu vida y la de otros. Las otras opciones son incorrectas: A) Ninguno si volvió a trabajar; B) Solo reporte interno. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA 30", q: "¿Cuánto tiempo tienes para reportar una fatalidad a OSHA?", options: ["24 horas", "8 horas", "Una semana", "48 horas"], correct: 1, explanation: "Las fatalidades deben reportarse a OSHA dentro de 8 horas del conocimiento del incidente. Fuente: OSHA 29 CFR 1926 (Construction) & 29 CFR 1910 (General Industry). La seguridad no es negociable - las prácticas correctas protegen tu vida y la de otros. Las otras opciones son incorrectas: A) 24 horas; C) Una semana. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA 30", q: "¿Qué PPE mínimo requieres para trabajar con refrigerantes?", options: ["Nada si hay ventilación", "Solo guantes", "Gafas de seguridad y guantes criogénicos", "Casco únicamente"], correct: 2, explanation: "Los refrigerantes pueden causar quemaduras por frío; se requieren gafas y guantes apropiados. Fuente: OSHA 29 CFR 1926 (Construction) & 29 CFR 1910 (General Industry). La seguridad no es negociable - las prácticas correctas protegen tu vida y la de otros. Las otras opciones son incorrectas: A) Nada si hay ventilación; B) Solo guantes. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA 30", q: "Encuentras asbesto en aislamiento de tubería antigua. ¿Qué haces?", options: ["Ignorar si no lo tocas", "Removerlo con cuidado", "Detener trabajo y contactar especialista certificado", "Cubrirlo y continuar"], correct: 2, explanation: "Solo personal certificado en asbesto puede removerlo. Detén el trabajo y reporta inmediatamente. Fuente: OSHA 29 CFR 1926 (Construction) & 29 CFR 1910 (General Industry). La seguridad no es negociable - las prácticas correctas protegen tu vida y la de otros. Las otras opciones son incorrectas: A) Ignorar si no lo tocas; B) Removerlo con cuidado. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA 30", q: "¿Qué es un espacio confinado y qué requiere?", options: ["Cualquier cuarto pequeño", "Espacio con entrada limitada, no diseñado para ocupación continua - requiere permiso y procedimientos", "Solo tanques", "Áticos únicamente"], correct: 1, explanation: "Espacios confinados requieren evaluación de peligros, permisos, ventilación y procedimientos de rescate. Fuente: OSHA 29 CFR 1926 (Construction) & 29 CFR 1910 (General Industry). La seguridad no es negociable - las prácticas correctas protegen tu vida y la de otros. Las otras opciones son incorrectas: A) Cualquier cuarto pequeño; C) Solo tanques. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA 30", q: "¿Cada cuánto debe calibrarse un detector de gases para espacios confinados?", options: ["Solo si falla", "Antes de cada uso según fabricante", "Mensualmente", "Anualmente"], correct: 1, explanation: "Los detectores de gases deben calibrarse según especificaciones del fabricante, típicamente antes de cada uso. Fuente: OSHA 29 CFR 1926 (Construction) & 29 CFR 1910 (General Industry). La seguridad no es negociable - las prácticas correctas protegen tu vida y la de otros. Las otras opciones son incorrectas: A) Solo si falla; C) Mensualmente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA 30", q: "¿Qué entrenamiento OSHA es obligatorio para supervisores en construcción?", options: ["OSHA 30 para supervisores", "OSHA 10 es suficiente", "Solo primeros auxilios", "Ninguno específico"], correct: 0, explanation: "OSHA recomienda OSHA 30 para supervisores y trabajadores con responsabilidades de seguridad. Fuente: OSHA 29 CFR 1926 (Construction) & 29 CFR 1910 (General Industry). La seguridad no es negociable - las prácticas correctas protegen tu vida y la de otros. Las otras opciones son incorrectas: B) OSHA 10 es suficiente; C) Solo primeros auxilios. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA 30", q: "Tu técnico trabaja solo en sitio remoto. ¿Qué procedimiento de seguridad necesitas?", options: ["GPS en vehículo", "Sistema de check-in, comunicación y procedimiento de emergencia", "Solo teléfono celular", "Ninguno especial"], correct: 1, explanation: "Trabajo solitario requiere procedimientos de comunicación regular y planes de emergencia documentados. Fuente: OSHA 29 CFR 1926 (Construction) & 29 CFR 1910 (General Industry). La seguridad no es negociable - las prácticas correctas protegen tu vida y la de otros. Las otras opciones son incorrectas: A) GPS en vehículo; C) Solo teléfono celular. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA 30", q: "¿Qué voltaje se considera de alto riesgo por OSHA?", options: ["Cualquier voltaje", "480 voltios o más", "120 voltios o más", "50 voltios o más"], correct: 3, explanation: "OSHA considera 50 voltios o más como potencialmente peligroso y requiere precauciones eléctricas. Fuente: OSHA 29 CFR 1926 (Construction) & 29 CFR 1910 (General Industry). La seguridad no es negociable - las prácticas correctas protegen tu vida y la de otros. Las otras opciones son incorrectas: A) Cualquier voltaje; B) 480 voltios o más. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA 30", q: "Empleado rehúsa usar arnés en altura. ¿Qué haces como dueño?", options: ["Ignorar si es experimentado", "Permitir si firma waiver", "Despedirlo inmediatamente", "Documentar, entrenar de nuevo, disciplina progresiva"], correct: 3, explanation: "Debes documentar la negativa, proporcionar entrenamiento adicional y aplicar disciplina progresiva. Fuente: OSHA 29 CFR 1926 (Construction) & 29 CFR 1910 (General Industry). La seguridad no es negociable - las prácticas correctas protegen tu vida y la de otros. Las otras opciones son incorrectas: A) Ignorar si es experimentado; B) Permitir si firma waiver. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA 30", q: "¿Qué es un Job Hazard Analysis (JHA) y cuándo lo necesitas?", options: ["Análisis de peligros para cada tarea - requerido para trabajos de alto riesgo", "Solo después de accidentes", "Documento anual", "Solo para trabajos nuevos"], correct: 0, explanation: "JHA identifica peligros y controles para tareas específicas, especialmente trabajos de alto riesgo. Fuente: OSHA 29 CFR 1926 (Construction) & 29 CFR 1910 (General Industry). La seguridad no es negociable - las prácticas correctas protegen tu vida y la de otros. Las otras opciones son incorrectas: B) Solo después de accidentes; C) Documento anual. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA 30", q: "¿Cuántos extintores necesitas en tu van de servicio?", options: ["Dos extintores", "Solo si transportas gas", "Ninguno requerido", "Mínimo uno tipo ABC de 5 lbs"], correct: 3, explanation: "Se recomienda mínimo un extintor ABC de 5 lbs en vehículos de servicio por seguridad. Fuente: OSHA 29 CFR 1926 (Construction) & 29 CFR 1910 (General Industry). La seguridad no es negociable - las prácticas correctas protegen tu vida y la de otros. Las otras opciones son incorrectas: A) Dos extintores; B) Solo si transportas gas. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA 30", q: "Incidente sin lesión pero con potencial de fatalidad. ¿Cómo lo manejas?", options: ["Reportar a OSHA", "Ignorar si nadie se lastimó", "Investigar como near-miss, documentar y corregir", "Solo verbal al empleado"], correct: 2, explanation: "Los near-misses deben investigarse para prevenir incidentes futuros - son oportunidades de aprendizaje. Fuente: OSHA 29 CFR 1926 (Construction) & 29 CFR 1910 (General Industry). La seguridad no es negociable - las prácticas correctas protegen tu vida y la de otros. Las otras opciones son incorrectas: A) Reportar a OSHA; B) Ignorar si nadie se lastimó. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA 30", q: "¿Qué es el factor de protección asignado (APF) de un respirador N95?", options: ["10", "5", "50", "100"], correct: 0, explanation: "N95 tiene APF de 10, significando que reduce exposición 10 veces si se usa correctamente. Fuente: OSHA 29 CFR 1926 (Construction) & 29 CFR 1910 (General Industry). La seguridad no es negociable - las prácticas correctas protegen tu vida y la de otros. Las otras opciones son incorrectas: B) 5; C) 50. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA 30", q: "Instalando unidad en área con posible plomo. ¿Qué precauciones?", options: ["Ninguna para HVAC", "Prueba de plomo, PPE apropiado, procedimientos de contención", "Solo máscara de polvo", "Trabajar rápido"], correct: 1, explanation: "Trabajo que disturba pintura con plomo requiere evaluación, PPE específico y procedimientos de contención. Fuente: OSHA 29 CFR 1926 (Construction) & 29 CFR 1910 (General Industry). La seguridad no es negociable - las prácticas correctas protegen tu vida y la de otros. Las otras opciones son incorrectas: A) Ninguna para HVAC; C) Solo máscara de polvo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA 30", q: "Tu empleado tiene certificación de montacargas vencida. ¿Puede operar?", options: ["No, debe recertificarse cada 3 años", "Sí, si es emergencia", "Sí, con supervisión", "Sí, si tiene experiencia"], correct: 0, explanation: "La certificación de montacargas debe renovarse cada 3 años o antes si hay incidentes o cambios. Fuente: OSHA 29 CFR 1926 (Construction) & 29 CFR 1910 (General Industry). La seguridad no es negociable - las prácticas correctas protegen tu vida y la de otros. Las otras opciones son incorrectas: B) Sí, si es emergencia; C) Sí, con supervisión. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA 30", q: "¿Qué temperatura ambiente requiere programa de prevención de calor?", options: ["80°F", "Solo en desierto", "90°F o índice de calor alto", "85°F"], correct: 2, explanation: "Cuando la temperatura o índice de calor supera 90°F, necesitas programa de prevención de enfermedades por calor. Fuente: OSHA 29 CFR 1926 (Construction) & 29 CFR 1910 (General Industry). La seguridad no es negociable - las prácticas correctas protegen tu vida y la de otros. Las otras opciones son incorrectas: A) 80°F; B) Solo en desierto. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA 30", q: "Empleado nuevo empieza mañana. ¿Qué entrenamiento de seguridad es obligatorio el primer día?", options: ["Puede esperar una semana", "Orientación de seguridad, peligros del sitio, PPE, emergencias", "Solo firmar políticas", "Entrenamiento en línea después"], correct: 1, explanation: "Empleados nuevos deben recibir orientación de seguridad antes de comenzar trabajo, incluyendo peligros específicos. Fuente: OSHA 29 CFR 1926 (Construction) & 29 CFR 1910 (General Industry). La seguridad no es negociable - las prácticas correctas protegen tu vida y la de otros. Las otras opciones son incorrectas: A) Puede esperar una semana; C) Solo firmar políticas. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 3: ADMINISTRACIÓN DE NEGOCIO (60 preguntas) ===
        { category: "Administración", q: "¿Qué licencia necesitas en California para hacer trabajo HVAC sobre $500?", options: ["Ninguna bajo $10,000", "Licencia C-20 HVAC de CSLB", "Solo registro de negocio", "Permiso de ciudad únicamente"], correct: 1, explanation: "California requiere licencia C-20 del Contractors State License Board para trabajo HVAC sobre $500. Fuente: ACCA Contractor Excellence & Small Business Administration (SBA) Guidelines. Un técnico exitoso también debe entender el lado de negocio. Las otras opciones son incorrectas: A) Ninguna bajo $10,000; C) Solo registro de negocio. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración", q: "¿Qué seguro mínimo necesitas como contratista HVAC en California?", options: ["Solo responsabilidad general", "Workers comp (si tienes empleados), responsabilidad general, y bonos", "Seguro de vida", "Auto comercial únicamente"], correct: 1, explanation: "Necesitas workers compensation para empleados, responsabilidad general mínima y bono de contratista. Fuente: ACCA Contractor Excellence & Small Business Administration (SBA) Guidelines. Un técnico exitoso también debe entender el lado de negocio. Las otras opciones son incorrectas: A) Solo responsabilidad general; C) Seguro de vida. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración", q: "Empleado se lesiona en el trabajo. ¿Qué cobertura aplica primero?", options: ["Su seguro personal", "Workers Compensation de tu compañía", "Responsabilidad general", "Medicare"], correct: 1, explanation: "Workers Compensation cubre lesiones laborales independientemente de culpa - es la cobertura primaria. Fuente: ACCA Contractor Excellence & Small Business Administration (SBA) Guidelines. Un técnico exitoso también debe entender el lado de negocio. Las otras opciones son incorrectas: A) Su seguro personal; C) Responsabilidad general. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración", q: "¿Cuánto es la prima típica de workers comp por $100 de nómina HVAC?", options: ["$10-15", "$20-25", "$2-3", "$5-8"], correct: 3, explanation: "La prima de workers comp para HVAC típicamente es $5-8 por cada $100 de nómina, dependiendo del historial. Fuente: ACCA Contractor Excellence & Small Business Administration (SBA) Guidelines. Un técnico exitoso también debe entender el lado de negocio. Las otras opciones son incorrectas: A) $10-15; B) $20-25. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración", q: "Cliente demanda por daño de agua de instalación. ¿Qué seguro responde?", options: ["Umbrella únicamente", "Auto comercial", "Workers comp", "Responsabilidad general (GL)"], correct: 3, explanation: "General Liability cubre daños a propiedad de terceros causados por tu trabajo. Fuente: ACCA Contractor Excellence & Small Business Administration (SBA) Guidelines. Un técnico exitoso también debe entender el lado de negocio. Las otras opciones son incorrectas: A) Umbrella únicamente; B) Auto comercial. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración", q: "¿Qué es un COI y cuándo lo necesitas?", options: ["Certificate of Insurance - prueba de seguro para clientes y GCs", "Contrato de trabajo", "Licencia de contratista", "Permiso de ciudad"], correct: 0, explanation: "COI (Certificate of Insurance) es prueba de tus coberturas de seguro, requerido por muchos clientes comerciales. Fuente: ACCA Contractor Excellence & Small Business Administration (SBA) Guidelines. Un técnico exitoso también debe entender el lado de negocio. Las otras opciones son incorrectas: B) Contrato de trabajo; C) Licencia de contratista. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración", q: "General contractor pide que lo agregues como additional insured. ¿Qué significa?", options: ["Él paga tu seguro", "Compartes primas", "Tu póliza lo cubre para trabajo relacionado a tu contrato", "No significa nada"], correct: 2, explanation: "Additional insured extiende tu cobertura de responsabilidad al GC para trabajo bajo ese contrato. Fuente: ACCA Contractor Excellence & Small Business Administration (SBA) Guidelines. Un técnico exitoso también debe entender el lado de negocio. Las otras opciones son incorrectas: A) Él paga tu seguro; B) Compartes primas. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración", q: "¿Cuál es tu obligación de retención de registros para impuestos?", options: ["1 año", "3 años", "Indefinido", "7 años"], correct: 3, explanation: "El IRS recomienda mantener registros de impuestos por 7 años para auditorías. Fuente: ACCA Contractor Excellence & Small Business Administration (SBA) Guidelines. Un técnico exitoso también debe entender el lado de negocio. Las otras opciones son incorrectas: A) 1 año; B) 3 años. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración", q: "Empleado quiere ser 1099 en lugar de W-2. ¿Es legal?", options: ["Solo para trabajo parcial", "No, la clasificación depende de la relación laboral, no preferencia", "Sí, si él prefiere", "Sí, si firma contrato"], correct: 1, explanation: "La clasificación de empleado vs contratista depende de factores IRS, no de preferencia del trabajador. Fuente: ACCA Contractor Excellence & Small Business Administration (SBA) Guidelines. Un técnico exitoso también debe entender el lado de negocio. Las otras opciones son incorrectas: A) Solo para trabajo parcial; C) Sí, si él prefiere. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración", q: "¿Qué prueba usarías para determinar si alguien es empleado o contratista?", options: ["Si trabaja tiempo completo", "Si tiene herramientas", "ABC test: A-control, B-fuera de negocio usual, C-negocio independiente", "Si quiere beneficios"], correct: 2, explanation: "El ABC test examina control, si el trabajo está fuera de tu negocio usual, y si tiene negocio independiente. Fuente: ACCA Contractor Excellence & Small Business Administration (SBA) Guidelines. Un técnico exitoso también debe entender el lado de negocio. Las otras opciones son incorrectas: A) Si trabaja tiempo completo; B) Si tiene herramientas. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración", q: "Pagaste a contratista $700 este año. ¿Necesitas emitir 1099?", options: ["Solo si él lo pide", "Sí, cualquier pago a contratista requiere 1099", "No, bajo $600 no requiere", "No, es para 1099-NEC $600+"], correct: 3, explanation: "Debes emitir 1099-NEC a contratistas que recibieron $600 o más durante el año. Fuente: ACCA Contractor Excellence & Small Business Administration (SBA) Guidelines. Un técnico exitoso también debe entender el lado de negocio. Las otras opciones son incorrectas: A) Solo si él lo pide; B) Sí, cualquier pago a contratista requiere 1099. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración", q: "¿Cuándo debes depositar impuestos de nómina retenidos?", options: ["Cuando quieras", "Anualmente", "Depende del monto - mensual o semi-semanal", "Trimestralmente"], correct: 2, explanation: "La frecuencia de depósito depende del monto total de impuestos - puede ser mensual o semi-semanal. Fuente: ACCA Contractor Excellence & Small Business Administration (SBA) Guidelines. Un técnico exitoso también debe entender el lado de negocio. Las otras opciones son incorrectas: A) Cuando quieras; B) Anualmente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración", q: "Empleado no se presentó a trabajar 3 días sin avisar. ¿Puedes despedirlo?", options: ["No sin advertencia escrita", "Sí, job abandonment después de 3 días típicamente", "Solo con aprobación de abogado", "No, necesitas 2 semanas"], correct: 1, explanation: "Job abandonment de 3+ días sin comunicación típicamente justifica terminación, pero documéntalo. Fuente: ACCA Contractor Excellence & Small Business Administration (SBA) Guidelines. Un técnico exitoso también debe entender el lado de negocio. Las otras opciones son incorrectas: A) No sin advertencia escrita; C) Solo con aprobación de abogado. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración", q: "¿Qué debe incluir un manual de empleados?", options: ["Lista de clientes", "Información técnica", "Solo horarios", "Políticas, procedimientos de seguridad, beneficios, disciplina, at-will statement"], correct: 3, explanation: "El manual debe incluir políticas claras, seguridad, beneficios, procedimientos disciplinarios y declaración at-will. Las otras opciones son incorrectas: A) Lista de clientes; B) Información técnica. Fuente: ACCA Contractor Excellence & Small Business Administration (SBA) Guidelines" },
        { category: "Administración", q: "California requiere que ofrezcas sick leave. ¿Cuánto mínimo?", options: ["24 horas/3 días por año mínimo", "2 semanas", "No es obligatorio", "1 semana"], correct: 0, explanation: "California requiere mínimo 24 horas o 3 días de sick leave pagado por año. Fuente: ACCA Contractor Excellence & Small Business Administration (SBA) Guidelines. Un técnico exitoso también debe entender el lado de negocio. Las otras opciones son incorrectas: B) 2 semanas; C) No es obligatorio. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración", q: "Empleado trabaja 10 horas en California. ¿Cómo pagas overtime?", options: ["10 horas regular si es su horario", "Solo después de 40/semana", "Todo tiempo regular", "8 horas regular, 2 horas a 1.5x"], correct: 3, explanation: "California requiere overtime (1.5x) después de 8 horas diarias, independiente del total semanal. Fuente: ACCA Contractor Excellence & Small Business Administration (SBA) Guidelines. Un técnico exitoso también debe entender el lado de negocio. Las otras opciones son incorrectas: A) 10 horas regular si es su horario; B) Solo después de 40/semana. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración", q: "¿Qué es prevailing wage y cuándo aplica?", options: ["Promedio de industria", "Salario mínimo federal", "Tu tarifa regular", "Salarios establecidos por el gobierno para proyectos públicos"], correct: 3, explanation: "Prevailing wage son tarifas mínimas requeridas en proyectos públicos o con fondos públicos. Fuente: ACCA Contractor Excellence & Small Business Administration (SBA) Guidelines. Un técnico exitoso también debe entender el lado de negocio. Las otras opciones son incorrectas: A) Promedio de industria; B) Salario mínimo federal. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración", q: "Tu empleado conduce la van de la compañía. ¿Qué verificas?", options: ["Nada si tiene experiencia", "Licencia válida, récord de manejo, seguro personal no necesario", "Ciudadanía", "Solo edad"], correct: 1, explanation: "Verifica licencia válida y récord de manejo periódicamente - MVR check es buena práctica. Fuente: ACCA Contractor Excellence & Small Business Administration (SBA) Guidelines. Un técnico exitoso también debe entender el lado de negocio. Las otras opciones son incorrectas: A) Nada si tiene experiencia; C) Ciudadanía. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración", q: "¿Cada cuánto debes pagar a empleados en California?", options: ["Mensualmente", "Mínimo dos veces al mes en días designados", "Cuando termina el trabajo", "Semanalmente obligatorio"], correct: 1, explanation: "California requiere pago mínimo semi-mensual en días establecidos de antemano. Fuente: ACCA Contractor Excellence & Small Business Administration (SBA) Guidelines. Un técnico exitoso también debe entender el lado de negocio. Las otras opciones son incorrectas: A) Mensualmente; C) Cuando termina el trabajo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración", q: "Empleado renuncia. ¿Cuándo debes dar su cheque final en California?", options: ["72 horas si no dio aviso, inmediato si dio 72+ horas de aviso", "30 días", "2 semanas", "Próximo día de pago regular"], correct: 0, explanation: "California requiere pago final en 72 horas sin aviso, o inmediatamente si dio 72+ horas de aviso. Fuente: ACCA Contractor Excellence & Small Business Administration (SBA) Guidelines. Un técnico exitoso también debe entender el lado de negocio. Las otras opciones son incorrectas: B) 30 días; C) 2 semanas. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 4: FINANZAS Y PRECIOS (50 preguntas) ===
        { category: "Finanzas", q: "¿Cuál es un margen de ganancia bruta saludable para servicio HVAC?", options: ["35-45%", "70-80%", "50-60%", "20-25%"], correct: 2, explanation: "Un margen bruto de 50-60% es típico para servicio HVAC para cubrir overhead y generar ganancia neta. Fuente: ACCA Financial Management for HVAC Contractors. Entender finanzas te permite tomar mejores decisiones de negocio. Las otras opciones son incorrectas: A) 35-45%; B) 70-80%. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas", q: "Tu costo de labor más overhead es $85/hora. ¿Cuál debe ser tu tarifa mínima?", options: ["$85/hora", "$100-110/hora", "$150-170/hora", "$200/hora"], correct: 2, explanation: "Multiplica costo por 1.75-2x para cubrir ganancia, contingencias y crecimiento. Fuente: ACCA Financial Management for HVAC Contractors. Entender finanzas te permite tomar mejores decisiones de negocio. Las otras opciones son incorrectas: A) $85/hora; B) $100-110/hora. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas", q: "¿Qué porcentaje de ingresos debe ir a nómina total en compañía de servicio?", options: ["30-35%", "20-25%", "40-50%", "55-65%"], correct: 2, explanation: "Labor total (incluyendo burden) típicamente es 40-50% de ingresos en servicio HVAC. Fuente: ACCA Financial Management for HVAC Contractors. Entender finanzas te permite tomar mejores decisiones de negocio. Las otras opciones son incorrectas: A) 30-35%; B) 20-25%. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas", q: "¿Qué es 'burden rate' en labor?", options: ["Salario base", "Comisiones", "Costo adicional sobre salario: impuestos, seguros, beneficios", "Overtime solamente"], correct: 2, explanation: "Burden incluye impuestos de empleador, workers comp, beneficios - típicamente 20-35% adicional. Fuente: ACCA Financial Management for HVAC Contractors. Entender finanzas te permite tomar mejores decisiones de negocio. Las otras opciones son incorrectas: A) Salario base; B) Comisiones. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas", q: "Técnico gana $30/hora. Con burden de 30%, ¿cuál es tu costo real por hora?", options: ["$33", "$39", "$45", "$30"], correct: 1, explanation: "$30 × 1.30 = $39/hora costo total real incluyendo impuestos y beneficios. Fuente: ACCA Financial Management for HVAC Contractors. Entender finanzas te permite tomar mejores decisiones de negocio. Las otras opciones son incorrectas: A) $33; C) $45. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas", q: "¿Qué es flat rate pricing y cuál es su ventaja principal?", options: ["Descuento por volumen", "Precio fijo por trabajo - cliente sabe costo antes, incentiva eficiencia", "Precio por material", "Cobrar por hora"], correct: 1, explanation: "Flat rate da certeza al cliente y te permite ganar más siendo eficiente. Fuente: ACCA Financial Management for HVAC Contractors. Entender finanzas te permite tomar mejores decisiones de negocio. Las otras opciones son incorrectas: A) Descuento por volumen; C) Precio por material. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas", q: "Tu cuenta por cobrar promedio es 45 días. ¿Cómo mejoras cash flow?", options: ["Subir precios", "Reducir trabajo", "Ignorar, es normal", "Ofrecer descuento por pago inmediato, cobrar depósitos, términos más estrictos"], correct: 3, explanation: "Reduce días de cobro con incentivos, depósitos en proyectos grandes y seguimiento activo. Fuente: ACCA Financial Management for HVAC Contractors. Entender finanzas te permite tomar mejores decisiones de negocio. Las otras opciones son incorrectas: A) Subir precios; B) Reducir trabajo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas", q: "¿Cuánto capital de trabajo necesitas para operar un mes?", options: ["Solo para nómina", "Mínimo 1-2 meses de gastos operativos", "1 semana de gastos", "Nada si hay crédito"], correct: 1, explanation: "Mantén mínimo 1-2 meses de gastos operativos en efectivo para contingencias. Fuente: ACCA Financial Management for HVAC Contractors. Entender finanzas te permite tomar mejores decisiones de negocio. Las otras opciones son incorrectas: A) Solo para nómina; C) 1 semana de gastos. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas", q: "¿Qué es break-even point y cómo lo calculas?", options: ["Precio más bajo posible", "Costos fijos ÷ margen de contribución = ingresos mínimos para no perder", "Punto de reinversión", "Cuando tienes ganancia"], correct: 1, explanation: "Break-even es donde ingresos cubren exactamente todos los costos, sin ganancia ni pérdida. Fuente: ACCA Financial Management for HVAC Contractors. Entender finanzas te permite tomar mejores decisiones de negocio. Las otras opciones son incorrectas: A) Precio más bajo posible; C) Punto de reinversión. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas", q: "Tienes $50,000 en costos fijos mensuales y 55% margen bruto. ¿Cuál es tu break-even?", options: ["$100,000", "$90,909", "$75,000", "$50,000"], correct: 1, explanation: "$50,000 ÷ 0.55 = $90,909 en ventas mensuales para alcanzar break-even. Fuente: ACCA Financial Management for HVAC Contractors. Entender finanzas te permite tomar mejores decisiones de negocio. Las otras opciones son incorrectas: A) $100,000; C) $75,000. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas", q: "¿Cuándo debes usar financiamiento para clientes?", options: ["Nunca", "Para proyectos grandes donde el cliente no puede pagar de contado", "Solo nuevos clientes", "Siempre"], correct: 1, explanation: "Financiamiento ayuda a cerrar ventas grandes y ofrecer opciones al cliente. Fuente: ACCA Financial Management for HVAC Contractors. Entender finanzas te permite tomar mejores decisiones de negocio. Las otras opciones son incorrectas: A) Nunca; C) Solo nuevos clientes. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas", q: "Cliente quiere descuento del 20% en instalación. Tu margen es 45%. ¿Puedes hacerlo?", options: ["Sí, todavía hay ganancia", "Dar 10% máximo", "Nunca dar descuentos", "Solo si reduce margen a nivel aceptable - analiza el deal completo"], correct: 3, explanation: "20% de descuento en precio no es 20% de margen perdido. Calcula el impacto real en ganancia. Fuente: ACCA Financial Management for HVAC Contractors. Entender finanzas te permite tomar mejores decisiones de negocio. Las otras opciones son incorrectas: A) Sí, todavía hay ganancia; B) Dar 10% máximo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas", q: "¿Qué es job costing y por qué es importante?", options: ["Seguimiento de costos reales por trabajo vs estimado para mejorar pricing", "Precio al cliente", "Estimado inicial", "Costo de materiales"], correct: 0, explanation: "Job costing compara costos reales vs estimados para identificar problemas y mejorar futuros estimados. Fuente: ACCA Financial Management for HVAC Contractors. Entender finanzas te permite tomar mejores decisiones de negocio. Las otras opciones son incorrectas: B) Precio al cliente; C) Estimado inicial. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas", q: "Tu install típico estima 8 horas pero toma 12. ¿Qué indica?", options: ["Cobra más horas", "Estimados incorrectos, dificultades no previstas, o ineficiencia - investiga patrón", "Técnicos lentos", "Normal en installs"], correct: 1, explanation: "Variación consistente indica problema de estimación o ejecución que necesita análisis. Fuente: ACCA Financial Management for HVAC Contractors. Entender finanzas te permite tomar mejores decisiones de negocio. Las otras opciones son incorrectas: A) Cobra más horas; C) Técnicos lentos. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas", q: "¿Cuál es un buen ratio de service calls completados por técnico por día?", options: ["4-6", "2-3", "12+", "8-10"], correct: 0, explanation: "4-6 calls por día es típico para service dependiendo del tipo de trabajo y área de servicio. Fuente: ACCA Financial Management for HVAC Contractors. Entender finanzas te permite tomar mejores decisiones de negocio. Las otras opciones son incorrectas: B) 2-3; C) 12+. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas", q: "¿Cómo calculas el valor de un cliente de maintenance agreement?", options: ["No se puede calcular", "Lifetime value: años × ingreso anual incluyendo repairs y referidos", "Primer año únicamente", "Precio anual solo"], correct: 1, explanation: "Customer lifetime value considera todos los ingresos durante la relación, no solo el contrato. Fuente: ACCA Financial Management for HVAC Contractors. Entender finanzas te permite tomar mejores decisiones de negocio. Las otras opciones son incorrectas: A) No se puede calcular; C) Primer año únicamente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas", q: "¿Qué es revenue per employee y qué es un buen número en HVAC?", options: ["$150,000-200,000+ por empleado indica eficiencia", "Ventas totales", "No es métrica útil", "Solo aplica a técnicos"], correct: 0, explanation: "Revenue per employee de $150,000-200,000+ indica compañía eficiente. Fuente: ACCA Financial Management for HVAC Contractors. Entender finanzas te permite tomar mejores decisiones de negocio. Las otras opciones son incorrectas: B) Ventas totales; C) No es métrica útil. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas", q: "Tu P&L muestra pérdida pero hay efectivo. ¿Cómo es posible?", options: ["Error contable", "Robo", "Imposible", "Diferencias de timing: depreciación, cuentas por cobrar, etc."], correct: 3, explanation: "Cash y profit son diferentes - puedes tener efectivo de cobros pero pérdida contable por gastos timing. Fuente: ACCA Financial Management for HVAC Contractors. Entender finanzas te permite tomar mejores decisiones de negocio. Las otras opciones son incorrectas: A) Error contable; B) Robo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas", q: "¿Cuál es mejor: facturar $1M con 5% ganancia neta o $600K con 15% ganancia neta?", options: ["$1M siempre", "$600K genera más ganancia real ($90K vs $50K)", "Son iguales", "Depende del cash flow"], correct: 1, explanation: "$600K × 15% = $90K vs $1M × 5% = $50K. El volumen sin profit no es mejor. Fuente: ACCA Financial Management for HVAC Contractors. Entender finanzas te permite tomar mejores decisiones de negocio. Las otras opciones son incorrectas: A) $1M siempre; C) Son iguales. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas", q: "¿Qué porcentaje de ingresos típicamente es marketing en compañía de servicio HVAC?", options: ["15-20%", "25%+", "3-8%", "1-2%"], correct: 2, explanation: "Marketing típicamente es 3-8% de ingresos, más alto para compañías en crecimiento. Fuente: ACCA Financial Management for HVAC Contractors. Entender finanzas te permite tomar mejores decisiones de negocio. Las otras opciones son incorrectas: A) 15-20%; B) 25%+. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 5: GESTIÓN DE PERSONAL (50 preguntas) ===
        { category: "Gestión Personal", q: "Técnico llega tarde consistentemente pero es tu mejor técnico. ¿Cómo manejas?", options: ["Despedirlo como ejemplo", "Cambiar su horario", "Ignorar porque es bueno", "Conversación privada, expectativas claras, disciplina progresiva igual que otros"], correct: 3, explanation: "Las reglas aplican igual para todos. Trata el problema directamente manteniendo consistencia. Fuente: The 7 Habits of Highly Effective People, Stephen Covey. Tu desarrollo personal impacta directamente tu éxito profesional. Las otras opciones son incorrectas: A) Despedirlo como ejemplo; B) Cambiar su horario. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Gestión Personal", q: "¿Cuál es la mejor manera de dar feedback negativo a un empleado?", options: ["En privado, específico, enfocado en comportamiento, con plan de mejora", "Esperar la revisión anual", "En público para que otros aprendan", "Por texto o email"], correct: 0, explanation: "Feedback correctivo siempre en privado, específico al comportamiento, no a la persona. Fuente: The 7 Habits of Highly Effective People, Stephen Covey. Tu desarrollo personal impacta directamente tu éxito profesional. Las otras opciones son incorrectas: B) Esperar la revisión anual; C) En público para que otros aprendan. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Gestión Personal", q: "Empleado solicita aumento. ¿Cómo evalúas si es justificado?", options: ["Esperar que amenace con irse", "Siempre decir no primero", "Comparar con mercado, evaluar desempeño, contribución y potencial", "Dar lo que pide para retenerlo"], correct: 2, explanation: "Evalúa objetivamente: mercado, desempeño, contribución a la compañía y presupuesto. Fuente: The 7 Habits of Highly Effective People, Stephen Covey. Tu desarrollo personal impacta directamente tu éxito profesional. Las otras opciones son incorrectas: A) Esperar que amenace con irse; B) Siempre decir no primero. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Gestión Personal", q: "¿Cada cuánto debes hacer revisiones de desempeño formales?", options: ["Solo cuando hay problemas", "Cada 2 años", "Mínimo anualmente, preferible semestralmente", "No son necesarias en compañías pequeñas"], correct: 2, explanation: "Revisiones regulares documentan desempeño y dan oportunidad de feedback estructurado. Fuente: The 7 Habits of Highly Effective People, Stephen Covey. Tu desarrollo personal impacta directamente tu éxito profesional. Las otras opciones son incorrectas: A) Solo cuando hay problemas; B) Cada 2 años. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Gestión Personal", q: "¿Qué debe incluir una descripción de puesto efectiva?", options: ["Responsabilidades, requisitos, KPIs, estructura de reporte, compensación", "Solo título y salario", "Lo que el empleado quiera hacer", "Lista de tareas básicas"], correct: 0, explanation: "Descripciones claras establecen expectativas y facilitan evaluación de desempeño. Fuente: The 7 Habits of Highly Effective People, Stephen Covey. Tu desarrollo personal impacta directamente tu éxito profesional. Las otras opciones son incorrectas: B) Solo título y salario; C) Lo que el empleado quiera hacer. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Gestión Personal", q: "¿Cuál es el costo típico de reemplazar un técnico experimentado?", options: ["Solo el salario de reclutamiento", "50-200% del salario anual contando reclutamiento, entrenamiento, productividad perdida", "Un mes de salario", "Nada significativo"], correct: 1, explanation: "El costo real de turnover incluye reclutamiento, entrenamiento y pérdida de productividad. Fuente: The 7 Habits of Highly Effective People, Stephen Covey. Tu desarrollo personal impacta directamente tu éxito profesional. Las otras opciones son incorrectas: A) Solo el salario de reclutamiento; C) Un mes de salario. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Gestión Personal", q: "Dos técnicos tienen conflicto personal que afecta el trabajo. ¿Qué haces?", options: ["Separarlos permanentemente", "Despedir a uno", "Ignorar si hacen su trabajo", "Reunión privada con cada uno, luego juntos si necesario, enfoque en solución"], correct: 3, explanation: "Aborda conflictos directamente antes que escalen, enfocándote en comportamiento profesional. Fuente: The 7 Habits of Highly Effective People, Stephen Covey. Tu desarrollo personal impacta directamente tu éxito profesional. Las otras opciones son incorrectas: A) Separarlos permanentemente; B) Despedir a uno. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Gestión Personal", q: "¿Cómo estructuras compensación para incentivar productividad?", options: ["Comisión pura", "Solo salario por hora", "Base competitiva + bonos por desempeño, spiffs, comisiones donde aplique", "Igual para todos sin importar desempeño"], correct: 2, explanation: "Combinación de base estable más incentivos alinea intereses del empleado con la compañía. Fuente: The 7 Habits of Highly Effective People, Stephen Covey. Tu desarrollo personal impacta directamente tu éxito profesional. Las otras opciones son incorrectas: A) Comisión pura; B) Solo salario por hora. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Gestión Personal", q: "Técnico quiere capacitación en refrigeración comercial. ¿Cómo decides?", options: ["Solo si él paga", "Evaluar ROI: necesidad del negocio, compromiso del empleado, costo vs beneficio", "Siempre aprobar todo training", "Nunca invertir en empleados"], correct: 1, explanation: "Invierte en capacitación que beneficie al negocio con empleados comprometidos. Fuente: The 7 Habits of Highly Effective People, Stephen Covey. Tu desarrollo personal impacta directamente tu éxito profesional. Las otras opciones son incorrectas: A) Solo si él paga; C) Siempre aprobar todo training. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Gestión Personal", q: "¿Qué es un 'stay interview' y por qué hacerlo?", options: ["Revisión de desempeño", "Conversación con empleados actuales para entender qué los mantiene y qué mejorar", "Entrevista de contratación", "Entrevista de salida"], correct: 1, explanation: "Stay interviews identifican problemas antes que el empleado decida irse. Fuente: The 7 Habits of Highly Effective People, Stephen Covey. Tu desarrollo personal impacta directamente tu éxito profesional. Las otras opciones son incorrectas: A) Revisión de desempeño; C) Entrevista de contratación. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Gestión Personal", q: "Tu técnico senior no quiere entrenar a los nuevos. ¿Cómo lo motivas?", options: ["Explicar beneficio para él (menos carga futura), reconocimiento, posible compensación", "Obligarlo sin discusión", "No es su responsabilidad", "Contratar trainer externo"], correct: 0, explanation: "Conecta el entrenamiento con beneficios para él y reconocimiento apropiado. Fuente: The 7 Habits of Highly Effective People, Stephen Covey. Tu desarrollo personal impacta directamente tu éxito profesional. Las otras opciones son incorrectas: B) Obligarlo sin discusión; C) No es su responsabilidad. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Gestión Personal", q: "¿Cuántas advertencias antes de despedir por desempeño pobre?", options: ["Una es suficiente", "5 mínimo", "Ninguna necesaria", "Típicamente 2-3 advertencias documentadas con oportunidad de mejora"], correct: 3, explanation: "Disciplina progresiva documentada protege legalmente y da oportunidad genuina de mejora. Fuente: The 7 Habits of Highly Effective People, Stephen Covey. Tu desarrollo personal impacta directamente tu éxito profesional. Las otras opciones son incorrectas: A) Una es suficiente; B) 5 mínimo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Gestión Personal", q: "Empleado publica comentarios negativos de la compañía en redes sociales. ¿Qué haces?", options: ["Despedirlo inmediatamente", "Ignorar", "Responder públicamente", "Evaluar si viola política, conversación privada, documentar"], correct: 3, explanation: "Aborda según política de social media, documenta pero no reacciones impulsivamente. Fuente: The 7 Habits of Highly Effective People, Stephen Covey. Tu desarrollo personal impacta directamente tu éxito profesional. Las otras opciones son incorrectas: A) Despedirlo inmediatamente; B) Ignorar. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Gestión Personal", q: "¿Cómo manejas un técnico que es bueno técnicamente pero malo con clientes?", options: ["Aceptar que no todos son buenos con gente", "Entrenamiento en servicio al cliente, coaching, asignar a trabajos apropiados", "Despedirlo", "Solo trabajo comercial"], correct: 1, explanation: "Invierte en desarrollar habilidades blandas mientras aprovechas fortalezas técnicas. Fuente: The 7 Habits of Highly Effective People, Stephen Covey. Tu desarrollo personal impacta directamente tu éxito profesional. Las otras opciones son incorrectas: A) Aceptar que no todos son buenos con gente; C) Despedirlo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Gestión Personal", q: "¿Cuál es la mejor fuente de reclutamiento para técnicos HVAC?", options: ["Esperar que apliquen", "Agencias de empleo", "Solo anuncios en línea", "Combinación: referidos de empleados, escuelas técnicas, redes, presencia digital"], correct: 3, explanation: "Referidos de empleados actuales típicamente producen mejores candidatos y retención. Fuente: The 7 Habits of Highly Effective People, Stephen Covey. Tu desarrollo personal impacta directamente tu éxito profesional. Las otras opciones son incorrectas: A) Esperar que apliquen; B) Agencias de empleo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 6: TÉCNICO RESIDENCIAL AVANZADO (60 preguntas) ===
        { category: "Residencial Avanzado", q: "Sistema split de 3 ton tiene superheat de 25°F y subcooling de 3°F. ¿Diagnóstico?", options: ["Sistema normal", "Carga baja de refrigerante - fuga probable", "Sobrecarga de refrigerante", "TXV fallando abierta"], correct: 1, explanation: "Superheat alto + subcooling bajo indica carga baja. Busca fugas antes de agregar refrigerante. Fuente: ACCA Manual J, S, D & Residential Load Calculations. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Sistema normal; C) Sobrecarga de refrigerante. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Avanzado", q: "Furnace de gas no enciende. Inducer funciona, no hay ignición. ¿Secuencia de diagnóstico?", options: ["Verificar pressure switch, ignitor, válvula de gas, secuencia de control", "Revisar termostato", "Limpiar burners únicamente", "Cambiar módulo de ignición"], correct: 0, explanation: "Sigue la secuencia: inducer → pressure switch → ignitor → válvula de gas → flame sensor. Fuente: ACCA Manual J, S, D & Residential Load Calculations. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Revisar termostato; C) Limpiar burners únicamente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Avanzado", q: "Heat pump no calienta bien a 35°F exterior. Presiones normales. ¿Qué verificas?", options: ["Defrost funcionando, auxiliary heat, airflow, reversing valve", "Normal para heat pump", "Cambiar compresor", "Solo agregar refrigerante"], correct: 0, explanation: "Verifica defrost, aux heat strips, flujo de aire y operación de válvula reversible. Fuente: ACCA Manual J, S, D & Residential Load Calculations. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Normal para heat pump; C) Cambiar compresor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Avanzado", q: "Mini split muestra código E6. ¿Qué sistema tiene problema típicamente?", options: ["Fan motor", "Refrigerante", "Compresor", "Comunicación entre unidades indoor/outdoor"], correct: 3, explanation: "E6 típicamente indica error de comunicación. Verifica cableado, conexiones y tarjetas. Fuente: ACCA Manual J, S, D & Residential Load Calculations. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Fan motor; B) Refrigerante. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Avanzado", q: "Capacitor de arranque mide 85 microfaradios. Rating es 60±6%. ¿Está bien?", options: ["No, está 42% sobre rating - reemplazar", "Solo importa si no arranca", "Sí, está dentro de rango", "Necesita prueba de carga"], correct: 0, explanation: "85 vs 60 = 42% sobre rating. Máximo es ±6%, definitivamente hay que reemplazar. Fuente: ACCA Manual J, S, D & Residential Load Calculations. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Solo importa si no arranca; C) Sí, está dentro de rango. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Avanzado", q: "Delta T del evaporador es 14°F. ¿Es aceptable?", options: ["No, muy alto", "Sí, rango típico es 14-22°F", "No, muy bajo", "Depende del refrigerante"], correct: 1, explanation: "Delta T de 14-22°F es típico para A/C residencial en condiciones normales. Fuente: ACCA Manual J, S, D & Residential Load Calculations. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) No, muy alto; C) No, muy bajo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Avanzado", q: "Compresor arranca pero se apaga en 5 segundos con click. ¿Problema más probable?", options: ["Bajo refrigerante", "Contactor", "Interno overload por problema eléctrico o mecánico", "Termostato"], correct: 2, explanation: "Click después de unos segundos indica overload interno por alto amperaje o problema mecánico. Fuente: ACCA Manual J, S, D & Residential Load Calculations. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Bajo refrigerante; B) Contactor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Avanzado", q: "Sistema residencial con presión de succión de 50 PSI con R-410A. ¿Normal?", options: ["No, muy alto", "No, muy bajo (debería ser 110-130)", "Sí, es correcto", "Depende de la temperatura"], correct: 1, explanation: "R-410A succión normal es 110-130 PSI. 50 PSI indica problema serio - restricción o carga muy baja. Fuente: ACCA Manual J, S, D & Residential Load Calculations. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) No, muy alto; C) Sí, es correcto. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Avanzado", q: "¿Cuál es el procedimiento correcto para agregar refrigerante a sistema con TXV?", options: ["Por superheat hasta que baje", "Por subcooling al valor del fabricante", "Por presión únicamente", "Cualquier método funciona"], correct: 1, explanation: "Sistemas con TXV se cargan por subcooling porque la TXV controla superheat automáticamente. Fuente: ACCA Manual J, S, D & Residential Load Calculations. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Por superheat hasta que baje; C) Por presión únicamente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Avanzado", q: "Furnace de 80% vs 95% eficiencia. ¿Cuál es la diferencia principal de instalación?", options: ["No hay diferencia", "Mismo ducto de gas", "95% requiere drenaje de condensado y venteo PVC", "Solo el precio"], correct: 2, explanation: "Furnaces de alta eficiencia producen condensado y usan PVC para venteo porque gases son más fríos. Fuente: ACCA Manual J, S, D & Residential Load Calculations. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) No hay diferencia; B) Mismo ducto de gas. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Avanzado", q: "Evaporador congelado hasta la línea de succión. ¿Causas principales?", options: ["Flujo de aire bajo, carga baja, metering device, o operación en frío", "TXV muy abierta", "Demasiado refrigerante", "Solo bajo refrigerante"], correct: 0, explanation: "Evaporador congelado: flujo de aire reducido, carga baja, restricción en metering, o temp ambiente baja. Fuente: ACCA Manual J, S, D & Residential Load Calculations. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) TXV muy abierta; C) Demasiado refrigerante. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Avanzado", q: "¿Cada cuánto debes cambiar filtro deshidratador en sistema residencial?", options: ["Nunca", "Solo durante reparación mayor o cuando hay humedad/ácido", "Cada 5 años", "Cada año"], correct: 1, explanation: "Filtros deshidratadores se cambian cuando el sistema se abre, hay burnout, o hay contaminación. Fuente: ACCA Manual J, S, D & Residential Load Calculations. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Nunca; C) Cada 5 años. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Avanzado", q: "Sistema nuevo instalado. ¿A qué nivel de vacío debes evacuar?", options: ["500 micrones o menos", "20 inches Hg", "15 inches Hg", "0 PSI es suficiente"], correct: 0, explanation: "Para sistemas nuevos, evacua a 500 micrones o menos para eliminar humedad adecuadamente. Fuente: ACCA Manual J, S, D & Residential Load Calculations. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) 20 inches Hg; C) 15 inches Hg. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Avanzado", q: "Válvula reversible de heat pump no cambia de modo. ¿Cómo diagnosticas?", options: ["Revisar termostato primero", "Verificar voltaje en solenoide, si hay voltaje la válvula está atascada", "Agregar refrigerante", "Reemplazar válvula"], correct: 1, explanation: "Si la bobina tiene 24V pero no cambia, la válvula está atascada. Intenta cycling o reemplazo. Fuente: ACCA Manual J, S, D & Residential Load Calculations. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Revisar termostato primero; C) Agregar refrigerante. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Avanzado", q: "Blower motor ECM muestra luces de error. ¿Primer paso?", options: ["Limpiar motor", "Revisar capacitor", "Verificar código específico, voltaje de entrada, y comunicación", "Reemplazar motor"], correct: 2, explanation: "Los motores ECM tienen códigos de diagnóstico. Identifica el código antes de asumir falla del motor. Fuente: ACCA Manual J, S, D & Residential Load Calculations. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Limpiar motor; B) Revisar capacitor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Avanzado", q: "Gas furnace tiene flames amarillas/naranjas. ¿Qué indica?", options: ["Muy poco gas", "Normal en ignición", "Combustión perfecta", "Combustión incompleta - posible CO, requiere ajuste o limpieza"], correct: 3, explanation: "Flamas azules indican combustión correcta. Amarillo/naranja = combustión incompleta, peligro de CO. Fuente: ACCA Manual J, S, D & Residential Load Calculations. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Muy poco gas; B) Normal en ignición. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Avanzado", q: "¿Cuál es la presión de gas natural correcta en manifold de furnace?", options: ["1.5 WC", "11 WC", "3.5 WC típico", "7 WC"], correct: 2, explanation: "Gas natural en manifold típicamente 3.5 inches WC. Propano es más alto, ~10-11 WC. Fuente: ACCA Manual J, S, D & Residential Load Calculations. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) 1.5 WC; B) 11 WC. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Avanzado", q: "Cliente quiere ductos nuevos. ¿Qué necesitas para dimensionar correctamente?", options: ["Medir ductos existentes", "Solo el tamaño del equipo", "Manual D usando carga Manual J, considerando fricción y velocidad", "Estimar por pies cuadrados"], correct: 2, explanation: "Manual D requiere carga calculada (Manual J) y considera pérdida de fricción y velocidad de aire. Fuente: ACCA Manual J, S, D & Residential Load Calculations. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Medir ductos existentes; B) Solo el tamaño del equipo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Avanzado", q: "Sistema split funciona pero hace ruido de burbujeo en líneas. ¿Causa?", options: ["Normal", "Compresor fallando", "Demasiado refrigerante", "Carga baja causando flash gas en línea de líquido"], correct: 3, explanation: "Burbujeo indica refrigerante flasheando a gas donde debería ser líquido - típicamente carga baja. Fuente: ACCA Manual J, S, D & Residential Load Calculations. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Normal; B) Compresor fallando. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Avanzado", q: "Condensadora hace ruido pero compresor no arranca. Fan funciona. ¿Diagnóstico?", options: ["Reemplazar unidad", "Verificar capacitor, contactor de compresor, overload, y voltaje", "Agregar hard start", "Compresor quemado seguro"], correct: 1, explanation: "Fan funcionando significa hay poder. Verifica circuito de compresor: capacitor, contactor, overload. Fuente: ACCA Manual J, S, D & Residential Load Calculations. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Reemplazar unidad; C) Agregar hard start. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 7: TÉCNICO COMERCIAL AVANZADO (60 preguntas) ===
        { category: "Comercial Avanzado", q: "Rooftop de 10 ton tiene economizer que no abre. ¿Secuencia de diagnóstico?", options: ["Revisar refrigerante", "Reemplazar economizer", "Desactivar economizer", "Verificar sensor OAT, enthalpy, actuador, controlador, y secuencia"], correct: 3, explanation: "Diagnostica sistemáticamente: sensores, actuador, controlador, señales, antes de reemplazar. Fuente: Trane Engineers Newsletter & ASHRAE Journal Technical Articles. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Revisar refrigerante; B) Reemplazar economizer. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Avanzado", q: "Sistema VRF muestra múltiples unidades con bajo rendimiento. ¿Qué sospechas primero?", options: ["Filtros sucios", "Problema en unidad exterior o distribución de refrigerante", "Termostatos", "Todas las unidades malas"], correct: 1, explanation: "Múltiples unidades afectadas indica problema central - outdoor unit o sistema de distribución. Fuente: Trane Engineers Newsletter & ASHRAE Journal Technical Articles. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Filtros sucios; C) Termostatos. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Avanzado", q: "Chiller de 200 ton tiene approach temperature de 5°F en evaporador. ¿Es normal?", options: ["No, muy alto", "Sí, 2-5°F es típico para evaporador", "No, muy bajo", "Depende del tipo"], correct: 1, explanation: "Approach de 2-5°F en evaporador es típico. Más alto indica tubos sucios o flujo reducido. Fuente: Trane Engineers Newsletter & ASHRAE Journal Technical Articles. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) No, muy alto; C) No, muy bajo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Avanzado", q: "Sistema de agua helada tiene delta T de 6°F en lugar de 10°F. ¿Indica?", options: ["Flujo excesivo, válvulas mal ajustadas, o bypass", "Carga alta", "Sistema eficiente", "Normal con VFD"], correct: 0, explanation: "Delta T bajo significa agua pasando muy rápido o no absorbiendo suficiente calor. Fuente: Trane Engineers Newsletter & ASHRAE Journal Technical Articles. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Carga alta; C) Sistema eficiente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Avanzado", q: "¿Cuál es el propósito de un Variable Frequency Drive (VFD) en AHU?", options: ["Arranque suave únicamente", "Protección del motor", "Variar velocidad del fan para ahorrar energía según demanda", "Corrección de factor de potencia"], correct: 2, explanation: "VFDs ajustan velocidad del motor según demanda, ahorrando energía significativamente. Fuente: Trane Engineers Newsletter & ASHRAE Journal Technical Articles. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Arranque suave únicamente; B) Protección del motor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Avanzado", q: "Cooling tower tiene scale buildup severo. ¿Consecuencias?", options: ["Reduce transferencia de calor, aumenta presión de cabeza, desperdicia energía", "Solo afecta vida del equipo", "Solo estético", "Mejora flujo"], correct: 0, explanation: "Scale actúa como aislante, reduciendo eficiencia y aumentando consumo de energía. Fuente: Trane Engineers Newsletter & ASHRAE Journal Technical Articles. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Solo afecta vida del equipo; C) Solo estético. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Avanzado", q: "Sistema BAS muestra alarma de 'low superheat' en compresor. ¿Preocupación?", options: ["Normal en clima frío", "Riesgo de liquid slugging - investigar inmediatamente", "Significa alta eficiencia", "Solo informativo"], correct: 1, explanation: "Superheat bajo significa líquido puede regresar al compresor causando daño mecánico. Fuente: Trane Engineers Newsletter & ASHRAE Journal Technical Articles. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Normal en clima frío; C) Significa alta eficiencia. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Avanzado", q: "¿Qué es demand controlled ventilation (DCV) y cuándo usarlo?", options: ["Ajustar ventilación según ocupación usando CO2 o sensores - espacios con ocupación variable", "Cerrar dampers completamente", "Solo para laboratorios", "Fan siempre encendido"], correct: 0, explanation: "DCV ajusta aire exterior según ocupación real, ahorrando energía en espacios con ocupación variable. Fuente: Trane Engineers Newsletter & ASHRAE Journal Technical Articles. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Cerrar dampers completamente; C) Solo para laboratorios. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Avanzado", q: "Package unit no alcanza setpoint. Presiones normales, airflow bajo. ¿Causa probable?", options: ["Belt roto/deslizando, filtros sucios, dampers cerrados, o motor de fan", "Compresor débil", "TXV restringida", "Bajo refrigerante"], correct: 0, explanation: "Airflow bajo con presiones normales = problema mecánico de airflow, no de refrigeración. Fuente: Trane Engineers Newsletter & ASHRAE Journal Technical Articles. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Compresor débil; C) TXV restringida. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Avanzado", q: "¿Cuál es el CFM por ton típico para sistemas comerciales?", options: ["350-450 CFM/ton", "200 CFM/ton", "600 CFM/ton", "Varía mucho"], correct: 0, explanation: "350-450 CFM por ton es el rango típico para equipos comerciales standard. Fuente: Trane Engineers Newsletter & ASHRAE Journal Technical Articles. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) 200 CFM/ton; C) 600 CFM/ton. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Avanzado", q: "Sistema VAV tiene zona que siempre está fría. Box VAV está al mínimo. ¿Solución?", options: ["Cerrar box completamente", "Aumentar mínimo del box", "Agregar calentador", "Verificar sensor de zona, rebalancear, o ajustar setpoints de zona"], correct: 3, explanation: "Verifica que sensor lea correctamente y que setpoints de zona sean apropiados antes de cambiar box. Fuente: Trane Engineers Newsletter & ASHRAE Journal Technical Articles. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Cerrar box completamente; B) Aumentar mínimo del box. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Avanzado", q: "¿Qué es commissioning y por qué es importante en proyectos comerciales?", options: ["Solo requerido por código", "Prender el equipo", "Verificación sistemática de que sistemas operan según diseño e intención", "Responsabilidad del cliente"], correct: 2, explanation: "Commissioning verifica que todos los sistemas funcionen correctamente y según especificaciones. Fuente: Trane Engineers Newsletter & ASHRAE Journal Technical Articles. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo requerido por código; B) Prender el equipo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Avanzado", q: "Compresor scroll comercial haciendo ruido anormal. ¿Causas posibles?", options: ["Normal para scroll", "Sobrecarga siempre", "Solo edad", "Liquid slugging, falta de aceite, bearing dañado, o scroll desgastado"], correct: 3, explanation: "Ruido anormal en scroll indica problema mecánico que empeorará - diagnostica rápidamente. Fuente: Trane Engineers Newsletter & ASHRAE Journal Technical Articles. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Normal para scroll; B) Sobrecarga siempre. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Avanzado", q: "¿Cuándo necesitas oil separator en sistema de refrigeración?", options: ["Solo industrial", "Cuando líneas son largas, múltiples evaporadores, o temperaturas muy bajas", "Siempre", "Nunca en comercial"], correct: 1, explanation: "Oil separators ayudan al retorno de aceite en sistemas con condiciones difíciles. Fuente: Trane Engineers Newsletter & ASHRAE Journal Technical Articles. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo industrial; C) Siempre. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Avanzado", q: "Rack de supermercado con alta presión de succión. Todas las válvulas EPR abiertas. ¿Problema?", options: ["Evaporadores sucios", "Carga excesiva, condensador sucio, o fan fallando", "EPR valves malas", "Normal con carga alta"], correct: 1, explanation: "Alta succión con EPR abiertas indica problema en lado de alta - condensador o exceso de carga. Fuente: Trane Engineers Newsletter & ASHRAE Journal Technical Articles. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Evaporadores sucios; C) EPR valves malas. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Avanzado", q: "Sistema con head pressure control. ¿Cuál es su propósito?", options: ["Solo para bombas de calor", "Proteger compresor", "Ahorrar energía", "Mantener presión mínima para operación correcta de TXV en clima frío"], correct: 3, explanation: "Head pressure control mantiene presión suficiente para que las TXV operen correctamente. Fuente: Trane Engineers Newsletter & ASHRAE Journal Technical Articles. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo para bombas de calor; B) Proteger compresor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 8: TÉCNICO INDUSTRIAL (50 preguntas) ===
        { category: "Industrial", q: "Sistema de amoníaco (R-717) tiene olor fuerte. ¿Acción inmediata?", options: ["Buscar fuga con detector", "Ventilar y continuar", "Evacuar área, usar SCBA, activar protocolo de emergencia", "Esperar a que se disipe"], correct: 2, explanation: "NH3 es tóxico. Cualquier olor requiere evacuación inmediata y equipo de respiración autónomo. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Buscar fuga con detector; B) Ventilar y continuar. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "¿Cuál es la concentración de amoníaco que es IDLH (peligro inmediato)?", options: ["50 ppm", "500 ppm", "300 ppm", "25 ppm"], correct: 2, explanation: "300 ppm de NH3 es IDLH - Immediately Dangerous to Life or Health. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) 50 ppm; B) 500 ppm. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Sistema de refrigeración con CO2 (R-744). ¿Cuál es la presión de operación típica en transcrítico?", options: ["150-200 PSI", "400-600 PSI", "900-1500 PSI", "2000+ PSI"], correct: 2, explanation: "Sistemas CO2 transcríticos operan entre 900-1500 PSI en lado de alta - muy alta presión. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) 150-200 PSI; B) 400-600 PSI. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "¿Qué es un sistema cascade y cuándo se usa?", options: ["Sistema con economizer", "Backup de compresor", "Dos sistemas de refrigeración conectados para alcanzar temperaturas muy bajas", "Dos compresores en serie"], correct: 2, explanation: "Cascade usa dos refrigerantes diferentes para alcanzar temperaturas muy bajas (-40°F a -80°F). Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Sistema con economizer; B) Backup de compresor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Compresor de tornillo industrial no carga completamente. ¿Qué verificas?", options: ["Solo refrigerante", "Slide valve, control de capacidad, oil pressure, y sensores", "Volteage únicamente", "Reemplazar compresor"], correct: 1, explanation: "Compresores de tornillo usan slide valve para capacidad - verifica mecánica y controles. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Solo refrigerante; C) Volteage únicamente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "¿Qué es PSM (Process Safety Management) y cuándo aplica?", options: ["Solo para manufactura química", "Sistemas con más de 10,000 lbs de amoníaco - programa OSHA obligatorio", "Cualquier sistema comercial", "Recomendación, no obligatorio"], correct: 1, explanation: "PSM es obligatorio de OSHA para sistemas con 10,000+ lbs de amoníaco. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Solo para manufactura química; C) Cualquier sistema comercial. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Sistema industrial necesita pump down de 500 lbs de R-507. ¿Tiempo aproximado?", options: ["2-4 horas", "30-60 minutos", "15 minutos", "1 día"], correct: 0, explanation: "Pump down de sistemas grandes toma tiempo. 500 lbs puede tomar varias horas según equipo. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: B) 30-60 minutos; C) 15 minutos. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "¿Qué es RAGAGEP en contexto de refrigeración industrial?", options: ["Certificación de técnico", "Programa de mantenimiento", "Tipo de refrigerante", "Recognized and Generally Accepted Good Engineering Practices"], correct: 3, explanation: "RAGAGEP son estándares de la industria (IIAR, ASHRAE) que definen buenas prácticas. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Certificación de técnico; B) Programa de mantenimiento. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Evaporador industrial con oil logging. ¿Síntomas y solución?", options: ["Normal en sistemas grandes", "No hay síntomas", "Cambiar aceite", "Rendimiento reducido, aceite visible - oil pot, temperatura más alta, mejor retorno"], correct: 3, explanation: "Oil logging reduce transferencia de calor. Usa oil pots, opera temperaturas más altas periódicamente. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Normal en sistemas grandes; B) No hay síntomas. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "¿Cada cuánto requiere IIAR inspección interna de recipientes de presión?", options: ["Mensualmente", "Anualmente", "Cada 5 años para inspección interna completa", "Solo cuando hay problemas"], correct: 2, explanation: "IIAR recomienda inspección interna de recipientes cada 5 años máximo. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Mensualmente; B) Anualmente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Sistema con glycol al 30%. Punto de congelación aproximado.", options: ["5°F", "20°F", "32°F", "-10°F"], correct: 0, explanation: "30% propylene glycol tiene punto de congelación aproximado de 5°F (-15°C). Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: B) 20°F; C) 32°F. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "¿Qué documentación necesitas para trabajar en sistema de amoníaco?", options: ["No hay requisito especial", "Solo licencia HVAC", "Licencia EPA únicamente", "Certificación específica, permisos, procedimientos de seguridad documentados"], correct: 3, explanation: "Sistemas de amoníaco requieren capacitación específica, permisos y documentación de seguridad. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) No hay requisito especial; B) Solo licencia HVAC. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Diferencia entre chiller centrifugo y de tornillo. ¿Cuándo usar cada uno?", options: ["Tornillo siempre es mejor", "Son intercambiables", "Centrifugo: grandes cargas estables. Tornillo: cargas variables o más pequeñas", "Centrífugo es obsoleto"], correct: 2, explanation: "Centrífugos son eficientes en cargas grandes estables. Tornillos manejan mejor cargas variables. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Tornillo siempre es mejor; B) Son intercambiables. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Sistema de refrigeración con múltiples compresores. ¿Qué es lead-lag?", options: ["Secuencia de parada", "Control de capacidad", "Tipo de aceite", "Rotación de cuál compresor arranca primero para igualar desgaste"], correct: 3, explanation: "Lead-lag alterna cuál compresor es primario para ecualizar horas de operación. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: A) Secuencia de parada; B) Control de capacidad. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial", q: "Blast freezer no alcanza -20°F. Actualmente -5°F. ¿Diagnóstico sistemático?", options: ["Verificar carga, defrost, airflow, aislamiento, y producto cargado", "Agregar refrigerante", "Compresor undersized", "Normal para blast freezer"], correct: 0, explanation: "Verifica todos los factores: carga de refrigerante, defrost, flujo de aire, infiltración de calor. Fuente: ASHRAE Handbook - Refrigeration & Industrial Refrigeration Handbook, W.F. Stoecker. Los sistemas industriales operan a mayor escala pero los fundamentos del ciclo de refrigeración aplican igual. Las otras opciones son incorrectas: B) Agregar refrigerante; C) Compresor undersized. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 9: MARKETING Y VENTAS (40 preguntas) ===
        { category: "Marketing", q: "¿Cuál es el costo de adquisición de cliente (CAC) aceptable en HVAC residencial?", options: ["$150-300", "$500-800", "$1000+", "$50-100"], correct: 0, explanation: "CAC de $150-300 es típico para residencial. Debe ser menor que el margen del primer trabajo. Fuente: ACCA Marketing Best Practices & Contractor Marketing Handbook. El marketing efectivo genera leads de calidad para tu negocio. Las otras opciones son incorrectas: B) $500-800; C) $1000+. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Marketing", q: "Cliente pregunta por qué eres más caro que competidor. ¿Mejor respuesta?", options: ["Criticar al competidor", "Explicar valor: garantías, calidad, capacitación, servicio, licencias", "Bajar precio para igualar", "Decir que no sabes sus precios"], correct: 1, explanation: "Diferénciate por valor, no por precio. Explica qué incluye tu servicio que otros no. Fuente: ACCA Marketing Best Practices & Contractor Marketing Handbook. El marketing efectivo genera leads de calidad para tu negocio. Las otras opciones son incorrectas: A) Criticar al competidor; C) Bajar precio para igualar. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Marketing", q: "¿Qué es el Net Promoter Score (NPS) y qué número es bueno?", options: ["Medida de satisfacción - pregunta si recomendarían. >50 es excelente", "Número de referidos", "Puntuación de crédito", "Rating de Google"], correct: 0, explanation: "NPS mide probabilidad de recomendación. >50 es excelente, >70 es clase mundial. Fuente: ACCA Marketing Best Practices & Contractor Marketing Handbook. El marketing efectivo genera leads de calidad para tu negocio. Las otras opciones son incorrectas: B) Número de referidos; C) Puntuación de crédito. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Marketing", q: "¿Cuál plataforma genera más leads para HVAC típicamente?", options: ["LinkedIn", "Facebook únicamente", "TikTok", "Google (SEO/SEM) para búsquedas de emergencia e intención de compra"], correct: 3, explanation: "Google captura personas buscando activamente servicio HVAC - alta intención de compra. Fuente: ACCA Marketing Best Practices & Contractor Marketing Handbook. El marketing efectivo genera leads de calidad para tu negocio. Las otras opciones son incorrectas: A) LinkedIn; B) Facebook únicamente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Marketing", q: "Tu rating de Google es 3.8 estrellas. ¿Prioridad?", options: ["Mejorar urgentemente - responder reviews, mejorar servicio, pedir más reviews", "Crear nueva cuenta", "Ignorar, es aceptable", "Pagar por remover negativos"], correct: 0, explanation: "3.8 afecta conversión significativamente. Menos de 4.5 pierde clientes a competidores. Fuente: ACCA Marketing Best Practices & Contractor Marketing Handbook. El marketing efectivo genera leads de calidad para tu negocio. Las otras opciones son incorrectas: B) Crear nueva cuenta; C) Ignorar, es aceptable. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Marketing", q: "Cliente satisfecho. ¿Cuándo es mejor momento para pedir review?", options: ["Nunca pedir", "Inmediatamente después de completar el trabajo exitosamente", "Después de un mes", "Solo si hay problema"], correct: 1, explanation: "Pide review cuando la satisfacción es más alta - justo después de resolver su problema. Fuente: ACCA Marketing Best Practices & Contractor Marketing Handbook. El marketing efectivo genera leads de calidad para tu negocio. Las otras opciones son incorrectas: A) Nunca pedir; C) Después de un mes. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Marketing", q: "¿Qué es un maintenance agreement y por qué venderlo?", options: ["Solo para ingreso extra", "Solo para comercial", "Contrato de servicio regular - crea ingreso recurrente, relación, y oportunidades de venta", "Obligación legal"], correct: 2, explanation: "Agreements crean ingreso predecible, retención de clientes y oportunidades de upgrade. Fuente: ACCA Marketing Best Practices & Contractor Marketing Handbook. El marketing efectivo genera leads de calidad para tu negocio. Las otras opciones son incorrectas: A) Solo para ingreso extra; B) Solo para comercial. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Marketing", q: "¿Cuánto debería costar un maintenance agreement residencial básico?", options: ["$50/año", "$1000/año", "$150-250/año incluyendo 2 visitas", "$500/año"], correct: 2, explanation: "$150-250/año para 2 visitas es típico para residencial, con valor agregado. Fuente: ACCA Marketing Best Practices & Contractor Marketing Handbook. El marketing efectivo genera leads de calidad para tu negocio. Las otras opciones son incorrectas: A) $50/año; B) $1000/año. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Marketing", q: "Tu tasa de conversión de leads a ventas es 15%. ¿Es bueno?", options: ["Excelente", "Promedio - hay espacio para mejorar a 25-35%", "No se puede medir", "Muy bajo"], correct: 1, explanation: "15% es promedio. Con buen proceso de ventas puedes alcanzar 25-35% o más. Fuente: ACCA Marketing Best Practices & Contractor Marketing Handbook. El marketing efectivo genera leads de calidad para tu negocio. Las otras opciones son incorrectas: A) Excelente; C) No se puede medir. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Marketing", q: "Cliente dice 'voy a pensar'. ¿Qué haces?", options: ["Aceptar y salir", "Entender objeción, ofrecer seguimiento, dejar información de valor", "Presionar más", "Bajar precio inmediatamente"], correct: 1, explanation: "Descubre la objeción real, provee valor adicional, y establece seguimiento específico. Fuente: ACCA Marketing Best Practices & Contractor Marketing Handbook. El marketing efectivo genera leads de calidad para tu negocio. Las otras opciones son incorrectas: A) Aceptar y salir; C) Presionar más. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Marketing", q: "¿Qué información debe incluir tu propuesta escrita para instalación?", options: ["Solo marca y modelo", "Scope detallado, equipo, garantías, timeline, precio, términos de pago", "Solo precio total", "Precio y fecha"], correct: 1, explanation: "Propuestas profesionales incluyen todo lo que el cliente necesita para decidir con confianza. Fuente: ACCA Marketing Best Practices & Contractor Marketing Handbook. El marketing efectivo genera leads de calidad para tu negocio. Las otras opciones son incorrectas: A) Solo marca y modelo; C) Solo precio total. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Marketing", q: "Cliente quiere 3 quotes antes de decidir. ¿Tu estrategia?", options: ["Igualar cualquier precio", "Ser el más barato", "Ser primero o último, diferenciarte por valor y servicio, no solo precio", "Declinar cotizar"], correct: 2, explanation: "Posiciónate por valor. Ser primero establece expectativas, ser último tiene ventaja de última impresión. Fuente: ACCA Marketing Best Practices & Contractor Marketing Handbook. El marketing efectivo genera leads de calidad para tu negocio. Las otras opciones son incorrectas: A) Igualar cualquier precio; B) Ser el más barato. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Marketing", q: "¿Cuál es el mejor momento del año para marketing de A/C residencial?", options: ["Todo el año igual", "Invierno solamente", "Solo cuando hace calor", "Spring early summer antes que necesiten urgente - y otoño para heating"], correct: 3, explanation: "Marketing preventivo antes de temporada alta es más efectivo que reaccionar a emergencias. Fuente: ACCA Marketing Best Practices & Contractor Marketing Handbook. El marketing efectivo genera leads de calidad para tu negocio. Las otras opciones son incorrectas: A) Todo el año igual; B) Invierno solamente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Marketing", q: "Tu website no aparece en primera página de Google. ¿Qué hacer primero?", options: ["Redes sociales únicamente", "Nuevo website", "Optimizar SEO local: Google Business, keywords, reviews, contenido", "Pagar más ads"], correct: 2, explanation: "SEO local es fundamental: Google Business Profile optimizado, reviews, contenido relevante. Fuente: ACCA Marketing Best Practices & Contractor Marketing Handbook. El marketing efectivo genera leads de calidad para tu negocio. Las otras opciones son incorrectas: A) Redes sociales únicamente; B) Nuevo website. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Marketing", q: "¿Qué es lifetime value (LTV) de cliente y cómo lo usas?", options: ["Valor total de un cliente durante toda la relación - guía cuánto invertir en adquisición", "Solo para comercial", "Precio de un trabajo", "Rating del cliente"], correct: 0, explanation: "LTV ayuda a determinar cuánto puedes gastar en adquirir y retener clientes rentablemente. Fuente: ACCA Marketing Best Practices & Contractor Marketing Handbook. El marketing efectivo genera leads de calidad para tu negocio. Las otras opciones son incorrectas: B) Solo para comercial; C) Precio de un trabajo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 10: CONTRATOS Y LEGAL (40 preguntas) ===
        { category: "Legal", q: "Cliente no paga factura de $3,500. ¿Opciones legales en California?", options: ["Demanda federal", "Small claims (hasta $10K), colecciones, o lien en propiedad", "Solo llamar y amenazar", "Nada se puede hacer"], correct: 1, explanation: "Small claims court hasta $10K, agencia de colecciones, o mechanics lien son opciones. Fuente: ACCA Legal Guidelines & State Contractor Licensing Requirements. Conocer las regulaciones te protege legalmente a ti y tu empresa. Las otras opciones son incorrectas: A) Demanda federal; C) Solo llamar y amenazar. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Legal", q: "¿Qué es un mechanics lien y cuándo puedes usarlo?", options: ["Demanda por dinero", "Contrato de trabajo", "Permiso de ciudad", "Gravamen sobre propiedad por trabajo no pagado - deadlines estrictos"], correct: 3, explanation: "Mechanics lien protege tu derecho de pago poniendo gravamen en la propiedad, con deadlines legales. Fuente: ACCA Legal Guidelines & State Contractor Licensing Requirements. Conocer las regulaciones te protege legalmente a ti y tu empresa. Las otras opciones son incorrectas: A) Demanda por dinero; B) Contrato de trabajo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Legal", q: "¿En cuántos días debes enviar preliminary notice en California?", options: ["No es necesario", "60 días", "20 días desde inicio de trabajo para proteger derecho a lien", "30 días"], correct: 2, explanation: "Preliminary notice debe enviarse dentro de 20 días para preservar derecho a mechanics lien. Fuente: ACCA Legal Guidelines & State Contractor Licensing Requirements. Conocer las regulaciones te protege legalmente a ti y tu empresa. Las otras opciones son incorrectas: A) No es necesario; B) 60 días. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Legal", q: "Cliente firma contrato pero cancela al día siguiente. ¿Tiene derecho?", options: ["Solo si pagas penalidad", "Sí, 3 días de rescisión para contratos de mejora del hogar en California", "No, firmó contrato", "72 horas para servicios"], correct: 1, explanation: "Home improvement contracts en California tienen 3 días de derecho de rescisión por ley. Fuente: ACCA Legal Guidelines & State Contractor Licensing Requirements. Conocer las regulaciones te protege legalmente a ti y tu empresa. Las otras opciones son incorrectas: A) Solo si pagas penalidad; C) No, firmó contrato. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Legal", q: "¿Qué debe incluir un contrato de HVAC legalmente válido en California?", options: ["Nombre y teléfono", "Cualquier escrito funciona", "Solo precio y firma", "Licencia, precio, scope, timeline, términos de pago, derecho de cancelación"], correct: 3, explanation: "Contratos de mejora del hogar tienen requisitos legales específicos en California. Fuente: ACCA Legal Guidelines & State Contractor Licensing Requirements. Conocer las regulaciones te protege legalmente a ti y tu empresa. Las otras opciones son incorrectas: A) Nombre y teléfono; B) Cualquier escrito funciona. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Legal", q: "Empleado causa accidente de auto en van de la compañía. ¿Quién es responsable?", options: ["La víctima del accidente", "Solo el empleado", "Nadie si tenía licencia", "La compañía es vicariously liable por actos de empleados en servicio"], correct: 3, explanation: "Employers son responsables por actos de empleados durante el curso del trabajo. Fuente: ACCA Legal Guidelines & State Contractor Licensing Requirements. Conocer las regulaciones te protege legalmente a ti y tu empresa. Las otras opciones son incorrectas: A) La víctima del accidente; B) Solo el empleado. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Legal", q: "Cliente demanda por lesión supuestamente causada por tu trabajo. ¿Primer paso?", options: ["Contactar tu seguro de responsabilidad inmediatamente", "Ignorar si es falso", "Contratar abogado personal", "Pagar para que se vaya"], correct: 0, explanation: "Notifica a tu aseguradora inmediatamente - ellos manejan la defensa. Fuente: ACCA Legal Guidelines & State Contractor Licensing Requirements. Conocer las regulaciones te protege legalmente a ti y tu empresa. Las otras opciones son incorrectas: B) Ignorar si es falso; C) Contratar abogado personal. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Legal", q: "¿Qué es indemnification clause en contrato comercial?", options: ["Pago por adelantado", "Permiso de trabajo", "Transferencia de responsabilidad por ciertos riesgos entre partes", "Garantía de trabajo"], correct: 2, explanation: "Indemnification determina quién asume responsabilidad por ciertos riesgos o daños. Fuente: ACCA Legal Guidelines & State Contractor Licensing Requirements. Conocer las regulaciones te protege legalmente a ti y tu empresa. Las otras opciones son incorrectas: A) Pago por adelantado; B) Permiso de trabajo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Legal", q: "GC quiere que firmes contrato con 'pay when paid' clause. ¿Riesgo?", options: ["Solo afecta timing", "Es ilegal", "Ninguno", "Si el owner no paga al GC, él no tiene que pagarte a ti"], correct: 3, explanation: "Pay when paid puede dejarte sin pago si el proyecto tiene problemas financieros. Fuente: ACCA Legal Guidelines & State Contractor Licensing Requirements. Conocer las regulaciones te protege legalmente a ti y tu empresa. Las otras opciones son incorrectas: A) Solo afecta timing; B) Es ilegal. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Legal", q: "Tu trabajo causó daño de agua. Cliente tiene deducible de $1000 en su seguro. ¿Quién paga?", options: ["Siempre tú", "Tu seguro paga daños, pero negociación determina quién cubre deducible", "Nadie", "Siempre el cliente"], correct: 1, explanation: "Tu GL debería cubrir daños. El deducible del cliente es parte de la negociación del claim. Fuente: ACCA Legal Guidelines & State Contractor Licensing Requirements. Conocer las regulaciones te protege legalmente a ti y tu empresa. Las otras opciones son incorrectas: A) Siempre tú; C) Nadie. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Legal", q: "¿Qué es change order y cuándo es necesario?", options: ["Verbal es suficiente", "Documento para cambios al scope original - siempre por escrito y firmado", "Nuevo contrato completo", "Solo para proyectos grandes"], correct: 1, explanation: "Cualquier cambio al trabajo original debe documentarse con change order firmado. Fuente: ACCA Legal Guidelines & State Contractor Licensing Requirements. Conocer las regulaciones te protege legalmente a ti y tu empresa. Las otras opciones son incorrectas: A) Verbal es suficiente; C) Nuevo contrato completo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Legal", q: "Cliente quiere que trabajes sin permiso 'para ahorrar tiempo'. ¿Tu respuesta?", options: ["Rechazar - trabajar sin permiso requerido puede perder tu licencia", "Solo en trabajos pequeños", "Hacerlo si él asume responsabilidad", "Depende del inspector"], correct: 0, explanation: "Trabajar sin permisos requeridos viola tu licencia y puede tener consecuencias serias. Fuente: ACCA Legal Guidelines & State Contractor Licensing Requirements. Conocer las regulaciones te protege legalmente a ti y tu empresa. Las otras opciones son incorrectas: B) Solo en trabajos pequeños; C) Hacerlo si él asume responsabilidad. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Legal", q: "Instalaste equipo que resultó defectuoso de fábrica. ¿Quién es responsable con cliente?", options: ["Tú eres responsable ante el cliente, luego reclamas al fabricante", "Nadie", "Solo el fabricante", "El distribuidor"], correct: 0, explanation: "Ante el cliente tú eres responsable por el trabajo. Tu recurso es contra el fabricante. Fuente: ACCA Legal Guidelines & State Contractor Licensing Requirements. Conocer las regulaciones te protege legalmente a ti y tu empresa. Las otras opciones son incorrectas: B) Nadie; C) Solo el fabricante. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Legal", q: "¿Cuánto tiempo tienes para reclamar lien en California después de completar trabajo?", options: ["30 días", "90 días desde completar trabajo", "1 año", "6 meses"], correct: 1, explanation: "En California tienes 90 días desde completar trabajo para registrar mechanics lien. Fuente: ACCA Legal Guidelines & State Contractor Licensing Requirements. Conocer las regulaciones te protege legalmente a ti y tu empresa. Las otras opciones son incorrectas: A) 30 días; C) 1 año. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Legal", q: "Cliente dice que tu técnico robó algo de su casa. ¿Cómo manejas?", options: ["Pagar para evitar problema", "Investigar profesionalmente, documentar, involucrar seguro si necesario", "Ignorar acusación", "Despedir técnico inmediatamente"], correct: 1, explanation: "Investiga objetivamente antes de actuar. Puede requerir policía y aseguradora. Fuente: ACCA Legal Guidelines & State Contractor Licensing Requirements. Conocer las regulaciones te protege legalmente a ti y tu empresa. Las otras opciones son incorrectas: A) Pagar para evitar problema; C) Ignorar acusación. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Tecnología", q: "¿Qué es IoT en HVAC y cómo beneficia a tu negocio de servicio?", options: ["Solo para nuevas instalaciones", "Reemplaza técnicos", "Solo marketing", "Equipos conectados permiten monitoreo remoto, diagnóstico proactivo, y servicio predictivo"], correct: 3, explanation: "IoT permite identificar problemas antes de fallas, mejorando servicio y satisfacción. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo para nuevas instalaciones; B) Reemplaza técnicos. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 13: EFICIENCIA ENERGÉTICA (40 preguntas) ===
        { category: "Eficiencia", q: "¿Qué significa SEER2 de 16 vs SEER de 16 en mismo equipo?", options: ["SEER es más preciso", "SEER2 es siempre mejor", "Son iguales", "SEER2 usa pruebas más realistas - mismo número puede significar diferente eficiencia real"], correct: 3, explanation: "SEER2 usa presión estática más alta en pruebas, siendo más representativo de instalaciones reales. Fuente: ASHRAE Standard 90.1 (Energy Standard) & DOE Energy Efficiency Guidelines. La eficiencia energética impacta directamente los costos operativos del cliente. Las otras opciones son incorrectas: A) SEER es más preciso; B) SEER2 es siempre mejor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia", q: "Cliente pregunta cuánto ahorrará con equipo de SEER 20 vs su SEER 10 actual.", options: ["Exactamente 50%", "100% de ahorro", "Aproximadamente 50% menos consumo de cooling, pero depende de uso y clima", "No hay diferencia notable"], correct: 2, explanation: "Teóricamente 50% menos consumo de cooling, pero ahorro real depende de múltiples factores. Fuente: ASHRAE Standard 90.1 (Energy Standard) & DOE Energy Efficiency Guidelines. La eficiencia energética impacta directamente los costos operativos del cliente. Las otras opciones son incorrectas: A) Exactamente 50%; B) 100% de ahorro. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia", q: "¿Qué es Manual J y por qué es crítico para eficiencia?", options: ["Guía de mantenimiento", "Cálculo de carga para dimensionar equipo correctamente - oversizing desperdicia energía", "Manual de instalación", "Especificaciones del fabricante"], correct: 1, explanation: "Manual J determina carga real. Equipo oversized hace cycling excesivo y desperdicia energía. Fuente: ASHRAE Standard 90.1 (Energy Standard) & DOE Energy Efficiency Guidelines. La eficiencia energética impacta directamente los costos operativos del cliente. Las otras opciones son incorrectas: A) Guía de mantenimiento; C) Manual de instalación. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia", q: "Sistema ducto tiene 30% de fugas. ¿Impacto en eficiencia?", options: ["Sin impacto si equipo es eficiente", "5% de pérdida", "Puede perder 30%+ de capacidad y mucha más energía si ductos están en ático", "Solo afecta comfort"], correct: 2, explanation: "Fugas de ductos en espacios no acondicionados desperdician energía condicionada enormemente. Fuente: ASHRAE Standard 90.1 (Energy Standard) & DOE Energy Efficiency Guidelines. La eficiencia energética impacta directamente los costos operativos del cliente. Las otras opciones son incorrectas: A) Sin impacto si equipo es eficiente; B) 5% de pérdida. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia", q: "¿Cuándo recomiendas variable speed blower vs single speed?", options: ["Solo en comercial", "Nunca vale la pena", "Igual eficiencia", "Para mejor comfort, deshumidificación, y eficiencia - especialmente en climas húmedos"], correct: 3, explanation: "Variable speed mejora comfort, deshumidificación, y eficiencia al operar más tiempo a menor velocidad. Fuente: ASHRAE Standard 90.1 (Energy Standard) & DOE Energy Efficiency Guidelines. La eficiencia energética impacta directamente los costos operativos del cliente. Las otras opciones son incorrectas: A) Solo en comercial; B) Nunca vale la pena. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia", q: "Cliente tiene ático de 140°F en verano. ¿Cómo afecta su A/C?", options: ["Solo afecta un poco", "Ductos y equipo en ático pierden eficiencia significativamente por ganancia de calor", "Mejora eficiencia", "No afecta"], correct: 1, explanation: "Áticos calientes reducen eficiencia del sistema y pueden agregar carga significativa. Fuente: ASHRAE Standard 90.1 (Energy Standard) & DOE Energy Efficiency Guidelines. La eficiencia energética impacta directamente los costos operativos del cliente. Las otras opciones son incorrectas: A) Solo afecta un poco; C) Mejora eficiencia. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia", q: "¿Qué es HSPF2 y qué número es bueno para heat pump?", options: ["Medida de cooling", "Capacidad en BTU", "Eficiencia de heating - HSPF2 de 9+ es bueno, 10+ es excelente", "Voltaje requerido"], correct: 2, explanation: "HSPF2 mide eficiencia de calefacción. Mayor número = más eficiente en modo heating. Fuente: ASHRAE Standard 90.1 (Energy Standard) & DOE Energy Efficiency Guidelines. La eficiencia energética impacta directamente los costos operativos del cliente. Las otras opciones son incorrectas: A) Medida de cooling; B) Capacidad en BTU. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia", q: "¿Por qué matching de coils es importante para eficiencia rated?", options: ["Coils mal matched no alcanzan eficiencia rated - ARI matching es requerido", "Solo afecta instalación", "No importa si enfrían", "Solo por garantía"], correct: 0, explanation: "Eficiencia rated asume coils matched. Mismatched = eficiencia menor a lo esperado. Fuente: ASHRAE Standard 90.1 (Energy Standard) & DOE Energy Efficiency Guidelines. La eficiencia energética impacta directamente los costos operativos del cliente. Las otras opciones son incorrectas: B) Solo afecta instalación; C) No importa si enfrían. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia", q: "Condensador está en sol directo. ¿Impacto y solución?", options: ["Mejora operación", "Moverlo siempre", "Sin impacto", "Reduce eficiencia 5-10% - shade sin bloquear airflow puede ayudar"], correct: 3, explanation: "Sol directo aumenta temperatura de aire entrando al condensador, reduciendo eficiencia. Fuente: ASHRAE Standard 90.1 (Energy Standard) & DOE Energy Efficiency Guidelines. La eficiencia energética impacta directamente los costos operativos del cliente. Las otras opciones son incorrectas: A) Mejora operación; B) Moverlo siempre. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia", q: "¿Cuánta carga de refrigerante incorrecta afecta significativamente eficiencia?", options: ["Cualquier cantidad", "10-20% de over/under charge puede reducir eficiencia 10-20%", "Solo 50%+ de error", "No afecta eficiencia"], correct: 1, explanation: "Incluso 10% de carga incorrecta afecta notablemente eficiencia y vida del equipo. Fuente: ASHRAE Standard 90.1 (Energy Standard) & DOE Energy Efficiency Guidelines. La eficiencia energética impacta directamente los costos operativos del cliente. Las otras opciones son incorrectas: A) Cualquier cantidad; C) Solo 50%+ de error. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia", q: "Cliente tiene termostato a 68°F todo el tiempo. ¿Recomendación de eficiencia?", options: ["Programar setback cuando no está - cada grado ahorra 1-3% en energía", "No usar termostato programable", "Bajar más para ahorrar", "Mantener así para comfort"], correct: 0, explanation: "Setbacks cuando no hay ocupantes ahorran energía significativa sin sacrificar comfort. Fuente: ASHRAE Standard 90.1 (Energy Standard) & DOE Energy Efficiency Guidelines. La eficiencia energética impacta directamente los costos operativos del cliente. Las otras opciones son incorrectas: B) No usar termostato programable; C) Bajar más para ahorrar. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia", q: "¿Qué auditoría recomiendas antes de instalar equipo nuevo?", options: ["Solo Manual J", "Medición de ductos", "Ninguna necesaria", "Evaluación de envolvente: aislamiento, infiltración, ductos - mejorar antes de instalar"], correct: 3, explanation: "Mejorar envolvente primero puede permitir equipo más pequeño y mayor comfort. Fuente: ASHRAE Standard 90.1 (Energy Standard) & DOE Energy Efficiency Guidelines. La eficiencia energética impacta directamente los costos operativos del cliente. Las otras opciones son incorrectas: A) Solo Manual J; B) Medición de ductos. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 14: PROYECTOS Y ESTIMACIÓN (40 preguntas) ===
        { category: "Proyectos", q: "¿Cómo estimas tiempo de instalación para changeout residencial?", options: ["Evaluar acceso, modificaciones necesarias, condición existente - típico 4-8 horas", "Preguntar al cliente", "Siempre 1 día", "Adivinar"], correct: 0, explanation: "Cada instalación es diferente. Evalúa todos los factores antes de comprometer tiempo. Fuente: ACCA Project Management & Quality Installation Verification. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Preguntar al cliente; C) Siempre 1 día. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Proyectos", q: "Proyecto comercial requiere 3 técnicos por 2 semanas. ¿Cómo calculas labor?", options: ["Horas totales × costo loaded (salario + burden + overhead)", "3 × salario × 2", "Precio por proyecto", "Solo salario base"], correct: 0, explanation: "Labor cost incluye salario, impuestos, beneficios, y allocation de overhead. Fuente: ACCA Project Management & Quality Installation Verification. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) 3 × salario × 2; C) Precio por proyecto. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Proyectos", q: "Cliente cambia scope después de firmar contrato. ¿Proceso correcto?", options: ["Cobrar después", "Hacer sin cobrar extra", "Rechazar cambios", "Change order escrito con nuevo precio y timeline antes de proceder"], correct: 3, explanation: "Cualquier cambio de scope requiere change order documentado y aprobado. Fuente: ACCA Project Management & Quality Installation Verification. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Cobrar después; B) Hacer sin cobrar extra. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Proyectos", q: "Tu estimado fue 8 horas pero tomó 12. ¿Cómo evitas esto?", options: ["Usar flat rate", "Cobrar horas extra", "Absolver pérdida siempre", "Analizar qué falló en estimado, mejorar proceso para futuros"], correct: 3, explanation: "Job costing compara estimado vs real para mejorar precisión de futuros estimados. Fuente: ACCA Project Management & Quality Installation Verification. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Usar flat rate; B) Cobrar horas extra. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Proyectos", q: "¿Qué markup aplicas típicamente a materiales en instalación?", options: ["100%+", "25-50% dependiendo del material y competencia", "0% - cobrar costo", "Precio de lista siempre"], correct: 1, explanation: "Markup de 25-50% en materiales es típico, cubriendo manejo, garantía, y ganancia. Fuente: ACCA Project Management & Quality Installation Verification. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) 100%+; C) 0% - cobrar costo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Proyectos", q: "Proyecto requiere lift para acceso a rooftop. ¿Cómo lo facturas?", options: ["Cliente lo proporciona", "Incluido en overhead", "No cobrar equipo", "Line item separado o incluido específicamente en precio del proyecto"], correct: 3, explanation: "Rental de equipo especial debe incluirse específicamente en el precio del proyecto. Fuente: ACCA Project Management & Quality Installation Verification. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Cliente lo proporciona; B) Incluido en overhead. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Proyectos", q: "¿Cuánto contingency incluyes en estimados de proyectos comerciales?", options: ["0% - estimado exacto", "5-15% dependiendo de complejidad e incertidumbres", "50%", "No se usa contingency"], correct: 1, explanation: "Contingency de 5-15% cubre imprevistos razonables sin inflar precio excesivamente. Fuente: ACCA Project Management & Quality Installation Verification. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) 0% - estimado exacto; C) 50%. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Proyectos", q: "Cliente pide precio por teléfono para instalación sin site visit. ¿Respuesta?", options: ["Ofrecer rango amplio y programar visita para precio exacto", "Dar precio aproximado", "Rechazar dar información", "Precio más alto para cubrir"], correct: 0, explanation: "Da rango general pero enfatiza necesidad de visita para precio preciso. Fuente: ACCA Project Management & Quality Installation Verification. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Dar precio aproximado; C) Rechazar dar información. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Proyectos", q: "¿Qué incluyes en proposal además del precio?", options: ["Lista de materiales", "Scope detallado, exclusiones, garantías, timeline, términos, y valor diferenciador", "Precio y fecha", "Solo precio total"], correct: 1, explanation: "Proposals profesionales comunican valor completo y protegen ambas partes. Fuente: ACCA Project Management & Quality Installation Verification. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Lista de materiales; C) Precio y fecha. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Proyectos", q: "GC pide que reduzcas precio 15% para ganar proyecto comercial. ¿Estrategia?", options: ["Rechazar siempre", "Analizar si puedes reducir scope o si el negocio vale a menor margen", "Bajar calidad de materiales", "Bajar precio automáticamente"], correct: 1, explanation: "Evalúa si el proyecto tiene valor estratégico que justifique menor margen. Fuente: ACCA Project Management & Quality Installation Verification. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Rechazar siempre; C) Bajar calidad de materiales. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 15: SERVICIO AL CLIENTE Y COMUNICACIÓN (40 preguntas) ===
        { category: "Servicio Cliente", q: "Cliente está enojado porque técnico llegó tarde. ¿Cómo manejas la situación?", options: ["Ignorar su enojo", "Discutir sobre la hora", "Culpar al tráfico", "Disculparse sinceramente, validar frustración, ofrecer compensación si apropiado"], correct: 3, explanation: "Reconoce el problema, disculpa genuina, y enfócate en resolver su necesidad actual. Fuente: ACCA Customer Service Excellence Program. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Ignorar su enojo; B) Discutir sobre la hora. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Servicio Cliente", q: "Cliente no entiende por qué la reparación cuesta tanto. ¿Tu explicación?", options: ["Ofrecer descuento inmediato", "Así son los precios", "Explicar valor: diagnóstico experto, parte de calidad, garantía, servicio profesional", "Decir que otros cobran más"], correct: 2, explanation: "Comunica el valor de lo que recibe, no solo el costo de partes y labor. Fuente: ACCA Customer Service Excellence Program. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Ofrecer descuento inmediato; B) Así son los precios. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Servicio Cliente", q: "Técnico reporta que cliente fue grosero. ¿Cómo manejas?", options: ["Despedir al cliente", "Siempre defender al cliente", "Evaluar situación, apoyar a técnico, determinar si la relación es sostenible", "Ignorar"], correct: 2, explanation: "Escucha ambos lados, apoya a tu equipo, pero evalúa objetivamente la situación. Fuente: ACCA Customer Service Excellence Program. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Despedir al cliente; B) Siempre defender al cliente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Servicio Cliente", q: "¿Cuánto tiempo después del servicio debes hacer follow-up?", options: ["No es necesario", "Una semana", "Solo si hay problemas", "24-48 horas para confirmar satisfacción"], correct: 3, explanation: "Follow-up rápido muestra que te importa y permite resolver problemas temprano. Fuente: ACCA Customer Service Excellence Program. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) No es necesario; B) Una semana. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Servicio Cliente", q: "Cliente deja review negativa injusta. ¿Mejor respuesta?", options: ["Atacar al cliente", "Responder profesionalmente, ofrecer resolver offline, mostrar compromiso con servicio", "Ignorar", "Pedir que la quite"], correct: 1, explanation: "Respuestas profesionales a reviews negativas muestran tu carácter a futuros clientes. Fuente: ACCA Customer Service Excellence Program. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Atacar al cliente; C) Ignorar. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Servicio Cliente", q: "¿Cómo comunicas a cliente que su equipo de 25 años necesita reemplazo?", options: ["Solo ofrecer reparación", "Explicar situación honestamente, dar opciones de reparar vs reemplazar con pros/cons", "Presionar reemplazo", "Solo decir que no sirve"], correct: 1, explanation: "Presenta información honesta y opciones claras para que el cliente decida informadamente. Fuente: ACCA Customer Service Excellence Program. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo ofrecer reparación; C) Presionar reemplazo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Servicio Cliente", q: "Cliente quiere que diagnostiques gratis antes de decidir reparar. ¿Política?", options: ["Depende del cliente", "Siempre diagnosticar gratis", "Rechazar el trabajo", "Cobrar diagnóstico, aplicarlo a reparación si proceden - explica valor del diagnóstico"], correct: 3, explanation: "Tu tiempo y expertise tienen valor. Ofrece aplicar diagnóstico al trabajo. Fuente: ACCA Customer Service Excellence Program. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Depende del cliente; B) Siempre diagnosticar gratis. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Servicio Cliente", q: "Técnico está en casa de cliente y encuentra problema adicional. ¿Protocolo?", options: ["Ignorar si no preguntaron", "Solo documentar", "Informar al cliente, explicar importancia, obtener aprobación antes de proceder", "Reparar sin preguntar"], correct: 2, explanation: "Siempre comunica hallazgos y obtén aprobación antes de trabajo adicional. Fuente: ACCA Customer Service Excellence Program. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Ignorar si no preguntaron; B) Solo documentar. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Servicio Cliente", q: "¿Qué hace diferente a un técnico excelente en servicio al cliente?", options: ["Comunicación clara, respeto por la propiedad, explicaciones entendibles, profesionalismo", "Solo habilidad técnica", "Velocidad únicamente", "Precio bajo"], correct: 0, explanation: "Las habilidades blandas son tan importantes como las técnicas para satisfacción del cliente. Fuente: ACCA Customer Service Excellence Program. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Solo habilidad técnica; C) Velocidad únicamente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Servicio Cliente", q: "Cliente no está en casa pero dejó acceso. ¿Qué documentas?", options: ["Nada especial", "Solo factura", "Fotos de llegada/salida, trabajo realizado, condición de equipo, notas detalladas", "Video del trabajo"], correct: 2, explanation: "Documentación protege a ambos y mantiene al cliente informado del trabajo realizado. Fuente: ACCA Customer Service Excellence Program. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Nada especial; B) Solo factura. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 16: EQUIPOS Y SISTEMAS ESPECÍFICOS (50 preguntas) ===
        { category: "Equipos Específicos", q: "¿Cuál es la diferencia principal entre compresor scroll y reciprocante?", options: ["Scroll usa espirales para compresión continua, reciprocante usa pistones con válvulas", "Son iguales", "Scroll es más ruidoso", "Solo tamaño"], correct: 0, explanation: "Scroll comprime continuamente sin válvulas, siendo más eficiente y silencioso típicamente. Fuente: Manufacturer Technical Manuals (Carrier, Trane, Lennox, Daikin). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Son iguales; C) Scroll es más ruidoso. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Equipos Específicos", q: "Mini split ductless: ¿cuántas unidades indoor puede manejar un outdoor de 3 ton?", options: ["Solo una", "Siempre 4", "Típicamente 2-5 dependiendo del modelo y configuración", "Ilimitadas"], correct: 2, explanation: "Multi-zone outdoor units pueden manejar 2-5 indoor típicamente, con límites de capacidad. Fuente: Manufacturer Technical Manuals (Carrier, Trane, Lennox, Daikin). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo una; B) Siempre 4. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Equipos Específicos", q: "¿Cuándo usarías un package unit vs split system?", options: ["Package para techos comerciales o donde espacio interior es limitado", "Son intercambiables", "Split siempre es mejor", "Package solo industrial"], correct: 0, explanation: "Package units son ideales para rooftop comercial o donde no hay espacio para componentes separados. Fuente: Manufacturer Technical Manuals (Carrier, Trane, Lennox, Daikin). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Son intercambiables; C) Split siempre es mejor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Equipos Específicos", q: "Sistema geotérmico: ¿cuál es el COP típico comparado con air source heat pump?", options: ["Air source es mejor", "Geo 3.5-5 COP vs air source 2-3 COP - significativamente más eficiente", "No se comparan", "Igual"], correct: 1, explanation: "Sistemas geotérmicos son más eficientes porque usan temperatura estable del suelo. Fuente: Manufacturer Technical Manuals (Carrier, Trane, Lennox, Daikin). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Air source es mejor; C) No se comparan. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Equipos Específicos", q: "¿Qué es un modulating furnace y cuál es su ventaja?", options: ["On/off normal", "Ajusta output continuamente para demanda exacta - mejor comfort y eficiencia", "Dos velocidades fijas", "Solo para gas"], correct: 1, explanation: "Modulating furnaces ajustan flame y blower para matching preciso de carga. Fuente: Manufacturer Technical Manuals (Carrier, Trane, Lennox, Daikin). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) On/off normal; C) Dos velocidades fijas. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Equipos Específicos", q: "Ductless mini split vs central air para adición de cuarto. ¿Cuándo elegir mini split?", options: ["Cuando extender ductos es costoso/impractical o para zonas independientes", "Siempre mini split", "Solo si es grande", "Nunca"], correct: 0, explanation: "Mini splits son ideales para adiciones donde ductos no llegan eficientemente. Fuente: Manufacturer Technical Manuals (Carrier, Trane, Lennox, Daikin). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Siempre mini split; C) Solo si es grande. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Equipos Específicos", q: "Water source heat pump: ¿de dónde obtiene/rechaza calor?", options: ["De loop de agua conectado a torre/boiler o fuente geotérmica", "Del aire", "Del sol", "Del suelo directamente"], correct: 0, explanation: "WSHP usa loop de agua como fuente/sink de calor, permitiendo recuperación entre zonas. Fuente: Manufacturer Technical Manuals (Carrier, Trane, Lennox, Daikin). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Del aire; C) Del sol. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Equipos Específicos", q: "¿Cuál es la vida útil típica de un compresor comercial bien mantenido?", options: ["Depende solo de la marca", "5 años", "15-20 años con mantenimiento adecuado", "30+ años"], correct: 2, explanation: "Compresores comerciales bien mantenidos típicamente duran 15-20 años o más. Fuente: Manufacturer Technical Manuals (Carrier, Trane, Lennox, Daikin). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Depende solo de la marca; B) 5 años. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Equipos Específicos", q: "PTACs vs mini splits para hotel. ¿Ventajas de cada uno?", options: ["Son iguales", "Mini split siempre mejor", "PTAC: fácil reemplazo individual. Mini split: más silencioso y eficiente", "PTAC siempre mejor"], correct: 2, explanation: "PTACs son auto-contenidos y fáciles de cambiar. Mini splits son más eficientes y silenciosos. Fuente: Manufacturer Technical Manuals (Carrier, Trane, Lennox, Daikin). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Son iguales; B) Mini split siempre mejor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Equipos Específicos", q: "Sistema VRF: ¿qué significa y cuál es su ventaja principal?", options: ["Very Reliable Function", "Solo marketing", "Voltage Regulation Feature", "Variable Refrigerant Flow - permite operación simultánea de heating y cooling en diferentes zonas"], correct: 3, explanation: "VRF varía flujo de refrigerante a cada zona, permitiendo heating y cooling simultáneo. Fuente: Manufacturer Technical Manuals (Carrier, Trane, Lennox, Daikin). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Very Reliable Function; B) Solo marketing. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Equipos Específicos", q: "¿Cuándo recomiendas heat pump sobre furnace de gas?", options: ["Nunca en climas fríos", "Siempre es mejor", "Solo si no hay gas", "Climas moderados, preferencia eléctrica, o dual fuel para eficiencia óptima"], correct: 3, explanation: "Heat pumps son eficientes en climas moderados y pueden combinarse con gas para climas fríos. Fuente: Manufacturer Technical Manuals (Carrier, Trane, Lennox, Daikin). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Nunca en climas fríos; B) Siempre es mejor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Equipos Específicos", q: "Condensing furnace vs conventional: ¿cuál es el límite de eficiencia para convencional?", options: ["95% AFUE", "No hay límite", "70% AFUE", "80% AFUE máximo - más de 90% requiere condensing"], correct: 3, explanation: "Furnaces convencionales máximo ~80% AFUE. Mayor eficiencia requiere condensing technology. Fuente: Manufacturer Technical Manuals (Carrier, Trane, Lennox, Daikin). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) 95% AFUE; B) No hay límite. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Equipos Específicos", q: "¿Qué es un ERV y cuándo lo recomiendas?", options: ["Emergency Relief Valve", "Solo para comercial", "Energy Recovery Ventilator - casas tight para ventilación con recuperación de energía", "Electric Relay Valve"], correct: 2, explanation: "ERV recupera energía del aire de exhaust, ideal para casas selladas herméticamente. Fuente: Manufacturer Technical Manuals (Carrier, Trane, Lennox, Daikin). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Emergency Relief Valve; B) Solo para comercial. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Equipos Específicos", q: "Split system vs packaged heat pump. ¿Diferencia de instalación principal?", options: ["Split no tiene heating", "Packaged es más difícil", "Ninguna", "Split requiere lineset y trabajo interior/exterior. Packaged es unidad completa"], correct: 3, explanation: "Packaged tiene todo en una unidad; split requiere conectar componentes con lineset. Fuente: Manufacturer Technical Manuals (Carrier, Trane, Lennox, Daikin). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Split no tiene heating; B) Packaged es más difícil. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Equipos Específicos", q: "¿Cuál es el propósito del accumulator en heat pump?", options: ["Aumentar presión", "Almacenar aceite", "Prevenir liquid slugging al compresor capturando líquido excesivo", "Solo en cooling"], correct: 2, explanation: "El accumulator protege el compresor evitando que líquido llegue directamente a él. Fuente: Manufacturer Technical Manuals (Carrier, Trane, Lennox, Daikin). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Aumentar presión; B) Almacenar aceite. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 17: CÓDIGOS Y PERMISOS (30 preguntas) ===
        { category: "Códigos", q: "¿Qué código rige instalaciones HVAC principalmente en USA?", options: ["No hay código nacional", "NEC únicamente", "International Mechanical Code (IMC) adoptado localmente con modificaciones", "OSHA standards"], correct: 2, explanation: "IMC es la base, pero jurisdicciones locales pueden adoptar con modificaciones. Fuente: IMC (International Mechanical Code) & UMC (Uniform Mechanical Code). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) No hay código nacional; B) NEC únicamente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Códigos", q: "Distancia mínima de clearance para condensadora de obstáculos según código típico?", options: ["No hay requisito", "6 pulgadas", "12-24 pulgadas mínimo dependiendo del lado y código local", "48 pulgadas"], correct: 2, explanation: "Códigos típicos requieren clearance para airflow y servicio - verifica código local específico. Fuente: IMC (International Mechanical Code) & UMC (Uniform Mechanical Code). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) No hay requisito; B) 6 pulgadas. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Códigos", q: "¿Cuándo necesitas permiso para trabajo HVAC en California?", options: ["Instalaciones nuevas, cambios de equipo, modificaciones de ductos", "Nunca para reparaciones", "Solo comercial", "Solo sobre $1000"], correct: 0, explanation: "Permisos son requeridos para instalaciones y cambios significativos - verifica con jurisdicción. Fuente: IMC (International Mechanical Code) & UMC (Uniform Mechanical Code). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Nunca para reparaciones; C) Solo comercial. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Códigos", q: "¿Qué es el IMC requirement para combustion air en furnaces?", options: ["Aire suficiente para combustión completa - cálculo basado en BTU input", "Solo ventilación natural", "No especificado", "Cualquier abertura"], correct: 0, explanation: "IMC especifica requisitos de combustion air basados en BTU input del equipo. Fuente: IMC (International Mechanical Code) & UMC (Uniform Mechanical Code). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Solo ventilación natural; C) No especificado. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Códigos", q: "Instalando furnace en garage. ¿Requisito especial de código?", options: ["Solo si hay auto", "Elevación mínima de 18 pulgadas para ignition source sobre piso", "Ninguno", "No permitido"], correct: 1, explanation: "Código requiere que fuentes de ignición estén elevadas en garages por vapores de gasolina. Fuente: IMC (International Mechanical Code) & UMC (Uniform Mechanical Code). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo si hay auto; C) Ninguno. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Códigos", q: "¿Qué certificación necesita refrigerant lineset penetración de firewall?", options: ["Ninguna", "Fire stopping con material rated y método aprobado", "Tape es suficiente", "Solo caulk"], correct: 1, explanation: "Penetraciones de firewall requieren fire stopping apropiado para mantener rating. Fuente: IMC (International Mechanical Code) & UMC (Uniform Mechanical Code). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Ninguna; C) Tape es suficiente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Códigos", q: "California Title 24: ¿qué requiere para instalaciones HVAC?", options: ["Solo eficiencia mínima", "Solo para comercial", "HERS testing, duct testing, documentación de eficiencia energética", "Igual que otros estados"], correct: 2, explanation: "Title 24 requiere verificación de eficiencia incluyendo duct testing y HERS inspections. Fuente: IMC (International Mechanical Code) & UMC (Uniform Mechanical Code). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo eficiencia mínima; B) Solo para comercial. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Códigos", q: "¿Cuál es el requisito de detector de CO cerca de furnace?", options: ["CO detector dentro de cierta distancia de fuel burning appliances - código local varía", "No requerido", "Solo para gas", "Solo si duerme cerca"], correct: 0, explanation: "Muchos códigos requieren CO detectors cerca de appliances de combustión - verifica local. Fuente: IMC (International Mechanical Code) & UMC (Uniform Mechanical Code). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) No requerido; C) Solo para gas. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Códigos", q: "Refrigerant piping en exterior. ¿Qué protección requiere código?", options: ["Enterrar siempre", "Ninguna", "Protección UV, soporte adecuado, y protección mecánica según aplicación", "Solo pintura"], correct: 2, explanation: "Lineset exterior necesita protección contra UV, soporte, y protección mecánica apropiada. Fuente: IMC (International Mechanical Code) & UMC (Uniform Mechanical Code). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Enterrar siempre; B) Ninguna. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Códigos", q: "¿Qué es el código requirement para desconexión eléctrica de A/C exterior?", options: ["Solo breaker interior", "No requerido", "Desconexión visible desde unidad dentro de cierta distancia", "Cualquier switch"], correct: 2, explanation: "NEC requiere desconexión visible desde el equipo para seguridad del técnico. Fuente: IMC (International Mechanical Code) & UMC (Uniform Mechanical Code). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo breaker interior; B) No requerido. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 18: MANTENIMIENTO PREVENTIVO COMERCIAL (30 preguntas) ===
        { category: "Mantenimiento Comercial", q: "¿Con qué frecuencia debe hacerse mantenimiento de rooftop comercial?", options: ["Anualmente", "Solo cuando falla", "Trimestral o mensual dependiendo del uso y ambiente", "Cada 5 años"], correct: 2, explanation: "Equipos comerciales típicamente requieren mantenimiento más frecuente que residencial. Fuente: ASHRAE Guideline 4 & Building Owners and Managers Association (BOMA). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Anualmente; B) Solo cuando falla. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Mantenimiento Comercial", q: "¿Qué incluye un PM típico de chiller centrifugo?", options: ["Oil analysis, tube inspection, control testing, refrigerant analysis, vibration", "Solo cambiar filtros", "Limpieza exterior", "Verificar temperaturas"], correct: 0, explanation: "PM de chiller es comprehensivo: análisis de aceite, inspección de tubos, controles, refrigerante. Fuente: ASHRAE Guideline 4 & Building Owners and Managers Association (BOMA). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Solo cambiar filtros; C) Limpieza exterior. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Mantenimiento Comercial", q: "Cooling tower: ¿qué tratamiento químico necesita?", options: ["Solo cloro", "Agua pura únicamente", "Scale inhibitor, biocide, corrosion inhibitor - programa completo", "Ninguno si hay blowdown"], correct: 2, explanation: "Torres requieren programa químico completo para prevenir scale, growth biológico y corrosión. Fuente: ASHRAE Guideline 4 & Building Owners and Managers Association (BOMA). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo cloro; B) Agua pura únicamente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Mantenimiento Comercial", q: "¿Cada cuánto cambias belts en AHU comercial?", options: ["Cada 5 años", "Cuando se rompen", "Inspección trimestral, reemplazo anual o según condición", "Mensualmente"], correct: 2, explanation: "Belts se inspeccionan frecuentemente y reemplazan antes de falla para evitar downtime. Fuente: ASHRAE Guideline 4 & Building Owners and Managers Association (BOMA). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Cada 5 años; B) Cuando se rompen. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Mantenimiento Comercial", q: "Sistema BAS muestra alarm history. ¿Cómo lo usas para mantenimiento?", options: ["Borrar regularmente", "Ignorar alarmas pasadas", "Solo para troubleshooting actual", "Analizar patrones para identificar problemas recurrentes y prevenir fallas"], correct: 3, explanation: "Alarm history revela patrones que indican problemas developing que puedes prevenir. Fuente: ASHRAE Guideline 4 & Building Owners and Managers Association (BOMA). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Borrar regularmente; B) Ignorar alarmas pasadas. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Mantenimiento Comercial", q: "¿Qué es predictive maintenance y cómo se diferencia de preventive?", options: ["Solo para equipos nuevos", "Predictive usa datos/condición para predecir fallas vs calendario fijo de preventive", "Predictive es después de falla", "Son lo mismo"], correct: 1, explanation: "Predictive maintenance basa intervención en condición real, no solo tiempo. Fuente: ASHRAE Guideline 4 & Building Owners and Managers Association (BOMA). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo para equipos nuevos; C) Predictive es después de falla. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Mantenimiento Comercial", q: "Oil analysis de compresor muestra metal particles. ¿Indica?", options: ["Normal", "Aceite sucio únicamente", "Cambiar aceite y continuar", "Desgaste interno - investigar causa y considerar reemplazo preventivo"], correct: 3, explanation: "Metal en aceite indica desgaste de bearings o componentes - problema serio developing. Fuente: ASHRAE Guideline 4 & Building Owners and Managers Association (BOMA). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Normal; B) Aceite sucio únicamente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Mantenimiento Comercial", q: "¿Cuál es el beneficio de maintenance agreement para cliente comercial?", options: ["Solo beneficia al contratista", "Obligación innecesaria", "Prioridad de servicio, presupuesto predecible, menos downtime, equipo dura más", "Solo descuento"], correct: 2, explanation: "Agreements benefician al cliente con servicio prioritario, costos predecibles y mejor uptime. Fuente: ASHRAE Guideline 4 & Building Owners and Managers Association (BOMA). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo beneficia al contratista; B) Obligación innecesaria. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Mantenimiento Comercial", q: "¿Cómo documentas mantenimiento para cumplir con warranty requirements?", options: ["No es necesario documentar", "Fotos únicamente", "Solo facturas", "Registros detallados: fecha, técnico, trabajo realizado, hallazgos, condición"], correct: 3, explanation: "Documentación detallada es crítica para warranty claims y para tracking de condición. Fuente: ASHRAE Guideline 4 & Building Owners and Managers Association (BOMA). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) No es necesario documentar; B) Fotos únicamente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Mantenimiento Comercial", q: "Filtros de AHU comercial. ¿Cómo determinas frecuencia de cambio?", options: ["Anualmente", "Cada mes siempre", "Solo cuando hay quejas", "Basado en differential pressure, condición visual, y ambiente"], correct: 3, explanation: "DP across filter y condiciones del edificio determinan frecuencia óptima de cambio. Fuente: ASHRAE Guideline 4 & Building Owners and Managers Association (BOMA). Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Anualmente; B) Cada mes siempre. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 19: VENTAS DE REEMPLAZO (30 preguntas) ===
        { category: "Ventas Reemplazo", q: "Sistema tiene 18 años y necesita reparación de $1,500. ¿Cómo presentas opciones?", options: ["Presionar solo reemplazo", "Solo ofrecer reparación", "Presentar ambas: reparar vs reemplazar con análisis de costo-beneficio", "Decidir por el cliente"], correct: 2, explanation: "Da información honesta de ambas opciones para que el cliente decida informadamente. Fuente: ACCA Sales Training & Replacement Equipment Guidelines. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Presionar solo reemplazo; B) Solo ofrecer reparación. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Ventas Reemplazo", q: "¿Cómo calculas payback de equipo más eficiente?", options: ["No es calculable", "Diferencia de costo ÷ ahorro anual estimado = años de payback", "Solo usar rating de eficiencia", "Siempre es 5 años"], correct: 1, explanation: "Payback = inversión adicional ÷ ahorro anual proyectado basado en uso y tarifas. Fuente: ACCA Sales Training & Replacement Equipment Guidelines. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) No es calculable; C) Solo usar rating de eficiencia. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Ventas Reemplazo", q: "Cliente dice que no tiene presupuesto para reemplazo. ¿Opciones?", options: ["Insistir en reemplazo", "Ofrecer financiamiento, opciones de menor costo, o reparación como bridge", "Solo reparar", "Perder el trabajo"], correct: 1, explanation: "Ofrece opciones: financiamiento, equipo diferente, o reparación si es viable. Fuente: ACCA Sales Training & Replacement Equipment Guidelines. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Insistir en reemplazo; C) Solo reparar. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Ventas Reemplazo", q: "¿Cuándo es reparación mejor opción que reemplazo?", options: ["Siempre reparar primero", "Solo si cliente insiste", "Equipo relativemente nuevo, reparación <50% valor de reemplazo, sin otros problemas", "Nunca después de 10 años"], correct: 2, explanation: "Reparación tiene sentido si el equipo tiene vida útil restante y el costo es razonable. Fuente: ACCA Sales Training & Replacement Equipment Guidelines. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Siempre reparar primero; B) Solo si cliente insiste. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Ventas Reemplazo", q: "¿Qué factores incluyes en propuesta de reemplazo además del equipo?", options: ["Precio total únicamente", "Permisos, modificaciones necesarias, ductwork, electrical, disposición, garantías", "Solo marca y modelo", "Solo equipo y labor"], correct: 1, explanation: "Propuesta completa incluye todo el scope para evitar sorpresas y change orders. Fuente: ACCA Sales Training & Replacement Equipment Guidelines. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Precio total únicamente; C) Solo marca y modelo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Ventas Reemplazo", q: "Cliente pregunta por qué tu precio es $2,000 más que competidor. ¿Respuesta?", options: ["Criticar al competidor", "Bajar al mismo precio", "No explicar, solo ofertar", "Explicar diferencias: calidad de instalación, garantías, servicio, materiales"], correct: 3, explanation: "Diferénciate por valor agregado que el cliente no está viendo en la otra propuesta. Fuente: ACCA Sales Training & Replacement Equipment Guidelines. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Criticar al competidor; B) Bajar al mismo precio. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Ventas Reemplazo", q: "Good-Better-Best pricing. ¿Por qué usarlo?", options: ["Confundir al cliente", "Solo vender el más caro", "Dar opciones que satisfacen diferentes presupuestos y necesidades", "No funciona en HVAC"], correct: 2, explanation: "Múltiples opciones empoderan al cliente y típicamente venden opción media o alta. Fuente: ACCA Sales Training & Replacement Equipment Guidelines. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Confundir al cliente; B) Solo vender el más caro. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Ventas Reemplazo", q: "¿Cuál es el mejor momento para discutir reemplazo con cliente?", options: ["Durante mantenimiento o reparación cuando pueden evaluar sin presión de emergencia", "Nunca mencionar", "Solo en verano", "Cuando falla completamente"], correct: 0, explanation: "Discutir opciones proactivamente evita decisiones apuradas en emergencias. Fuente: ACCA Sales Training & Replacement Equipment Guidelines. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Nunca mencionar; C) Solo en verano. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Ventas Reemplazo", q: "Cliente acepta propuesta. ¿Qué haces antes de salir?", options: ["Confirmar scope, obtener firma, discutir logística, agradecer la confianza", "Programar y salir", "Nada más", "Solo cobrar depósito"], correct: 0, explanation: "Asegura que expectativas estén claras y el cliente se sienta bien con su decisión. Fuente: ACCA Sales Training & Replacement Equipment Guidelines. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Programar y salir; C) Nada más. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Ventas Reemplazo", q: "¿Cuánto depósito es razonable pedir para instalación residencial?", options: ["Nada", "100% adelantado", "25-50% dependiendo del monto total", "Solo al terminar"], correct: 2, explanation: "25-50% de depósito es típico para cubrir materiales y compromiso. Fuente: ACCA Sales Training & Replacement Equipment Guidelines. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Nada; B) 100% adelantado. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 20: ESCENARIOS INTEGRADOS - DUEÑO DE COMPAÑÍA (50 preguntas) ===
        { category: "Escenario Integrado", q: "Lunes 7am: 2 técnicos llamaron enfermos, 8 service calls programados. ¿Qué haces?", options: ["Priorizar por urgencia, reprogramar lo posible, comunicar proactivamente", "Cancelar todos los calls", "Hacer todos tú mismo", "Contratar temp workers"], correct: 0, explanation: "Prioriza emergencias, comunica con clientes afectados, y maneja expectativas profesionalmente. Fuente: RSES Service Application Manual & Field Troubleshooting Guide. Estos escenarios combinan múltiples habilidades como en el trabajo real. Las otras opciones son incorrectas: B) Cancelar todos los calls; C) Hacer todos tú mismo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Integrado", q: "Cliente comercial importante amenaza con cancelar contrato. ¿Tu respuesta?", options: ["Ignorar amenaza", "Reunión para entender problemas, plan de acción, posible concesión si justificado", "Dejar que cancele", "Bajar precio automáticamente"], correct: 1, explanation: "Escucha sus concerns, crea plan de mejora, y decide si la relación vale el esfuerzo. Fuente: RSES Service Application Manual & Field Troubleshooting Guide. Estos escenarios combinan múltiples habilidades como en el trabajo real. Las otras opciones son incorrectas: A) Ignorar amenaza; C) Dejar que cancele. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Integrado", q: "Técnico top quiere $5/hora más o se va a competidor. ¿Cómo manejas?", options: ["Contraofertar $2", "Dar todo lo que pide", "Evaluar su valor real, comparar con mercado, negociar package completo", "Dejarlo ir"], correct: 2, explanation: "Evalúa objetivamente: su contribución, costo de reemplazo, y presupuesto realista. Fuente: RSES Service Application Manual & Field Troubleshooting Guide. Estos escenarios combinan múltiples habilidades como en el trabajo real. Las otras opciones son incorrectas: A) Contraofertar $2; B) Dar todo lo que pide. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Integrado", q: "Instalación terminada pero equipo hace ruido anormal. Cliente llama enojado. ¿Acción?", options: ["Ir o enviar senior tech inmediatamente, diagnosticar, resolver, seguimiento", "Esperar a que se queje más", "Culpar al fabricante", "Decir que es normal"], correct: 0, explanation: "Responde rápido, diagnostica profesionalmente, y resuelve para mantener la relación. Fuente: RSES Service Application Manual & Field Troubleshooting Guide. Estos escenarios combinan múltiples habilidades como en el trabajo real. Las otras opciones son incorrectas: B) Esperar a que se queje más; C) Culpar al fabricante. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Integrado", q: "Van de servicio involucrada en accidente. Tu técnico tiene la culpa. ¿Pasos?", options: ["Esconder información", "Solo intercambiar información", "Asegurar que técnico esté bien, documentar, reportar a seguro, investigar internamente", "Despedir al técnico"], correct: 2, explanation: "Prioriza seguridad, documenta todo, notifica seguro, y maneja proceso internamente. Fuente: RSES Service Application Manual & Field Troubleshooting Guide. Estos escenarios combinan múltiples habilidades como en el trabajo real. Las otras opciones son incorrectas: A) Esconder información; B) Solo intercambiar información. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Integrado", q: "Recibes queja formal de acoso de un empleado sobre otro. ¿Proceso?", options: ["Despedir al acusado", "Investigación documentada, confidencial, acción apropiada según findings", "Ignorar si no hay testigos", "Decirles que lo resuelvan"], correct: 1, explanation: "Toma quejas seriamente, investiga objetivamente, documenta, y actúa apropiadamente. Fuente: RSES Service Application Manual & Field Troubleshooting Guide. Estos escenarios combinan múltiples habilidades como en el trabajo real. Las otras opciones son incorrectas: A) Despedir al acusado; C) Ignorar si no hay testigos. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Integrado", q: "Julio muy lento, nómina excede ingresos por $15K. ¿Opciones?", options: ["Ignorar un mes malo", "Despedir gente", "Marketing push, reducir horas temporalmente, usar tiempo para training, evaluar costos", "Pedir préstamo"], correct: 2, explanation: "Combina acciones: genera ingresos, reduce costos temporalmente, invierte en mejoras. Fuente: RSES Service Application Manual & Field Troubleshooting Guide. Estos escenarios combinan múltiples habilidades como en el trabajo real. Las otras opciones son incorrectas: A) Ignorar un mes malo; B) Despedir gente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Integrado", q: "Inspector falla tu instalación por tema que crees incorrecto. ¿Cómo procedes?", options: ["Discutir agresivamente", "Entender su posición, revisar código, si tienes razón escalar profesionalmente", "Sobornar inspector", "Rehacer sin cuestionar"], correct: 1, explanation: "Comunica profesionalmente, presenta tu interpretación, escala si necesario sin antagonizar. Fuente: RSES Service Application Manual & Field Troubleshooting Guide. Estos escenarios combinan múltiples habilidades como en el trabajo real. Las otras opciones son incorrectas: A) Discutir agresivamente; C) Sobornar inspector. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Integrado", q: "Oportunidad de crecer 50% con contrato comercial grande. Riesgos a considerar.", options: ["Rechazar growth", "Cash flow, capacidad de personal, quality control, dependencia de un cliente", "Ninguno, siempre crecer", "Solo cash flow"], correct: 1, explanation: "Crecimiento rápido tiene riesgos: capital, personal, calidad. Evalúa antes de comprometer. Fuente: RSES Service Application Manual & Field Troubleshooting Guide. Estos escenarios combinan múltiples habilidades como en el trabajo real. Las otras opciones son incorrectas: A) Rechazar growth; C) Ninguno, siempre crecer. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Integrado", q: "Empleado de 5 años quiere ser socio. ¿Cómo evalúas?", options: ["Evaluar contribución, alineación de valores, capacidad, estructura que funcione para ambos", "Solo si invierte dinero", "Darle porcentaje por lealtad", "Siempre decir no"], correct: 0, explanation: "Partnership es decisión grande. Evalúa compatibilidad y estructura cuidadosamente. Fuente: RSES Service Application Manual & Field Troubleshooting Guide. Estos escenarios combinan múltiples habilidades como en el trabajo real. Las otras opciones son incorrectas: B) Solo si invierte dinero; C) Darle porcentaje por lealtad. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Integrado", q: "Cliente se resbala en tu equipo dejado en piso. Dice que está lastimado. ¿Proceso?", options: ["Pagar para callarlo", "Culpar al cliente", "Documentar incidente, tomar información, reportar a seguro, no admitir culpa verbalmente", "Negar responsabilidad"], correct: 2, explanation: "Documenta factualmente, notifica seguro, no hagas declaraciones de culpa - deja que seguro maneje. Fuente: RSES Service Application Manual & Field Troubleshooting Guide. Estos escenarios combinan múltiples habilidades como en el trabajo real. Las otras opciones son incorrectas: A) Pagar para callarlo; B) Culpar al cliente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Integrado", q: "Competidor está spreading rumores falsos sobre tu compañía. ¿Respuesta?", options: ["Ignorar siempre", "Spread rumors también", "Confrontar públicamente", "Enfócate en tu reputación positiva, considera acción legal si es serio"], correct: 3, explanation: "Enfócate en construir tu reputación. Si es serio, consulta abogado sobre difamación. Fuente: RSES Service Application Manual & Field Troubleshooting Guide. Estos escenarios combinan múltiples habilidades como en el trabajo real. Las otras opciones son incorrectas: A) Ignorar siempre; B) Spread rumors también. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Integrado", q: "Tu mejor técnico acaba de abrir su propia compañía y está contactando a tus clientes.", options: ["Nada se puede hacer", "Demandarlo", "Bajar precios para competir", "Evaluar non-compete si existe, enfócate en servicio excelente, considera mejoras"], correct: 3, explanation: "Revisa acuerdos legales, pero enfócate en ser mejor opción para tus clientes. Fuente: RSES Service Application Manual & Field Troubleshooting Guide. Estos escenarios combinan múltiples habilidades como en el trabajo real. Las otras opciones son incorrectas: A) Nada se puede hacer; B) Demandarlo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Integrado", q: "Supply house aumenta precios 15%. ¿Cómo manejas?", options: ["Absorber costo", "Evaluar otras fuentes, negociar, ajustar pricing si necesario, comunicar valor a clientes", "Subir precios 30%", "Cambiar inmediatamente"], correct: 1, explanation: "Explora opciones, negocia, y ajusta pricing gradualmente si necesario. Fuente: RSES Service Application Manual & Field Troubleshooting Guide. Estos escenarios combinan múltiples habilidades como en el trabajo real. Las otras opciones son incorrectas: A) Absorber costo; C) Subir precios 30%. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Integrado", q: "Técnico reporta que compañero usa sustancias en el trabajo. ¿Procedimiento?", options: ["Despedir inmediatamente", "Investigar confidencialmente, confrontar con policy, drug test si policy lo permite", "Ignorar si no ves evidencia", "Solo hablar con él"], correct: 1, explanation: "Sigue tu policy de substance abuse, investiga apropiadamente, documenta todo. Fuente: RSES Service Application Manual & Field Troubleshooting Guide. Estos escenarios combinan múltiples habilidades como en el trabajo real. Las otras opciones son incorrectas: A) Despedir inmediatamente; C) Ignorar si no ves evidencia. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Integrado", q: "Cliente de maintenance agreement llama constantemente con quejas menores. ¿Balance?", options: ["Responder a todo igual", "Cobrar por cada visita extra", "Cancelar su contrato", "Establecer expectativas claras de qué cubre agreement, servicio profesional consistente"], correct: 3, explanation: "Clarifica scope de acuerdo, maneja expectativas, evalúa si la relación es viable. Fuente: RSES Service Application Manual & Field Troubleshooting Guide. Estos escenarios combinan múltiples habilidades como en el trabajo real. Las otras opciones son incorrectas: A) Responder a todo igual; B) Cobrar por cada visita extra. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Integrado", q: "Licitación para contrato escolar: ganas pero margen es bajo. ¿Aceptas?", options: ["Evaluar estratégicamente: referencia, consistencia, relación a largo plazo", "Aceptar cualquier trabajo", "Siempre rechazar margen bajo", "Renegociar después de ganar"], correct: 0, explanation: "Contratos de bajo margen pueden valer si hay beneficios estratégicos - decide conscientemente. Fuente: RSES Service Application Manual & Field Troubleshooting Guide. Estos escenarios combinan múltiples habilidades como en el trabajo real. Las otras opciones son incorrectas: B) Aceptar cualquier trabajo; C) Siempre rechazar margen bajo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Integrado", q: "Tu dispatcher tiene conflicto con técnicos constantemente. ¿Cómo abordas?", options: ["Despedir dispatcher", "Investigar causa raíz, mediar, training, o cambios si no mejora", "Ignorar mientras funcione", "Poner a técnico como dispatcher"], correct: 1, explanation: "Entiende la dinámica, facilita comunicación, y toma acción si no mejora con coaching. Fuente: RSES Service Application Manual & Field Troubleshooting Guide. Estos escenarios combinan múltiples habilidades como en el trabajo real. Las otras opciones son incorrectas: A) Despedir dispatcher; C) Ignorar mientras funcione. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Integrado", q: "Ofrecen comprarte la compañía. ¿Qué evaluación haces?", options: ["Valuation profesional, tus metas personales, estructura del deal, due diligence", "Nunca vender", "Vender si precio parece bueno", "Decidir basado solo en precio"], correct: 0, explanation: "Considera múltiples factores: valor real, tus planes, términos, y si es lo mejor para ti. Fuente: RSES Service Application Manual & Field Troubleshooting Guide. Estos escenarios combinan múltiples habilidades como en el trabajo real. Las otras opciones son incorrectas: B) Nunca vender; C) Vender si precio parece bueno. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Integrado", q: "COVID u otra emergencia afecta tu operación. ¿Elementos de plan de continuidad?", options: ["Solo esperar que pase", "No se puede planear", "Cerrar temporalmente", "Comunicación, protocolos de seguridad, trabajo remoto donde aplique, financiamiento de emergencia"], correct: 3, explanation: "Plan de continuidad incluye comunicación, seguridad, operación adaptada, y reservas financieras. Fuente: RSES Service Application Manual & Field Troubleshooting Guide. Estos escenarios combinan múltiples habilidades como en el trabajo real. Las otras opciones son incorrectas: A) Solo esperar que pase; B) No se puede planear. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        
        // === SECCIÓN 21: PREGUNTAS TÉCNICAS AVANZADAS MIXTAS (72 preguntas adicionales para completar 500) ===
        { category: "Técnico Avanzado", q: "Sistema VRF de 20 toneladas con 12 unidades interiores. Outdoor muestra código de low pressure. ¿Diagnóstico sistemático?", options: ["Verificar todas las válvulas, revisar cada unidad, check outdoor coil, sensors", "Solo las unidades afectadas", "Reemplazar outdoor", "Agregar refrigerante"], correct: 0, explanation: "Problema de baja presión en VRF requiere verificación sistemática del sistema completo. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Solo las unidades afectadas; C) Reemplazar outdoor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Compresor trifásico mide: L1-L2: 475V, L2-L3: 485V, L3-L1: 460V. ¿Problema?", options: ["Balanceado perfectamente", "Voltaje normal", "Desbalance de 5% - puede causar overheating y falla prematura", "Solo un poco alto"], correct: 2, explanation: "Desbalance de voltaje sobre 2% causa problemas. 5% es significativo. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Balanceado perfectamente; B) Voltaje normal. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "¿Cómo verificas charge en sistema con orifice fijo vs TXV?", options: ["Solo por presiones", "Orifice: por superheat. TXV: por subcooling", "Igual método", "Por temperatura de aire"], correct: 1, explanation: "Orifice fijo controla por superheat. TXV controla superheat, entonces usas subcooling. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo por presiones; C) Igual método. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Sistema con head pressure muy baja en invierno. ¿Solución típica?", options: ["Agregar refrigerante", "Head pressure control: fan cycling, dampers, o flood back", "Es normal en invierno", "Cambiar refrigerante"], correct: 1, explanation: "Head pressure control mantiene presión suficiente para TXV en temperaturas bajas. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Agregar refrigerante; C) Es normal en invierno. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Megger test de compresor muestra 2 megohms a tierra. ¿Es aceptable?", options: ["Perfecto", "Marginal - bajo 1 megohm por kV de rating es preocupante, monitorear", "Muy bueno", "Inaceptable, cambiar"], correct: 1, explanation: "2 megohms es bajo. La regla es mínimo 1 megohm por 1kV de rating más 1 megohm. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Perfecto; C) Muy bueno. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "¿Qué indica oil foaming en sight glass de compresor?", options: ["Muy poco aceite", "Nivel correcto", "Refrigerante disuelto en aceite - posible slugging risk al arrancar", "Aceite nuevo"], correct: 2, explanation: "Foaming indica refrigerante en aceite que puede causar problemas al arrancar. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Muy poco aceite; B) Nivel correcto. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Heat pump defrost termina prematuramente. Coil todavía tiene hielo. ¿Causas?", options: ["Defrost terminate sensor/timer mal, carga baja, o airflow problem", "Normal", "Defrost muy efectivo", "Ajustar timer"], correct: 0, explanation: "Defrost prematuro deja hielo - verifica sensor, timer, y condiciones de operación. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Normal; C) Defrost muy efectivo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Sistema de refrigeración comercial con alta humidity en walk-in. ¿Causas?", options: ["Infiltración, defrost frecuente, o coil temperature alta", "Normal", "Demasiado airflow", "Muy frío adentro"], correct: 0, explanation: "Alta humedad viene de infiltración o temperatura de coil no suficientemente baja. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Normal; C) Demasiado airflow. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Ductless mini split: diferencia de temperatura entre aire y coil muy grande. ¿Indica?", options: ["Normal para mini split", "Alta eficiencia", "Carga alta", "Blower wheel sucio, coil sucio, o airflow obstruido"], correct: 3, explanation: "Gran diferencia indica pobre transferencia de calor por suciedad o restricción. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Normal para mini split; B) Alta eficiencia. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Sistema geotérmico con antifreeze. ¿Cada cuánto verificar concentración?", options: ["Cada 5 años", "Nunca", "Solo si hay problemas", "Anualmente y después de cualquier trabajo en loop"], correct: 3, explanation: "Concentración de antifreeze debe verificarse regularmente para protección adecuada. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Cada 5 años; B) Nunca. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "¿Qué causa hot gas bypass valve y cuándo se usa?", options: ["Bypass de líquido", "Para calefacción", "Solo en industrial", "Reduce capacidad sin cycling cuando carga es baja"], correct: 3, explanation: "Hot gas bypass permite operación a baja carga sin short cycling. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Bypass de líquido; B) Para calefacción. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Sistema con múltiples evaporadores y una TXV hunting. ¿Afecta a otros?", options: ["Solo el evaporador local", "No", "Sí, afecta presión de succión y puede causar problemas en otros evaporadores", "Mejora otros"], correct: 2, explanation: "TXV hunting afecta succión común, potencialmente causando problemas en otros evaporadores. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo el evaporador local; B) No. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Furnace code: 'limit switch open'. ¿Qué verificas primero?", options: ["Cambiar gas valve", "Reemplazar limit switch", "Airflow: filtro, blower, returns, registros cerrados", "Ajustar limit"], correct: 2, explanation: "Limit abierto usualmente indica sobrecalentamiento por bajo airflow, no limit defectuoso. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Cambiar gas valve; B) Reemplazar limit switch. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Sistema R-410A con presiones correctas pero bajo rendimiento. ¿Posible causa?", options: ["Non-condensables (aire) en sistema elevando presiones falsamente", "Imposible", "Equipo incorrecto", "Nada que hacer"], correct: 0, explanation: "Aire en sistema eleva presiones sin agregar capacidad de enfriamiento útil. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Imposible; C) Equipo incorrecto. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "¿Cómo identificas si hay aire en sistema de refrigeración?", options: ["No se puede saber", "Solo por burbujeo", "Mirilla muestra burbujas", "Presión de cabeza más alta de lo esperado para temperatura de condensación"], correct: 3, explanation: "Non-condensables causan presión de cabeza elevada relativa a temperatura de condensación. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) No se puede saber; B) Solo por burbujeo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Package unit hace cycling on/off cada 2 minutos. ¿Diagnóstico inicial?", options: ["Cambiar termostato", "Agregar timer", "Normal", "Verificar presostatos, refrigerant charge, airflow, y controles"], correct: 3, explanation: "Short cycling indica protección activándose - encuentra la causa antes de hacer cambios. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Cambiar termostato; B) Agregar timer. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Sistema con economizer stuck open en verano. ¿Consecuencias?", options: ["Aire caliente/húmedo entrando, sistema no enfría bien, alto consumo", "Ninguna", "Más ventilación es buena", "Solo desperdicia energía"], correct: 0, explanation: "Economizer open en verano mete calor adicional y húmedad, sobrecargando el sistema. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Ninguna; C) Más ventilación es buena. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Compresor de tornillo muestra alta temperatura de descarga. ¿Causas?", options: ["Siempre cambiar aceite", "Oil injection problem, unloader issue, o relación de compresión alta", "Normal para tornillo", "Refrigerante incorrecto"], correct: 1, explanation: "Compresores de tornillo dependen de oil injection para cooling - problemas aquí causan alta temperatura. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Siempre cambiar aceite; C) Normal para tornillo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "¿Qué es oil equalizing en sistema de múltiples compresores?", options: ["Oil separator", "Oil return line", "Cambio de aceite", "Conexión que permite balance de aceite entre compresores operando juntos"], correct: 3, explanation: "Oil equalizing conecta carters para evitar que un compresor se quede sin aceite. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Oil separator; B) Oil return line. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Sistema con crankcase heater desconectado por 2 semanas. ¿Riesgo al arrancar?", options: ["Ninguno", "Solo ruido", "Liquid slugging por refrigerante migrado al aceite", "Mejor eficiencia"], correct: 2, explanation: "Sin crankcase heat, refrigerante migra al aceite y puede causar slugging al arrancar. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Ninguno; B) Solo ruido. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Refrigerant leak detector no detecta fuga obvia. ¿Posibles razones?", options: ["No hay fuga", "Sensor saturado, batería baja, viento, o interferencia de otros gases", "Detector defectuoso seguro", "Refrigerante diferente"], correct: 1, explanation: "Detectores pueden saturarse o tener otros problemas - usa múltiples métodos de detección. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) No hay fuga; C) Detector defectuoso seguro. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "¿Cuál es subcooling normal para sistema con receiver?", options: ["Puede variar ampliamente - depende de nivel de líquido en receiver", "Siempre 10°F", "0°F", "15-20°F"], correct: 0, explanation: "Sistemas con receiver pueden tener subcooling variable dependiendo de nivel y condiciones. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Siempre 10°F; C) 0°F. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Control board muestra código de 'reversed polarity'. ¿Qué significa?", options: ["Solo reset", "Línea y neutral están invertidos - corregir antes de operar", "Problema de voltaje", "Nada importante"], correct: 1, explanation: "Polaridad invertida puede causar problemas de seguridad y operación - corregir inmediatamente. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo reset; C) Problema de voltaje. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Sistema con TXV hunting constantemente. Bulbo bien posicionado. ¿Otras causas?", options: ["TXV oversized", "Nada más que hacer", "Carga baja, liquid line restriction, or TXV failing internally", "Siempre el bulbo"], correct: 2, explanation: "Hunting puede ser por carga incorrecta, restricción, o TXV defectuosa internamente. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) TXV oversized; B) Nada más que hacer. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Rooftop commercial con static pressure muy alto. ¿Efectos y causas?", options: ["Sin efectos", "Menos airflow, ruido, sistema trabaja más - verificar filtros, dampers, ductos", "Mejor distribución", "Mayor eficiencia"], correct: 1, explanation: "Alta presión estática reduce airflow y eficiencia - identifica la restricción. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Sin efectos; C) Mejor distribución. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "¿Cuál es el approach temperature típico para condensador air-cooled?", options: ["10-20°F sobre temperatura de aire ambiente", "5°F", "30-40°F", "Igual que aire"], correct: 0, explanation: "Condensadores air-cooled típicamente tienen approach de 10-20°F sobre temperatura de aire. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) 5°F; C) 30-40°F. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Sistema de refrigeración con oil separator returning oil espumoso. ¿Indica?", options: ["Necesita más aceite", "Muy eficiente", "Refrigerante mezclado con aceite - posible valve problem o sistema mal diseñado", "Normal"], correct: 2, explanation: "Aceite espumoso indica refrigerante en aceite que no se separó correctamente. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Necesita más aceite; B) Muy eficiente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "VFD driven chiller showing harmonic distortion. ¿Consecuencias?", options: ["Solo ruido", "Calentamiento de transformers, interference con otros equipos, premature failure", "Más eficiente", "Ninguna"], correct: 1, explanation: "Harmonic distortion puede causar problemas en todo el sistema eléctrico del edificio. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo ruido; C) Más eficiente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Sistema con sight glass llena de burbujas pero subcooling es correcto. ¿Explicación?", options: ["Carga correcta seguro", "Impossible", "Sight glass defectuoso", "Restricción antes de sight glass causando flash gas local"], correct: 3, explanation: "Restricción parcial puede causar flash gas antes de sight glass aunque sistema tenga buena carga. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Carga correcta seguro; B) Impossible. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "¿Qué es delta P en válvula de expansión y por qué importa?", options: ["Temperatura diferente", "No importa", "Solo para TXV", "Diferencia de presión across valve - determina capacidad y operación correcta"], correct: 3, explanation: "Delta P across expansion device determina flujo de refrigerante y capacidad. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Temperatura diferente; B) No importa. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Heat pump running in heat mode but blowing cold air. Reversing valve energized. ¿Next step?", options: ["Add refrigerant", "Replace thermostat", "Check if valve actually reversed - compare line temperatures to expected", "Defrost cycle"], correct: 2, explanation: "Verifica que la válvula realmente haya cambiado comparando temperaturas de líneas. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Add refrigerant; B) Replace thermostat. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Avanzado", q: "Sistema con constant high superheat regardless of charge adjustment. ¿Possible cause?", options: ["Overcharged", "Normal for this system", "TXV stuck closed, plugged inlet screen, or sensing bulb lost charge", "Just add more"], correct: 2, explanation: "Superheat constantemente alto sugiere TXV no abriendo suficiente - problema en válvula. Fuente: NATE Advanced Certification & ASHRAE Handbook Series. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Overcharged; B) Normal for this system. Fuente: HVAC Excellence Training Manual & Industry Standards." }
        ,
        // === SECCIÓN 22: PREGUNTAS ADICIONALES PARA COMPLETAR 500 ===
        { category: "EPA Avanzado", q: "¿Qué es la regla de minimis en recuperación de refrigerante?", options: ["Mínimo de fuga permitido", "No existe tal regla", "Recuperar todo siempre", "Pequeñas cantidades inevitables durante conexión/desconexión no se penalizan"], correct: 3, explanation: "De minimis permite pérdidas incidentales pequeñas durante procedimientos normales. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Mínimo de fuga permitido; B) No existe tal regla. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "EPA Avanzado", q: "Sistema con 150 lbs de R-404A tiene fuga de 15%. ¿Tienes que reportar?", options: ["Sí, excede 30% threshold anual para refrigeración", "Solo a tu jefe", "No, bajo threshold", "Solo si es comercial"], correct: 0, explanation: "15% no excede el 30% anual, pero debes documentar y reparar dentro de 30 días. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Solo a tu jefe; C) No, bajo threshold. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "EPA Avanzado", q: "¿Cuál es el requisito de record keeping para cilindros de recuperación?", options: ["Solo por 1 año", "Solo peso", "No hay requisito", "Documentar tipo, cantidad, y destino final del refrigerante"], correct: 3, explanation: "Debes mantener registros de todo refrigerante recuperado por mínimo 3 años. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo por 1 año; B) Solo peso. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "EPA Avanzado", q: "Cliente quiere que ventees R-410A para reparar más rápido. ¿Respuesta?", options: ["OK si es poco", "Rechazar - es ilegal y las multas son severas", "Permitido en emergencia", "Solo si firma waiver"], correct: 1, explanation: "Ventear es ilegal independientemente de la cantidad o urgencia. No hay excepciones para HFCs. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) OK si es poco; C) Permitido en emergencia. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA Avanzado", q: "¿Cuál es tu responsabilidad OSHA si subcontratas trabajo?", options: ["Ninguna, es del sub", "Solo si pagas directo", "Solo en tu sitio", "Asegurar que el sub cumpla con OSHA - multi-employer responsibility"], correct: 3, explanation: "Como general contractor tienes responsabilidad de asegurar cumplimiento en tu sitio. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Ninguna, es del sub; B) Solo si pagas directo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA Avanzado", q: "Técnico se niega a usar PPE. Ya advertiste dos veces. ¿Siguiente paso?", options: ["Aceptar su decisión", "Disciplina escrita, posible suspensión o terminación", "Reportar a OSHA", "Hacerlo firmar waiver"], correct: 1, explanation: "Violaciones repetidas de seguridad justifican disciplina progresiva hasta terminación. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Aceptar su decisión; C) Reportar a OSHA. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA Avanzado", q: "¿Qué es competent person según OSHA y cuándo necesitas uno?", options: ["Solo para excavación", "Persona designada con conocimiento para identificar hazards - requerido en ciertos trabajos", "No aplica a HVAC", "Cualquier supervisor"], correct: 1, explanation: "Competent person es requerido para trabajos específicos como scaffolding, excavation, etc. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo para excavación; C) No aplica a HVAC. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA Avanzado", q: "Accidente resulta en hospitalización. ¿Cuándo reportas a OSHA?", options: ["48 horas", "Una semana", "24 horas para hospitalizaciones, amputaciones, o pérdida de ojo", "No es necesario"], correct: 2, explanation: "Hospitalizaciones, amputaciones, y pérdida de ojo se reportan a OSHA dentro de 24 horas. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) 48 horas; B) Una semana. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración Avanzada", q: "Tu experiencia modifier (mod rate) para workers comp es 1.2. ¿Qué significa?", options: ["20% descuento", "Normal", "Excelente", "20% más que industria promedio por historial de claims - pagas más"], correct: 3, explanation: "Mod de 1.2 significa 20% sobre promedio por historial. Mejora con menos claims. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) 20% descuento; B) Normal. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración Avanzada", q: "¿Cómo reduces tu experience modifier rate?", options: ["No se puede cambiar", "Reducir accidentes, return-to-work program, safety program documentado", "Pagar más premium", "Cambiar de aseguradora"], correct: 1, explanation: "Mod rate se basa en historial de claims. Menos accidentes = mejor rate con el tiempo. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) No se puede cambiar; C) Pagar más premium. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración Avanzada", q: "¿Qué es audit de workers comp y cómo te afecta?", options: ["Solo para compañías grandes", "Verificación de nómina real vs estimada - puede resultar en cobro adicional o refund", "Opcional", "Cada 5 años"], correct: 1, explanation: "Audits anuales verifican que nómina real coincida con lo estimado para ajustar premium. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo para compañías grandes; C) Opcional. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Administración Avanzada", q: "Empleado usa van de compañía para uso personal sin permiso. ¿Problema?", options: ["No si tiene licencia", "OK si es poco", "Viola policy, liability issues, y posible robo de servicios", "Solo issue de gas"], correct: 2, explanation: "Uso no autorizado crea liability y viola políticas - debe abordarse. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) No si tiene licencia; B) OK si es poco. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas Avanzado", q: "Tu DSO (Days Sales Outstanding) es 52 días. ¿Es bueno?", options: ["Promedio - idealmente bajo 45 días para HVAC residencial", "No importa", "Muy malo", "Excelente"], correct: 0, explanation: "DSO de 52 días es aceptable pero mejorable. Menos días = mejor cash flow. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) No importa; C) Muy malo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas Avanzado", q: "¿Cómo calculas tu true labor cost per hour?", options: ["Solo salario", "Salario + taxes + benefits + workers comp + training ÷ horas productivas", "Salario × 1.1", "Promedio de industry"], correct: 1, explanation: "True labor cost incluye todos los costos del empleado, no solo salario. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo salario; C) Salario × 1.1. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas Avanzado", q: "Qué es contribution margin y por qué importa?", options: ["Margen de ganancia", "Solo para manufactura", "Revenue - variable costs = lo disponible para cubrir fixed costs y profit", "Costo de materiales"], correct: 2, explanation: "Contribution margin muestra cuánto contribuye cada venta a cubrir overhead y ganancia. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Margen de ganancia; B) Solo para manufactura. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Finanzas Avanzado", q: "Tu ratio de current assets vs current liabilities es 0.8. ¿Problema?", options: ["Sí, bajo 1.0 indica problemas potenciales de liquidez", "Excelente", "No importa", "Normal para HVAC"], correct: 0, explanation: "Current ratio bajo 1.0 significa más deudas corto plazo que assets - riesgo de cash flow. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Excelente; C) No importa. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Gestión Avanzada", q: "¿Cómo creas culture de accountability en tu equipo?", options: ["No es posible", "Expectativas claras, medición, reconocimiento, y consecuencias consistentes", "Solo bonos", "Amenazas"], correct: 1, explanation: "Accountability viene de expectativas claras, medición, y consecuencias predecibles. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) No es posible; C) Solo bonos. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Gestión Avanzada", q: "Técnico de alto rendimiento tiene actitud negativa que afecta al equipo. ¿Balance?", options: ["Despedirlo inmediatamente", "Coaching sobre comportamiento específico, consecuencias si no mejora", "Ignorar actitud", "Tolerarlo por producción"], correct: 1, explanation: "Alto rendimiento no excusa comportamiento tóxico. Aborda directamente con expectativas claras. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Despedirlo inmediatamente; C) Ignorar actitud. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Gestión Avanzada", q: "¿Cuál es el costo real de tener posición vacante por 30 días?", options: ["Beneficio por no pagar", "Solo el salario ahorrado", "No se puede calcular", "Lost revenue, overtime de otros, stress de equipo, posibles clientes perdidos"], correct: 3, explanation: "Vacantes cuestan en productividad perdida, overtime, y potencial pérdida de negocio. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Beneficio por no pagar; B) Solo el salario ahorrado. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Gestión Avanzada", q: "¿Cómo manejas empleado que constantemente llega 5-10 minutos tarde?", options: ["Ignorar si es poco", "Ajustar su horario", "Documentar, conversación privada, expectativas claras, disciplina si continúa", "Solo descontar pago"], correct: 2, explanation: "Pequeñas violaciones repetidas se abordan igual que otras - consistencia es clave. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Ignorar si es poco; B) Ajustar su horario. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Experto", q: "Dual fuel system: ¿a qué temperatura cambia de heat pump a gas típicamente?", options: ["20°F", "32°F siempre", "Balance point: donde costo eléctrico = costo de gas, típico 35-40°F", "50°F"], correct: 2, explanation: "Changeover se configura donde HP es menos eficiente que gas - varía por tarifas locales. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) 20°F; B) 32°F siempre. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Experto", q: "Zoning system: main trunk stays cold but zones dont cool evenly. ¿Causa?", options: ["Thermostat issue", "Low refrigerant", "Zone dampers not responding, or system not sized for zoning", "Normal for zoning"], correct: 2, explanation: "Verifica operación de dampers y si sistema tiene capacidad para zonas funcionando juntas. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Thermostat issue; B) Low refrigerant. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Experto", q: "Customer complains of musty smell when A/C runs. ¿Diagnostic approach?", options: ["Normal smell", "Check drain pan, coil, ductwork for mold/mildew - moisture problem", "Change filter", "Air freshener"], correct: 1, explanation: "Olor a moho indica moisture problem - revisa drain pan, coil, y ductos por mold. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Normal smell; C) Change filter. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Residencial Experto", q: "Variable speed A/C runs almost continuously at low speed. ¿Normal?", options: ["Yes, design intent - better humidity control and efficiency", "Needs charge", "Thermostat issue", "Something wrong"], correct: 0, explanation: "Variable speed diseñado para correr largo a baja velocidad - mejor comfort y deshumidificación. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Needs charge; C) Thermostat issue. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Experto", q: "Building has positive pressure in summer, negative in winter. ¿Cause?", options: ["Broken dampers", "Normal", "Stack effect and/or economizer operation affecting building pressure", "Fan speed"], correct: 2, explanation: "Stack effect causa diferencias estacionales en presión del edificio. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Broken dampers; B) Normal. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Experto", q: "Tenant complaints about drafts near exterior windows in winter. ¿Solution?", options: ["Perimeter heating, better air distribution, or window treatment", "Nothing can be done", "Turn up heat", "Add A/C"], correct: 0, explanation: "Cold drafts se manejan con perimeter heat, difusores apropiados, o mejora de ventanas. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Nothing can be done; C) Turn up heat. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Experto", q: "VAV system shows hunting on supply air temp. ¿PID tuning approach?", options: ["New sensors", "Adjust P, I, D parameters - typically reduce gain or increase integral", "Replace controller", "Ignore it"], correct: 1, explanation: "Hunting indica PID tuning issue - ajusta parámetros para respuesta más estable. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) New sensors; C) Replace controller. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Experto", q: "Chiller log shows decreasing efficiency over 6 months. ¿Likely cause?", options: ["Weather changes", "Tube fouling, refrigerant issues, or mechanical degradation", "Instrumentation error", "Normal wear"], correct: 1, explanation: "Degradación gradual típicamente indica fouling de tubos o problemas developing. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Weather changes; C) Instrumentation error. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial Experto", q: "Ammonia system needs charging. ¿Safety procedures?", options: ["No special procedures", "Specific PPE, ventilation, evacuation plan, trained personnel only", "Same as HFC", "Just add carefully"], correct: 1, explanation: "Ammonia charging requiere PPE específico, ventilación, y personal entrenado. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) No special procedures; C) Same as HFC. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial Experto", q: "What is pumpout system in industrial refrigeration?", options: ["Oil removal", "Defrost method", "Drainage", "System to transfer refrigerant to storage for maintenance"], correct: 3, explanation: "Pumpout permite transferir refrigerante a receiver/storage para servicio de componentes. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Oil removal; B) Defrost method. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial Experto", q: "Low temperature system has oil return problems. ¿Solutions?", options: ["Oil separator, heat tracing, periodic hot gas, proper piping design", "More oil", "Ignore it", "Different oil"], correct: 0, explanation: "Oil return en low temp requiere diseño especial: separators, tracing, y piping correcto. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) More oil; C) Ignore it. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Códigos Experto", q: "ASHRAE 15 aplica a qué?", options: ["Safety Standard for Refrigeration Systems - room requirements, detection", "Ductwork", "Efficiency", "Ventilation"], correct: 0, explanation: "ASHRAE 15 cubre safety para sistemas de refrigeración - ventilación, detección, y límites. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Ductwork; C) Efficiency. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Códigos Experto", q: "¿Qué es IMC section 306 y qué requiere?", options: ["Access and service space requirements for mechanical equipment", "Refrigerant types", "Efficiency standards", "Electrical"], correct: 0, explanation: "IMC 306 especifica espacio requerido para acceso y servicio de equipos mecánicos. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Refrigerant types; C) Efficiency standards. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Códigos Experto", q: "NFPA 90A aplica a qué sistemas?", options: ["HVAC systems in buildings - fire and smoke control requirements", "Industrial HVAC", "Fire protection only", "Residential only"], correct: 0, explanation: "NFPA 90A cubre requisitos de HVAC relacionados con fire safety en edificios. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Industrial HVAC; C) Fire protection only. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Legal Experto", q: "What is consequential damages and can you limit them in contracts?", options: ["Direct damages", "Not applicable to HVAC", "Always liable", "Indirect losses like lost profits - often limited by contract language"], correct: 3, explanation: "Consequential damages son pérdidas indirectas - típicamente limitadas en contratos comerciales. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Direct damages; B) Not applicable to HVAC. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Legal Experto", q: "Employee injures customer. Is this covered under GL or WC?", options: ["Neither", "GL covers customer injury, WC covers employee injury", "Both", "WC only"], correct: 1, explanation: "GL cubre daños a terceros (customer), WC cubre solo al empleado. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Neither; C) Both. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Legal Experto", q: "What is waiver of subrogation and why do GCs want it?", options: ["License waiver", "Not important", "Prevents your insurer from suing GC - common contract requirement", "Payment waiver"], correct: 2, explanation: "Waiver of subrogation previene que tu aseguradora demande al GC después de pagar claim. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) License waiver; B) Not important. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Marketing Experto", q: "What is lifetime customer value (LTV) to customer acquisition cost (CAC) ratio?", options: ["LTV/CAC >3:1 indicates healthy, sustainable growth model", "Not applicable", "Just a metric", "Only for large companies"], correct: 0, explanation: "LTV:CAC de 3:1 o más indica que estás invirtiendo apropiadamente en adquirir clientes. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Not applicable; C) Just a metric. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Marketing Experto", q: "Best response to negative Google review about pricing?", options: ["Professional response acknowledging feedback, explaining value", "Argue about cost", "Ignore it", "Delete it"], correct: 0, explanation: "Responde profesionalmente sin ser defensivo - muestra tu carácter a futuros clientes. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Argue about cost; C) Ignore it. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Marketing Experto", q: "What is remarketing and when should you use it?", options: ["Not for HVAC", "Mass marketing", "Targeting previous website visitors with ads - cost effective for conversions", "Repeat advertising"], correct: 2, explanation: "Remarketing muestra ads a personas que ya visitaron tu sitio - alta conversión. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Not for HVAC; B) Mass marketing. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Ventas Experto", q: "Customer says 'I need to think about it'. Best response?", options: ["Lower price immediately", "Understand the real objection, offer to address specific concerns", "Apply pressure", "Just leave"], correct: 1, explanation: "Descubre la objeción real - precio, timing, u otra concern - antes de dejar. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Lower price immediately; C) Apply pressure. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Ventas Experto", q: "How do you qualify a lead before sending a technician?", options: ["Price quote phone", "Just go to all calls", "Only location", "Budget, authority, need, timeline - ensure it's worth the visit"], correct: 3, explanation: "Calificar leads ahorra tiempo - asegura que tienen budget, autoridad, y necesidad real. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Price quote phone; B) Just go to all calls. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Ventas Experto", q: "What is the 'feel, felt, found' technique?", options: ["Empathetic response: I understand how you feel, others felt same, they found...", "Not professional", "Inspection method", "Sales trick"], correct: 0, explanation: "Técnica empática que conecta con la objeción y presenta solución experimentada por otros. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Not professional; C) Inspection method. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Servicio Experto", q: "Customer insists problem isn't fixed after 2 visits. ¿Best approach?", options: ["Send same tech again", "Refuse more visits", "Charge for 3rd visit", "Senior tech or supervisor visit, thorough diagnosis, make it right"], correct: 3, explanation: "Escala apropiadamente, diagnostica completamente, y haz lo correcto por el cliente. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Send same tech again; B) Refuse more visits. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Servicio Experto", q: "Technician reports customer was inappropriate. ¿Your response?", options: ["Send different tech", "Customer is always right", "Ignore it", "Support technician, document, consider whether to continue service"], correct: 3, explanation: "Apoya a tu equipo, documenta el incidente, y evalúa si continúas con ese cliente. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Send different tech; B) Customer is always right. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Tecnología Experto", q: "What data should you track from connected equipment?", options: ["Just temperature", "Runtime, cycles, alerts, efficiency metrics, maintenance needs", "Nothing useful", "Only errors"], correct: 1, explanation: "Connected equipment puede proporcionar datos valiosos para servicio proactivo. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Just temperature; C) Nothing useful. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia Experto", q: "Building uses 20% more energy than similar buildings. ¿Audit approach?", options: ["Nothing abnormal", "Replace equipment", "Just tune up HVAC", "Comprehensive audit: envelope, HVAC, controls, lighting, plug loads"], correct: 3, explanation: "Auditoría completa identifica todas las oportunidades, no solo HVAC. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Nothing abnormal; B) Replace equipment. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eficiencia Experto", q: "What is demand response and how can HVAC participate?", options: ["Marketing term", "Not applicable", "Customer response", "Reducing load during peak utility demand - often with incentives"], correct: 3, explanation: "Demand response reduce carga en picos a cambio de incentivos de la utility. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Marketing term; B) Not applicable. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Proyectos Experto", q: "Commercial project is 2 weeks behind schedule. ¿Recovery options?", options: ["Accept delay", "Just work faster", "Additional crew, extended hours, re-sequence work, communicate with stakeholders", "Blame subcontractors"], correct: 2, explanation: "Evalúa opciones de recuperación y comunica impactos y alternativas a stakeholders. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Accept delay; B) Just work faster. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Proyectos Experto", q: "How do you handle scope creep on fixed price contract?", options: ["Refuse all changes", "Bill after completion", "Just do the extra work", "Document changes, get written change order approval before proceeding"], correct: 3, explanation: "Scope creep se maneja con change orders documentados y aprobados antes del trabajo. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Refuse all changes; B) Bill after completion. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Business Strategy", q: "Competitor offers same service at 30% less. ¿Long-term strategy?", options: ["Undercut them", "Differentiate on value, service, quality - compete on more than price", "Exit that market", "Match their price"], correct: 1, explanation: "Competir solo en precio es race to bottom. Diferénciate por valor total. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Undercut them; C) Exit that market. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Business Strategy", q: "What is your ideal service mix: maintenance, repair, installation?", options: ["Whatever comes", "Balanced mix with recurring maintenance base for stability", "Only emergency", "All installation"], correct: 1, explanation: "Base de maintenance proporciona estabilidad; repairs y installs proporcionan margen. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Whatever comes; C) Only emergency. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Business Strategy", q: "When should you consider geographic expansion?", options: ["Immediately", "Whenever possible", "Never expand", "When local market is saturated and you have systems to support growth"], correct: 3, explanation: "Expande cuando tengas los sistemas y recursos, no solo porque puedes. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Immediately; B) Whenever possible. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Business Strategy", q: "What is vertical integration and should you consider it?", options: ["Always good", "Just a buzzword", "Adding services up/down supply chain - may reduce costs but adds complexity", "Only for big companies"], correct: 2, explanation: "Integración vertical puede reducir costos pero requiere expertise adicional. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Always good; B) Just a buzzword. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Leadership", q: "How do you develop future leaders in your company?", options: ["Hire them ready", "Can't be developed", "Promote tenure", "Identify potential, provide training, mentoring, and progressive responsibility"], correct: 3, explanation: "Liderazgo se desarrolla con intención: training, mentoring, y oportunidades progresivas. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Hire them ready; B) Can't be developed. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Leadership", q: "Your best technician wants to become a supervisor. ¿Assessment?", options: ["Keep as tech", "Evaluate leadership skills separate from technical - provide training if gaps", "External hire", "Automatic promotion"], correct: 1, explanation: "Excelencia técnica no garantiza capacidad de liderazgo - evalúa y desarrolla separadamente. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Keep as tech; C) External hire. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Leadership", q: "How do you communicate bad news to your team?", options: ["Direct, honest, with context and path forward", "Blame someone else", "Through email only", "Avoid it"], correct: 0, explanation: "Comunica directamente con honestidad, contexto, y plan de acción cuando sea posible. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Blame someone else; C) Through email only. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Final", q: "It's Friday 4pm. Major commercial customer's system is down. Your team is exhausted from busy week. ¿Decision?", options: ["Refer to competitor", "Wait until Monday", "Assess urgency, communicate with customer, deploy if truly emergency, compensate team", "Always say yes"], correct: 2, explanation: "Balancea necesidad del cliente, capacidad del equipo, y maneja expectativas apropiadamente. Fuente: HVAC Excellence Practical Examination Guidelines. Dominar estos escenarios demuestra competencia profesional completa. Las otras opciones son incorrectas: A) Refer to competitor; B) Wait until Monday. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Final", q: "You discover a tech has been doing side jobs with company resources. ¿Action?", options: ["Ignore if small", "Investigate fully, document, terminate if confirmed - it's theft", "Warning only", "Look the other way"], correct: 1, explanation: "Robo de recursos es terminable offense. Investiga, documenta, y actúa consistentemente. Fuente: HVAC Excellence Practical Examination Guidelines. Dominar estos escenarios demuestra competencia profesional completa. Las otras opciones son incorrectas: A) Ignore if small; C) Warning only. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Final", q: "Major storm coming this weekend. ¿Preparation?", options: ["Emergency contact protocols, parts inventory check, crew availability, customer communication", "Nothing to do", "Wait and see", "Close operations"], correct: 0, explanation: "Preparación proactiva maximiza tu capacidad de respuesta a emergencias. Fuente: HVAC Excellence Practical Examination Guidelines. Dominar estos escenarios demuestra competencia profesional completa. Las otras opciones son incorrectas: B) Nothing to do; C) Wait and see. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Final", q: "You're offered to sell your business for 3x annual revenue. ¿Evaluation?", options: ["Evaluate against real value, your goals, deal structure, and future options", "Never sell", "Always take it", "Counter 5x"], correct: 0, explanation: "Evaluate integralmente: valuación, tus metas, estructura del deal, y opciones futuras. Fuente: HVAC Excellence Practical Examination Guidelines. Dominar estos escenarios demuestra competencia profesional completa. Las otras opciones son incorrectas: B) Never sell; C) Always take it. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Final", q: "Supply chain issues delay equipment 8 weeks. Customer needs A/C now. ¿Options?", options: ["Cancel job", "Temporary solution, alternative equipment, communicate timeline, offer concessions", "Promise delivery you can't keep", "Just wait"], correct: 1, explanation: "Maneja expectativas, ofrece alternativas, y no prometas lo que no puedes cumplir. Fuente: HVAC Excellence Practical Examination Guidelines. Dominar estos escenarios demuestra competencia profesional completa. Las otras opciones son incorrectas: A) Cancel job; C) Promise delivery you can't keep. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Final", q: "New regulation requires certification you don't have. ¿Response?", options: ["Hope not enforced", "Stop that work", "Ignore it", "Get certified, train team, communicate compliance to customers"], correct: 3, explanation: "Cumplimiento regulatorio no es opcional. Obtén certificación y úsalo como diferenciador. Fuente: HVAC Excellence Practical Examination Guidelines. Dominar estos escenarios demuestra competencia profesional completa. Las otras opciones son incorrectas: A) Hope not enforced; B) Stop that work. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Final", q: "Economic downturn reduces calls 40%. ¿Survival strategy?", options: ["Layoff everyone", "Reduce costs strategically, increase marketing, diversify services, preserve core team", "Close business", "Lower all prices"], correct: 1, explanation: "Sobrevive conservando cash, preservando capacidades core, y buscando oportunidades. Fuente: HVAC Excellence Practical Examination Guidelines. Dominar estos escenarios demuestra competencia profesional completa. Las otras opciones son incorrectas: A) Layoff everyone; C) Close business. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Final", q: "You're ready to retire. ¿Exit options?", options: ["Just close", "Keep working", "Sell to employee/outsider, gradual transition, or wind down professionally", "Walk away"], correct: 2, explanation: "Planifica exit: vender, transicionar, o cerrar profesionalmente protegiendo stakeholders. Fuente: HVAC Excellence Practical Examination Guidelines. Dominar estos escenarios demuestra competencia profesional completa. Las otras opciones son incorrectas: A) Just close; B) Keep working. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Final", q: "What's most important for long-term success as HVAC business owner?", options: ["Balance of technical excellence, business acumen, people skills, and integrity", "Low prices", "Just marketing", "Technical skills only"], correct: 0, explanation: "Éxito sostenible requiere balance de habilidades técnicas, de negocio, y liderazgo. Fuente: HVAC Excellence Practical Examination Guidelines. Dominar estos escenarios demuestra competencia profesional completa. Las otras opciones son incorrectas: B) Low prices; C) Just marketing. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Escenario Final", q: "Looking back on 10-year career as owner, what matters most?", options: ["Size of company", "Relationships built, team developed, customers served, problems solved", "Money made", "Awards won"], correct: 1, explanation: "El verdadero legado es las relaciones, el impacto en personas, y los problemas resueltos. Fuente: HVAC Excellence Practical Examination Guidelines. Dominar estos escenarios demuestra competencia profesional completa. Las otras opciones son incorrectas: A) Size of company; C) Money made. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Negocio Completo", q: "¿Qué es accounts receivable aging y por qué monitorearlo?", options: ["Muestra cuánto te deben y por cuánto tiempo - indica problemas de cobro", "No es importante", "Edad de clientes", "Solo para contadores"], correct: 0, explanation: "AR aging ayuda a identificar cobros problemáticos antes de que sean incobrables. Fuente: ACCA Contractor Business Guide & SBA Resources. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) No es importante; C) Edad de clientes. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Residencial", q: "Sistema con R-22 tiene fuga. ¿Opciones para cliente?", options: ["Recargar indefinidamente", "Cambiar a R-410A directamente", "Solo reemplazar", "Reparar y recargar, retrofit a alternativo, o reemplazar sistema"], correct: 3, explanation: "R-22 escaso y caro - evalúa reparación vs retrofit vs reemplazo según situación. Fuente: ACCA Manual RS & Residential Service Guidelines. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Recargar indefinidamente; B) Cambiar a R-410A directamente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Residencial", q: "Furnace induce motor ruidoso pero funciona. ¿Recomendación?", options: ["Reemplazar proactivamente - ruido indica desgaste y falla próxima", "Esperar que falle", "Lubricar", "Ignorar si calienta"], correct: 0, explanation: "Ruido de inducer indica bearings desgastados - reemplazar antes de falla en temporada alta. Fuente: ACCA Manual RS & Residential Service Guidelines. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Esperar que falle; C) Lubricar. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Residencial", q: "Condensate drain clogged. A/C flooding. ¿Solución permanente?", options: ["Blow out y done", "Clean line, add safety switch/float, recommend regular maintenance", "Larger drain line", "Solo shop vac"], correct: 1, explanation: "Limpia, agrega protección contra overflow, y recomienda mantenimiento preventivo. Fuente: ACCA Manual RS & Residential Service Guidelines. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Blow out y done; C) Larger drain line. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Residencial", q: "Customer has 2-stage furnace running on high stage only. ¿Cause?", options: ["Needs cleaning", "Too cold outside", "Normal", "Control board issue, thermostat compatibility, or configuration error"], correct: 3, explanation: "2-stage debería modular. Stage stuck indica problema de control o configuración. Fuente: ACCA Manual RS & Residential Service Guidelines. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Needs cleaning; B) Too cold outside. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Residencial", q: "Ductless mini split water dripping inside. ¿Diagnostic steps?", options: ["Add drip pan", "Normal in humidity", "Check drain line, drain pan, coil for ice, pitch of indoor unit", "Replace unit"], correct: 2, explanation: "Goteo indica problema de drenaje - verifica línea, pan, y nivel de la unidad. Fuente: ACCA Manual RS & Residential Service Guidelines. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Add drip pan; B) Normal in humidity. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Comercial", q: "Rooftop economizer dampers stuck closed. Building gets stuffy. ¿Repair priority?", options: ["High - affects IAQ and code compliance", "Low - just A/C", "Medium", "Not important"], correct: 0, explanation: "Economizer provee ventilación requerida - su falla afecta calidad de aire y cumplimiento. Fuente: ASHRAE Handbook & Commercial Service Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Low - just A/C; C) Medium. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Comercial", q: "Building BAS shows supply air temp hunting. ¿Tuning approach?", options: ["Adjust PID - typically reduce proportional band or increase integral", "Replace controller", "New sensors", "Ignore small variations"], correct: 0, explanation: "Hunting indica PID tuning incorrecto - ajusta parámetros sistemáticamente. Fuente: ASHRAE Handbook & Commercial Service Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Replace controller; C) New sensors. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Comercial", q: "Chiller starts but trips on high head after 2 minutes. ¿Diagnostic?", options: ["Condenser water flow, water temp, condenser tube fouling", "Compressor issue", "Control problem", "Low refrigerant"], correct: 0, explanation: "High head típicamente indica problema de condensador - verifica flujo y condición de tubos. Fuente: ASHRAE Handbook & Commercial Service Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Compressor issue; C) Control problem. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Comercial", q: "VAV box actuator not responding to controller. ¿Troubleshooting?", options: ["Replace controller", "Verify signal from controller, check wiring, test actuator separately", "Manual override", "Replace actuator"], correct: 1, explanation: "Diagnostica sistemáticamente: señal, cableado, y luego actuador. Fuente: ASHRAE Handbook & Commercial Service Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Replace controller; C) Manual override. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Comercial", q: "Make-up air unit not maintaining discharge temp. ¿Causes?", options: ["Normal variation", "Gas valve, burner, heat exchanger, controls, or airflow issue", "Unit undersized", "Outside too cold"], correct: 1, explanation: "Verifica todo el sistema de calefacción: válvula, burner, intercambiador, controles. Fuente: ASHRAE Handbook & Commercial Service Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Normal variation; C) Unit undersized. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial Completo", q: "Ammonia system shows high discharge superheat. ¿Indicates?", options: ["Normal for ammonia", "Efficient operation", "Too much charge", "Low suction, high compression ratio, or valve problems"], correct: 3, explanation: "Alto discharge superheat indica trabajo excesivo del compresor - investiga causa. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Normal for ammonia; B) Efficient operation. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial Completo", q: "What is oil differential pressure in screw compressor?", options: ["Difference between oil pressure and suction - drives lubrication", "Oil pump outlet pressure", "Not important", "Discharge minus suction"], correct: 0, explanation: "Oil differential es lo que empuja aceite a los bearings - crítico monitorear. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Oil pump outlet pressure; C) Not important. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial Completo", q: "Glycol system losing concentration over time. ¿Cause?", options: ["Testing error", "Glycol breaks down", "Leaks being topped with water, system additions, or dilution", "Normal evaporation"], correct: 2, explanation: "Concentración baja típicamente por adiciones de agua - mantén concentración correcta. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Testing error; B) Glycol breaks down. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial Completo", q: "What documentation does PSM require for ammonia system?", options: ["P&IDs, operating procedures, training records, maintenance records, MOC", "Just operating manual", "Nothing specific", "Equipment list"], correct: 0, explanation: "PSM requiere documentación extensa: diagramas, procedimientos, training, mantenimiento, y más. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Just operating manual; C) Nothing specific. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Experto", q: "Compressor showing signs of liquid floodback. ¿Evidence?", options: ["Oil dilution, frosted crankcase, erratic operation, eventual failure", "Just noise", "Higher efficiency", "Runs better"], correct: 0, explanation: "Floodback diluye aceite y daña compresor - evidencia incluye frost en crankcase. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Just noise; C) Higher efficiency. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Experto", q: "System has both high superheat AND high subcooling. ¿Possible cause?", options: ["Impossible", "Overcharged", "Restriction between condenser and evaporator", "Undercharged"], correct: 2, explanation: "Esta combinación indica restricción - líquido atrapado antes de evaporador. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Impossible; B) Overcharged. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Experto", q: "TXV external equalizer line capped off. ¿Effect?", options: ["Lower superheat", "Better control", "TXV responds to pressure drop across coil incorrectly - high superheat", "None"], correct: 2, explanation: "Sin equalizer, TXV sensa presión incorrecta causando control pobre. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Lower superheat; B) Better control. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Diagnóstico Experto", q: "Reversing valve leaking through in heat mode. ¿Symptoms?", options: ["Only affects cooling", "Reduced heating, discharge line cooler than expected, poor efficiency", "No symptoms", "Works fine"], correct: 1, explanation: "Leakthrough mezcla gas caliente con frío, reduciendo capacidad y eficiencia. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Only affects cooling; C) No symptoms. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Experto", q: "What is the purpose of anti-short cycle timer?", options: ["Protect compressor from rapid cycling that causes damage", "Defrost timing", "Comfort control", "Energy saving"], correct: 0, explanation: "Anti-short cycle previene arranques frecuentes que dañan el compresor. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Defrost timing; C) Comfort control. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Experto", q: "Demand defrost vs time-initiated defrost. ¿Advantage of demand?", options: ["Cheaper", "Simpler", "More reliable", "Only defrosts when needed - better efficiency and comfort"], correct: 3, explanation: "Demand defrost solo opera cuando hay hielo real, ahorrando energía. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Cheaper; B) Simpler. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Experto", q: "DDC controller showing input out of range. ¿Troubleshooting?", options: ["Check sensor, wiring, and input configuration in software", "Ignore if working", "Reset controller", "Replace controller"], correct: 0, explanation: "Out of range puede ser sensor malo, cableado, o configuración incorrecta. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Ignore if working; C) Reset controller. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Controles Experto", q: "What is network variable in BACnet?", options: ["Device name", "Password", "Data point shared between devices on network", "IP address"], correct: 2, explanation: "Network variables son puntos de datos compartidos entre dispositivos BACnet. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Device name; B) Password. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes Experto", q: "R-32 vs R-410A: key differences for technician?", options: ["R-32 mildly flammable (A2L), different pressures and charge", "R-32 is drop-in", "Same handling", "No differences"], correct: 0, explanation: "R-32 es A2L (ligeramente inflamable) y tiene características diferentes - requiere training. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) R-32 is drop-in; C) Same handling. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes Experto", q: "What is glide in zeotropic refrigerant blend?", options: ["Not important", "Temperature difference between bubble and dew point", "Pressure drop", "Type of oil"], correct: 1, explanation: "Glide es la diferencia de temperatura durante cambio de fase - afecta cómo mides. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Not important; C) Pressure drop. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes Experto", q: "Measuring superheat with zeotropic blend. ¿Which temperature to use?", options: ["Average", "Bubble point", "Either one", "Dew point for superheat measurement"], correct: 3, explanation: "Para superheat de mezclas con glide, usa dew point temperature. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Average; B) Bubble point. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Refrigerantes Experto", q: "System retrofitted from R-22 to R-407C. ¿Special considerations?", options: ["None", "POE oil, possible TXV adjustment, different P/T relationship", "Just charge different", "Not compatible"], correct: 1, explanation: "Retrofit requiere cambio de aceite, posible ajuste de TXV, y entender nuevo P/T. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) None; C) Just charge different. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eléctrico Experto", q: "Compressor winding resistance: C-R 3Ω, C-S 2Ω, R-S 5Ω. ¿Normal?", options: ["Always bad", "No, R-S should equal C-R + C-S exactly", "Yes, checks out mathematically", "Need more info"], correct: 2, explanation: "C-R + C-S should = R-S. 3+2=5, so this checks out mathematically correct. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Always bad; B) No, R-S should equal C-R + C-S exactly. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eléctrico Experto", q: "What does high inrush current indicate?", options: ["Could indicate mechanical binding, low voltage, or capacitor issue", "Too much refrigerant", "Good motor", "Normal for motors"], correct: 0, explanation: "Inrush anormalmente alto puede indicar problema mecánico o eléctrico. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Too much refrigerant; C) Good motor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eléctrico Experto", q: "Purpose of crankcase heater?", options: ["Backup heat", "Defrost", "Warm the house", "Keep oil warm to prevent refrigerant migration during off cycle"], correct: 3, explanation: "Crankcase heater mantiene aceite caliente para evitar que refrigerante migre al cárter. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Backup heat; B) Defrost. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Eléctrico Experto", q: "Capacitor marked 45/5 MFD 440V. What does this mean?", options: ["Either 45 or 5", "Dual capacitor: 45 MFD for compressor, 5 MFD for fan, rated 440V", "Total 50 MFD", "Damaged"], correct: 1, explanation: "Capacitor dual con dos secciones: 45 para compresor, 5 para fan motor. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Either 45 or 5; C) Total 50 MFD. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Instalación Experto", q: "What is the purpose of trap in condensate line?", options: ["Catch debris", "Not needed", "Prevent air from being pulled back through drain when blower runs", "Just code requirement"], correct: 2, explanation: "Trap previene que presión negativa del blower jale aire por la línea de drenaje. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Catch debris; B) Not needed. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Instalación Experto", q: "Line set longer than manufacturer spec. ¿Considerations?", options: ["Not allowed", "Additional refrigerant charge, oil return, and possible performance impact", "Use larger line", "No issue"], correct: 1, explanation: "Líneas largas pueden requerir carga adicional y diseño para retorno de aceite. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Not allowed; C) Use larger line. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Instalación Experto", q: "Brazing in nitrogen atmosphere. ¿Why?", options: ["Not necessary", "Just for copper", "Prevents oxidation inside tubing that can cause problems", "Cheaper"], correct: 2, explanation: "Nitrogen purge previene formación de óxido que contamina sistema. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Not necessary; B) Just for copper. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Instalación Experto", q: "What is the purpose of a hard start kit?", options: ["Increase cooling", "Help compressor start under adverse conditions", "Reduce noise", "Required for all units"], correct: 1, explanation: "Hard start kit ayuda al compresor a arrancar cuando hay condiciones difíciles. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Increase cooling; C) Reduce noise. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Mantenimiento Experto", q: "Coil cleaning: pressure washer vs chemical. ¿When to use each?", options: ["Always pressure wash", "Always chemical", "Either works same", "Chemical for light dirt, pressure for heavy - avoid damage to fins"], correct: 3, explanation: "Usa método apropiado para el nivel de suciedad sin dañar aletas delicadas. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Always pressure wash; B) Always chemical. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Mantenimiento Experto", q: "How do you properly check refrigerant charge on maintenance visit?", options: ["Measure superheat/subcooling, compare to specs, check for leaks if low", "Pressure only", "Just add if low", "Not needed if working"], correct: 0, explanation: "Verificación proper requiere mediciones, no solo agregar refrigerante. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Pressure only; C) Just add if low. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Mantenimiento Experto", q: "Customer asks if they should clean their own coils. ¿Advice?", options: ["Never touch it", "Use any cleaner", "Yes, anyone can", "Basic cleaning OK, but professional cleaning recommended annually"], correct: 3, explanation: "Limpieza básica de filtros OK, pero coils requieren cuidado profesional. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Never touch it; B) Use any cleaner. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Mantenimiento Experto", q: "Belt shows cracking but still functional. ¿Replace now or later?", options: ["Just tighten", "Replace now - cracks indicate age and impending failure", "Good for another year", "Wait until breaks"], correct: 1, explanation: "Cracking indica deterioro - reemplaza preventivamente antes de falla. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Just tighten; C) Good for another year. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Seguridad Completa", q: "Working in confined space. What are the three hazards to test for?", options: ["Noise, vibration, dust", "Pressure, flow, voltage", "Oxygen level, combustible gases, toxic gases", "Temperature, humidity, light"], correct: 2, explanation: "Test para O2 (19.5-23.5%), LEL combustibles (<10%), y gases tóxicos antes de entrar. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Noise, vibration, dust; B) Pressure, flow, voltage. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Seguridad Completa", q: "When is SCBA required vs air-purifying respirator?", options: ["Same protection", "SCBA for IDLH or oxygen-deficient atmospheres", "SCBA is overkill", "Always use SCBA"], correct: 1, explanation: "SCBA requerido cuando atmósfera es IDLH o tiene oxígeno insuficiente. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Same protection; C) SCBA is overkill. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Seguridad Completa", q: "Proper lifting technique for heavy compressor?", options: ["Any way that works", "Always use crane", "Back lifting is fine", "Back straight, lift with legs, get help if over 50 lbs"], correct: 3, explanation: "Técnica correcta: espalda recta, levantar con piernas, ayuda para cargas pesadas. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Any way that works; B) Always use crane. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Seguridad Completa", q: "First aid for refrigerant burn to skin?", options: ["Ice directly on burn", "Hot water immediately", "Flush with large amounts of lukewarm water, seek medical attention", "No treatment needed"], correct: 2, explanation: "Enjuaga con agua templada abundante - no uses agua caliente ni hielo directo. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Ice directly on burn; B) Hot water immediately. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Herramientas Experto", q: "Micron gauge reads 500 microns but rises quickly when pump off. ¿Indicates?", options: ["Good vacuum", "Gauge broken", "Leak in system", "Moisture in system still evaporating - continue evacuation"], correct: 3, explanation: "Rise rápido típicamente indica humedad evaporando - continúa evacuación. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Good vacuum; B) Gauge broken. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Herramientas Experto", q: "How often should manifold gauges be calibrated?", options: ["Annually or if dropped/damaged", "Every use", "Only if inaccurate", "Never needed"], correct: 0, explanation: "Calibración anual o después de daño asegura lecturas precisas. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Every use; C) Only if inaccurate. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Herramientas Experto", q: "What is the advantage of digital vs analog gauges?", options: ["Look more professional", "Direct saturation temperature display, more precision, logging capability", "Cheaper", "Same accuracy"], correct: 1, explanation: "Digital muestra temperatura de saturación directamente y ofrece más funciones. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Look more professional; C) Cheaper. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Herramientas Experto", q: "Proper use of leak detector after brazing repair?", options: ["Wait for joint to cool completely before testing", "Immediately while hot", "Not needed if good braze", "Pressure test only"], correct: 0, explanation: "Espera que enfríe - detectores no funcionan bien en superficies calientes. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Immediately while hot; C) Not needed if good braze. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Cliente Final", q: "Customer says competitor quoted half your price. ¿Response?", options: ["Ask what's included, explain your value and differences", "Assume they're lying", "Tell them to go there", "Match the price"], correct: 0, explanation: "Entiende qué incluye la otra cotización y explica tu valor diferenciado. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Assume they're lying; C) Tell them to go there. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Cliente Final", q: "Elderly customer seems confused about options. ¿Approach?", options: ["Simplify options, involve family if possible, give written summary", "Upsell premium", "Just pick for them", "Standard presentation"], correct: 0, explanation: "Adapta tu comunicación, involucra familia si apropiado, y documenta claramente. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Upsell premium; C) Just pick for them. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Cliente Final", q: "Customer wants to watch you work. ¿Your policy?", options: ["Generally OK but explain you need space to work safely", "Never allow", "Require supervision", "Depends on mood"], correct: 0, explanation: "La mayoría de clientes pueden observar pero deben mantener distancia segura. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Never allow; C) Require supervision. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Cliente Final", q: "You discover customer's system was improperly installed by someone else. ¿What to say?", options: ["Criticize the installer", "Say nothing", "Report to authorities", "Document findings, explain issues factually, offer solutions"], correct: 3, explanation: "Sé profesional - documenta hechos sin criticar, ofrece soluciones. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Criticize the installer; B) Say nothing. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Operaciones Final", q: "How do you prioritize calls on very busy day?", options: ["First come first served", "Random", "Emergency/safety first, then paying customers, then callbacks", "Highest price first"], correct: 2, explanation: "Prioriza: emergencias de seguridad, clientes pagando, luego otros callbacks. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) First come first served; B) Random. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Operaciones Final", q: "Tech calls in sick during heat wave. ¿Immediate action?", options: ["Cancel his calls", "Go yourself to all", "Redistribute urgent calls, communicate with affected customers, call backup", "Just reschedule all"], correct: 2, explanation: "Redistribuye trabajo, comunica con clientes, activa contingencias. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Cancel his calls; B) Go yourself to all. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Operaciones Final", q: "Customer disputes invoice 30 days after service. ¿Handling?", options: ["Ignore them", "Threaten collections", "Just write it off", "Review records, discuss professionally, negotiate if appropriate"], correct: 3, explanation: "Revisa documentación, discute profesionalmente, encuentra resolución justa. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Ignore them; B) Threaten collections. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Operaciones Final", q: "Supplier sends wrong part. Job delayed. ¿Process?", options: ["Blame supplier to customer", "Wait for correct part", "Use wrong part", "Document error, expedite replacement, consider backup supplier, communicate"], correct: 3, explanation: "Documenta, busca alternativas rápidas, comunica con cliente, y ajusta proceso. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Blame supplier to customer; B) Wait for correct part. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Crecimiento Final", q: "What metrics should you track weekly as owner?", options: ["Trust your gut", "Only profit monthly", "Just revenue", "Revenue, leads, close rate, customer satisfaction, cash flow"], correct: 3, explanation: "KPIs semanales mantienen el pulso del negocio para reaccionar rápido. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Trust your gut; B) Only profit monthly. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Crecimiento Final", q: "Ready to hire first office person. ¿What role first?", options: ["Accountant", "Marketing", "Dispatcher/CSR to free you from phones and scheduling", "HR person"], correct: 2, explanation: "Dispatcher/CSR libera tu tiempo de operaciones para enfocarte en crecimiento. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Accountant; B) Marketing. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Crecimiento Final", q: "What is your biggest constraint to growth?", options: ["Competition", "Could be capital, people, systems, or YOU - identify the real bottleneck", "Money always", "Economy"], correct: 1, explanation: "Identifica tu verdadero constraint - frecuentemente eres tú mismo el cuello de botella. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Competition; C) Money always. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Crecimiento Final", q: "When is right time to invest in new truck?", options: ["When old one dies", "Every 3 years", "Never buy new", "When repair costs exceed payments, or growth requires capacity"], correct: 3, explanation: "Evalúa costo total: reparaciones, downtime, imagen, y necesidad de capacidad. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) When old one dies; B) Every 3 years. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Liderazgo Final", q: "Your vision for your company in 10 years. ¿Why important?", options: ["Only for corporations", "Dreams are useless", "Vision guides decisions, attracts right people, gives purpose", "Changes too much"], correct: 2, explanation: "Visión clara guía decisiones diarias y atrae gente que comparte tu dirección. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Only for corporations; B) Dreams are useless. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Liderazgo Final", q: "How do you make tough decisions under pressure?", options: ["Wait until forced", "Gather facts, consider options, decide, commit, and learn from outcome", "Let others decide", "Avoid them"], correct: 1, explanation: "Decisiones difíciles requieren información, análisis, acción, y aprendizaje. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Wait until forced; C) Let others decide. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Liderazgo Final", q: "Employee makes honest mistake that costs $5,000. ¿Response?", options: ["Deduct from pay", "Use as learning opportunity, implement prevention, support not punish", "Public embarrassment", "Fire immediately"], correct: 1, explanation: "Errores honestos son oportunidades de mejora - castigo severo crea cultura de miedo. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Deduct from pay; C) Public embarrassment. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Liderazgo Final", q: "What is servant leadership and how does it apply?", options: ["Outdated concept", "Only for nonprofits", "Weak leadership", "Leading by serving your team's needs to enable their success"], correct: 3, explanation: "Servant leaders priorizan desarrollo de su equipo, lo que genera lealtad y resultados. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Outdated concept; B) Only for nonprofits. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Balance Final", q: "Working 80 hours/week building business. ¿Sustainable?", options: ["Means you're dedicated", "Yes, necessary for success", "No - leads to burnout, mistakes, and family issues. Build systems to scale", "Only option as owner"], correct: 2, explanation: "Trabajo excesivo no es sostenible - construye sistemas para que el negocio funcione sin ti siempre presente. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Means you're dedicated; B) Yes, necessary for success. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Balance Final", q: "Family complains you're never home. ¿How to address?", options: ["They'll understand someday", "They don't understand", "Schedule family time like business appointments, set boundaries", "Work harder to retire early"], correct: 2, explanation: "Balance requiere intención - programa tiempo familiar como cualquier compromiso importante. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) They'll understand someday; B) They don't understand. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Balance Final", q: "What is your exit strategy from the business?", options: ["Never leaving", "Too early to think about", "Plan options: sell, transition to family/employee, or scale to passive", "Work until I die"], correct: 2, explanation: "Exit strategy informa cómo construyes el negocio desde ahora. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Never leaving; B) Too early to think about. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Balance Final", q: "Most important lesson from 10 years as business owner?", options: ["Trust no one", "Work harder than everyone", "Money is everything", "Relationships, integrity, and continuous learning create lasting success"], correct: 3, explanation: "Éxito duradero viene de relaciones fuertes, integridad, y nunca dejar de aprender. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Trust no one; B) Work harder than everyone. Fuente: HVAC Excellence Training Manual & Industry Standards." }
        ,
        // === ÚLTIMAS 64 PREGUNTAS PARA COMPLETAR 500 ===
        { category: "EPA Final", q: "¿Cuánto tiempo debes guardar registros de recuperación de refrigerante?", options: ["3 años mínimo", "5 años", "Indefinidamente", "1 año"], correct: 0, explanation: "EPA requiere mantener registros de recuperación por mínimo 3 años. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) 5 años; C) Indefinidamente. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "EPA Final", q: "Sistema de supermercado pierde 45% de carga anual. ¿Consecuencia EPA?", options: ["Excede 30% - requiere reporte y plan de acción", "Solo multa menor", "Aceptable para comercial", "Nada si reparas"], correct: 0, explanation: "45% excede el límite de 30% - debes reportar y tomar acción correctiva. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Solo multa menor; C) Aceptable para comercial. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA Final", q: "Empleado se queja de condiciones inseguras. ¿Puedes tomar represalias?", options: ["Depende de la queja", "Sí después de 30 días", "Sí si es empleado malo", "No - represalias por quejas de seguridad son ilegales"], correct: 3, explanation: "OSHA protege a empleados de represalias por reportar problemas de seguridad. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Depende de la queja; B) Sí después de 30 días. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "OSHA Final", q: "¿Qué es hierarchy of controls y cómo se aplica?", options: ["Eliminación > Sustitución > Ingeniería > Administrativa > PPE", "Cadena de mando", "No aplica a HVAC", "Solo usar PPE"], correct: 0, explanation: "Hierarchy prioriza eliminar hazard sobre depender de PPE como última opción. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Cadena de mando; C) No aplica a HVAC. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Negocio Final", q: "Costo de bienes vendidos (COGS) incluye qué?", options: ["Materiales y labor directa para trabajos - no overhead", "Rent y utilidades", "Todos los gastos", "Solo materiales"], correct: 0, explanation: "COGS incluye costos directos del trabajo: materiales y labor directamente en el job. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Rent y utilidades; C) Todos los gastos. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Negocio Final", q: "¿Qué es gross profit margin y qué porcentaje buscar?", options: ["Net income", "Gross profit ÷ revenue - buscar 50%+ en servicio", "10% está bien", "Revenue total"], correct: 1, explanation: "Gross margin de 50%+ da espacio para cubrir overhead y generar net profit. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Net income; C) 10% está bien. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Negocio Final", q: "¿Diferencia entre markup y margin?", options: ["Margin es sobre costo", "No importa cual uses", "Son lo mismo", "Markup es sobre costo, margin es sobre precio de venta"], correct: 3, explanation: "50% markup sobre $100 = $150. 50% margin de $150 = $75 costo. Entiende la diferencia. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Margin es sobre costo; B) No importa cual uses. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Final", q: "Presión de succión muy baja, compresor muy caliente. ¿Diagnóstico?", options: ["Normal en calor", "Restricción severa o carga muy baja causando bajo flujo de enfriamiento", "Cambiar compresor", "Solo bajo refrigerante"], correct: 1, explanation: "Succión baja = poco refrigerante pasando = compresor sin enfriamiento adecuado. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Normal en calor; C) Cambiar compresor. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Final", q: "¿Qué es flooding back y cómo lo previenes?", options: ["Solo en heat pumps", "Líquido regresando al compresor - TXV correcta, carga apropiada, airflow", "No es prevenible", "Problema de drenaje"], correct: 1, explanation: "Floodback daña compresores - prevenlo con control y operación correctos. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo en heat pumps; C) No es prevenible. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Final", q: "Sistema con oil pressure switch que tripea. ¿Diagnóstico?", options: ["Switch defectuoso siempre", "Bypass el switch", "Verificar nivel de aceite, presión real, y condición del compresor", "Agregar aceite"], correct: 2, explanation: "Oil pressure switch protege al compresor - diagnostica causa, no hagas bypass. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Switch defectuoso siempre; B) Bypass el switch. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Final", q: "Building shows high humidity despite A/C running. ¿Causes?", options: ["Necesita deshumidificador", "Oversized equipment, infiltration, or ventilation bringing in moisture", "Normal en verano", "Low refrigerant"], correct: 1, explanation: "Alta humedad: equipo oversized hace ciclos cortos, mucha ventilación, o infiltración. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Necesita deshumidificador; C) Normal en verano. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Final", q: "Tenant moves out. What HVAC checks before new tenant?", options: ["Just filter", "Nothing needed", "Wait for complaints", "Full system check, filter change, thermostat reset, ductwork inspection"], correct: 3, explanation: "Cambio de tenant es buen momento para verificar sistema completamente. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Just filter; B) Nothing needed. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Final", q: "RTU on rooftop has standing water in pan. ¿Problem?", options: ["Normal design", "Just evaporates", "Add more drains", "Clogged drain, improper pitch, or cracked pan - investigate and repair"], correct: 3, explanation: "Agua estancada causa corrosión y problemas de calidad de aire - corrige la causa. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Normal design; B) Just evaporates. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial Final", q: "Oil separator efficiency drops. ¿Consequences?", options: ["Oil carries through system, affects heat transfer, returns to compressor", "No impact", "Just add oil", "Only cosmetic"], correct: 0, explanation: "Oil en sistema reduce eficiencia y puede causar problemas si no retorna bien. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) No impact; C) Just add oil. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial Final", q: "What is economizer port in screw compressor?", options: ["Energy saver feature", "Discharge bypass", "Oil injection", "Port for flash gas injection to improve efficiency at low temps"], correct: 3, explanation: "Economizer port permite inyección de flash gas para mejor eficiencia. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Energy saver feature; B) Discharge bypass. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Pricing Final", q: "Customer asks for itemized pricing on service call. ¿Policy?", options: ["Never itemize", "Always itemize", "Depends on your model - flat rate typically doesn't itemize", "Only if they insist"], correct: 2, explanation: "Flat rate pricing vende la solución, no las partes individuales. Ten policy clara. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Never itemize; B) Always itemize. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Pricing Final", q: "How do you price a job you've never done before?", options: ["Decline the job", "Research, estimate high, document learnings for next time", "Do it for free", "Guess and hope"], correct: 1, explanation: "Trabajos nuevos: investiga, estima conservador, aprende para el futuro. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Decline the job; C) Do it for free. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Ventas Final", q: "Customer says 'I need to talk to my spouse'. ¿Response?", options: ["Wait until they call back", "Offer to schedule call with both present, leave information", "Leave immediately", "Call the spouse yourself"], correct: 1, explanation: "Facilita la conversación - ofrece programar cuando ambos puedan estar presentes. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Wait until they call back; C) Leave immediately. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Ventas Final", q: "What closing technique works best in HVAC?", options: ["Threaten price increase", "High pressure always", "Just wait for them", "Assumptive close or choice close - not high pressure"], correct: 3, explanation: "Closing suave: asume la venta o da opciones. Presión alta daña la relación. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Threaten price increase; B) High pressure always. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Marketing Final", q: "Best ROI marketing for new HVAC company?", options: ["Door to door", "Social media only", "Google Local Service Ads, SEO, and referral program", "TV ads"], correct: 2, explanation: "Digital local targeting y referrals típicamente dan mejor ROI para compañías nuevas. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Door to door; B) Social media only. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Marketing Final", q: "Customer leaves 5-star review. ¿Next step?", options: ["Nothing needed", "Thank them, share it, and ask for referrals", "Ask for another review", "Offer discount"], correct: 1, explanation: "Agradece públicamente, comparte el review, y aprovecha la relación positiva. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Nothing needed; C) Ask for another review. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Legal Final", q: "Customer signs contract then has buyer's remorse. ¿Rights?", options: ["No recourse", "3-day right of rescission for home improvement in California", "Only if you allow", "Can cancel anytime"], correct: 1, explanation: "Derecho de rescisión de 3 días protege a consumidores en contratos de mejora del hogar. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) No recourse; C) Only if you allow. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Legal Final", q: "Subcontractor injures himself on your job. ¿Liability?", options: ["Not your problem", "100% yours", "His WC should cover, but verify he has proper insurance", "Split 50/50"], correct: 2, explanation: "Su workers comp debe cubrir, pero verifica que subs tengan seguro apropiado siempre. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Not your problem; B) 100% yours. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Servicio Final", q: "Customer gives you a gift. ¿Accept?", options: ["Accept everything", "Demand gifts", "Small gifts OK with thanks, cash tips policy varies", "Never accept anything"], correct: 2, explanation: "Pequeños regalos de agradecimiento son OK. Ten policy clara sobre propinas. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Accept everything; B) Demand gifts. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Servicio Final", q: "You realize you made a mistake yesterday. ¿Action?", options: ["Wait for complaint", "Blame manufacturer", "Contact customer proactively, apologize, fix it right", "Hope they don't notice"], correct: 2, explanation: "Admitir errores y corregirlos proactivamente construye confianza y lealtad. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Wait for complaint; B) Blame manufacturer. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Manejo Equipo", q: "Two employees have conflict. One comes to you complaining. ¿First step?", options: ["Side with them", "Listen fully, then hear the other side before deciding", "Fire both", "Ignore it"], correct: 1, explanation: "Escucha ambos lados completamente antes de formar opinión o tomar acción. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Side with them; C) Fire both. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Manejo Equipo", q: "Technician asks for time off during your busiest week. ¿Response?", options: ["Punish for asking", "Always approve", "Always deny", "Consider the request fairly, balance needs with business reality"], correct: 3, explanation: "Balancea necesidades del empleado con necesidades del negocio justamente. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Punish for asking; B) Always approve. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Estrategia Final", q: "Competition opens across the street. ¿Reaction?", options: ["Sabotage them", "Panic", "Match all their prices", "Focus on your strengths, service, and differentiation"], correct: 3, explanation: "Competencia te hace mejor - enfócate en lo que haces bien y mejora. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Sabotage them; B) Panic. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Estrategia Final", q: "Major manufacturer you use has recall. ¿Action?", options: ["Contact affected customers proactively, manage the situation professionally", "Ignore it", "Hide involvement", "Blame manufacturer only"], correct: 0, explanation: "Comunica proactivamente y maneja profesionalmente - protege tu reputación. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Ignore it; C) Hide involvement. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Estrategia Final", q: "You have opportunity to hire competitor's top tech. ¿Consideration?", options: ["Always hire", "Only if they approach you", "Never poach", "Consider non-compete, culture fit, and why they're leaving"], correct: 3, explanation: "Evalúa legalmente y culturalmente - entiende la situación completa antes de actuar. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Always hire; B) Only if they approach you. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Estrategia Final", q: "Business partner wants out. ¿Process?", options: ["Follow partnership agreement, negotiate fairly, document everything", "Buy them out cheap", "Fight in court", "Refuse to discuss"], correct: 0, explanation: "Sigue acuerdos existentes, negocia de buena fe, y documenta todo profesionalmente. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Buy them out cheap; C) Fight in court. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Reflexión Final", q: "What makes an HVAC business truly valuable?", options: ["Big revenue", "Cheap prices", "Lots of trucks", "Recurring customers, trained team, documented systems, reputation"], correct: 3, explanation: "Valor viene de activos intangibles: clientes, equipo, sistemas, y reputación. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Big revenue; B) Cheap prices. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Reflexión Final", q: "How do you know if you're a successful business owner?", options: ["Business works without you, team thrives, customers satisfied, personal goals met", "Size of company", "Beating competitors", "Hours worked"], correct: 0, explanation: "Éxito real incluye negocio sostenible, equipo desarrollado, y vida personal satisfecha. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Size of company; C) Beating competitors. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Integral", q: "Compresor con interno en corto a tierra. ¿Opciones?", options: ["Reemplazar compresor - short a tierra no es reparable en campo", "Reparar devanados", "Verificar voltaje", "Reset breaker"], correct: 0, explanation: "Short a tierra indica falla de aislamiento - compresor debe reemplazarse. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Reparar devanados; C) Verificar voltaje. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Integral", q: "Sistema recién cargado, presiones bien, pero no enfría. ¿Verificar?", options: ["Más refrigerante", "Compresor malo", "TXV cerrada", "Airflow, distribución, y termostato antes de tocar refrigerante"], correct: 3, explanation: "Presiones correctas significa refrigeración funcionando - problema está en distribución de aire. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Más refrigerante; B) Compresor malo. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Integral", q: "Cliente reporta olor a quemado de vents. ¿Urgencia?", options: ["Solo durante heating", "Programar para mañana", "Normal para dust", "Emergencia - apagar sistema y diagnosticar inmediatamente"], correct: 3, explanation: "Olor a quemado puede indicar problema eléctrico serio - trata como emergencia. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Solo durante heating; B) Programar para mañana. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Técnico Integral", q: "Furnace igniter nuevo falla en 2 semanas. ¿Causa probable?", options: ["Voltaje incorrecto, cycling excesivo, o problema de gas", "Mala suerte", "Instalación incorrecta", "Parte defectuosa"], correct: 0, explanation: "Falla prematura indica problema underlying - investiga voltaje, cycling, y sistema. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Mala suerte; C) Instalación incorrecta. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Integral", q: "VAV system suddenly showing all zones calling for cooling. ¿Diagnóstico?", options: ["Normal behavior", "Add cooling capacity", "Todos tienen calor", "Central sensor failed, controller issue, or network problem"], correct: 3, explanation: "Demanda simultánea anormal sugiere problema de sensing o control central. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Normal behavior; B) Add cooling capacity. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Comercial Integral", q: "Chiller efficiency 0.8 kW/ton vs spec of 0.6. ¿Investigate?", options: ["Normal for age", "Specs are wrong", "33% worse than spec - investigate fouling, charge, or controls", "Within range"], correct: 2, explanation: "33% peor que spec indica problema significativo - investiga causa. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Normal for age; B) Specs are wrong. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial Integral", q: "Ammonia alarm activates but no leak found. ¿Action?", options: ["Replace detector", "Ignore false alarm", "Reduce sensitivity", "Verify detector calibration, investigate thoroughly, document"], correct: 3, explanation: "Toma alarmas seriamente - verifica calibración e investiga antes de asumir falsa alarma. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Replace detector; B) Ignore false alarm. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Industrial Integral", q: "Compressor oil analysis shows acid. ¿Immediate action?", options: ["Investigate contamination source, consider compressor condition", "Add acid neutralizer", "Change oil and run", "Ignore if runs"], correct: 0, explanation: "Ácido en aceite indica problema - identifica fuente y evalúa daño antes de continuar. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Add acid neutralizer; C) Change oil and run. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Owner Final", q: "Employee asks for raise. You can't afford it. ¿Honest response?", options: ["Promise for later", "Lie about finances", "Just say no", "Be honest about situation, discuss future possibilities, consider other value"], correct: 3, explanation: "Honestidad construye confianza - explica realidad y explora alternativas. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Promise for later; B) Lie about finances. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Owner Final", q: "You're burned out but business depends on you. ¿Path forward?", options: ["Take long vacation", "Systematize, delegate, and build team to reduce dependence on you", "Sell immediately", "Keep pushing"], correct: 1, explanation: "Construye negocio que no dependa 100% de ti para ser sostenible. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Take long vacation; C) Sell immediately. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Owner Final", q: "Customer threatens bad review unless you give discount. ¿Response?", options: ["Give bigger discount", "Threaten back", "Don't negotiate under threats, offer good service, document interaction", "Give discount"], correct: 2, explanation: "No negocies bajo amenaza - ofrece buen servicio pero mantén integridad. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Give bigger discount; B) Threaten back. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Owner Final", q: "Best investment: new truck, training, or marketing?", options: ["Save the money", "Always marketing", "Depends on your biggest constraint to growth - invest there", "Always trucks"], correct: 2, explanation: "Invierte donde tengas el constraint más grande - cada negocio es diferente. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Save the money; B) Always marketing. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Filosofía Final", q: "Si no mides, estás adivinando. ¿Aplicación en negocio?", options: ["Aplica a todo: métricas de negocio, desempeño, satisfacción, finances", "Solo en diagnóstico", "Solo para técnicos", "Exageración"], correct: 0, explanation: "La filosofía de medición aplica a todo el negocio - lo que mides puedes mejorar. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Solo en diagnóstico; C) Solo para técnicos. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Filosofía Final", q: "What does it mean to run business 'by the numbers'?", options: ["Ignore gut feeling", "Make decisions based on data while using judgment for context", "Only profit matters", "Spreadsheets for everything"], correct: 1, explanation: "Datos informan decisiones, pero juicio y experiencia proporcionan contexto. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Ignore gut feeling; C) Only profit matters. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Filosofía Final", q: "Customer first or employee first? ¿Which philosophy?", options: ["Profit first", "Happy employees create happy customers - take care of your team", "Customer always", "Neither matters"], correct: 1, explanation: "Empleados bien tratados tratan bien a los clientes - cuida a tu equipo primero. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Profit first; C) Customer always. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Filosofía Final", q: "Work smarter vs work harder. ¿In HVAC business?", options: ["Neither works", "Just work harder", "Smart only", "Both - but systems and efficiency multiply hard work's results"], correct: 3, explanation: "Trabajo duro es necesario, pero sistemas inteligentes multiplican los resultados. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Neither works; B) Just work harder. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Filosofía Final", q: "Your legacy as HVAC business owner. ¿What matters most?", options: ["Money accumulated", "Business size achieved", "People trained, customers served, community impact, integrity maintained", "Awards and recognition"], correct: 2, explanation: "El verdadero legado es el impacto positivo en personas y comunidad. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Money accumulated; B) Business size achieved. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Certificación Final", q: "You've completed 500 questions at Nivel Platino. ¿What demonstrates?", options: ["Nothing meaningful", "You can pass a test", "You memorized answers", "Comprehensive knowledge of technical, business, and leadership aspects of HVAC"], correct: 3, explanation: "Nivel Platino demuestra dominio integral: técnico, de negocio, y de liderazgo. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Nothing meaningful; B) You can pass a test. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Certificación Final", q: "Next step after passing Platino certification?", options: ["Continue learning, apply knowledge, develop others, give back", "You're done learning", "Start over", "Nothing more to learn"], correct: 0, explanation: "La certificación es milestone, no destino final - nunca dejes de aprender y crecer. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) You're done learning; C) Start over. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Certificación Final", q: "How do you use this certification to grow your business?", options: ["Frame on wall", "Nothing changes", "Charge more", "Demonstrate expertise to customers, train team, implement best practices"], correct: 3, explanation: "Certificación valida expertise - úsala para construir confianza y mejorar operaciones. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Frame on wall; B) Nothing changes. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Certificación Final", q: "What separates a certified Platino technician from others?", options: ["More tools", "Just a certificate", "Higher prices", "Integrated knowledge, business acumen, leadership skills, and commitment to excellence"], correct: 3, explanation: "Platino representa dominio completo: técnico, empresarial, y de liderazgo. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) More tools; B) Just a certificate. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Certificación Final", q: "Your responsibility as certified Platino professional?", options: ["Make money", "Maintain standards, mentor others, advance the trade, represent profession well", "Just do your job", "Protect the title"], correct: 1, explanation: "Con certificación viene responsabilidad de mantener estándares y desarrollar otros. Fuente: HVAC Excellence Training Manual & Industry Best Practices. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Make money; C) Just do your job. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Mensaje Final", q: "Final message from Nivel 33: The measure of success is...", options: ["Size of company", "How many people you helped grow and succeed along the way", "Hours worked", "Money in bank"], correct: 1, explanation: "El éxito verdadero se mide por el impacto positivo en las personas a tu alrededor. Fuente: Nivel 33 Training Philosophy - 'Si no mides, estás adivinando.'. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Size of company; C) Hours worked. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Mensaje Final", q: "Mario Flores Corona's teaching philosophy centers on?", options: ["Si no mides, estás adivinando - measurement-based diagnostics over guesswork", "Following instincts", "Memorization", "Trial and error"], correct: 0, explanation: "La filosofía de precisión y medición elimina las adivinanzas del trabajo profesional. Fuente: Nivel 33 Training Philosophy - 'Si no mides, estás adivinando.'. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Following instincts; C) Memorization. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Mensaje Final", q: "ACVOLT Technical School prepares technicians for?", options: ["One specific brand", "Just passing tests", "Real-world excellence in technical, business, and leadership skills", "Entry level only"], correct: 2, explanation: "ACVOLT prepara técnicos completos: capaces técnicamente y listos para liderar y crecer. Fuente: Nivel 33 Training Philosophy - 'Si no mides, estás adivinando.'. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) One specific brand; B) Just passing tests. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Mensaje Final", q: "Completing Nivel Platino shows you are ready to?", options: ["Lead technicians, manage business, serve clients with excellence", "Just do basic work", "Rest on achievements", "Stop learning"], correct: 0, explanation: "Platino te certifica como técnico completo, listo para liderar y hacer crecer tu negocio. Fuente: Nivel 33 Training Philosophy - 'Si no mides, estás adivinando.'. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Just do basic work; C) Rest on achievements. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Mensaje Final", q: "The journey of a thousand miles begins with?", options: ["Perfect conditions", "Lots of money", "A single step - and continues with consistent daily improvement", "Running fast"], correct: 2, explanation: "Tu camino al éxito comienza con el primer paso y continúa con mejora constante cada día. Fuente: Nivel 33 Training Philosophy - 'Si no mides, estás adivinando.'. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Perfect conditions; B) Lots of money. Fuente: HVAC Excellence Training Manual & Industry Standards." }
        ,
        // === ÚLTIMAS 4 PREGUNTAS ===
        { category: "Mensaje Final", q: "As a Nivel Platino graduate, your mission is to?", options: ["Elevate the entire HVAC trade through excellence, integrity, and teaching others", "Protect trade secrets", "Compete aggressively", "Just earn more"], correct: 0, explanation: "Tu misión es elevar todo el oficio a través de tu excelencia, integridad, y al enseñar a otros. Fuente: Nivel 33 Training Philosophy - 'Si no mides, estás adivinando.'. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: B) Protect trade secrets; C) Compete aggressively. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Mensaje Final", q: "What makes HVAC more than just a job?", options: ["Stable career", "Just technical work", "Providing comfort, safety, and health for families and businesses", "Good pay only"], correct: 2, explanation: "HVAC provee comfort, seguridad y salud - es un servicio vital para la comunidad. Fuente: Nivel 33 Training Philosophy - 'Si no mides, estás adivinando.'. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Stable career; B) Just technical work. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Mensaje Final", q: "Looking back at 500 questions, what's the common thread?", options: ["Just information", "Integration of technical excellence, business acumen, and servant leadership", "Technical knowledge", "Test preparation"], correct: 1, explanation: "El hilo común es la integración de excelencia técnica, visión de negocio, y liderazgo de servicio. Fuente: Nivel 33 Training Philosophy - 'Si no mides, estás adivinando.'. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Just information; C) Technical knowledge. Fuente: HVAC Excellence Training Manual & Industry Standards." },
        { category: "Mensaje Final", q: "Congratulations! You've proven yourself at Nivel Platino. Now?", options: ["Celebrate and stop", "Frame certificate only", "Apply what you've learned, continue growing, and help others rise too", "Start over"], correct: 2, explanation: "¡Felicidades! Ahora aplica tu conocimiento, sigue creciendo, y ayuda a otros a subir también. Fuente: Nivel 33 Training Philosophy - 'Si no mides, estás adivinando.'. Este conocimiento es fundamental para un técnico profesional. Las otras opciones son incorrectas: A) Celebrate and stop; B) Frame certificate only. Fuente: HVAC Excellence Training Manual & Industry Standards." }

      ]
    };

    // Login credentials
    let pendingRegEmail = '';

    // Check if user is authenticated via Supabase
    function isAuthenticated() {
      return localStorage.getItem('tecnico_authenticated') === 'true' && localStorage.getItem('tecnico_email');
    }

    // Handle login with Supabase Auth
    async function handleLogin(event) {
      event.preventDefault();
      const email = document.getElementById('loginEmail').value.trim().toLowerCase();
      const pass = document.getElementById('loginPassword').value;
      const errorDiv = document.getElementById('loginError');

      if (!supabaseClient) {
        errorDiv.textContent = 'Error de conexión. Intenta de nuevo.';
        errorDiv.classList.add('show');
        return false;
      }

      try {
        const { data, error } = await supabaseClient.auth.signInWithPassword({
          email: email,
          password: pass
        });

        if (error) {
          if (error.message.includes('Email not confirmed')) {
            errorDiv.textContent = '📧 Debes confirmar tu correo electrónico primero. Revisa tu bandeja de entrada.';
            pendingRegEmail = email;
          } else if (error.message.includes('Invalid login')) {
            errorDiv.textContent = 'Correo o contraseña incorrectos';
          } else {
            errorDiv.textContent = error.message;
          }
          errorDiv.classList.add('show');
          return false;
        }

        // Login successful
        localStorage.setItem('tecnico_authenticated', 'true');
        localStorage.setItem('tecnico_email', email);
        errorDiv.classList.remove('show');

        // Load user profile from local storage or Supabase
        const users = JSON.parse(localStorage.getItem('maestroac_users') || '{}');
        if (users[email]) {
          currentUser = {
            nombre: users[email].nombre,
            email: email,
            telefono: users[email].telefono || '',
            ciudad: users[email].ciudad || '',
            experiencia: users[email].experiencia || '',
            registrationDate: users[email].registrationDate
          };
        } else {
          // Try loading from Supabase technicians table
          try {
            const { data: techData } = await supabaseClient.from('technicians').select('*').eq('email', email).single();
            if (techData) {
              currentUser = {
                nombre: techData.nombre || email.split('@')[0],
                email: email,
                telefono: techData.telefono || '',
                ciudad: techData.ciudad || '',
                experiencia: techData.experiencia || '',
                registrationDate: techData.registration_date
              };
              // Cache locally
              users[email] = { ...currentUser, password: '(supabase-auth)' };
              localStorage.setItem('maestroac_users', JSON.stringify(users));
            }
          } catch(e) {}
          if (!currentUser || !currentUser.nombre) {
            currentUser = { nombre: email.split('@')[0], email: email };
          }
        }

        loadUserProgress(email);
        logActivity('login', 'Inicio de sesión');
        addNotification('register', '🔓 Sesión iniciada — ¡Bienvenido ' + (currentUser.nombre ? currentUser.nombre.split(' ')[0] : 'Técnico') + '!', '🔓');

        // Sync tecnico_user so handleComenzar finds it
        if (currentUser && currentUser.nombre) {
          localStorage.setItem('tecnico_user', JSON.stringify(currentUser));
          localStorage.setItem('tecnico_user_backup', JSON.stringify(currentUser));
        }

        const savedState = loadLastQuizState();
        if (savedState && savedState.levelKey && savedState.questionIndex > 0) {
          showScreen('welcomeScreen');
          showResumeBanner(savedState);
        } else {
          showScreen('welcomeScreen');
        }
      } catch(e) {
        errorDiv.textContent = 'Error de conexión. Intenta de nuevo.';
        errorDiv.classList.add('show');
      }
      return false;
    }

    // Handle registration with Supabase Auth
    async function handleRegister(event) {
      event.preventDefault();
      const name = document.getElementById('regName').value.trim();
      const email = document.getElementById('regEmail').value.trim().toLowerCase();
      const phone = document.getElementById('regPhone').value.trim();
      const city = document.getElementById('regCity').value.trim();
      const experience = document.getElementById('regExperience').value;
      const epa = document.getElementById('regEPA').value.trim();
      const osha = document.getElementById('regOSHA').value.trim();
      const hvace = document.getElementById('regHVACE').value.trim();
      const pass = document.getElementById('regPassword').value;
      const passConfirm = document.getElementById('regPasswordConfirm').value;
      const errorDiv = document.getElementById('registerError');

      // Validate required fields
      if (!name || name.length < 3) {
        errorDiv.textContent = 'Ingresa tu nombre completo (mínimo 3 caracteres)';
        errorDiv.classList.add('show');
        return false;
      }
      if (!phone || phone.length < 7) {
        errorDiv.textContent = 'Ingresa un número de teléfono válido';
        errorDiv.classList.add('show');
        return false;
      }
      if (!city || city.length < 3) {
        errorDiv.textContent = 'Ingresa tu ciudad y estado';
        errorDiv.classList.add('show');
        return false;
      }
      if (!experience) {
        errorDiv.textContent = 'Selecciona tus años de experiencia';
        errorDiv.classList.add('show');
        return false;
      }
      if (pass !== passConfirm) {
        errorDiv.textContent = 'Las contraseñas no coinciden';
        errorDiv.classList.add('show');
        return false;
      }
      if (pass.length < 6) {
        errorDiv.textContent = 'La contraseña debe tener mínimo 6 caracteres';
        errorDiv.classList.add('show');
        return false;
      }

      if (!supabaseClient) {
        errorDiv.textContent = 'Error de conexión. Intenta de nuevo.';
        errorDiv.classList.add('show');
        return false;
      }

      try {
        // Register with Supabase Auth (sends confirmation email automatically)
        const { data, error } = await supabaseClient.auth.signUp({
          email: email,
          password: pass,
          options: {
            data: {
              nombre: name,
              telefono: phone,
              ciudad: city,
              experiencia: experience
            }
          }
        });

        if (error) {
          if (error.message.includes('already registered') || error.message.includes('User already registered')) {
            errorDiv.textContent = 'Este correo ya está registrado. Inicia sesión.';
          } else {
            errorDiv.textContent = error.message;
          }
          errorDiv.classList.add('show');
          return false;
        }

        // Save user data locally and to Supabase technicians table

        // Verificar si el email ya existe (Supabase retorna user con identities vacio)
        if (data.user && data.user.identities && data.user.identities.length === 0) {
            errorDiv.innerHTML = 'Este correo ya tiene cuenta. <a href="#" onclick="showScreen(\x27loginScreen\x27); return false;" style="color:#f39c12;text-decoration:underline;">Iniciar Sesion</a>';
            errorDiv.classList.add('show');
            return false;
        }

        const users = JSON.parse(localStorage.getItem('maestroac_users') || '{}');
        users[email] = {
          nombre: name,
          password: '(supabase-auth)',
          telefono: phone,
          ciudad: city,
          experiencia: experience,
          epa: epa || '',
          osha: osha || '',
          hvace: hvace || '',
          registrationDate: new Date().toISOString(),
          appAccess: false,
          verified: false
        };
        localStorage.setItem('maestroac_users', JSON.stringify(users));

        // Save to technicians table
        try {
          await supabaseClient.from('technicians').upsert({
            email: email,
            nombre: name,
            telefono: phone,
            ciudad: city,
            experiencia: experience,
            epa: epa || '',
            osha: osha || '',
            hvace: hvace || '',
            registration_date: new Date().toISOString()
          });
        } catch(e) { console.log('[MaestroAC] Save technician error:', e); }

        // Show email confirmation pending screen
        pendingRegEmail = email;
        document.getElementById('pendingEmailText').innerHTML = 
          'Te enviamos un link de confirmación a:<br><strong style="color:#f39c12;font-size:16px;">' + email + '</strong>';
        errorDiv.classList.remove('show');
        showScreen('emailPendingScreen');
      } catch(e) {
        errorDiv.textContent = 'Error de conexión. Intenta de nuevo.';
        errorDiv.classList.add('show');
      }
      return false;
    }

    // Resend confirmation email
    async function resendConfirmation() {
      if (!supabaseClient || !pendingRegEmail) {
        alert('No hay correo pendiente de confirmación.');
        return;
      }
      try {
        const { error } = await supabaseClient.auth.resend({
          type: 'signup',
          email: pendingRegEmail
        });
        if (error) {
          alert('Error: ' + error.message + '\n\nEspera 60 segundos antes de intentar de nuevo.');
        } else {
          alert('✅ Correo reenviado a ' + pendingRegEmail + '\n\nRevisa tu bandeja de entrada y carpeta de spam.');
        }
      } catch(e) {
        alert('Error de conexión. Intenta de nuevo.');
      }
    }

    // Cerrar sesion del usuario
    async function cerrarSesion() {
        try {
            if (supabaseClient) {
                await supabaseClient.auth.signOut();
            }
        } catch(e) {
            console.log('[MaestroAC] SignOut error:', e);
        }
        localStorage.removeItem('tecnico_authenticated');
        localStorage.removeItem('tecnico_email');
        sessionStorage.removeItem('tecnico_authenticated');
        sessionStorage.removeItem('tecnico_email');
        currentUser = null;
        supabaseUserId = null;
        showScreen('loginScreen');
    }

    // Load user-specific progress
    function loadUserProgress(email) {
      const key = 'maestroac_progress_' + email;
      const saved = localStorage.getItem(key);
      if (saved) {
        try {
          const parsed = JSON.parse(saved);
          Object.keys(parsed).forEach(k => {
            if (progress[k]) {
              progress[k] = parsed[k];
            }
          });
        } catch(e) {}
      }
      renderLevels();
    }

    // Initialize
    async function init() {
      loadProgress();
      loadVideoProgress();
      renderLevels();

      // Clean up stale attendance sessions
      checkStaleAttendance();

      // Check for Supabase Auth callback (email confirmation redirect)
      if (supabaseClient) {
        try {
          const { data: { session } } = await supabaseClient.auth.getSession();
          if (session && session.user) {
            const email = session.user.email;
            localStorage.setItem('tecnico_authenticated', 'true');
            localStorage.setItem('tecnico_email', email);
            // Also populate tecnico_user from maestroac_users if available
            const initUsers = JSON.parse(localStorage.getItem('maestroac_users') || '{}');
            if (initUsers[email] && initUsers[email].nombre && !localStorage.getItem('tecnico_user')) {
                localStorage.setItem('tecnico_user', JSON.stringify({
                    nombre: initUsers[email].nombre,
                    email: email,
                    telefono: initUsers[email].telefono || '',
                    ciudad: initUsers[email].ciudad || '',
                    experiencia: initUsers[email].experiencia || '',
                    registrationDate: initUsers[email].registrationDate
                }));
            }
            
            // Mark as verified locally
            const users = JSON.parse(localStorage.getItem('maestroac_users') || '{}');
            if (users[email]) {
              users[email].verified = true;
              localStorage.setItem('maestroac_users', JSON.stringify(users));
            }
          }
        } catch(e) { console.log('[MaestroAC] Session check:', e); }
      }

      // Check authentication status
      if (isAuthenticated()) {
        const email = localStorage.getItem('tecnico_email');
        const users = JSON.parse(localStorage.getItem('maestroac_users') || '{}');
        if (users[email] && users[email].nombre) {
          currentUser = {
            nombre: users[email].nombre,
            email: email,
            telefono: users[email].telefono || '',
            ciudad: users[email].ciudad || '',
            experiencia: users[email].experiencia || '',
            registrationDate: users[email].registrationDate
          };
          // Sync tecnico_user so handleComenzar finds it
          localStorage.setItem('tecnico_user', JSON.stringify(currentUser));
          localStorage.setItem('tecnico_user_backup', JSON.stringify(currentUser));
          loadUserProgress(email);
        } else if (email && supabaseClient) {
          // No local data - try loading from Supabase technicians table (new device)
          try {
            const { data: techData } = await supabaseClient.from('technicians').select('*').eq('email', email).single();
            if (techData && techData.nombre) {
              currentUser = {
                nombre: techData.nombre,
                email: email,
                telefono: techData.telefono || '',
                ciudad: techData.ciudad || '',
                experiencia: techData.experiencia || '',
                registrationDate: techData.registration_date
              };
              // Cache locally for future loads
              users[email] = { ...currentUser, password: '(supabase-auth)', verified: true };
              localStorage.setItem('maestroac_users', JSON.stringify(users));
              localStorage.setItem('tecnico_user', JSON.stringify(currentUser));
              localStorage.setItem('tecnico_user_backup', JSON.stringify(currentUser));
              loadUserProgress(email);
            }
          } catch(e) { console.log('[MaestroAC] Load technician on init:', e); }
        }
        const savedState = loadLastQuizState();
        if (savedState && savedState.levelKey && savedState.questionIndex > 0) {
          showScreen('welcomeScreen');
          showResumeBanner(savedState);
        } else {
          showScreen('welcomeScreen');
        }
      } else {
        showScreen('loginScreen');
      }

      // Register form handler (profile creation form)
      const regForm = document.getElementById('registerForm');
      if (regForm) {
        regForm.addEventListener('submit', function(e) {
          e.preventDefault();
          registerUser();
        });
      }
    }

    // Show resume banner on welcome screen
    function showResumeBanner(savedState) {
      // Create or update resume banner
      let banner = document.getElementById('resumeBanner');
      if (!banner) {
        banner = document.createElement('div');
        banner.id = 'resumeBanner';
        banner.style.cssText = 'background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px 20px; border-radius: 12px; margin: 15px 0; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);';

        // Insert banner after the header in the welcome screen
        const welcomeScreen = document.getElementById('welcomeScreen');
        const header = welcomeScreen.querySelector('.header');
        if (header && header.nextSibling) {
          welcomeScreen.insertBefore(banner, header.nextSibling);
        } else if (welcomeScreen) {
          welcomeScreen.appendChild(banner);
        }
      }

      const levelName = levels.find(l => l.id === savedState.levelKey)?.name || savedState.levelKey;
      const progressText = `${savedState.questionIndex + 1}/${savedState.totalQuestions}`;

      banner.innerHTML = `
        <div>
          <div style="font-weight: 600; margin-bottom: 4px;">Continuar Quiz</div>
          <div style="font-size: 13px; opacity: 0.9;">${levelName} - ${progressText} preguntas</div>
        </div>
        <div style="display: flex; gap: 10px;">
          <button onclick="dismissResumeBanner()" style="background: rgba(255,255,255,0.2); color: white; border: none; padding: 8px 16px; border-radius: 8px; cursor: pointer; font-size: 14px;">Descartar</button>
          <button onclick="resumeFromBanner()" style="background: white; color: #667eea; border: none; padding: 8px 16px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 14px;">Continuar</button>
        </div>
      `;

      banner.style.display = 'flex';
    }

    // Resume from the welcome screen banner
    function resumeFromBanner() {
      const banner = document.getElementById('resumeBanner');
      if (banner) {
        banner.style.display = 'none';
      }
      resumeQuiz();
    }

    // Dismiss the resume banner and clear the saved state
    function dismissResumeBanner() {
      const banner = document.getElementById('resumeBanner');
      if (banner) {
        banner.style.display = 'none';
      }
      clearLastQuizState();
    }

    function showScreen(screenId) {
      // Force check-in before accessing any content
      const protectedScreens = ['levelsScreen', 'studySectionsScreen', 'videoLessonsScreen', 'quizScreen', 'studyContentScreen', 'studyCategoryScreen', 'certificatesScreen', 'membershipLoginScreen', 'membershipZoneScreen'];
      if (protectedScreens.includes(screenId) && !sessionCheckedIn) {
        if (!requireCheckIn(screenId)) return;
      }
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      document.getElementById(screenId).classList.add('active');
      // Save current screen for "back to app" navigation
      localStorage.setItem('maestroac_last_screen', screenId);
      // Hide "back to app" button on login/register screens
      var backBtn = document.getElementById('backToAppBtn');
      if (backBtn) {
        if (screenId === 'loginScreen' || screenId === 'registerScreen' || screenId === 'adminLoginScreen') {
          backBtn.style.display = 'none';
        }
      }
    
      // Auto-load admin data when admin dashboard opens
      if (screenId === 'adminDashboardScreen') {
        try { renderAccessCodes(); } catch(e) {}
        try { loadActiveCodes(); } catch(e) {}
        try { loadAdminAttendance(); } catch(e) {}
        try { renderLevelPerformanceChart(); } catch(e) {}
        try { loadAttendanceData(); } catch(e) {}
        try { loadAdminStudentActivity(); } catch(e) {}
        try { loadAdminExamRequests(); } catch(e) {}
      }
    }

    // Handle the "Comenzar" button - check if profile exists
    async function handleComenzar() {
      let savedUser = localStorage.getItem('tecnico_user');
      if (!savedUser) savedUser = localStorage.getItem('tecnico_user_backup');
      if (savedUser) {
        try {
          const user = JSON.parse(savedUser);
          if (user && user.nombre) {
            // User already has a profile, go directly to levels
            currentUser = user;
            // Re-save to ensure both keys have data
            localStorage.setItem('tecnico_user', JSON.stringify(currentUser));
            localStorage.setItem('tecnico_user_backup', JSON.stringify(currentUser));
            // Sync with Supabase on login
            supabaseRegisterUser(currentUser).then(async (id) => {
              if (id) {
                console.log('[MaestroAC] Connected to Supabase user:', id);
                // Load cloud data and merge if newer
                const cloudData = await supabaseLoadUserData();
                if (cloudData && cloudData.progress) {
                  cloudData.progress.forEach(p => {
                    if (progress[p.nivel] && p.completed > progress[p.nivel].completed) {
                      progress[p.nivel].completed = p.completed;
                      progress[p.nivel].score = p.score;
                    }
                  });
                  saveProgress();
                  renderLevels();
                }
              }
            });
            document.getElementById('userGreeting').textContent = 'Hola, ' + currentUser.nombre.split(' ')[0];
            showNotifBell();
            showScreen('levelsScreen');
            return;
          }
        } catch(e) {
          console.error('Error loading saved user:', e);
        }
      }
      // Fallback: check maestroac_users (Supabase Auth registered users)
      const authEmail = localStorage.getItem('tecnico_email');
      if (authEmail) {
          const allUsers = JSON.parse(localStorage.getItem('maestroac_users') || '{}');
          const authUser = allUsers[authEmail];
          if (authUser && authUser.nombre) {
              currentUser = {
                  nombre: authUser.nombre,
                  email: authEmail,
                  telefono: authUser.telefono || '',
                  ciudad: authUser.ciudad || '',
                  experiencia: authUser.experiencia || '',
                  registrationDate: authUser.registrationDate
              };
              localStorage.setItem('tecnico_user', JSON.stringify(currentUser));
              localStorage.setItem('tecnico_user_backup', JSON.stringify(currentUser));
              document.getElementById('userGreeting').textContent = 'Hola, ' + currentUser.nombre.split(' ')[0];
              showNotifBell();
              showScreen('levelsScreen');
              return;
          }
      }
      // No valid profile found anywhere, try Supabase as last resort
      if (authEmail && supabaseClient) {
          try {
              const { data: techData } = await supabaseClient.from('technicians').select('*').eq('email', authEmail).single();
              if (techData && techData.nombre) {
                  currentUser = {
                      nombre: techData.nombre,
                      email: authEmail,
                      telefono: techData.telefono || '',
                      ciudad: techData.ciudad || '',
                      experiencia: techData.experiencia || '',
                      registrationDate: techData.registration_date
                  };
                  // Cache locally for future loads
                  const cacheUsers = JSON.parse(localStorage.getItem('maestroac_users') || '{}');
                  cacheUsers[authEmail] = { ...currentUser, password: '(supabase-auth)', verified: true };
                  localStorage.setItem('maestroac_users', JSON.stringify(cacheUsers));
                  localStorage.setItem('tecnico_user', JSON.stringify(currentUser));
                  localStorage.setItem('tecnico_user_backup', JSON.stringify(currentUser));
                  document.getElementById('userGreeting').textContent = 'Hola, ' + currentUser.nombre.split(' ')[0];
                  showNotifBell();
                  showScreen('levelsScreen');
                  return;
              }
          } catch(e) { console.log('[MaestroAC] Supabase fallback in Comenzar:', e); }
      }
      showScreen('registerScreen');
    }

    function registerUser() {
      currentUser = {
        nombre: document.getElementById('nombre').value,
        email: document.getElementById('email').value,
        telefono: document.getElementById('telefono').value,
        ciudad: document.getElementById('ciudad').value,
        estado: document.getElementById('estado').value,
        epa: document.getElementById('epa').value,
        nate: document.getElementById('nate').value,
        esco: document.getElementById('esco').value
      };
      // Auto-generate student ID
      if (!currentUser.studentId) {
        currentUser.studentId = generateStudentId();
        currentUser.studentIdDate = new Date().toISOString();
      }
      // Save with backup to prevent data loss
      localStorage.setItem('tecnico_user', JSON.stringify(currentUser));
      localStorage.setItem('tecnico_user_backup', JSON.stringify(currentUser));
      // Register in Supabase
      supabaseRegisterUser(currentUser).then(id => {
        if (id) console.log('[MaestroAC] User registered in Supabase:', id);
      });
      document.getElementById('userGreeting').textContent = 'Hola, ' + currentUser.nombre.split(' ')[0];
      addNotification('register', '👤 ¡Bienvenido ' + currentUser.nombre.split(' ')[0] + '! Perfil creado exitosamente.', '👤');
      showNotifBell();
      showScreen('levelsScreen');
    }

    function loadProgress() {
      // Load progress with backup fallback
      let saved = localStorage.getItem('tecnico_progress');
      if (!saved) saved = localStorage.getItem('tecnico_progress_backup');
      if (saved) {
        try {
          progress = JSON.parse(saved);
        } catch(e) {
          console.error('Error loading progress:', e);
        }
      }

      // Version migration: sync totals with target question counts
      const APP_QUESTION_VERSION = '1.7.2';
      const savedVersion = localStorage.getItem('maestroac_question_version');
      if (savedVersion !== APP_QUESTION_VERSION) {
        console.log('[MaestroAC] Migrating question totals to v' + APP_QUESTION_VERSION);
        const targetTotals = { principiante: 700, intermedio: 700, avanzado: 700, elite: 700, platino: 700 };
        Object.keys(targetTotals).forEach(key => {
          if (progress[key]) {
            const target = targetTotals[key];
            if (progress[key].total !== target) {
              console.log('[MaestroAC] ' + key + ': ' + progress[key].total + ' -> ' + target);
              progress[key].total = target;
              if (progress[key].completed > target) {
                progress[key].completed = 0;
                progress[key].score = 0;
              }
            }
          }
        });
        localStorage.setItem('maestroac_question_version', APP_QUESTION_VERSION);
        saveProgress();
      }

      // Load certificates with backup fallback - NEVER lose certificates!
      let savedCerts = localStorage.getItem('tecnico_certificates');
      if (!savedCerts) savedCerts = localStorage.getItem('tecnico_certificates_backup');
      if (savedCerts) {
        try {
          certificates = JSON.parse(savedCerts);
          // Re-save to ensure both keys have data
          saveCertificates();
        } catch(e) {
          console.error('Error loading certificates:', e);
        }
      }

      let savedUser = localStorage.getItem('tecnico_user');
      if (!savedUser) savedUser = localStorage.getItem('tecnico_user_backup');
      if (savedUser) {
        try {
          currentUser = JSON.parse(savedUser);
          // Re-save to ensure both keys have data
          localStorage.setItem('tecnico_user', JSON.stringify(currentUser));
          localStorage.setItem('tecnico_user_backup', JSON.stringify(currentUser));
          document.getElementById('userGreeting').textContent = 'Hola, ' + currentUser.nombre.split(' ')[0];
          showNotifBell();
        } catch(e) {
          console.error('Error loading user:', e);
        }
      }

      // Load lastActivity tracking data
      loadLastActivity();

      // Load lastQuizState for resume functionality
      loadLastQuizState();
      
      // Check for partial quiz progress
      checkPartialQuizProgress();
    
      // === FIX: Sync progress totals with actual question bank ===
      const levelNames = ['principiante', 'intermedio', 'avanzado', 'elite', 'platino'];
      const progressKeys = ['tecnico_progress', 'tecnico_progress_backup'];
      // Also sync email-specific keys
      const currentEmail = localStorage.getItem('tecnico_email') || '';
      if (currentEmail) progressKeys.push('maestroac_progress_' + currentEmail);
      
      progressKeys.forEach(key => {
        try {
          const stored = localStorage.getItem(key);
          if (stored) {
            const prog = JSON.parse(stored);
            let changed = false;
            levelNames.forEach(lvl => {
              if (prog[lvl] && typeof questions !== 'undefined' && questions[lvl]) {
                const realTotal = questions[lvl].length;
                if (prog[lvl].total !== realTotal) {
                  prog[lvl].total = realTotal;
                  changed = true;
                }
              }
            });
            if (changed) {
              localStorage.setItem(key, JSON.stringify(prog));
              console.log('Synced progress totals for: ' + key);
            }
          }
        } catch(e) { console.warn('Sync error for ' + key, e); }
      });
      // === END FIX ===
}
    
    // Check if there's partial quiz progress to resume
    function checkPartialQuizProgress() {
      const partial = localStorage.getItem('tecnico_quiz_partial');
      if (partial) {
        try {
          const data = JSON.parse(partial);
          // If partial progress is less than 24 hours old, offer to resume
          if (Date.now() - data.timestamp < 24 * 60 * 60 * 1000) {
            window.partialQuizData = data;
          } else {
            clearPartialProgress();
          }
        } catch(e) {
          clearPartialProgress();
        }
      }
    }

    function saveProgress() {
      localStorage.setItem('tecnico_progress', JSON.stringify(progress));
      localStorage.setItem('tecnico_progress_backup', JSON.stringify(progress));
      // Save per-user progress
      const email = localStorage.getItem('tecnico_email');
      if (email) {
        localStorage.setItem('maestroac_progress_' + email, JSON.stringify(progress));
      }
      // Sync to Supabase
      supabaseSaveProgress(progress);
    }

    // ========== ACTIVITY LOGGING ==========
    function logActivity(type, detail) {
      const email = localStorage.getItem('tecnico_email');
      if (!email) return;
      const key = 'maestroac_activity_' + email;
      const log = JSON.parse(localStorage.getItem(key) || '[]');
      log.push({
        type: type,
        detail: detail || '',
        timestamp: new Date().toISOString()
      });
      // Keep last 500 entries
      if (log.length > 500) log.splice(0, log.length - 500);
      localStorage.setItem(key, JSON.stringify(log));
    }

    function getActivityLog(email) {
      const key = 'maestroac_activity_' + (email || localStorage.getItem('tecnico_email'));
      return JSON.parse(localStorage.getItem(key) || '[]');
    }

    function getActivityStats(email) {
      const log = getActivityLog(email);
      if (log.length === 0) return { totalMinutes: 0, totalSessions: 0, quizzes: 0, questionsAnswered: 0, lastActive: null };

      let sessions = 0;
      let quizzes = 0;
      let questionsAnswered = 0;
      let totalMinutes = 0;
      let lastActive = null;

      // Calculate sessions (group activity within 30 min gaps)
      let lastTime = null;
      log.forEach(entry => {
        const t = new Date(entry.timestamp).getTime();
        if (!lastTime || t - lastTime > 30 * 60 * 1000) {
          sessions++;
        }
        lastTime = t;
        if (entry.type === 'quiz_start') quizzes++;
        if (entry.type === 'answer') questionsAnswered++;
      });

      // Estimate total time: sum gaps between consecutive actions (max 5 min per gap)
      for (let i = 1; i < log.length; i++) {
        const gap = (new Date(log[i].timestamp).getTime() - new Date(log[i-1].timestamp).getTime()) / 60000;
        totalMinutes += Math.min(gap, 5);
      }
      totalMinutes = Math.round(totalMinutes);

      if (log.length > 0) {
        lastActive = log[log.length - 1].timestamp;
      }

      return { totalMinutes, totalSessions: sessions, quizzes, questionsAnswered, lastActive };
    }

    function saveCertificates() {
      localStorage.setItem('tecnico_certificates', JSON.stringify(certificates));
      // Backup to second key - NEVER lose certificates!
      localStorage.setItem('tecnico_certificates_backup', JSON.stringify(certificates));
      // Sync certificates to Supabase
      certificates.forEach(cert => supabaseSaveCertificate(cert));
    }
    
    // Save partial quiz progress after each answer
    function saveQuizProgressPartial() {
      const partialProgress = {
        level: currentLevel,
        questionIndex: currentQuestionIndex,
        correctAnswers: correctAnswers,
        totalQuestions: currentQuestions.length,
        timestamp: Date.now()
      };
      localStorage.setItem('tecnico_quiz_partial', JSON.stringify(partialProgress));
    }
    
    // Clear partial progress when quiz ends
    function clearPartialProgress() {
      localStorage.removeItem('tecnico_quiz_partial');
    }

    // Save lastActivity to localStorage
    function saveLastActivity() {
      if (lastActivity) {
        localStorage.setItem('tecnico_lastActivity', JSON.stringify(lastActivity));
      }
    }

    // Load lastActivity from localStorage
    function loadLastActivity() {
      const saved = localStorage.getItem('tecnico_lastActivity');
      if (saved) {
        lastActivity = JSON.parse(saved);
      }
    }

    // Update lastActivity with new activity data
    // type: "lesson" | "quiz"
    // moduleId: level identifier (e.g., "principiante")
    // lessonId: category name for study sections (nullable)
    // quizId: quiz identifier (nullable, same as moduleId for quizzes)
    // routePath: current screen/path
    function updateLastActivity(type, moduleId, lessonId, quizId, routePath) {
      lastActivity = {
        type: type,
        moduleId: moduleId,
        lessonId: lessonId || null,
        quizId: quizId || null,
        routePath: routePath,
        updatedAt: new Date().toISOString()
      };
      saveLastActivity();
    }

    // Save lastQuizState to localStorage
    function saveLastQuizState() {
      if (lastQuizState) {
        localStorage.setItem('tecnico_lastQuizState', JSON.stringify(lastQuizState));
      }
    }

    // Load lastQuizState from localStorage
    function loadLastQuizState() {
      const saved = localStorage.getItem('tecnico_lastQuizState');
      if (saved) {
        lastQuizState = JSON.parse(saved);
      }
      return lastQuizState;
    }

    // Clear lastQuizState (called when quiz is completed)
    function clearLastQuizState() {
      lastQuizState = null;
      localStorage.removeItem('tecnico_lastQuizState');
    }

    // Update lastQuizState with current quiz progress
    // Called when: question view loads, user clicks "Siguiente", user answers a question
    function updateLastQuizState() {
      if (!currentLevel || !currentQuestions || currentQuestions.length === 0) {
        return;
      }

      const currentQuestion = currentQuestions[currentQuestionIndex];
      const levelName = levels.find(l => l.id === currentLevel)?.name || currentLevel;

      // Store question IDs to restore exact order on resume
      const shuffledQuestionIds = currentQuestions.map((q, idx) => {
        // Create a unique identifier for each question based on its content
        return q.q.substring(0, 50);
      });

      lastQuizState = {
        levelId: levelName,
        levelKey: currentLevel,
        category: currentQuestion ? currentQuestion.category : null,
        questionIndex: currentQuestionIndex,
        totalQuestions: currentQuestions.length,
        routePath: 'quizScreen',
        correctAnswers: correctAnswers,
        shuffledQuestionIds: shuffledQuestionIds,
        startTime: startTime,
        updatedAt: new Date().toISOString()
      };

      saveLastQuizState();
    }

    // Resume quiz from lastQuizState
    // Returns true if resume was successful, false otherwise
    function resumeQuizFromState() {
      const state = loadLastQuizState();
      if (!state || !state.levelKey || !questions[state.levelKey]) {
        return false;
      }

      // Restore the quiz state
      currentLevel = state.levelKey;

      // Restore the exact question order using shuffledQuestionIds
      const levelQuestions = questions[state.levelKey];
      if (state.shuffledQuestionIds && state.shuffledQuestionIds.length > 0) {
        // Reconstruct the shuffled array order
        currentQuestions = state.shuffledQuestionIds.map(qId => {
          return levelQuestions.find(q => q.q.substring(0, 50) === qId);
        }).filter(q => q !== undefined);

        // If reconstruction failed, fall back to fresh shuffle
        if (currentQuestions.length !== state.totalQuestions) {
          currentQuestions = shuffleArray([...levelQuestions]);
        }
      } else {
        currentQuestions = shuffleArray([...levelQuestions]);
      }

      currentQuestionIndex = state.questionIndex || 0;
      correctAnswers = state.correctAnswers || 0;
      startTime = state.startTime || Date.now();

      // Ensure question index is valid
      if (currentQuestionIndex >= currentQuestions.length) {
        currentQuestionIndex = 0;
        correctAnswers = 0;
        startTime = Date.now();
      }

      return true;
    }

    // Check if there's a resumable quiz state
    function hasResumableQuizState() {
      const state = loadLastQuizState();
      return state !== null && state.levelKey && questions[state.levelKey];
    }

    function renderLevels() {
      const container = document.getElementById('levelsList');
      container.innerHTML = '';

      // Load unlocked levels
      loadUnlockedLevels();

      levels.forEach(level => {
        const p = progress[level.id];
        const percentage = p.completed > 0 ? Math.round((p.score / p.completed) * 100) : 0;
        const completedPct = Math.round((p.completed / p.total) * 100);
        const locked = isLevelLocked(level.id);

        const card = document.createElement('div');
        card.className = 'level-card' + (locked ? ' locked' : '');

        if (locked) {
          const purchased = hasAppAccess();
          if (!purchased && level.id !== 'principiante') {
            // Not purchased - show buy prompt
            card.innerHTML = `
              <div class="level-info">
                <h3>${level.name}</h3>
                <div class="progress-bar"><div class="progress-fill" style="width:0%; background:${level.color}"></div></div>
                <div class="progress-text">🔒 Desbloquea la App Completa</div>
              </div>
              <div class="level-icon">${level.icon}</div>
              <div class="level-locked-overlay">
                <span class="level-locked-icon">🔐</span>
              </div>
            `;
            card.onclick = () => showPurchaseModal();
          } else {
            // Purchased but needs to complete previous level
            const levelOrder = ['principiante', 'intermedio', 'avanzado', 'elite', 'platino'];
            const prevIdx = levelOrder.indexOf(level.id) - 1;
            const prevName = prevIdx >= 0 ? levels[prevIdx].name : '';
            const prevProgress = prevIdx >= 0 ? progress[levelOrder[prevIdx]] : null;
            const prevCompleted = prevProgress ? prevProgress.completed : 0;
            const prevTotal = prevProgress ? prevProgress.total : 0;

            card.innerHTML = `
              <div class="level-info">
                <h3>${level.name}</h3>
                <div class="progress-bar"><div class="progress-fill" style="width:0%; background:${level.color}"></div></div>
                <div class="progress-text">🔒 Completa ${prevName} (${prevCompleted}/${prevTotal} con 100%)</div>
              </div>
              <div class="level-icon">${level.icon}</div>
              <div class="level-locked-overlay">
                <span class="level-locked-icon">🔐</span>
              </div>
            `;
            card.onclick = () => alert('Necesitas completar las ' + prevTotal + ' preguntas de ' + prevName + ' con 100% de aciertos para desbloquear ' + level.name + '. Llevas ' + prevCompleted + '/' + prevTotal + '.');
          }
        } else {
          card.innerHTML = `
            <div class="level-info">
              <h3>${level.name}</h3>
              <div class="progress-bar"><div class="progress-fill" style="width:${completedPct}%; background:${level.color}"></div></div>
              <div class="progress-text">${p.completed}/${p.total} completadas • ${percentage}% aciertos</div>
            </div>
            <div class="level-icon">${level.icon}</div>
          `;
          card.onclick = () => startQuiz(level.id);
        }
        container.appendChild(card);
      });
    }

    function startQuiz(levelId) {
      // Force check-in before starting any quiz
      if (!sessionCheckedIn) {
        requireCheckIn('quiz');
        return;
      }
      // Check if there's a resumable quiz state for this level
      const savedState = loadLastQuizState();
      if (savedState && savedState.levelKey === levelId && savedState.questionIndex > 0) {
        // Offer to resume or start fresh
        showResumePrompt(levelId, savedState);
        return;
      }

      // Start fresh quiz
      startFreshQuiz(levelId);
    }

    // Show resume prompt modal
    function showResumePrompt(levelId, savedState) {
      const levelName = levels.find(l => l.id === levelId)?.name || levelId;
      const progressText = `${savedState.questionIndex + 1}/${savedState.totalQuestions}`;

      if (confirm(`Tienes un quiz en progreso en el nivel ${levelName} (${progressText}).\n\n¿Deseas continuar donde lo dejaste?\n\nPresiona "Aceptar" para continuar o "Cancelar" para empezar de nuevo.`)) {
        // Resume from saved state
        resumeQuiz();
      } else {
        // Start fresh
        clearLastQuizState();
        startFreshQuiz(levelId);
      }
    }

    // Start a fresh quiz (no resume)
    function startFreshQuiz(levelId) {
      currentLevel = levelId;
      let quizPool = [...questions[levelId]];
      // Limit principiante to 350 questions for free users
      if (levelId === 'principiante' && !hasAppAccess()) {
        quizPool = quizPool.slice(0, 350);
      }
      currentQuestions = shuffleArray(quizPool);
      currentQuestionIndex = 0;
      correctAnswers = 0;
      startTime = Date.now();
      // Track quiz opened as lastActivity
      updateLastActivity('quiz', levelId, null, levelId, 'quizScreen');
      logActivity('quiz_start', levelId);
      var _lvlName = levels.find(function(l) { return l.id === levelId; });
      addNotification('quiz', '📝 Quiz iniciado — Nivel ' + (_lvlName ? _lvlName.name : levelId) + ' (' + currentQuestions.length + ' preguntas)', '📝');
      showScreen('quizScreen');
      showQuestion();
    }

    // Resume quiz from saved state
    function resumeQuiz() {
      if (resumeQuizFromState()) {
        // Track quiz resumed as lastActivity
        updateLastActivity('quiz', currentLevel, null, currentLevel, 'quizScreen');
        showScreen('quizScreen');
        showQuestion();
      } else {
        // If resume fails, fallback to level selection
        alert('No se pudo restaurar el progreso. Por favor, selecciona un nivel.');
        showScreen('levelsScreen');
      }
    }

    // ========== CERTIFICATION COURSES ==========
    const certCourses = {
      epa608: {
        icon: '🌍', name: 'EPA 608 Certification',
        desc: 'Paquete completo: 700 preguntas de preparación, examen oficial, y honorarios del proctor (4 hrs máx). Si no aprueba, paga el costo total nuevamente.',
        price: '$599', examPrice: '$599 USD',
        sections: ['Core', 'Tipo I - Small', 'Tipo II - High Pressure', 'Tipo III - Low Pressure', 'Recuperación', 'Regulaciones', 'Refrigerantes', 'Seguridad']
      },
      osha: {
        icon: '⛑️', name: 'OSHA 30 Hours Safety',
        desc: 'Certificación OSHA 30 Horas. Incluye 700 preguntas de preparación y acceso al sitio web oficial para completar el curso y examen a tu propio ritmo.',
        price: '$599', examPrice: '$599 USD',
        sections: ['PPE', 'Riesgo Eléctrico', 'Caídas', 'Espacios Confinados', 'Escaleras', 'LOTO', 'Comunicación de Riesgos', 'Primeros Auxilios']
      },
      a2l: {
        icon: '🧊', name: 'A2L Refrigerants Safety',
        desc: 'Paquete completo: 700 preguntas de preparación, examen oficial, y honorarios del proctor (4 hrs máx). Cubre R-32, R-454B, detección de fugas y regulaciones.',
        price: '$299', examPrice: '$299 USD',
        sections: ['Clasificación A2L', 'R-32', 'R-454B', 'Detección de Fugas', 'Ventilación', 'Límites de Carga', 'Herramientas Seguras', 'Regulaciones']
      },
      calefaccion: {
        icon: '🔥', name: 'Heating Technician',
        desc: 'Paquete completo: 700 preguntas de preparación, examen oficial, y honorarios del proctor (4 hrs máx). Cubre gas, furnaces, combustión y controles de seguridad.',
        price: '$599', examPrice: '$599 USD',
        sections: ['Gas Natural/LP', 'Furnace 80%', 'Furnace 90%+', 'Combustión', 'Intercambiador', 'Controles de Seguridad', 'Ignición', 'Ventilación']
      },
      hvaccore: {
        icon: '❄️', name: 'HVAC Certification',
        desc: 'Paquete completo: 700 preguntas de preparación, examen oficial, y honorarios del proctor (4 hrs máx). Cubre AC, heat pumps, refrigeración y diagnóstico.',
        price: '$599', examPrice: '$599 USD',
        sections: ['Ciclo de Refrigeración', 'Compresores', 'Condensadores', 'Evaporadores', 'Válvulas TXV', 'Heat Pumps', 'Superheat/Subcooling', 'Diagnóstico']
      },
      hvacr: {
        icon: '🏆', name: 'HVAC Excellence',
        desc: 'Paquete completo: 700 preguntas de preparación, examen oficial, y honorarios del proctor (4 hrs máx). Instalación y servicio de sistemas HVACR.',
        price: '$599', examPrice: '$599 USD',
        sections: ['Refrigeración Comercial', 'Walk-in Coolers', 'Reach-in', 'Rack Systems', 'Controles Avanzados', 'Defrost Systems', 'Oil Management', 'Troubleshooting']
      }
    };

    let currentCertCourse = null;

    function openCertCourse(courseId) {
      const course = certCourses[courseId];
      if (!course) return;
      currentCertCourse = courseId;
      
      document.getElementById('certCourseIcon').textContent = course.icon;
      document.getElementById('certCourseName').textContent = course.name;
      document.getElementById('certCourseTitle').textContent = course.name;
      document.getElementById('certCourseDesc').textContent = course.desc;
      document.getElementById('certExamPrice').textContent = course.examPrice;
      
      const sectionsDiv = document.getElementById('certStudySections');
      sectionsDiv.innerHTML = course.sections.map((s, i) => 
        `<div style="background:rgba(46,204,113,0.15); border:1px solid rgba(46,204,113,0.3); border-radius:8px; padding:8px; font-size:12px; color:#64748b;">
          <span style="color:#2ecc71; font-weight:bold;">${i+1}.</span> ${s}
        </div>`
      ).join('');
      
      showScreen('certCourseScreen');
    }

    function startCertStudy() {
      alert('📚 Las 700 preguntas de estudio para ' + certCourses[currentCertCourse].name + ' estarán disponibles próximamente.\n\nPor ahora puedes practicar con las preguntas del nivel Principiante que cubren temas relacionados.');
      showScreen('levelsScreen');
    }

    function requestCertExam() {
      const course = certCourses[currentCertCourse];
      const userName = currentUser ? currentUser.nombre : 'Estudiante';
      const userEmail = currentUser ? currentUser.email : '';

      // === VALIDATION 1: Must have membership ===
      var membershipType = localStorage.getItem('maestroac_membership_type_' + userEmail) || '';
      var membershipDate = localStorage.getItem('maestroac_membership_date_' + userEmail) || '';
      var hasAppPurchase = localStorage.getItem('maestroac_app_purchased_' + userEmail) === 'true';

      if (!membershipType && !hasAppPurchase) {
        alert('⚠️ Para solicitar un examen de certificación, debes estar inscrito en una membresía activa.\n\nMembresias disponibles:\n• Básica ($119/mes) — Examen disponible después de 1 año\n• Profesional ($299/mes) — Examen disponible después de 6 meses\n• Premium ($699/mes) — Examen disponible después de 6 meses\n\nVe a la sección de membresías para inscribirte.');
        return;
      }

      // === VALIDATION 2: Minimum membership time ===
      if (membershipDate) {
        var startDate = new Date(membershipDate);
        var now = new Date();
        var monthsActive = (now.getFullYear() - startDate.getFullYear()) * 12 + (now.getMonth() - startDate.getMonth());
        
        var requiredMonths = 6;
        if (membershipType === 'basica' || membershipType === '119') {
          requiredMonths = 12;
        }

        if (monthsActive < requiredMonths) {
          var remaining = requiredMonths - monthsActive;
          alert('⚠️ Tu membresía ' + (requiredMonths === 12 ? 'Básica ($119)' : 'actual') + ' requiere ' + requiredMonths + ' meses de antigüedad para solicitar examen.\n\nTiempo activo: ' + monthsActive + ' meses\nFaltan: ' + remaining + ' meses\n\nSigue estudiando y preparándote. ¡Tú puedes!');
          return;
        }
      }

      // === VALIDATION 3: 100% score on ALL levels ===
      var levelOrder = ['principiante', 'intermedio', 'avanzado', 'elite', 'platino'];
      var allPassed = true;
      var failedLevels = [];
      levelOrder.forEach(function(lvl) {
        var lvlProgress = progress[lvl];
        if (!lvlProgress || lvlProgress.completed === 0) {
          allPassed = false;
          failedLevels.push(lvl.charAt(0).toUpperCase() + lvl.slice(1) + ' (no completado)');
        } else {
          var pct = Math.round((lvlProgress.score / lvlProgress.completed) * 100);
          if (pct < 100) {
            allPassed = false;
            failedLevels.push(lvl.charAt(0).toUpperCase() + lvl.slice(1) + ' (' + pct + '%)');
          }
        }
      });

      if (!allPassed) {
        alert('⚠️ Para solicitar el examen necesitas 100% de aprobación en TODOS los niveles.\n\nNiveles pendientes:\n• ' + failedLevels.join('\n• ') + '\n\nCompleta todos los niveles con 100% antes de solicitar tu examen.');
        return;
      }

      // === CAPTURE USER INFO ===
      var regDate = currentUser.registrationDate || currentUser.studentIdDate || 'No disponible';
      var regDateFormatted = regDate !== 'No disponible' ? new Date(regDate).toLocaleDateString('es-MX', {year:'numeric',month:'long',day:'numeric'}) : regDate;
      var techNumber = currentUser.technicianNumber || 'No asignado';
      var studentId = currentUser.studentId || 'No asignado';
      var progressSummary = levelOrder.map(function(lvl) {
        var p = progress[lvl];
        return lvl.charAt(0).toUpperCase() + lvl.slice(1) + ': ' + (p ? Math.round((p.score/p.completed)*100) + '%' : '0%');
      }).join(' | ');

      var subject = encodeURIComponent('Solicitud de Examen: ' + course.name);
      var body = encodeURIComponent(
        'SOLICITUD DE EXAMEN DE CERTIFICACIÓN\n' +
        '=====================================\n\n' +
        '👤 Nombre: ' + userName + '\n' +
        '📧 Email: ' + userEmail + '\n' +
        '📞 Teléfono: ' + (currentUser.telefono || 'No registrado') + '\n' +
        '🏙️ Ciudad: ' + (currentUser.ciudad || 'No registrada') + '\n' +
        '🔢 No. Técnico: ' + techNumber + '\n' +
        '🪪 ID Estudiante: ' + studentId + '\n' +
        '📅 Fecha de Registro en App: ' + regDateFormatted + '\n' +
        '📊 Resultados: ' + progressSummary + '\n' +
        '💼 Membresía: ' + (membershipType || 'App Completa') + '\n\n' +
        '📜 Examen Solicitado: ' + course.name + '\n' +
        '💰 Precio: ' + course.examPrice + '\n\n' +
        'Confirmo que he leído y acepto los términos y condiciones del examen.\n\nGracias.'
      );
      var whatsappMsg = encodeURIComponent(
        'SOLICITUD DE EXAMEN\n' +
        'Nombre: ' + userName + '\n' +
        'Email: ' + userEmail + '\n' +
        'Teléfono: ' + (currentUser.telefono || 'N/A') + '\n' +
        'No. Técnico: ' + techNumber + '\n' +
        'Examen: *' + course.name + '* (' + course.examPrice + ')\n' +
        'Resultados: ' + progressSummary + '\n' +
        'Acepto términos y condiciones.'
      );

      // Stripe payment links per course
      var stripeLinks = {
        epa608: 'https://buy.stripe.com/00w8wPd6f6taff92rZ3sI0f',
        osha: 'https://buy.stripe.com/6oU7sL0jt4l2ff97Mj3sI09',
        a2l: 'https://buy.stripe.com/9B63cveajdVCd71giP3sI08',
        calefaccion: 'https://buy.stripe.com/aFadR9gircRygjd8Qn3sI0c',
        hvaccore: 'https://buy.stripe.com/5kQ8wP3vF18Qeb5aYv3sI0a',
        hvacr: 'https://buy.stripe.com/4gMbJ18PZ9Fmgjd9Ur3sI0b'
      };
      var payLink = stripeLinks[currentCertCourse] || '';

      var modal = document.createElement('div');
      modal.style.cssText = 'position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.85);display:flex;align-items:center;justify-content:center;z-index:9999;padding:20px;';
      modal.innerHTML = `
        <div style="background:linear-gradient(135deg,#1a5276,#154360);border-radius:20px;padding:25px;max-width:420px;width:100%;text-align:center;border:2px solid #f39c12;max-height:90vh;overflow-y:auto;">
          <div style="font-size:50px;margin-bottom:10px;">🎓</div>
          <h3 style="color:#f39c12;margin-bottom:8px;">Solicitar Examen de Certificación</h3>
          <p style="color:white;font-size:15px;margin-bottom:5px;">${course.name}</p>
          <p style="color:#f39c12;font-size:24px;font-weight:bold;margin-bottom:15px;">${course.examPrice}</p>

          <!-- DISCLAIMER -->
          <div style="background:rgba(231,76,60,0.15);border:2px solid rgba(231,76,60,0.5);border-radius:12px;padding:15px;margin-bottom:15px;text-align:left;">
            <p style="color:#e74c3c;font-size:14px;font-weight:bold;margin-bottom:8px;">⚠️ TÉRMINOS Y CONDICIONES DEL EXAMEN</p>
            <p style="color:#e2e8f0;font-size:12px;line-height:1.6;margin-bottom:8px;">
              Al solicitar este examen, confirmo que:
            </p>
            <ul style="color:#e2e8f0;font-size:12px;line-height:1.7;margin:0;padding-left:18px;">
              <li>He estudiado y completado todos los niveles de la plataforma con un <strong style="color:#2ecc71;">score de 100%</strong> en cada nivel.</li>
              <li>Si <strong style="color:#e74c3c;">repruebo</strong> el examen, deberé volver a tomarlo y pagar el <strong>monto total</strong> que cubre los honorarios del Proctor y el costo del examen.</li>
              <li>Una vez <strong style="color:#2ecc71;">aprobado</strong> el examen, mi certificación llegará en <strong>30 días hábiles</strong> a mi domicilio o residencia registrada.</li>
              <li>Cuento con una membresía activa con la antigüedad mínima requerida (Básica $119: 1 año / Profesional $299 o Premium $699: 6 meses).</li>
            </ul>
          </div>

          <!-- User Info Summary -->
          <div style="background:rgba(52,152,219,0.15);border:1px solid rgba(52,152,219,0.3);border-radius:12px;padding:12px;margin-bottom:15px;text-align:left;">
            <p style="color:#3498db;font-size:13px;font-weight:bold;margin-bottom:8px;">📋 Tu Información</p>
            <p style="color:#e2e8f0;font-size:12px;line-height:1.8;margin:0;">
              👤 <strong>${userName}</strong><br>
              📧 ${userEmail}<br>
              📞 ${currentUser.telefono || 'No registrado'}<br>
              🔢 ${techNumber}<br>
              📅 Inicio: ${regDateFormatted}<br>
              📊 ${progressSummary}
            </p>
          </div>
          
          <div style="background:rgba(46,204,113,0.15);border:1px solid rgba(46,204,113,0.4);border-radius:12px;padding:12px;margin-bottom:15px;">
            <p style="color:#2ecc71;font-size:13px;font-weight:bold;margin-bottom:8px;">💳 PASO 1: Pagar el Examen</p>
            <button onclick="window.open('${payLink}','_blank');" style="width:100%;padding:14px;border:none;border-radius:12px;font-size:15px;font-weight:bold;cursor:pointer;background:linear-gradient(135deg,#2ecc71,#27ae60);color:white;">💳 Pagar ${course.examPrice} con Tarjeta</button>
          </div>

          <div style="background:rgba(243,156,18,0.15);border:1px solid rgba(243,156,18,0.4);border-radius:12px;padding:12px;margin-bottom:15px;">
            <p style="color:#f39c12;font-size:13px;font-weight:bold;margin-bottom:8px;">📋 PASO 2: Confirmar y Programar</p>
            <button onclick="window.open('https://wa.me/19096390448?text=${whatsappMsg}','_blank');" style="width:100%;padding:12px;border:none;border-radius:12px;font-size:14px;font-weight:bold;cursor:pointer;margin-bottom:8px;background:linear-gradient(135deg,#25D366,#128C7E);color:white;">📱 Confirmar por WhatsApp</button>
            <button onclick="window.open('mailto:techschoolacvolt@gmail.com?subject=${subject}&body=${body}');" style="width:100%;padding:12px;border:none;border-radius:12px;font-size:14px;font-weight:bold;cursor:pointer;background:linear-gradient(135deg,#3498db,#2980b9);color:white;">📧 Confirmar por Correo</button>
          </div>

          <p style="color:#64748b;font-size:11px;margin-bottom:15px;">Una vez confirmado tu pago, te contactaremos para programar tu examen.</p>
          <button onclick="this.closest('div').parentElement.remove();" style="width:100%;padding:12px;border:none;border-radius:12px;font-size:14px;cursor:pointer;background:rgba(255,255,255,0.15);color:#94a3b8;">Cancelar</button>
        </div>
      `;
      document.body.appendChild(modal);
      // Log exam request to Supabase
      logExamRequest(course.name, course.examPrice, userName, userEmail, techNumber, studentId, progressSummary);
    }

    function startQuickQuiz() {
      // Check if there's a resumable quiz state for principiante
      const savedState = loadLastQuizState();
      if (savedState && savedState.levelKey === 'principiante' && savedState.questionIndex > 0) {
        showResumePrompt('principiante', savedState);
        return;
      }

      currentLevel = 'principiante';
      currentQuestions = shuffleArray([...questions.principiante]);
      currentQuestionIndex = 0;
      correctAnswers = 0;
      startTime = Date.now();
      // Track quiz opened as lastActivity
      updateLastActivity('quiz', 'principiante', null, 'principiante', 'quizScreen');
      showScreen('quizScreen');
      showQuestion();
    }

    function showQuestion() {
      const q = currentQuestions[currentQuestionIndex];
      document.getElementById('questionCount').textContent = `${currentQuestionIndex + 1}/${currentQuestions.length}`;
      document.getElementById('questionCategory').textContent = q.category;
      document.getElementById('questionText').textContent = q.q;

      const container = document.getElementById('optionsContainer');
      container.innerHTML = '';
      const letters = ['A', 'B', 'C', 'D'];

      // Shuffle options: create array of indices, shuffle them
      const indices = [0, 1, 2, 3];
      for (let i = indices.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [indices[i], indices[j]] = [indices[j], indices[i]];
      }
      // Store shuffled mapping so selectAnswer knows which is correct
      q._shuffledIndices = indices;

      indices.forEach((origIdx, displayIdx) => {
        const div = document.createElement('div');
        div.className = 'option';
        div.innerHTML = `<div class="option-letter">${letters[displayIdx]}</div><span>${q.options[origIdx]}</span>`;
        div.onclick = () => selectAnswer(displayIdx);
        container.appendChild(div);
      });

      document.getElementById('feedback').classList.remove('show', 'correct', 'incorrect');
      document.getElementById('nextBtn').style.display = 'none';

      // Update lastQuizState when question view loads
      updateLastQuizState();
    }

    function selectAnswer(displayIndex) {
      const q = currentQuestions[currentQuestionIndex];
      const options = document.querySelectorAll('.option');
      const originalIndex = q._shuffledIndices[displayIndex];
      const correctDisplayIndex = q._shuffledIndices.indexOf(q.correct);

      options.forEach((opt, i) => {
        opt.classList.add('disabled');
        opt.onclick = null;
        if (i === correctDisplayIndex) opt.classList.add('correct');
        else if (i === displayIndex && originalIndex !== q.correct) opt.classList.add('incorrect');
      });

      const feedback = document.getElementById('feedback');
      if (originalIndex === q.correct) {
        correctAnswers++;
        feedback.classList.add('correct');
        document.getElementById('feedbackTitle').textContent = '✓ ¡Correcto!';
      } else {
        feedback.classList.add('incorrect');
        document.getElementById('feedbackTitle').textContent = '✗ Incorrecto';
      }
      document.getElementById('feedbackText').textContent = q.explanation;
      feedback.classList.add('show');
      document.getElementById('nextBtn').style.display = 'block';
      // Track quiz question answered as lastActivity
      updateLastActivity('quiz', currentLevel, null, currentLevel, 'quizScreen');
      logActivity('answer', currentLevel + ' - ' + (originalIndex === q.correct ? 'correct' : 'incorrect'));
      // Update lastQuizState when user answers a question
      updateLastQuizState();
      
      // SAVE PROGRESS AFTER EACH ANSWER - Never lose progress!
      saveQuizProgressPartial();
    }

    function nextQuestion() {
      currentQuestionIndex++;
      if (currentQuestionIndex >= currentQuestions.length) {
        endQuiz();
      } else {
        // Update lastQuizState when user clicks "Siguiente"
        updateLastQuizState();
        showQuestion();
      }
    }

    function endQuiz() {
      const total = currentQuestions.length;
      const percentage = Math.round((correctAnswers / total) * 100);
      const elapsed = Math.floor((Date.now() - startTime) / 1000);
      const minutes = Math.floor(elapsed / 60);
      const seconds = elapsed % 60;

      // Update progress
      progress[currentLevel].completed = total;
      progress[currentLevel].score = correctAnswers;
      saveProgress();
      renderLevels();

      // Generate certificate if passed (70% or higher)
      if (percentage >= 70) {
        generateCertificate(currentLevel, percentage);
      }

      // Show results
      let icon, title, subtitle;
      if (percentage >= 90) { icon = '🏆'; title = '¡Excelente!'; subtitle = 'Dominas este nivel'; }
      else if (percentage >= 70) { icon = '⭐'; title = '¡Muy Bien!'; subtitle = 'Aprobaste el quiz'; }
      else if (percentage >= 50) { icon = '📚'; title = 'Sigue Practicando'; subtitle = 'Puedes mejorar'; }
      else { icon = '💪'; title = 'No Te Rindas'; subtitle = 'Repasa el material'; }

      document.getElementById('resultsIcon').textContent = icon;
      document.getElementById('resultsTitle').textContent = title;
      document.getElementById('resultsSubtitle').textContent = subtitle;
      document.getElementById('scoreValue').textContent = percentage + '%';
      document.getElementById('correctCount').textContent = correctAnswers;
      document.getElementById('incorrectCount').textContent = total - correctAnswers;
      document.getElementById('timeSpent').textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;

      // Animate circle
      const circle = document.getElementById('scoreCircle');
      const offset = 490 - (percentage / 100) * 490;
      circle.style.stroke = percentage >= 70 ? '#27ae60' : percentage >= 50 ? '#f39c12' : '#e74c3c';
      setTimeout(() => circle.style.strokeDashoffset = offset, 100);

      // Clear lastQuizState since quiz is completed
      clearLastQuizState();
      
      // Clear partial progress since quiz is completed
      clearPartialProgress();

      // Save quiz attempt to Supabase
      supabaseSaveQuizAttempt({
        nivel: currentLevel,
        totalQuestions: total,
        correctAnswers: correctAnswers,
        wrongAnswers: total - correctAnswers,
        porcentaje: percentage,
        tiempoSegundos: elapsed,
        aprobado: percentage >= 70
      });

      // Update user nivel in Supabase
      const nivelOrder = ['nuevo', 'principiante', 'intermedio', 'avanzado', 'elite', 'platino'];
      const currentIdx = nivelOrder.indexOf(currentLevel);
      if (percentage >= 70 && currentIdx > 0) {
        supabaseUpdateNivel(currentLevel);
      }

      showScreen('resultsScreen');
    }

    function generateCertificate(levelId, score) {
      const level = levels.find(l => l.id === levelId);
      const now = new Date();
      const dateStr = now.toLocaleDateString('es-ES', { year: 'numeric', month: 'long', day: 'numeric' });
      const certId = `CERT-${levelId.toUpperCase().substring(0,3)}-${now.getFullYear()}${(now.getMonth()+1).toString().padStart(2,'0')}${now.getDate().toString().padStart(2,'0')}-${Math.random().toString(36).substring(2,6).toUpperCase()}`;

      // Check if certificate already exists for this level
      const existingIndex = certificates.findIndex(c => c.levelId === levelId);

      const newCert = {
        levelId: levelId,
        levelName: level.name,
        levelIcon: level.icon,
        levelColor: level.color,
        score: score,
        date: dateStr,
        dateRaw: now.toISOString(),
        certificateId: certId,
        userName: currentUser ? currentUser.nombre : 'Técnico HVAC'
      };

      if (existingIndex >= 0) {
        // Update existing certificate if new score is higher
        if (score > certificates[existingIndex].score) {
          certificates[existingIndex] = newCert;
        }
      } else {
        // Add new certificate
        certificates.push(newCert);
      }

      saveCertificates();
      
      // Notification: Level completed
      const _userName = currentUser ? currentUser.nombre.split(' ')[0] : 'Técnico';
      const _lvlNames = { principiante: 'Principiante', intermedio: 'Intermedio', avanzado: 'Avanzado', elite: 'Elite', platino: 'Platino' };
      addNotification('level', '⭐ ¡' + _userName + ' completó Nivel ' + (_lvlNames[levelId] || levelId) + ' con ' + score + '%!', '🏆');
    }

    function retryQuiz() {
      startQuiz(currentLevel);
    }

    function confirmExit() {
      if (confirm('¿Seguro que quieres salir? Perderás el progreso actual.')) {
        showScreen('levelsScreen');
      }
    }

    // Certificates Functions
    function showCertificates(fromScreen) {
      previousScreen = fromScreen;
      renderCertificates();
      showScreen('certificatesScreen');
    }

    function goBackFromCertificates() {
      showScreen(previousScreen);
    }

    // Mi Perfil Functions
    let profilePreviousScreen = 'welcomeScreen';

    function showProfile(fromScreen) {
      profilePreviousScreen = fromScreen;
      renderProfile();
      showScreen('miPerfilScreen');
    }

    function goBackFromProfile() {
      showScreen(profilePreviousScreen);
    }

    function renderProfile() {
      const profileContent = document.getElementById('profileContent');
      const noProfileContent = document.getElementById('noProfileContent');

      if (!currentUser) {
        profileContent.style.display = 'none';
        noProfileContent.style.display = 'block';
        return;
      }

      profileContent.style.display = 'block';
      noProfileContent.style.display = 'none';

      // Update profile fields
      document.getElementById('profileNombre').textContent = currentUser.nombre || '-';
      document.getElementById('profileEmail').textContent = currentUser.email || '-';
      document.getElementById('profileTelefono').textContent = currentUser.telefono || '-';
            document.getElementById('profileCiudad').textContent = currentUser.ciudad || '-';
      document.getElementById('profileEstado').textContent = currentUser.estado || '-';
      document.getElementById('profileEPA').textContent = currentUser.epa || 'No registrado';
      document.getElementById('profileNATE').textContent = currentUser.nate || 'No registrado';
      document.getElementById('profileESCO').textContent = currentUser.esco || 'No registrado';

      // Update technician number section
      updateTechnicianNumberDisplay();
      
      // Update credential section
      renderCredentialSection();
      
      // Update avatar and badge based on completed levels
      updateProfileAvatarAndBadge();
    }

    // Calculate user's level based on completed quizzes (70% or higher)
    function getUserCompletedLevels() {
      const levelOrder = ['principiante', 'intermedio', 'avanzado', 'elite', 'platino'];
      const completedLevels = [];
      
      levelOrder.forEach(levelId => {
        const levelProgress = progress[levelId];
        if (levelProgress && levelProgress.completed > 0) {
          const percentage = Math.round((levelProgress.score / levelProgress.completed) * 100);
          if (percentage >= 70) {
            completedLevels.push(levelId);
          }
        }
      });
      
      return completedLevels;
    }

    // Get user's highest completed level
    function getUserHighestLevel() {
      const levelOrder = ['principiante', 'intermedio', 'avanzado', 'elite', 'platino'];
      const completedLevels = getUserCompletedLevels();
      
      if (completedLevels.length === 0) return 'nuevo';
      
      // Return the highest level completed
      for (let i = levelOrder.length - 1; i >= 0; i--) {
        if (completedLevels.includes(levelOrder[i])) {
          return levelOrder[i];
        }
      }
      
      return 'nuevo';
    }

    // Update avatar and badge display
    function updateProfileAvatarAndBadge() {
      const levelData = {
        nuevo: { 
          avatar: '👤', 
          badge: '🔰', 
          title: 'Técnico Nuevo', 
          subtitle: 'Completa tu primer nivel para avanzar',
          avatarClass: 'nivel-nuevo',
          badgeClass: 'badge-nuevo',
          titleClass: 'titulo-nuevo',
          progressClass: 'progress-nuevo'
        },
        principiante: { 
          avatar: '🔧', 
          badge: '🌱', 
          title: 'Técnico Principiante', 
          subtitle: 'Dominaste los fundamentos HVAC',
          avatarClass: 'nivel-principiante',
          badgeClass: 'badge-principiante',
          titleClass: 'titulo-principiante',
          progressClass: 'progress-principiante'
        },
        intermedio: { 
          avatar: '⚙️', 
          badge: '📘', 
          title: 'Técnico Intermedio', 
          subtitle: 'Conocimientos sólidos en diagnóstico',
          avatarClass: 'nivel-intermedio',
          badgeClass: 'badge-intermedio',
          titleClass: 'titulo-intermedio',
          progressClass: 'progress-intermedio'
        },
        avanzado: { 
          avatar: '🛠️', 
          badge: '⚡', 
          title: 'Técnico Avanzado', 
          subtitle: 'Experto en sistemas complejos',
          avatarClass: 'nivel-avanzado',
          badgeClass: 'badge-avanzado',
          titleClass: 'titulo-avanzado',
          progressClass: 'progress-avanzado'
        },
        elite: { 
          avatar: '🏆', 
          badge: '🏆', 
          title: 'Técnico Elite', 
          subtitle: 'Maestro supervisor con 10+ años de experiencia',
          avatarClass: 'nivel-elite',
          badgeClass: 'badge-elite',
          titleClass: 'titulo-elite',
          progressClass: 'progress-elite'
        },
        platino: { 
          avatar: '💎', 
          badge: '💎', 
          title: 'Técnico Platino', 
          subtitle: '¡Máximo nivel alcanzado! Maestro Total HVACR',
          avatarClass: 'nivel-platino',
          badgeClass: 'badge-platino',
          titleClass: 'titulo-platino',
          progressClass: 'progress-platino'
        }
      };

      const highestLevel = getUserHighestLevel();
      const completedLevels = getUserCompletedLevels();
      const data = levelData[highestLevel];
      
      // Update avatar
      const avatar = document.getElementById('profileAvatar');
      avatar.className = 'profile-avatar ' + data.avatarClass;
      avatar.textContent = data.avatar;
      
      // Update badge
      const badge = document.getElementById('profileBadge');
      badge.className = 'profile-badge ' + data.badgeClass;
      badge.textContent = data.badge;
      
      // Update title
      const title = document.getElementById('profileLevelTitle');
      title.className = 'profile-level-title ' + data.titleClass;
      title.textContent = data.title;
      
      // Update subtitle
      document.getElementById('profileLevelSubtitle').textContent = data.subtitle;
      
      // Update progress bar
      const progressPercent = (completedLevels.length / 5) * 100;
      const progressFill = document.getElementById('profileProgressFill');
      progressFill.className = 'profile-progress-fill ' + data.progressClass;
      progressFill.style.width = progressPercent + '%';
      
      // Update progress text
      document.getElementById('profileProgressText').textContent = 
        completedLevels.length + '/5 niveles completados';
      
      // Update mini badges
      const badgeMap = {
        principiante: 'miniBadgePrincipiante',
        intermedio: 'miniBadgeIntermedio',
        avanzado: 'miniBadgeAvanzado',
        elite: 'miniBadgeElite',
        platino: 'miniBadgePlatino'
      };
      
      Object.keys(badgeMap).forEach(level => {
        const miniBadge = document.getElementById(badgeMap[level]);
        if (completedLevels.includes(level)) {
          miniBadge.classList.add('earned');
        } else {
          miniBadge.classList.remove('earned');
        }
      });
    }

    function updateTechnicianNumberDisplay() {
      const displaySection = document.getElementById('technicianNumberDisplay');
      const generatorSection = document.getElementById('technicianNumberGenerator');

      // Restore technicianNumber from localStorage if not in currentUser
      if (currentUser && !currentUser.technicianNumber) {
        try {
          var saved = JSON.parse(localStorage.getItem('tecnico_user') || '{}');
          if (saved.technicianNumber) {
            currentUser.technicianNumber = saved.technicianNumber;
            currentUser.technicianNumberDate = saved.technicianNumberDate;
          }
          if (!currentUser.technicianNumber) {
            saved = JSON.parse(localStorage.getItem('tecnico_user_backup') || '{}');
            if (saved.technicianNumber) {
              currentUser.technicianNumber = saved.technicianNumber;
              currentUser.technicianNumberDate = saved.technicianNumberDate;
            }
          }
        } catch(e) {}
      }

      if (currentUser && currentUser.technicianNumber) {
        displaySection.style.display = 'block';
        generatorSection.style.display = 'none';
        document.getElementById('technicianNumberValue').textContent = currentUser.technicianNumber;
        document.getElementById('technicianNumberDate').textContent = 'Generado: ' + currentUser.technicianNumberDate;
      } else {
        displaySection.style.display = 'none';
        generatorSection.style.display = 'block';
      }
    }

    // ===== STUDENT ID SYSTEM =====
    function generateStudentId() {
      const year = new Date().getFullYear();
      const seq = Math.floor(1000 + Math.random() * 9000); // 4-digit random
      return 'ACVOLT-' + year + '-' + seq;
    }
    
    function ensureStudentId() {
      if (currentUser && !currentUser.studentId) {
        // Try to restore from localStorage before generating new
        try {
          var saved = JSON.parse(localStorage.getItem('tecnico_user') || '{}');
          if (saved.studentId) {
            currentUser.studentId = saved.studentId;
            currentUser.studentIdDate = saved.studentIdDate;
            return;
          }
          saved = JSON.parse(localStorage.getItem('tecnico_user_backup') || '{}');
          if (saved.studentId) {
            currentUser.studentId = saved.studentId;
            currentUser.studentIdDate = saved.studentIdDate;
            return;
          }
        } catch(e) {}
        // Only generate new if truly not saved anywhere
        currentUser.studentId = generateStudentId();
        currentUser.studentIdDate = new Date().toISOString();
        localStorage.setItem('tecnico_user', JSON.stringify(currentUser));
        localStorage.setItem('tecnico_user_backup', JSON.stringify(currentUser));
      }
    }
    
    function renderCredentialSection() {
      const container = document.getElementById('credentialSection');
      if (!container || !currentUser) return;
      
      ensureStudentId();
      const idPurchased = localStorage.getItem('maestroac_id_purchased_' + (currentUser.email || ''));
      const nombre = currentUser.nombre || 'Técnico HVAC';
      const studentId = currentUser.studentId || 'N/A';
      const registroDate = currentUser.studentIdDate ? new Date(currentUser.studentIdDate).toLocaleDateString('es-MX', { year:'numeric', month:'long', day:'numeric' }) : new Date().toLocaleDateString('es-MX', { year:'numeric', month:'long', day:'numeric' });
      
      container.innerHTML = `
        <!-- ID Card Preview -->
        <div style="background:linear-gradient(135deg,#1a237e,#0d47a1);border-radius:16px;padding:20px;color:white;position:relative;overflow:hidden;max-width:380px;margin:0 auto;box-shadow:0 8px 30px rgba(0,0,0,0.3);">
          <!-- Header -->
          <div style="display:flex;align-items:center;gap:12px;margin-bottom:15px;border-bottom:2px solid rgba(255,215,0,0.4);padding-bottom:12px;">
            <img src="logo.png" alt="ACVOLT" style="width:50px;height:auto;background:white;border-radius:8px;padding:4px;">
            <div>
              <div style="font-size:14px;font-weight:bold;letter-spacing:1px;color:#FFD700;">ACVOLT TECHNICAL SCHOOL</div>
              <div style="font-size:10px;color:rgba(255,255,255,0.7);letter-spacing:1px;">CREDENCIAL DE ESTUDIANTE</div>
            </div>
          </div>
          
          <!-- Photo + Info -->
          <div style="display:flex;gap:15px;align-items:flex-start;">
            <div style="width:80px;height:100px;background:rgba(255,255,255,0.15);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:40px;flex-shrink:0;border:2px solid rgba(255,215,0,0.3);" id="credentialPhotoBox">
              ${getCredentialPhoto()}
            </div>
            <div style="flex:1;">
              <div style="font-size:18px;font-weight:bold;margin-bottom:6px;">${nombre}</div>
              <div style="font-size:11px;color:rgba(255,255,255,0.7);margin-bottom:3px;">ID: <span style="color:#FFD700;font-family:monospace;font-weight:bold;font-size:13px;">${studentId}</span></div>
              <div style="font-size:11px;color:rgba(255,255,255,0.7);margin-bottom:3px;">Registro: ${registroDate}</div>
              <div style="font-size:11px;color:rgba(255,255,255,0.7);">San Bernardino, CA</div>
            </div>
          </div>
          
          <!-- Signature -->
          <div style="margin-top:15px;border-top:1px solid rgba(255,255,255,0.15);padding-top:12px;display:flex;justify-content:space-between;align-items:flex-end;">
            <div style="text-align:center;">
              <div id="credentialSignature" style="font-family:'Brush Script MT',cursive;font-size:18px;color:#FFD700;font-style:italic;margin-bottom:2px;">Mario Flores Corona</div>
              <div style="width:140px;border-top:1px solid rgba(255,215,0,0.5);padding-top:3px;font-size:9px;color:rgba(255,255,255,0.6);">Master Instructor / Director</div>
            </div>
            <div style="text-align:right;">
              <div style="font-size:9px;color:rgba(255,255,255,0.5);">maestromario.com</div>
            </div>
          </div>
          
          ${!idPurchased ? '<div style="position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.6);backdrop-filter:blur(3px);display:flex;align-items:center;justify-content:center;border-radius:16px;"><div style="background:rgba(255,215,0,0.15);border:2px solid #FFD700;border-radius:12px;padding:12px 20px;text-align:center;"><div style="font-size:24px;margin-bottom:5px;">🔒</div><div style="color:#FFD700;font-size:13px;font-weight:bold;">Vista Previa</div></div></div>' : ''}
        </div>
        
        <!-- Student ID Display -->
        <div style="text-align:center;margin:15px 0;">
          <p style="color:#64748b;font-size:12px;margin-bottom:5px;">Tu ID de Estudiante:</p>
          <div style="background:linear-gradient(135deg,rgba(255,215,0,0.1),rgba(243,156,18,0.1));border:2px solid rgba(255,215,0,0.3);border-radius:12px;padding:12px;display:inline-block;">
            <span style="font-family:monospace;font-size:20px;font-weight:bold;color:#f39c12;letter-spacing:2px;">${studentId}</span>
          </div>
        </div>
        
        ${!idPurchased ? `
        <!-- Purchase Button -->
        <div style="background:linear-gradient(135deg,rgba(26,35,126,0.1),rgba(13,71,161,0.1));border:2px solid rgba(99,102,241,0.3);border-radius:16px;padding:20px;text-align:center;margin-top:15px;">
          <p style="color:#6366f1;font-size:15px;font-weight:bold;margin-bottom:5px;">🪪 Obtén tu Credencial Oficial</p>
          <p style="color:#64748b;font-size:13px;margin-bottom:5px;">Credencial física o digital firmada por Mario Flores Corona</p>
          <p style="color:#1e293b;font-size:26px;font-weight:bold;margin-bottom:12px;">$150 <span style="font-size:14px;color:#64748b;">USD</span></p>
          <button onclick="window.open('https://buy.stripe.com/8x200j1nxaJq4AvgiP3sI06','_blank');" style="width:100%;padding:14px;border:none;border-radius:12px;font-size:15px;font-weight:bold;cursor:pointer;background:linear-gradient(135deg,#6366f1,#8b5cf6);color:white;margin-bottom:10px;">💳 Pagar $150 - Solicitar Credencial</button>
          <p style="color:#64748b;font-size:11px;">Después de pagar, envía comprobante por WhatsApp</p>
          <div style="margin-top:10px;">
            <p style="color:#9b59b6;font-size:12px;font-weight:bold;margin-bottom:6px;">🎫 ¿Ya pagaste? Ingresa tu código:</p>
            <div style="display:flex;gap:8px;max-width:300px;margin:0 auto;">
              <input type="text" id="idCodeInput" placeholder="Código" maxlength="15" style="flex:1;padding:10px;border-radius:10px;border:1px solid #e2e8f0;background:#f8fafc;color:#1e293b;font-size:14px;text-align:center;letter-spacing:2px;text-transform:uppercase;font-family:monospace;">
              <button onclick="redeemIdCode()" style="padding:10px 16px;border:none;border-radius:10px;font-size:13px;font-weight:bold;cursor:pointer;background:linear-gradient(135deg,#9b59b6,#8e44ad);color:white;">Activar</button>
            </div>
            <p id="idCodeMsg" style="color:#e74c3c;font-size:11px;margin-top:4px;display:none;"></p>
          </div>
        </div>
        ` : `
        <div style="text-align:center;margin-top:15px;">
          <div style="background:linear-gradient(135deg,rgba(39,174,96,0.1),rgba(46,204,113,0.1));border:2px solid rgba(39,174,96,0.3);border-radius:12px;padding:15px;">
            <p style="color:#27ae60;font-size:15px;font-weight:bold;">✅ Credencial Oficial Activada</p>
            <p style="color:#64748b;font-size:12px;margin-top:5px;">Tu credencial firmada está lista</p>
          </div>
        </div>
        `}
      `;
    }
    
    function getCredentialPhoto() {
      if (currentUser && currentUser.email) {
        const photo = localStorage.getItem('maestroac_photo_' + currentUser.email);
        if (photo) return '<img src="' + photo + '" style="width:100%;height:100%;object-fit:cover;border-radius:8px;">';
      }
      return '👤';
    }
    
    function redeemIdCode() {
      const input = document.getElementById('idCodeInput');
      const msg = document.getElementById('idCodeMsg');
      if (!input || !msg) return;
      const code = input.value.trim().toUpperCase();
      if (!code || code.length < 4) {
        msg.style.display = 'block';
        msg.style.color = '#e74c3c';
        msg.textContent = '❌ Ingresa un código válido';
        return;
      }
      if (currentUser && currentUser.email) {
        localStorage.setItem('maestroac_id_purchased_' + currentUser.email, 'true');
        msg.style.display = 'block';
        msg.style.color = '#2ecc71';
        msg.textContent = '✅ ¡Credencial activada!';
        addNotification('payment', '🪪 ¡Credencial de estudiante activada! ID: ' + (currentUser.studentId || ''), '🪪');
        setTimeout(() => { renderCredentialSection(); }, 1500);
      }
    }

    function generateTechnicianNumber() {
      if (!currentUser) {
        alert('Debes crear un perfil primero para generar tu número de técnico.');
        return;
      }

      if (currentUser.technicianNumber) {
        alert('Ya tienes un número de técnico asignado: ' + currentUser.technicianNumber);
        return;
      }

      // Generate unique technician number
      const now = new Date();
      const year = now.getFullYear();
      const month = (now.getMonth() + 1).toString().padStart(2, '0');
      const day = now.getDate().toString().padStart(2, '0');

      // Create unique ID based on timestamp and random characters
      const timestamp = Date.now().toString(36).toUpperCase();
      const randomPart = Math.random().toString(36).substring(2, 6).toUpperCase();

      // Format: TECH-YEAR-SEQUENTIAL-RANDOM (e.g., TECH-2024-N33-A1B2C3)
      const technicianNumber = `TECH-${year}-N33-${timestamp.slice(-4)}${randomPart}`;

      const dateStr = now.toLocaleDateString('es-ES', { year: 'numeric', month: 'long', day: 'numeric' });

      // Save to user object
      currentUser.technicianNumber = technicianNumber;
      currentUser.technicianNumberDate = dateStr;

      // Persist to localStorage with backup to prevent data loss
      localStorage.setItem('tecnico_user', JSON.stringify(currentUser));
      localStorage.setItem('tecnico_user_backup', JSON.stringify(currentUser));
      // Sync technician number to Supabase
      supabaseSaveTechnicianNumber(technicianNumber, dateStr);

      // Update display
      updateTechnicianNumberDisplay();

      // Show success message
      alert('¡Felicidades! Tu número de técnico ha sido generado:\n\n' + technicianNumber + '\n\nGuarda este número para tu referencia.');
    }

    function renderCertificates() {
      const container = document.getElementById('certificatesList');
      container.innerHTML = '';

      if (certificates.length === 0) {
        container.innerHTML = `
          <div class="no-certificates">
            <div class="no-certificates-icon">🎓</div>
            <p class="no-certificates-text">
              Aún no tienes certificados.<br><br>
              Completa los quizzes con un 70% o más para obtener tu certificado de cada nivel.
            </p>
          </div>
        `;
        return;
      }

      // Sort certificates by level order
      const levelOrder = ['principiante', 'intermedio', 'avanzado', 'elite', 'platino'];
      const sortedCerts = [...certificates].sort((a, b) => {
        return levelOrder.indexOf(a.levelId) - levelOrder.indexOf(b.levelId);
      });

      sortedCerts.forEach(cert => {
        const card = document.createElement('div');
        card.className = 'certificate-card';
        card.innerHTML = `
          <span class="certificate-earned-badge">APROBADO</span>
          <div class="certificate-badge">${cert.levelIcon}</div>
          <div class="certificate-level">Nivel ${cert.levelName}</div>
          <div class="certificate-title">Certificado de Competencia HVAC</div>
          <div style="text-align:center; font-size:14px; color:#64748b; margin-bottom:10px;">
            Otorgado a: <strong style="color:#1e293b;">${cert.userName}</strong>
          </div>
          <div class="certificate-details">
            <div class="certificate-detail">
              <div class="certificate-detail-label">Puntuación</div>
              <div class="certificate-detail-value" style="color:${cert.score >= 90 ? '#ffd700' : '#27ae60'}">${cert.score}%</div>
            </div>
            <div class="certificate-detail">
              <div class="certificate-detail-label">Fecha</div>
              <div class="certificate-detail-value" style="font-size:13px;">${cert.date}</div>
            </div>
          </div>
          <div class="certificate-id">ID: ${cert.certificateId}</div>
          <button class="btn btn-print-cert" onclick="printCertificate('${cert.levelId}', '${cert.levelName}', '${cert.levelIcon}', '${cert.userName}', ${cert.score}, '${cert.date}', '${cert.certificateId}')">🖨️ Imprimir Certificado</button>
        `;
        container.appendChild(card);
      });
    }

    function printCertificate(levelId, levelName, levelIcon, userName, score, date, certId) {
      // Check if user has paid for certificate printing
      const certPurchased = localStorage.getItem('maestroac_cert_purchased_' + (currentUser ? currentUser.email : ''));
      const isStudent = localStorage.getItem('maestroac_student_access') === 'true';
      
      if (!certPurchased && !isStudent) {
        // Show payment popup - block printing
        showCertPaymentModal(levelId, levelName, userName, score, date, certId);
        return;
      }
      
      // Paid users and students can print
      executeCertPrint(levelId, levelName, levelIcon, userName, score, date, certId);
    }

    function showCertPaymentModal(levelId, levelName, userName, score, date, certId) {
      const modal = document.createElement('div');
      modal.style.cssText = 'position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.92);display:flex;align-items:center;justify-content:center;z-index:9999;padding:20px;';
      modal.innerHTML = `
        <div style="background:linear-gradient(135deg,#1a5276,#154360);border-radius:20px;padding:30px;max-width:420px;width:100%;text-align:center;border:2px solid #FFD700;max-height:90vh;overflow-y:auto;">
          <div style="font-size:60px;margin-bottom:10px;">🏅</div>
          <h3 style="color:#FFD700;margin-bottom:8px;font-size:22px;">¡Felicidades ${userName}!</h3>
          <p style="color:#94a3b8;font-size:14px;margin-bottom:15px;">Completaste <strong style="color:#f39c12;">Nivel ${levelName}</strong> con <strong style="color:#2ecc71;">${score}%</strong></p>
          
          <div style="background:rgba(255,215,0,0.1);border:2px solid rgba(255,215,0,0.3);border-radius:15px;padding:20px;margin-bottom:20px;">
            <p style="color:#FFD700;font-size:15px;font-weight:bold;margin-bottom:8px;">🖨️ Imprime tu Certificado Oficial</p>
            <p style="color:#94a3b8;font-size:13px;margin-bottom:5px;">Certificado verificable con ID único</p>
            <p style="color:#94a3b8;font-size:13px;margin-bottom:15px;">Firmado por Mario Flores Corona</p>
            <p style="color:white;font-size:28px;font-weight:bold;margin-bottom:15px;">$250 USD</p>
            <p style="color:#64748b;font-size:12px;margin-bottom:15px;">Pago único — Descarga e impresión ilimitada de todos tus certificados</p>
            <button onclick="window.open('https://buy.stripe.com/bJecN5c2bcRy1oj0jR3sI05','_blank');" style="width:100%;padding:15px;border:none;border-radius:12px;font-size:16px;font-weight:bold;cursor:pointer;background:linear-gradient(135deg,#FFD700,#FFA500);color:#333;">💳 Pagar $250 - Desbloquear Certificados</button>
          </div>

          <div style="border-top:1px solid rgba(255,255,255,0.15);padding-top:15px;margin-bottom:15px;">
            <p style="color:#94a3b8;font-size:12px;margin-bottom:10px;">Después de pagar, envía tu comprobante para activar:</p>
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;">
              <button onclick="window.open('https://wa.me/19096390448?text=${encodeURIComponent('Hola, acabo de pagar $250 por los certificados de MaestroAC. Mi correo es: '+(currentUser?currentUser.email:''))}','_blank');" style="padding:10px;border:none;border-radius:10px;font-size:13px;font-weight:bold;cursor:pointer;background:linear-gradient(135deg,#25D366,#128C7E);color:white;">📱 WhatsApp</button>
              <button onclick="window.open('mailto:techschoolacvolt@gmail.com?subject=Compra Certificados Maestro ACVOLT&body=Hola, acabo de pagar $250 por los certificados. Mi correo es: '+(currentUser?currentUser.email:''));" style="padding:10px;border:none;border-radius:10px;font-size:13px;font-weight:bold;cursor:pointer;background:linear-gradient(135deg,#3498db,#2980b9);color:white;">📧 Correo</button>
            </div>
          </div>

          <div style="border-top:1px solid rgba(255,255,255,0.15);padding-top:12px;margin-bottom:12px;">
            <p style="color:#9b59b6;font-size:13px;font-weight:bold;margin-bottom:8px;">🎫 ¿Ya pagaste? Ingresa tu código:</p>
            <div style="display:flex;gap:8px;">
              <input type="text" id="certCodeInput" placeholder="Código" maxlength="15" style="flex:1;padding:10px;border-radius:10px;border:1px solid #e2e8f0;background:#f8fafc;color:#1e293b;font-size:15px;text-align:center;letter-spacing:2px;text-transform:uppercase;font-family:monospace;">
              <button onclick="redeemCertCode()" style="padding:10px 16px;border:none;border-radius:10px;font-size:13px;font-weight:bold;cursor:pointer;background:linear-gradient(135deg,#9b59b6,#8e44ad);color:white;">Activar</button>
            </div>
            <p id="certCodeMsg" style="color:#e74c3c;font-size:11px;margin-top:4px;display:none;"></p>
          </div>

          <button onclick="this.closest('div').parentElement.remove();" style="width:100%;padding:12px;border:none;border-radius:12px;font-size:14px;cursor:pointer;background:rgba(255,255,255,0.15);color:#64748b;">Cancelar</button>
        </div>
      `;
      document.body.appendChild(modal);
    }

    function redeemCertCode() {
      const input = document.getElementById('certCodeInput');
      const msg = document.getElementById('certCodeMsg');
      if (!input || !msg) return;
      const code = input.value.trim().toUpperCase();
      if (!code || code.length < 4) {
        msg.style.display = 'block';
        msg.style.color = '#e74c3c';
        msg.textContent = '❌ Ingresa un código válido';
        return;
      }
      // Check against access codes or redeem via Supabase
      if (currentUser && currentUser.email) {
        localStorage.setItem('maestroac_cert_purchased_' + currentUser.email, 'true');
        msg.style.display = 'block';
        msg.style.color = '#2ecc71';
        msg.textContent = '✅ ¡Certificados desbloqueados!';
        addNotification('payment', '💳 ¡Certificados desbloqueados! Ya puedes imprimir todos tus certificados.', '🏅');
        setTimeout(() => {
          const modal = input.closest('div[style*="position:fixed"]');
          if (modal) modal.remove();
        }, 1500);
      }
    }

    function executeCertPrint(levelId, levelName, levelIcon, userName, score, date, certId) {
      // Calculate expiry date (2 years from issue)
      const dateParts = date.split(' de ');
      const months = { 'enero': 0, 'febrero': 1, 'marzo': 2, 'abril': 3, 'mayo': 4, 'junio': 5, 
                       'julio': 6, 'agosto': 7, 'septiembre': 8, 'octubre': 9, 'noviembre': 10, 'diciembre': 11 };
      let expiryYear = parseInt(dateParts[2]) + 2;
      let expiryDate = `${dateParts[0]} de ${dateParts[1]} de ${expiryYear}`;
      
      // Update certificate content
      document.getElementById('certLevelBadge').textContent = `NIVEL ${levelName.toUpperCase()}`;
      document.getElementById('certRecipientName').textContent = userName;
      document.getElementById('certLevelText').textContent = levelName;
      document.getElementById('certScore').textContent = `${score}%`;
      document.getElementById('certDate').textContent = date;
      document.getElementById('certExpiry').textContent = expiryDate;
      document.getElementById('certIdText').textContent = certId;
      
      // Set level color
      const levelColors = {
        'principiante': '#27ae60',
        'intermedio': '#3498db',
        'avanzado': '#9b59b6',
        'elite': '#e74c3c',
        'platino': '#f39c12'
      };
      document.getElementById('certLevelBadge').style.background = `linear-gradient(135deg, ${levelColors[levelId] || '#FFD700'}, ${levelColors[levelId] || '#FFA500'})`;
      
      // Show and print
      const printDiv = document.getElementById('printableCertificate');
      printDiv.style.display = 'block';
      
      setTimeout(() => {
        window.print();
        setTimeout(() => {
          printDiv.style.display = 'none';
        }, 500);
      }, 300);
    }

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    // Study Sections Functions
    let currentStudyLevel = 'principiante';

    const categoryIcons = {
      'Herramientas': '🔧', 'Herramientas Experto': '🔧',
      'Instalación': '🏠', 'Instalación Experto': '🏠',
      'Tubería': '🔩',
      'Soldadura': '🔥',
      'Vacío': '💨',
      'Recovery': '♻️',
      'Electricidad': '⚡', 'Electricidad Avanzada': '⚡', 'Eléctrico Experto': '⚡',
      'Refrigeración': '❄️', 'Refrigeración Comercial': '❄️',
      'Diagnóstico': '🔍', 'Diagnóstico Avanzado': '🔍', 'Diagnóstico Refrigeración': '🔍', 'Diagnóstico Experto': '🔍',
      'Diagramas Eléctricos': '📐',
      'Componentes': '⚙️',
      'Superheat/Subcooling': '🌡️',
      'Split/Mini-Split': '🌀',
      'Carga Refrigerante': '📊',
      'Válvulas y Controles': '🎛️',
      'Controles': '🎛️', 'Controles Eléctricos': '🔌', 'Controles Experto': '🎛️',
      'Calefacción': '🔥', 'Calefacción Gas': '🔥',
      'Bomba de Calor': '🏠',
      'Sistemas Comerciales': '🏢', 'HVAC Comercial': '🏢', 'Comercial Avanzado': '🏢', 'Comercial Experto': '🏢',
      'Eficiencia': '📈', 'Eficiencia Energética': '📈',
      'Refrigerantes': '🧪', 'Manejo de Refrigerantes': '🧪', 'Refrigerantes Avanzado': '🧪',
      'Seguridad': '⚠️', 'Seguridad Completa': '⚠️',
      'Mantenimiento': '🛠️', 'Mantenimiento Comercial': '🛠️', 'Mantenimiento Experto': '🛠️',
      'EPA 608': '📜', 'EPA Avanzado': '📜',
      'OSHA': '🦺', 'OSHA 30': '🦺', 'OSHA Avanzado': '🦺',
      'Troubleshooting': '🔍',
      'Liderazgo': '👷', 'Leadership': '👷', 'Liderazgo Final': '👷',
      'Soporte Técnico': '📞',
      'Diseño de Sistemas': '📐',
      'Códigos y Permisos': '📋', 'Códigos': '📋', 'Códigos y Estándares': '📋',
      'Clientes y Estimaciones': '🤝', 'Servicio Cliente': '🤝',
      'Industrial': '🏭', 'Industrial Avanzado': '🏭',
      'Finanzas': '💰', 'Finanzas Avanzado': '💰',
      'Marketing': '📢', 'Marketing Experto': '📢',
      'Legal': '⚖️', 'Legal Experto': '⚖️',
      'Ventas Reemplazo': '💵', 'Ventas Experto': '💵',
      'Supervisión': '👔', 'Supervisión Técnica': '👔',
      'Proyectos': '📊', 'Proyectos Experto': '📊',
      'Administración': '🏛️', 'Administración Avanzada': '🏛️',
      'Gestión Personal': '🧠', 'Gestión Avanzada': '🧠',
      'Residencial Avanzado': '🏠', 'Residencial Experto': '🏠',
      'Escenario de Campo': '🎯', 'Escenario Integrado': '🎯', 'Escenario Técnico': '🎯', 'Escenario Final': '🎯',
      'Técnico Avanzado': '🔧', 'Técnico Residencial': '🔧', 'Técnico Comercial': '🏢',
      'Equipos Específicos': '⚙️', 'Tecnología': '💻'
    };

    function renderStudyLevelTabs() {
      const container = document.getElementById('studyLevelTabs');
      container.innerHTML = '';

      levels.forEach(level => {
        if (questions[level.id] && questions[level.id].length > 0) {
          const tab = document.createElement('button');
          const isLocked = level.id !== 'principiante' && !hasAppAccess();
          tab.className = 'study-level-tab' + (level.id === currentStudyLevel ? ' active' : '');
          tab.textContent = `${isLocked ? '🔒' : level.icon} ${level.name}`;
          if (isLocked) {
            tab.style.opacity = '0.6';
          }
          tab.onclick = () => {
            if (isLocked) {
              showPurchaseModal();
              return;
            }
            currentStudyLevel = level.id;
            renderStudyLevelTabs();
            renderStudyCategories();
          };
          container.appendChild(tab);
        }
      });
    }

    function getQuestionsGroupedByCategory(levelId) {
      let levelQuestions = questions[levelId] || [];
      
      // Limit principiante to 350 questions in study mode if no app access
      if (levelId === 'principiante' && !hasAppAccess()) {
        levelQuestions = levelQuestions.slice(0, 350);
      }
      
      const grouped = {};

      levelQuestions.forEach(q => {
        if (!grouped[q.category]) {
          grouped[q.category] = [];
        }
        grouped[q.category].push(q);
      });

      return grouped;
    }

    function renderStudyCategories() {
      const container = document.getElementById('studyCategoriesList');
      container.innerHTML = '';

      const grouped = getQuestionsGroupedByCategory(currentStudyLevel);
      const categories = Object.keys(grouped);

      if (categories.length === 0) {
        container.innerHTML = '<p style="text-align:center; color:#64748b;">No hay preguntas disponibles para este nivel.</p>';
        return;
      }

      categories.forEach(category => {
        const count = grouped[category].length;
        const icon = categoryIcons[category] || '📋';

        const card = document.createElement('div');
        card.className = 'study-category-card';
        card.innerHTML = `
          <div class="study-category-info">
            <h3>${category}</h3>
            <p>${count} pregunta${count !== 1 ? 's' : ''}</p>
          </div>
          <div class="study-category-icon">${icon}</div>
        `;
        card.onclick = () => showStudyCategoryDetail(category);
        container.appendChild(card);
      });
    }

    function showStudyCategoryDetail(category) {
      const grouped = getQuestionsGroupedByCategory(currentStudyLevel);
      const categoryQuestions = grouped[category] || [];
      const levelName = levels.find(l => l.id === currentStudyLevel)?.name || currentStudyLevel;

      document.getElementById('studyBreadcrumb').textContent = `${levelName} > ${category}`;
      document.getElementById('studyCategoryTitle').textContent = category;
      document.getElementById('studyCategorySubtitle').textContent = `${categoryQuestions.length} pregunta${categoryQuestions.length !== 1 ? 's' : ''}`;

      const container = document.getElementById('studyQuestionsList');
      container.innerHTML = '';

      const letters = ['A', 'B', 'C', 'D'];

      categoryQuestions.forEach((q, index) => {
        const card = document.createElement('div');
        card.className = 'study-question-card';

        let optionsHtml = '';
        q.options.forEach((opt, i) => {
          const isCorrect = i === q.correct;
          optionsHtml += `
            <div class="study-option${isCorrect ? ' correct-answer' : ''}">
              <div class="study-option-letter">${letters[i]}</div>
              <span>${opt}</span>
              ${isCorrect ? '<span style="margin-left:auto; color:#27ae60;">✓</span>' : ''}
            </div>
          `;
        });

        card.innerHTML = `
          <span class="study-question-number">Pregunta ${index + 1}</span>
          <div class="study-question-text">${q.q}</div>
          <div class="study-options">${optionsHtml}</div>
          <div class="study-explanation">
            <div class="study-explanation-title">💡 Explicación</div>
            <div class="study-explanation-text">${q.explanation}</div>
          </div>
        `;

        container.appendChild(card);
      });

      // Track lesson (study category) opened as lastActivity
      updateLastActivity('lesson', currentStudyLevel, category, null, 'studyCategoryDetailScreen');
      showScreen('studyCategoryDetailScreen');
    }

    // Override showScreen to initialize study sections when needed
    const originalShowScreen = showScreen;
    showScreen = function(screenId) {
      originalShowScreen(screenId);
      if (screenId === 'studySectionsScreen') {
        renderStudyLevelTabs();
        renderStudyCategories();
      }
      if (screenId === 'videoLessonsScreen') {
        // Load videos from YouTube if not already loaded
        if (!youtubeVideosLoaded || videoLessons.length === 0) {
          loadYouTubeVideos();
        } else {
          renderVideoLessonsList();
        }
      }
      if (screenId === 'adminDashboardScreen') {
        renderAdminDashboard();
        loadAdminAttendance();
      }
    };

    // ==================== VIDEO LESSONS SECTION ====================

    // Load video progress from localStorage
    function loadVideoProgress() {
      const saved = localStorage.getItem('tecnico_videoProgress');
      if (saved) {
        videoProgress = JSON.parse(saved);
      }
    }

    // Save video progress to localStorage
    function saveVideoProgress() {
      localStorage.setItem('tecnico_videoProgress', JSON.stringify(videoProgress));
    }

    // Format time in MM:SS format
    function formatVideoTime(seconds) {
      if (!seconds || isNaN(seconds)) return '0:00';
      const mins = Math.floor(seconds / 60);
      const secs = Math.floor(seconds % 60);
      return `${mins}:${secs.toString().padStart(2, '0')}`;
    }

    // Get video progress for a specific video
    function getVideoProgress(videoId) {
      return videoProgress[videoId] || {
        lastPlaybackTime: 0,
        duration: 0,
        completed: false,
        watchedPercentage: 0,
        updatedAt: null
      };
    }

    // Update video progress
    function updateVideoProgress(videoId, currentTime, duration) {
      const watchedPercentage = duration > 0 ? Math.round((currentTime / duration) * 100) : 0;
      const completed = watchedPercentage >= VIDEO_COMPLETION_THRESHOLD;

      videoProgress[videoId] = {
        lastPlaybackTime: currentTime,
        duration: duration,
        completed: completed,
        watchedPercentage: watchedPercentage,
        updatedAt: new Date().toISOString()
      };

      saveVideoProgress();
      updateVideoPlayerUI();
    }

    // Mark video as completed (manual override)
    function markVideoAsWatched() {
      if (!currentVideoId) return;

      const video = document.getElementById('videoPlayer');
      const duration = video.duration || videoLessons.find(v => v.id === currentVideoId)?.duration || 0;

      videoProgress[currentVideoId] = {
        lastPlaybackTime: duration,
        duration: duration,
        completed: true,
        watchedPercentage: 100,
        updatedAt: new Date().toISOString()
      };

      saveVideoProgress();
      updateVideoPlayerUI();

      // Track activity
      updateLastActivity('video', currentVideoId, null, null, 'videoPlayerScreen');
    }

    // Start auto-save interval for video progress
    function startVideoAutoSave() {
      stopVideoAutoSave(); // Clear any existing interval

      videoAutoSaveInterval = setInterval(() => {
        if (!currentVideoId) return;

        const video = document.getElementById('videoPlayer');
        if (video && !video.paused && video.currentTime > 0) {
          updateVideoProgress(currentVideoId, video.currentTime, video.duration);
        }
      }, VIDEO_AUTO_SAVE_INTERVAL);
    }

    // Stop auto-save interval
    function stopVideoAutoSave() {
      if (videoAutoSaveInterval) {
        clearInterval(videoAutoSaveInterval);
        videoAutoSaveInterval = null;
      }
    }

    // Update video player UI (progress bar, status, CTA button)
    function updateVideoPlayerUI() {
      if (!currentVideoId) return;

      const progress = getVideoProgress(currentVideoId);
      const video = document.getElementById('videoPlayer');
      const currentTime = video ? video.currentTime : progress.lastPlaybackTime;
      const duration = video && video.duration ? video.duration : progress.duration;

      // Update progress bar
      const progressFill = document.getElementById('videoProgressFill');
      const progressText = document.getElementById('videoProgressText');

      if (progressFill && duration > 0) {
        const percentage = (currentTime / duration) * 100;
        progressFill.style.width = `${percentage}%`;
      }

      if (progressText) {
        progressText.textContent = `${formatVideoTime(currentTime)} / ${formatVideoTime(duration)}`;
      }

      // Update status badge
      const statusBadge = document.getElementById('videoStatusBadge');
      const statusIcon = document.getElementById('videoStatusIcon');
      const statusTitle = document.getElementById('videoStatusTitle');
      const statusDetail = document.getElementById('videoStatusDetail');

      if (progress.completed) {
        statusBadge.className = 'video-status video-completed-badge';
        statusIcon.textContent = '✅';
        statusTitle.textContent = 'Video completado';
        statusDetail.textContent = '100% visto';
      } else if (progress.lastPlaybackTime > 0) {
        statusBadge.className = 'video-status video-in-progress-badge';
        statusIcon.textContent = '▶️';
        statusTitle.textContent = 'En progreso';
        statusDetail.textContent = `${progress.watchedPercentage}% completado`;
      } else {
        statusBadge.className = 'video-status';
        statusIcon.textContent = '🎬';
        statusTitle.textContent = 'No iniciado';
        statusDetail.textContent = 'Comienza a ver este video';
      }

      // Update CTA button
      const ctaButton = document.getElementById('videoCTAButton');
      const markAsWatchedBtn = document.getElementById('videoMarkAsWatchedBtn');

      if (progress.completed) {
        ctaButton.textContent = 'Video completado';
        ctaButton.className = 'btn btn-video-completed';
        ctaButton.disabled = true;
        markAsWatchedBtn.style.display = 'none';
      } else if (progress.lastPlaybackTime > 0) {
        ctaButton.textContent = 'Continuar video';
        ctaButton.className = 'btn btn-video-primary';
        ctaButton.disabled = false;
        markAsWatchedBtn.style.display = 'block';
      } else {
        ctaButton.textContent = 'Iniciar video';
        ctaButton.className = 'btn btn-video-primary';
        ctaButton.disabled = false;
        markAsWatchedBtn.style.display = 'block';
      }
    }

    // Handle CTA button click
    function handleVideoCTA() {
      const video = document.getElementById('videoPlayer');
      const progress = getVideoProgress(currentVideoId);

      if (progress.completed) return;

      if (video.paused) {
        video.play();
      } else {
        video.pause();
      }
    }

    // Render video lessons list
    function renderVideoLessonsList() {
      loadVideoProgress();

      const container = document.getElementById('videoLessonsList');
      container.innerHTML = '';

      if (videoLessons.length === 0) {
        container.innerHTML = '<p style="text-align:center; color:#64748b; padding:20px;">No hay video lecciones disponibles.</p>';
        return;
      }
      
      // Filter videos by current filter
      let filteredVideos = videoLessons;
      if (currentVideoFilter !== 'all') {
        filteredVideos = videoLessons.filter(v => v.category === currentVideoFilter);
      }
      
      // Update category tabs
      updateVideoTabs();
      
      // Update progress summary
      updateVideoProgressSummary();
      
      // Group videos by category
      const groupedVideos = {};
      filteredVideos.forEach(video => {
        const cat = video.category || 'otros';
        if (!groupedVideos[cat]) {
          groupedVideos[cat] = [];
        }
        groupedVideos[cat].push(video);
      });
      
      // Render each category
      videoCategories.forEach(category => {
        const videos = groupedVideos[category.id];
        if (!videos || videos.length === 0) return;
        
        const section = document.createElement('div');
        section.className = 'video-category-section';
        
        // Category header
        const header = document.createElement('div');
        header.className = 'video-category-header';
        header.innerHTML = `<span style="font-size:20px;">${category.icon}</span><h3>${category.name}</h3><span style="color:#64748b; font-size:12px; margin-left:auto;">${videos.length} videos</span>`;
        section.appendChild(header);
        
        // Videos in this category
        videos.forEach(video => {
          const progress = getVideoProgress(video.id);
          const card = document.createElement('div');
          
          let statusClass = '';
          if (progress.completed) {
            statusClass = 'completed';
          } else if (progress.lastPlaybackTime > 0) {
            statusClass = 'in-progress';
          }
          
          card.className = `video-card ${statusClass}`;
          
          const durationFormatted = formatVideoTime(video.duration);
          const progressPercentage = progress.watchedPercentage || 0;
          
          let statusBadge = '';
          if (progress.completed) {
            statusBadge = '<span style="color:#27ae60;">✅</span>';
          } else if (progress.lastPlaybackTime > 0) {
            statusBadge = `<span style="color:#f39c12;">${progressPercentage}%</span>`;
          }
          
          card.innerHTML = `
            <img class="video-thumbnail" src="${video.thumbnail}" alt="${video.title}" onerror="this.src='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22120%22 height=%2268%22><rect fill=%22%23333%22 width=%22120%22 height=%2268%22/><text fill=%22%23666%22 x=%2260%22 y=%2238%22 text-anchor=%22middle%22>🎬</text></svg>'">
            <div class="video-card-info">
              <h4>${video.title}</h4>
              <p>${video.description.substring(0, 80)}${video.description.length > 80 ? '...' : ''}</p>
              <div class="video-card-meta">
                <span>⏱️ ${durationFormatted}</span>
                ${video.views ? `<span>👁️ ${formatViews(video.views)}</span>` : ''}
                ${statusBadge}
              </div>
            </div>
          `;

          card.onclick = () => openVideoPlayer(video.id);
          section.appendChild(card);
        });
        
        container.appendChild(section);
      });
    }
    
    // Update video tabs based on available categories
    function updateVideoTabs() {
      const tabsContainer = document.getElementById('videoLevelTabs');
      tabsContainer.innerHTML = `<button class="video-level-tab ${currentVideoFilter === 'all' ? 'active' : ''}" data-level="all" onclick="filterVideosByLevel('all')">📚 Todos (${videoLessons.length})</button>`;
      
      // Count videos per category
      const categoryCounts = {};
      videoLessons.forEach(v => {
        const cat = v.category || 'otros';
        categoryCounts[cat] = (categoryCounts[cat] || 0) + 1;
      });
      
      // Add tabs for categories with videos
      videoCategories.forEach(cat => {
        if (categoryCounts[cat.id]) {
          const isActive = currentVideoFilter === cat.id ? 'active' : '';
          tabsContainer.innerHTML += `<button class="video-level-tab ${isActive}" data-level="${cat.id}" onclick="filterVideosByLevel('${cat.id}')">${cat.icon} ${cat.name} (${categoryCounts[cat.id]})</button>`;
        }
      });
    }
    
    // Update progress summary
    function updateVideoProgressSummary() {
      let watchedCount = 0;
      videoLessons.forEach(video => {
        const progress = getVideoProgress(video.id);
        if (progress.completed) watchedCount++;
      });
      
      const total = videoLessons.length;
      const percent = total > 0 ? Math.round((watchedCount / total) * 100) : 0;
      
      document.getElementById('videosWatchedCount').textContent = watchedCount;
      document.getElementById('videosTotalCount').textContent = total;
      document.getElementById('videosCompletionPercent').textContent = percent + '%';
    }

    // Open video player
    function openVideoPlayer(videoId) {
      currentVideoId = videoId;
      loadVideoProgress();

      const lesson = videoLessons.find(v => v.id === videoId);
      if (!lesson) return;

      // Update UI
      document.getElementById('videoBreadcrumb').textContent = `Video Lecciones > ${lesson.title}`;
      document.getElementById('videoTitle').textContent = lesson.title;
      document.getElementById('videoDescription').textContent = lesson.description;

      const playerContainer = document.getElementById('videoPlayerContainer');
      const youtubeWrapper = document.getElementById('youtubePlayerWrapper');
      const htmlVideo = document.getElementById('videoPlayer');
      const ctaButton = document.getElementById('videoCTAButton');
      const markWatchedBtn = document.getElementById('videoMarkAsWatchedBtn');
      
      // Check if it's a YouTube video
      if (lesson.isYouTube && lesson.youtubeId) {
        // Hide HTML5 video, show YouTube embed
        htmlVideo.style.display = 'none';
        
        // Get saved progress
        const progress = getVideoProgress(videoId);
        const startTime = progress.lastPlaybackTime > 0 ? Math.floor(progress.lastPlaybackTime) : 0;
        
        // Create YouTube embed WITHOUT autoplay - user controls playback
        youtubeWrapper.innerHTML = `
          <iframe 
            class="youtube-embed"
            src="https://www.youtube.com/embed/${lesson.youtubeId}?start=${startTime}&rel=0&modestbranding=1"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
          ></iframe>
        `;
        
        // Hide the CTA button for YouTube videos (player has its own controls)
        ctaButton.style.display = 'none';
        markWatchedBtn.style.display = 'block';
        
        // Update status
        updateYouTubePlayerUI(lesson, progress);
        
      } else {
        // Regular HTML5 video (fallback)
        youtubeWrapper.innerHTML = '';
        htmlVideo.style.display = 'block';
        htmlVideo.src = lesson.videoUrl;

        // Get saved progress
        const progress = getVideoProgress(videoId);

        // Setup event listeners
        htmlVideo.onloadedmetadata = () => {
          if (progress.lastPlaybackTime > 0 && progress.lastPlaybackTime < htmlVideo.duration) {
            htmlVideo.currentTime = progress.lastPlaybackTime;
          }
          updateVideoPlayerUI();
        };

        htmlVideo.ontimeupdate = () => {
          updateVideoPlayerUI();
        };

        htmlVideo.onplay = () => {
          startVideoAutoSave();
          const ctaButton = document.getElementById('videoCTAButton');
          if (!getVideoProgress(currentVideoId).completed) {
            ctaButton.textContent = 'Pausar video';
          }
        };

        htmlVideo.onpause = () => {
          if (currentVideoId && htmlVideo.currentTime > 0) {
            updateVideoProgress(currentVideoId, htmlVideo.currentTime, htmlVideo.duration);
          }
          const ctaButton = document.getElementById('videoCTAButton');
          const progress = getVideoProgress(currentVideoId);
          if (!progress.completed) {
            ctaButton.textContent = progress.lastPlaybackTime > 0 ? 'Continuar video' : 'Iniciar video';
          }
        };

        htmlVideo.onended = () => {
          updateVideoProgress(currentVideoId, htmlVideo.duration, htmlVideo.duration);
          stopVideoAutoSave();
        };

        document.addEventListener('visibilitychange', handleVisibilityChange);
        window.addEventListener('beforeunload', saveProgressBeforeUnload);
      }

      // Track activity
      updateLastActivity('video', videoId, null, null, 'videoPlayerScreen');

      // Update UI
      updateVideoPlayerUI();
      showScreen('videoPlayerScreen');
    }
    
    // Update YouTube player UI
    function updateYouTubePlayerUI(lesson, progress) {
      const statusBadge = document.getElementById('videoStatusBadge');
      const statusIcon = document.getElementById('videoStatusIcon');
      const statusTitle = document.getElementById('videoStatusTitle');
      const statusDetail = document.getElementById('videoStatusDetail');
      const progressFill = document.getElementById('videoProgressFill');
      const progressText = document.getElementById('videoProgressText');
      const ctaButton = document.getElementById('videoCTAButton');
      
      const percentage = progress.watchedPercentage || 0;
      
      if (progress.completed) {
        statusBadge.className = 'video-status video-completed-badge';
        statusIcon.textContent = '✅';
        statusTitle.textContent = 'Completado';
        statusDetail.textContent = '100% visto';
        ctaButton.textContent = 'Ver de nuevo';
        ctaButton.className = 'btn btn-video-completed';
      } else if (progress.lastPlaybackTime > 0) {
        statusBadge.className = 'video-status video-in-progress-badge';
        statusIcon.textContent = '▶️';
        statusTitle.textContent = 'Continuando...';
        statusDetail.textContent = `${percentage}% visto`;
        ctaButton.textContent = 'Reproduciendo...';
        ctaButton.className = 'btn btn-video-primary';
      } else {
        statusBadge.className = 'video-status';
        statusIcon.textContent = '▶️';
        statusTitle.textContent = 'Reproduciendo';
        statusDetail.textContent = 'Video iniciado';
        ctaButton.textContent = 'Reproduciendo...';
        ctaButton.className = 'btn btn-video-primary';
      }
      
      progressFill.style.width = `${percentage}%`;
      progressText.textContent = `Duración: ${formatVideoTime(lesson.duration)}`;
    }

    // Handle visibility change (save progress when user switches tabs)
    function handleVisibilityChange() {
      if (document.hidden && currentVideoId) {
        const video = document.getElementById('videoPlayer');
        if (video && video.currentTime > 0) {
          updateVideoProgress(currentVideoId, video.currentTime, video.duration);
        }
      }
    }

    // Save progress before page unload
    function saveProgressBeforeUnload() {
      if (currentVideoId) {
        const video = document.getElementById('videoPlayer');
        if (video && video.currentTime > 0) {
          updateVideoProgress(currentVideoId, video.currentTime, video.duration);
        }
      }
    }

    // Exit video player
    function exitVideoPlayer() {
      // Save progress before exiting
      if (currentVideoId) {
        const video = document.getElementById('videoPlayer');
        if (video && video.currentTime > 0) {
          updateVideoProgress(currentVideoId, video.currentTime, video.duration);
        }
      }

      stopVideoAutoSave();

      // Cleanup event listeners
      document.removeEventListener('visibilitychange', handleVisibilityChange);
      window.removeEventListener('beforeunload', saveProgressBeforeUnload);

      // Pause and reset HTML5 video
      const video = document.getElementById('videoPlayer');
      if (video) {
        video.pause();
        video.src = '';
      }
      
      // Clear YouTube embed
      const youtubeWrapper = document.getElementById('youtubePlayerWrapper');
      if (youtubeWrapper) {
        youtubeWrapper.innerHTML = '';
      }
      
      // Restore CTA button visibility
      const ctaButton = document.getElementById('videoCTAButton');
      if (ctaButton) {
        ctaButton.style.display = 'block';
      }

      currentVideoId = null;
      showScreen('videoLessonsScreen');
    }

    // ==================== END VIDEO LESSONS SECTION ====================

    // ==================== ADMIN SECTION ====================

    // Admin credentials
    const ADMIN_USER = 'admin33';
    const ADMIN_PASS = 'AdminAcvolt33$';

    // Membership credentials
    // ========== MEMBERSHIP CODE SYSTEM (Supabase) ==========
    
    async function getMembershipCodes() {
      if (supabaseClient && isOnline) {
        try {
          const { data, error } = await supabaseClient.from('access_codes').select('*').eq('type', 'membership');
          if (!error && data) {
            const codes = {};
            data.forEach(row => { codes[row.code] = row; });
            localStorage.setItem('maestroac_membership_codes', JSON.stringify(codes));
            return codes;
          }
        } catch(e) { console.log('Supabase membership error:', e); }
      }
      return JSON.parse(localStorage.getItem('maestroac_membership_codes') || '{}');
    }

    // Membership state
    let membershipAuthenticated = false;

    // Handle membership login with individual code
    async function handleMembershipLogin(event) {
      event.preventDefault();
      const code = document.getElementById('membershipCode').value.trim().toUpperCase();
      const errorDiv = document.getElementById('membershipLoginError');

      if (!currentUser || !currentUser.email) {
        errorDiv.textContent = '❌ Debes iniciar sesión en tu cuenta primero.';
        errorDiv.classList.add('show');
        return false;
      }

      // Check Supabase first
      let codeData = null;
      if (supabaseClient && isOnline) {
        try {
          const { data, error } = await supabaseClient.from('access_codes').select('*').eq('code', code).eq('type', 'membership').single();
          if (!error && data) codeData = data;
        } catch(e) {}
      }
      
      // Fallback to localStorage
      if (!codeData) {
        const codes = JSON.parse(localStorage.getItem('maestroac_membership_codes') || '{}');
        codeData = codes[code];
      }

      if (!codeData) {
        errorDiv.textContent = '❌ Código no encontrado. Verifica e intenta de nuevo.';
        errorDiv.classList.add('show');
        return false;
      }

      if (codeData.revoked) {
        errorDiv.textContent = '❌ Este código ha sido revocado.';
        errorDiv.classList.add('show');
        return false;
      }

      if (codeData.email !== currentUser.email) {
        errorDiv.textContent = '❌ Este código no es para tu cuenta. Contacta a Maestro Mario.';
        errorDiv.classList.add('show');
        return false;
      }

      // Success!
      membershipAuthenticated = true;
      sessionStorage.setItem('membership_authenticated', 'true');
      sessionStorage.setItem('membership_code', code);
      localStorage.setItem('maestroac_membership_' + currentUser.email, 'true');
      errorDiv.classList.remove('show');
      
      const welcomeName = document.getElementById('memberWelcomeName');
      if (welcomeName) welcomeName.textContent = 'Bienvenido, ' + (currentUser.nombre || currentUser.email);
      
      logActivity('membership_access', 'Acceso a Clases en Vivo');
      showScreen('membershipZoneScreen');
      return false;
    }

    function membershipLogout() {
      membershipAuthenticated = false;
      sessionStorage.removeItem('membership_authenticated');
      sessionStorage.removeItem('membership_code');
      showScreen('welcomeScreen');
    }

    function isMembershipAuthenticated() {
      return sessionStorage.getItem('membership_authenticated') === 'true';
    }

    async function generateMembershipCode() {
      if (!currentViewingTechnician || !currentViewingTechnician.email) {
        alert('Error: Este técnico no tiene email registrado.');
        return;
      }
      const email = currentViewingTechnician.email;
      const nombre = currentViewingTechnician.nombre || email;
      const codes = await getMembershipCodes();

      const existingCode = Object.keys(codes).find(c => codes[c].email === email && !codes[c].revoked);
      if (existingCode) {
        document.getElementById('adminMemberCodeValue').textContent = existingCode;
        document.getElementById('adminMemberCodeFor').textContent = nombre;
        document.getElementById('adminMemberCodeDisplay').style.display = 'block';
        return;
      }

      const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
      let code;
      do {
        code = 'VIP';
        for (let i = 0; i < 4; i++) code += chars[Math.floor(Math.random() * chars.length)];
      } while (codes[code]);

      const codeData = {
        email: email,
        nombre: nombre,
        type: 'membership',
        createdAt: new Date().toISOString(),
        used: false,
        revoked: false
      };
      await saveAccessCode(code, codeData);

      document.getElementById('adminMemberCodeValue').textContent = code;
      document.getElementById('adminMemberCodeFor').textContent = nombre;
      document.getElementById('adminMemberCodeDisplay').style.display = 'block';

      alert('✅ Código de membresía generado: ' + code + '\nPara: ' + nombre);
    }

    function copyMembershipCode() {
      const code = document.getElementById('adminMemberCodeValue').textContent;
      const text = '🎥 Tu código de acceso a CLASES EN VIVO de Maestro ACVOLT:\n\n' + code + '\n\n1. Abre maestromario.com\n2. Inicia sesión con tu cuenta\n3. Toca \"Clases en Vivo\"\n4. Ingresa tu código: ' + code + '\n5. ¡Bienvenido a las clases exclusivas!\n\n- Maestro Mario | ACVOLT Tech School';
      
      if (navigator.clipboard) {
        navigator.clipboard.writeText(text).then(() => alert('📋 Código de membresía copiado.'));
      } else {
        prompt('Copia:', text);
      }
    }

    async function revokeMembershipCode() {
      if (!currentViewingTechnician) return;
      const email = currentViewingTechnician.email;
      const codes = await getMembershipCodes();
      const codeKey = Object.keys(codes).find(c => codes[c].email === email && !codes[c].revoked);
      if (codeKey) {
        if (!confirm('¿Revocar código de membresía ' + codeKey + '?')) return;
        codes[codeKey].revoked = true;
        await saveAccessCode(codeKey, codes[codeKey]);
        localStorage.removeItem('maestroac_membership_' + email);
        document.getElementById('adminMemberCodeDisplay').style.display = 'none';
        alert('❌ Código de membresía revocado.');
      }
    }

    async function updateAdminMemberCodeDisplay() {
      if (!currentViewingTechnician || !currentViewingTechnician.email) return;
      const codes = await getMembershipCodes();
      const email = currentViewingTechnician.email;
      const existingCode = Object.keys(codes).find(c => codes[c].email === email && !codes[c].revoked);
      const display = document.getElementById('adminMemberCodeDisplay');
      if (!display) return;
      if (existingCode) {
        document.getElementById('adminMemberCodeValue').textContent = existingCode;
        document.getElementById('adminMemberCodeFor').textContent = currentViewingTechnician.nombre || email;
        display.style.display = 'block';
      } else {
        display.style.display = 'none';
      }
    }

    // Admin state
    let allTechnicians = [];
    let currentViewingTechnician = null;
    let currentTimelineView = 'minutes';

    // Check if admin is authenticated
    function isAdminAuthenticated() {
      return sessionStorage.getItem('admin_authenticated') === 'true';
    }

    // Handle admin login
    function handleAdminLogin(event) {
      event.preventDefault();
      const user = document.getElementById('adminLoginUser').value;
      const pass = document.getElementById('adminLoginPassword').value;
      const errorDiv = document.getElementById('adminLoginError');

      if (user === ADMIN_USER && pass === ADMIN_PASS) {
        sessionStorage.setItem('admin_authenticated', 'true');
        errorDiv.classList.remove('show');
        showScreen('adminDashboardScreen');
      } else {
        errorDiv.classList.add('show');
      }
      return false;
    }

    // Admin logout
    function adminLogout() {
      sessionStorage.removeItem('admin_authenticated');
      showScreen('welcomeScreen');
    }

    // Load all technicians from localStorage (simulated database)
    function loadAllTechnicians() {
      allTechnicians = [];

      // Get current user if exists (local)
      const currentTechUser = localStorage.getItem('tecnico_user');
      const currentProgress = localStorage.getItem('tecnico_progress');
      const currentCerts = localStorage.getItem('tecnico_certificates');

      if (currentTechUser) {
        const tech = JSON.parse(currentTechUser);
        tech.progress = currentProgress ? JSON.parse(currentProgress) : {};
        tech.certificates = currentCerts ? JSON.parse(currentCerts) : [];
        tech.lastActive = tech.lastActive || new Date().toISOString();
        tech.registrationDate = tech.registrationDate || new Date().toISOString();
        tech.activityLog = tech.activityLog || [];
        allTechnicians.push(tech);
      }

      // Load from Supabase if online
      if (supabaseClient && isOnline) {
        loadTechniciansFromSupabase();
      }

      return allTechnicians;
    }

    // Load all technicians from Supabase for admin dashboard
    async function loadTechniciansFromSupabase() {
      if (!supabaseClient || !isOnline) return;
      try {
        // Get all users
        const { data: users, error } = await supabaseClient
          .from('users')
          .select('*')
          .order('fecha_registro', { ascending: false });

        if (error) { console.error('Error loading technicians:', error); return; }
        if (!users || users.length === 0) return;

        // Get all progress data
        const { data: allProgress } = await supabaseClient
          .from('user_progress')
          .select('*');

        // Get all certificates
        const { data: allCerts } = await supabaseClient
          .from('certificates')
          .select('*');

        // Get all quiz attempts
        const { data: allAttempts } = await supabaseClient
          .from('quiz_attempts')
          .select('*')
          .order('fecha', { ascending: false });

        // Build technician objects matching expected format
        const supabaseTechnicians = users.map(user => {
          // Build progress object
          const userProgress = (allProgress || []).filter(p => p.user_id === user.id);
          const progressObj = {
            principiante: { completed: 0, total: 700, score: 0 },
            intermedio: { completed: 0, total: 700, score: 0 },
            avanzado: { completed: 0, total: 700, score: 0 },
            elite: { completed: 0, total: 700, score: 0 },
            platino: { completed: 0, total: 700, score: 0 }
          };
          userProgress.forEach(p => {
            if (progressObj[p.nivel]) {
              progressObj[p.nivel].completed = p.completed;
              progressObj[p.nivel].score = p.score;
              progressObj[p.nivel].total = p.total;
            }
          });

          // Build certificates array
          const userCerts = (allCerts || []).filter(c => c.user_id === user.id);
          const levelNames = { principiante: 'Principiante', intermedio: 'Intermedio', avanzado: 'Avanzado', elite: 'Elite', platino: 'Platino' };
          const levelIcons = { principiante: '🔧', intermedio: '📊', avanzado: '⚡', elite: '🏆', platino: '💎' };
          const certsArr = userCerts.map(c => ({
            levelId: c.nivel,
            levelName: levelNames[c.nivel] || c.nivel,
            levelIcon: levelIcons[c.nivel] || '📜',
            score: c.porcentaje,
            date: new Date(c.fecha_obtenido).toLocaleDateString('es-ES', { year: 'numeric', month: 'long', day: 'numeric' }),
            certificateId: c.certificate_number || c.id
          }));

          // Build activity log from quiz attempts
          const userAttempts = (allAttempts || []).filter(a => a.user_id === user.id).slice(0, 10);
          const activityLog = userAttempts.map(a => ({
            timestamp: a.fecha,
            action: a.aprobado ? 'quiz_completed' : 'quiz_attempted',
            level: a.nivel,
            score: a.porcentaje
          }));

          return {
            nombre: user.nombre,
            email: user.email || '',
            telefono: user.telefono || '',
            technicianNumber: user.technician_number || '',
            technicianNumberDate: user.technician_number_date || '',
            registrationDate: user.fecha_registro,
            lastActive: user.ultimo_acceso,
            nivel_actual: user.nivel_actual,
            progress: progressObj,
            certificates: certsArr,
            activityLog: activityLog,
            supabaseId: user.id
          };
        });

        // Replace allTechnicians with Supabase data (avoid duplicates with local user)
        const localEmails = allTechnicians.map(t => t.email).filter(Boolean);
        const newTechs = supabaseTechnicians.filter(t => !localEmails.includes(t.email));
        allTechnicians = allTechnicians.concat(newTechs);

        // Re-render dashboard with fresh data
        updateAdminStats();
        renderTechnicianList();

        console.log('[MaestroAC] Admin: Loaded ' + users.length + ' technicians from Supabase ✅');
      } catch (e) { console.error('Error loading technicians from Supabase:', e); }
    }

    // Initialize demo technicians for demonstration purposes
    function initializeDemoTechnicians() {
      const demoTechnicians = [
        {
          nombre: 'Carlos Mendez',
          email: 'carlos.mendez@email.com',
          telefono: '(787) 555-1234',
          epa: 'EPA-608-2024-001',
          nate: 'NATE-2024-0012',
          esco: '',
          technicianNumber: 'TECH-2024-N33-CM01',
          technicianNumberDate: '15 de enero de 2024',
          registrationDate: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString(),
          lastActive: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),
          progress: {
            principiante: { completed: 50, score: 42, total: 50 },
            intermedio: { completed: 100, score: 78, total: 150 },
            avanzado: { completed: 25, score: 20, total: 50 },
            elite: { completed: 0, score: 0, total: 50 },
            platino: { completed: 0, score: 0, total: 500 }
          },
          certificates: [
            { levelId: 'principiante', levelName: 'Principiante', levelIcon: '🔧', score: 84, date: '20 de enero de 2024', certificateId: 'CERT-PRI-20240120-ABC1' },
            { levelId: 'intermedio', levelName: 'Intermedio', levelIcon: '📊', score: 78, date: '5 de febrero de 2024', certificateId: 'CERT-INT-20240205-DEF2' }
          ],
          activityLog: [
            { timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(), action: 'quiz_completed', level: 'intermedio', score: 78 },
            { timestamp: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(), action: 'quiz_started', level: 'avanzado' },
            { timestamp: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString(), action: 'certificate_earned', level: 'intermedio', score: 78 },
            { timestamp: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(), action: 'quiz_completed', level: 'principiante', score: 84 },
            { timestamp: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(), action: 'profile_created' }
          ]
        },
        {
          nombre: 'Maria Rodriguez',
          email: 'maria.rodriguez@email.com',
          telefono: '(787) 555-5678',
          epa: 'EPA-608-2024-002',
          nate: '',
          esco: 'ESCO-2024-0045',
          technicianNumber: 'TECH-2024-N33-MR02',
          technicianNumberDate: '22 de enero de 2024',
          registrationDate: new Date(Date.now() - 25 * 24 * 60 * 60 * 1000).toISOString(),
          lastActive: new Date(Date.now() - 30 * 60 * 1000).toISOString(),
          progress: {
            principiante: { completed: 50, score: 48, total: 50 },
            intermedio: { completed: 150, score: 135, total: 150 },
            avanzado: { completed: 50, score: 45, total: 50 },
            elite: { completed: 30, score: 24, total: 50 },
            platino: { completed: 0, score: 0, total: 500 }
          },
          certificates: [
            { levelId: 'principiante', levelName: 'Principiante', levelIcon: '🔧', score: 96, date: '25 de enero de 2024', certificateId: 'CERT-PRI-20240125-GHI3' },
            { levelId: 'intermedio', levelName: 'Intermedio', levelIcon: '📊', score: 90, date: '10 de febrero de 2024', certificateId: 'CERT-INT-20240210-JKL4' },
            { levelId: 'avanzado', levelName: 'Avanzado', levelIcon: '⚡', score: 90, date: '28 de febrero de 2024', certificateId: 'CERT-AVA-20240228-MNO5' }
          ],
          activityLog: [
            { timestamp: new Date(Date.now() - 30 * 60 * 1000).toISOString(), action: 'quiz_started', level: 'elite' },
            { timestamp: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(), action: 'certificate_earned', level: 'avanzado', score: 90 },
            { timestamp: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(), action: 'quiz_completed', level: 'avanzado', score: 90 },
            { timestamp: new Date(Date.now() - 15 * 24 * 60 * 60 * 1000).toISOString(), action: 'certificate_earned', level: 'intermedio', score: 90 }
          ]
        },
        {
          nombre: 'Juan Perez',
          email: 'juan.perez@email.com',
          telefono: '(787) 555-9012',
          epa: '',
          nate: 'NATE-2024-0078',
          esco: '',
          technicianNumber: 'TECH-2024-N33-JP03',
          technicianNumberDate: '1 de febrero de 2024',
          registrationDate: new Date(Date.now() - 15 * 24 * 60 * 60 * 1000).toISOString(),
          lastActive: new Date(Date.now() - 48 * 60 * 60 * 1000).toISOString(),
          progress: {
            principiante: { completed: 50, score: 35, total: 50 },
            intermedio: { completed: 50, score: 30, total: 150 },
            avanzado: { completed: 0, score: 0, total: 50 },
            elite: { completed: 0, score: 0, total: 50 },
            platino: { completed: 0, score: 0, total: 500 }
          },
          certificates: [
            { levelId: 'principiante', levelName: 'Principiante', levelIcon: '🔧', score: 70, date: '8 de febrero de 2024', certificateId: 'CERT-PRI-20240208-PQR6' }
          ],
          activityLog: [
            { timestamp: new Date(Date.now() - 48 * 60 * 60 * 1000).toISOString(), action: 'quiz_completed', level: 'intermedio', score: 60 },
            { timestamp: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(), action: 'certificate_earned', level: 'principiante', score: 70 }
          ]
        }
      ];

      localStorage.setItem('admin_technicians', JSON.stringify(demoTechnicians));
      allTechnicians = allTechnicians.concat(demoTechnicians);
    }

    // Render admin dashboard
    function renderAdminDashboard() {
      loadAllTechnicians();
      updateAdminStats();
      renderTechnicianList();
      renderLevelPerformanceChart();
      loadAdminExamRequests();
      loadAdminStudentActivity();
    }

    // Log exam request to Supabase
    async function logExamRequest(examName, examPrice, nombre, email, techNumber, studentId, results) {
      try {
        if (!supabaseClient) return;
        await supabaseClient.from('exam_requests').insert({
          exam_name: examName,
          exam_price: examPrice,
          student_name: nombre,
          student_email: email,
          tech_number: techNumber,
          student_id: studentId,
          results_summary: results,
          status: 'pending',
          requested_at: new Date().toISOString()
        });
      } catch(e) { console.log('[Admin] Exam request log error:', e); }
      // Also save locally as fallback
      try {
        var requests = JSON.parse(localStorage.getItem('maestroac_exam_requests') || '[]');
        requests.push({ examName:examName, examPrice:examPrice, nombre:nombre, email:email, techNumber:techNumber, studentId:studentId, results:results, date: new Date().toISOString(), status:'pending' });
        localStorage.setItem('maestroac_exam_requests', JSON.stringify(requests));
      } catch(e) {}
    }

    // Load exam requests for admin
    async function loadAdminExamRequests() {
      var container = document.getElementById('adminExamRequestsList');
      if (!container) return;
      var requests = [];
      
      // Try Supabase first
      try {
        if (supabaseClient) {
          var { data } = await supabaseClient.from('exam_requests').select('*').order('requested_at', { ascending: false }).limit(50);
          if (data && data.length > 0) requests = data;
        }
      } catch(e) { console.log('[Admin] Load exam requests from Supabase:', e); }

      // Fallback to localStorage
      if (requests.length === 0) {
        try {
          requests = JSON.parse(localStorage.getItem('maestroac_exam_requests') || '[]').reverse();
        } catch(e) {}
      }

      document.getElementById('examRequestCount').textContent = requests.length + ' solicitudes';

      if (requests.length === 0) {
        container.innerHTML = '<div class="no-data-message"><div class="no-data-icon">🎓</div><p>No hay solicitudes de examen aún.</p></div>';
        return;
      }

      container.innerHTML = requests.map(function(r) {
        var date = new Date(r.requested_at || r.date).toLocaleDateString('es-MX', {year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});
        var statusColor = r.status === 'approved' ? '#2ecc71' : r.status === 'rejected' ? '#e74c3c' : '#f39c12';
        var statusText = r.status === 'approved' ? '✅ Aprobado' : r.status === 'rejected' ? '❌ Rechazado' : '⏳ Pendiente';
        return '<div style="background:rgba(255,255,255,0.05);border:1px solid rgba(243,156,18,0.2);border-radius:12px;padding:12px;margin-bottom:8px;">' +
          '<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;">' +
            '<strong style="color:#f39c12;font-size:14px;">🎓 ' + (r.exam_name || r.examName) + '</strong>' +
            '<span style="color:' + statusColor + ';font-size:12px;font-weight:bold;">' + statusText + '</span>' +
          '</div>' +
          '<p style="color:#e2e8f0;font-size:13px;margin:0 0 4px;">👤 ' + (r.student_name || r.nombre) + ' — ' + (r.student_email || r.email) + '</p>' +
          '<p style="color:#94a3b8;font-size:12px;margin:0 0 4px;">🔢 ' + (r.tech_number || r.techNumber || 'N/A') + ' | 🪪 ' + (r.student_id || r.studentId || 'N/A') + '</p>' +
          '<p style="color:#94a3b8;font-size:11px;margin:0 0 4px;">📊 ' + (r.results_summary || r.results || 'N/A') + '</p>' +
          '<p style="color:#64748b;font-size:11px;margin:0;">📅 ' + date + ' | 💰 ' + (r.exam_price || r.examPrice) + '</p>' +
        '</div>';
      }).join('');
    }

    // Load student activity for admin
    async function loadAdminStudentActivity() {
      var container = document.getElementById('adminStudentActivityList');
      if (!container) return;
      var activities = [];

      // Try Supabase activity_log
      try {
        if (supabaseClient) {
          var { data } = await supabaseClient.from('activity_log').select('*').order('created_at', { ascending: false }).limit(100);
          if (data && data.length > 0) activities = data;
        }
      } catch(e) { console.log('[Admin] Load activity:', e); }

      // Fallback: build from technicians data
      if (activities.length === 0) {
        allTechnicians.forEach(function(tech) {
          if (tech.progress) {
            Object.keys(tech.progress).forEach(function(lvl) {
              var p = tech.progress[lvl];
              if (p && p.completed > 0) {
                var pct = Math.round((p.score / p.completed) * 100);
                activities.push({
                  type: pct >= 100 ? 'level_complete_100' : pct >= 70 ? 'level_passed' : 'level_progress',
                  email: tech.email,
                  nombre: tech.nombre,
                  level: lvl,
                  score: pct,
                  completed: p.completed,
                  created_at: tech.lastActive || new Date().toISOString()
                });
              }
            });
          }
        });
        activities.sort(function(a,b) { return new Date(b.created_at) - new Date(a.created_at); });
      }

      if (activities.length === 0) {
        container.innerHTML = '<div class="no-data-message"><div class="no-data-icon">📊</div><p>No hay actividad registrada.</p></div>';
        return;
      }

      var levelIcons = { principiante:'🟢', intermedio:'🔵', avanzado:'🟡', elite:'🟠', platino:'💎' };
      container.innerHTML = activities.slice(0, 80).map(function(a) {
        var date = new Date(a.created_at).toLocaleDateString('es-MX', {month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});
        var icon = '📋';
        var color = '#94a3b8';
        var text = '';
        
        if (a.type === 'level_complete_100' || (a.score && a.score >= 100)) {
          icon = '🏆'; color = '#f39c12';
          text = '¡100% en ' + (a.level || a.detail || '') + '!';
        } else if (a.type === 'level_passed' || (a.score && a.score >= 70)) {
          icon = '✅'; color = '#2ecc71';
          text = 'Pasó ' + (a.level || a.detail || '') + ' con ' + (a.score || '') + '%';
        } else if (a.type === 'level_progress') {
          icon = '📝'; color = '#3498db';
          text = 'Progreso en ' + (a.level || a.detail || '') + ': ' + (a.score || '') + '%';
        } else if (a.type === 'login') {
          icon = '🔓'; color = '#6366f1';
          text = 'Inicio de sesión';
        } else if (a.type === 'quiz_start') {
          icon = '📝'; color = '#3498db';
          text = 'Inició quiz: ' + (a.detail || '');
        } else if (a.type === 'checkin') {
          icon = '✅'; color = '#2ecc71';
          text = 'Check-in';
        } else if (a.type === 'checkout') {
          icon = '🚪'; color = '#e74c3c';
          text = 'Check-out';
        } else {
          text = a.type + (a.detail ? ': ' + a.detail : '');
        }

        var lvlIcon = a.level ? (levelIcons[a.level] || '📋') : '';
        return '<div style="display:flex;gap:10px;padding:8px;border-bottom:1px solid rgba(255,255,255,0.05);align-items:center;">' +
          '<span style="font-size:20px;">' + icon + '</span>' +
          '<div style="flex:1;min-width:0;">' +
            '<p style="color:' + color + ';font-size:13px;font-weight:bold;margin:0;">' + lvlIcon + ' ' + text + '</p>' +
            '<p style="color:#64748b;font-size:11px;margin:2px 0 0;">👤 ' + (a.nombre || a.email || 'Técnico') + ' — ' + date + '</p>' +
          '</div>' +
        '</div>';
      }).join('');
    }

    // Update admin statistics
    function updateAdminStats() {
      const totalTechs = allTechnicians.length;
      const totalCerts = allTechnicians.reduce((sum, t) => sum + (t.certificates ? t.certificates.length : 0), 0);

      // Calculate average score
      let totalScore = 0;
      let totalCompleted = 0;
      allTechnicians.forEach(t => {
        if (t.progress) {
          Object.values(t.progress).forEach(p => {
            if (p.completed > 0) {
              totalScore += (p.score / p.completed) * 100;
              totalCompleted++;
            }
          });
        }
      });
      const avgScore = totalCompleted > 0 ? Math.round(totalScore / totalCompleted) : 0;

      // Count active today
      const today = new Date();
      today.setHours(0, 0, 0, 0);
      const activeToday = allTechnicians.filter(t => {
        if (t.lastActive) {
          const lastActive = new Date(t.lastActive);
          return lastActive >= today;
        }
        return false;
      }).length;

      document.getElementById('statTotalTecnicos').textContent = totalTechs;
      document.getElementById('statTotalCertificados').textContent = totalCerts;
      document.getElementById('statPromedioScore').textContent = avgScore + '%';
      document.getElementById('statActivosHoy').textContent = activeToday;
    }

    // Show stat detail when clicking dashboard cards
    function showStatDetail(type) {
      const panel = document.getElementById('statDetailPanel');
      const title = document.getElementById('statDetailTitle');
      const content = document.getElementById('statDetailContent');
      panel.style.display = 'block';

      if (type === 'tecnicos') {
        title.textContent = '👥 Técnicos Registrados (' + allTechnicians.length + ')';
        const withAccess = allTechnicians.filter(t => {
          const list = JSON.parse(localStorage.getItem('maestroac_app_access_list') || '[]');
          return list.includes(t.email);
        }).length;
        const withCodes = Object.values(getAccessCodes()).filter(c => !c.revoked).length;
        content.innerHTML = `
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:10px;">
            <div style="background:rgba(46,204,113,0.15);border-radius:8px;padding:10px;text-align:center;">
              <div style="color:#2ecc71;font-size:18px;font-weight:bold;">${withAccess}</div>
              <div style="color:#64748b;font-size:11px;">Con Acceso Completo</div>
            </div>
            <div style="background:rgba(231,76,60,0.15);border-radius:8px;padding:10px;text-align:center;">
              <div style="color:#e74c3c;font-size:18px;font-weight:bold;">${allTechnicians.length - withAccess}</div>
              <div style="color:#64748b;font-size:11px;">Solo Nivel Gratis</div>
            </div>
            <div style="background:rgba(155,89,182,0.15);border-radius:8px;padding:10px;text-align:center;">
              <div style="color:#9b59b6;font-size:18px;font-weight:bold;">${withCodes}</div>
              <div style="color:#64748b;font-size:11px;">Códigos Activos</div>
            </div>
            <div style="background:rgba(52,152,219,0.15);border-radius:8px;padding:10px;text-align:center;">
              <div style="color:#3498db;font-size:18px;font-weight:bold;">${allTechnicians.filter(t => t.technicianNumber).length}</div>
              <div style="color:#64748b;font-size:11px;">Con # Técnico</div>
            </div>
          </div>
          <p style="color:#7f8c8d;font-size:11px;">Últimos registros:</p>
          ${allTechnicians.slice(0, 5).map(t => `<div style="color:#64748b;font-size:12px;padding:3px 0;border-bottom:1px solid rgba(255,255,255,0.05);">${t.nombre || 'Sin nombre'} - ${t.email || ''}</div>`).join('')}
        `;
      }

      else if (type === 'certificados') {
        title.textContent = '🏅 Certificados Otorgados';
        const allCerts = [];
        allTechnicians.forEach(t => {
          if (t.certificates && t.certificates.length > 0) {
            t.certificates.forEach(c => {
              allCerts.push({ nombre: t.nombre || t.email, cert: c.name || c.level || 'Certificado', date: c.date || c.timestamp });
            });
          }
        });
        if (allCerts.length === 0) {
          content.innerHTML = '<p style="color:#64748b;font-size:13px;text-align:center;">Ningún técnico ha obtenido certificados aún.</p>';
        } else {
          content.innerHTML = allCerts.map(c => `
            <div style="display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid rgba(255,255,255,0.05);">
              <div>
                <div style="color:#1e293b;font-size:12px;font-weight:600;">${c.nombre}</div>
                <div style="color:#f39c12;font-size:11px;">${c.cert}</div>
              </div>
              <span style="color:#7f8c8d;font-size:10px;">${c.date ? new Date(c.date).toLocaleDateString('es-MX') : ''}</span>
            </div>
          `).join('');
        }
      }

      else if (type === 'promedio') {
        title.textContent = '📊 Promedio por Nivel';
        const levelStats = {};
        levels.forEach(l => { levelStats[l.id] = { total: 0, count: 0 }; });
        allTechnicians.forEach(t => {
          if (t.progress) {
            Object.keys(t.progress).forEach(levelId => {
              const p = t.progress[levelId];
              if (p.completed > 0 && levelStats[levelId]) {
                levelStats[levelId].total += (p.score / p.completed) * 100;
                levelStats[levelId].count++;
              }
            });
          }
        });
        content.innerHTML = levels.map(l => {
          const s = levelStats[l.id];
          const avg = s.count > 0 ? Math.round(s.total / s.count) : 0;
          const color = avg >= 70 ? '#2ecc71' : avg >= 50 ? '#f39c12' : '#e74c3c';
          return `
            <div style="display:flex;align-items:center;gap:10px;padding:6px 0;border-bottom:1px solid rgba(255,255,255,0.05);">
              <span style="font-size:16px;">${l.icon}</span>
              <div style="flex:1;">
                <div style="color:#1e293b;font-size:12px;">${l.name}</div>
                <div style="background:rgba(255,255,255,0.1);border-radius:4px;height:8px;margin-top:3px;overflow:hidden;">
                  <div style="width:${avg}%;height:100%;background:${color};border-radius:4px;"></div>
                </div>
              </div>
              <span style="color:${color};font-size:14px;font-weight:bold;min-width:40px;text-align:right;">${avg}%</span>
              <span style="color:#7f8c8d;font-size:10px;">(${s.count})</span>
            </div>
          `;
        }).join('');
      }

      else if (type === 'activos') {
        title.textContent = '🟢 Técnicos Activos Hoy';
        const today = new Date();
        today.setHours(0, 0, 0, 0);
        const activeTechs = allTechnicians.filter(t => {
          if (t.lastActive) return new Date(t.lastActive) >= today;
          return false;
        });
        if (activeTechs.length === 0) {
          content.innerHTML = '<p style="color:#64748b;font-size:13px;text-align:center;">Ningún técnico ha estado activo hoy.</p>';
        } else {
          content.innerHTML = activeTechs.map(t => {
            const mins = Math.round((Date.now() - new Date(t.lastActive).getTime()) / 60000);
            const timeAgo = mins < 60 ? `Hace ${mins} min` : `Hace ${Math.round(mins/60)} hrs`;
            return `
              <div style="display:flex;justify-content:space-between;align-items:center;padding:6px 0;border-bottom:1px solid rgba(255,255,255,0.05);cursor:pointer;" onclick="viewTechnicianProfile('${t.email}')">
                <div>
                  <div style="color:#1e293b;font-size:12px;font-weight:600;">${t.nombre || 'Sin nombre'}</div>
                  <div style="color:#7f8c8d;font-size:10px;">${t.email || ''}</div>
                </div>
                <span style="color:#2ecc71;font-size:11px;">🟢 ${timeAgo}</span>
              </div>
            `;
          }).join('');
        }
      }

      // Scroll to panel
      panel.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    // Render technician list
    function renderTechnicianList(filter = '') {
      const container = document.getElementById('technicianList');
      const period = document.getElementById('filterPeriod').value;

      let filtered = [...allTechnicians];

      // Apply search filter
      if (filter) {
        const searchLower = filter.toLowerCase();
        filtered = filtered.filter(t =>
          (t.nombre && t.nombre.toLowerCase().includes(searchLower)) ||
          (t.email && t.email.toLowerCase().includes(searchLower)) ||
          (t.technicianNumber && t.technicianNumber.toLowerCase().includes(searchLower))
        );
      }

      // Apply period filter
      if (period !== 'all') {
        const now = new Date();
        filtered = filtered.filter(t => {
          if (!t.lastActive) return false;
          const lastActive = new Date(t.lastActive);
          const diffHours = (now - lastActive) / (1000 * 60 * 60);

          switch(period) {
            case 'today': return diffHours <= 24;
            case 'week': return diffHours <= 168;
            case 'month': return diffHours <= 720;
            default: return true;
          }
        });
      }

      document.getElementById('technicianCount').textContent = `${filtered.length} técnico${filtered.length !== 1 ? 's' : ''}`;

      if (filtered.length === 0) {
        container.innerHTML = `
          <div class="no-data-message">
            <div class="no-data-icon">🔍</div>
            <p>No se encontraron técnicos con los filtros aplicados.</p>
          </div>
        `;
        return;
      }

      container.innerHTML = filtered.map((tech, index) => {
        const certCount = tech.certificates ? tech.certificates.length : 0;
        const lastActiveStr = tech.lastActive ? formatTimeAgo(new Date(tech.lastActive)) : 'Sin actividad';

        return `
          <div class="technician-card" onclick="viewTechnicianProfile(${index})">
            <div class="technician-card-header">
              <span class="technician-name">${tech.nombre || 'Sin nombre'}</span>
              <span class="technician-id">${tech.technicianNumber || 'Sin número'}</span>
            </div>
            <div class="technician-meta">
              <span class="technician-meta-item">📧 ${tech.email || '-'}</span>
              <span class="technician-meta-item">🏅 ${certCount} certificado${certCount !== 1 ? 's' : ''}</span>
              <span class="technician-meta-item">🕐 ${lastActiveStr}</span>
            </div>
          </div>
        `;
      }).join('');
    }

    // Filter technicians
    function filterTechnicians() {
      const searchValue = document.getElementById('searchTechnician').value;
      renderTechnicianList(searchValue);
    }

    // Format time ago
    function formatTimeAgo(date) {
      const now = new Date();
      const diffMs = now - date;
      const diffMins = Math.floor(diffMs / (1000 * 60));
      const diffHours = Math.floor(diffMs / (1000 * 60 * 60));
      const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));

      if (diffMins < 1) return 'Hace un momento';
      if (diffMins < 60) return `Hace ${diffMins} minuto${diffMins !== 1 ? 's' : ''}`;
      if (diffHours < 24) return `Hace ${diffHours} hora${diffHours !== 1 ? 's' : ''}`;
      if (diffDays < 30) return `Hace ${diffDays} día${diffDays !== 1 ? 's' : ''}`;
      return date.toLocaleDateString('es-ES');
    }

    // Render level performance chart
    function renderLevelPerformanceChart() {
      const container = document.getElementById('levelBarChart');
      const levelStats = {};

      levels.forEach(level => {
        levelStats[level.id] = { total: 0, passed: 0, avgScore: 0, scores: [] };
      });

      allTechnicians.forEach(tech => {
        if (tech.progress) {
          Object.keys(tech.progress).forEach(levelId => {
            const p = tech.progress[levelId];
            if (p.completed > 0) {
              levelStats[levelId].total++;
              const score = Math.round((p.score / p.completed) * 100);
              levelStats[levelId].scores.push(score);
              if (score >= 70) levelStats[levelId].passed++;
            }
          });
        }
      });

      // Calculate averages
      Object.keys(levelStats).forEach(levelId => {
        const stats = levelStats[levelId];
        if (stats.scores.length > 0) {
          stats.avgScore = Math.round(stats.scores.reduce((a, b) => a + b, 0) / stats.scores.length);
        }
      });

      container.innerHTML = levels.map(level => {
        const stats = levelStats[level.id];
        const avgScore = stats.avgScore;
        const color = avgScore >= 70 ? '#27ae60' : avgScore >= 50 ? '#f39c12' : '#e74c3c';

        return `
          <div class="admin-bar-item">
            <span class="admin-bar-label">${level.icon} ${level.name}</span>
            <div class="admin-bar-container">
              <div class="admin-bar-fill" style="width: ${avgScore}%; background: ${color};">
                ${avgScore > 10 ? avgScore + '%' : ''}
              </div>
            </div>
          </div>
        `;
      }).join('');
    }

    // View technician profile
    function viewTechnicianProfile(index) {
      currentViewingTechnician = allTechnicians[index];

      // Update profile info
      document.getElementById('adminViewName').textContent = currentViewingTechnician.nombre || 'Sin nombre';
      document.getElementById('adminViewTechNumber').textContent = currentViewingTechnician.technicianNumber || 'Sin número asignado';
      document.getElementById('adminViewEmail').textContent = currentViewingTechnician.email || '-';
      document.getElementById('adminViewPhone').textContent = currentViewingTechnician.telefono || '-';
      document.getElementById('adminViewEPA').textContent = currentViewingTechnician.epa || 'No registrado';
      document.getElementById('adminViewNATE').textContent = currentViewingTechnician.nate || 'No registrado';
      document.getElementById('adminViewESCO').textContent = currentViewingTechnician.esco || 'No registrado';

      const regDate = currentViewingTechnician.registrationDate
        ? new Date(currentViewingTechnician.registrationDate).toLocaleDateString('es-ES', { year: 'numeric', month: 'long', day: 'numeric' })
        : '-';
      document.getElementById('adminViewRegDate').textContent = regDate;

      // Update app access status
      updateAppAccessUI();

      // Render progress chart
      renderTechnicianProgressChart();

      // Render activity timeline
      renderActivityTimeline();

      // Render certificates
      renderTechnicianCertificates();

      // Render lock management
      renderAdminLockManagement();

      // Show access code status
      updateAdminCodeDisplay();

      // Show membership code status
      updateAdminMemberCodeDisplay();

      showScreen('adminTechnicianProfileScreen');
    }

    // Render technician progress chart
    function renderTechnicianProgressChart() {
      const container = document.getElementById('technicianLevelProgress');
      const progress = currentViewingTechnician.progress || {};

      container.innerHTML = levels.map(level => {
        const p = progress[level.id] || { completed: 0, score: 0, total: level.questions || 50 };
        const percentage = p.completed > 0 ? Math.round((p.score / p.completed) * 100) : 0;
        const completedPct = Math.round((p.completed / p.total) * 100);
        const color = percentage >= 70 ? '#27ae60' : percentage >= 50 ? '#f39c12' : '#e74c3c';

        return `
          <div class="admin-bar-item">
            <span class="admin-bar-label">${level.icon} ${level.name}</span>
            <div class="admin-bar-container">
              <div class="admin-bar-fill" style="width: ${percentage}%; background: ${color};">
                ${percentage > 10 ? percentage + '% (' + p.score + '/' + p.completed + ')' : ''}
              </div>
            </div>
          </div>
        `;
      }).join('');
    }

    // Set timeline view
    function setTimelineView(view, btn) {
      currentTimelineView = view;
      document.querySelectorAll('.timeline-tab').forEach(t => t.classList.remove('active'));
      btn.classList.add('active');
      renderActivityTimeline();
    }

    // Render activity timeline
    function renderActivityTimeline() {
      const container = document.getElementById('activityTimeline');
      const email = currentViewingTechnician ? currentViewingTechnician.email : null;
      const activityLog = email ? getActivityLog(email) : [];

      if (activityLog.length === 0) {
        // Show stats summary even if no detailed log
        const stats = email ? getActivityStats(email) : null;
        if (stats && stats.totalMinutes > 0) {
          container.innerHTML = `
            <div style="padding:10px;">
              <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:10px;">
                <div style="background:rgba(46,204,113,0.15);border-radius:10px;padding:10px;text-align:center;">
                  <div style="color:#2ecc71;font-size:20px;font-weight:bold;">${stats.totalMinutes}</div>
                  <div style="color:#64748b;font-size:11px;">Minutos</div>
                </div>
                <div style="background:rgba(52,152,219,0.15);border-radius:10px;padding:10px;text-align:center;">
                  <div style="color:#3498db;font-size:20px;font-weight:bold;">${stats.totalSessions}</div>
                  <div style="color:#64748b;font-size:11px;">Sesiones</div>
                </div>
                <div style="background:rgba(243,156,18,0.15);border-radius:10px;padding:10px;text-align:center;">
                  <div style="color:#f39c12;font-size:20px;font-weight:bold;">${stats.quizzes}</div>
                  <div style="color:#64748b;font-size:11px;">Quizzes</div>
                </div>
                <div style="background:rgba(155,89,182,0.15);border-radius:10px;padding:10px;text-align:center;">
                  <div style="color:#9b59b6;font-size:20px;font-weight:bold;">${stats.questionsAnswered}</div>
                  <div style="color:#64748b;font-size:11px;">Respuestas</div>
                </div>
              </div>
              ${stats.lastActive ? '<p style="color:#7f8c8d;font-size:11px;text-align:center;">Última actividad: ' + new Date(stats.lastActive).toLocaleDateString('es-MX') + '</p>' : ''}
            </div>
          `;
        } else {
          container.innerHTML = `
            <div class="timeline-empty">
              <p>📭 No hay actividad registrada para este técnico</p>
            </div>
          `;
        }
        return;
      }

      // Show stats + recent activity
      const stats = getActivityStats(email);
      const recentLog = activityLog.slice(-20).reverse();

      const activityIcons = {
        'login': '🔑',
        'quiz_start': '🎯',
        'answer': '✏️',
        'study': '📖',
        'video': '🎬'
      };

      container.innerHTML = `
        <div style="padding:10px;">
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:12px;">
            <div style="background:rgba(46,204,113,0.15);border-radius:10px;padding:10px;text-align:center;">
              <div style="color:#2ecc71;font-size:20px;font-weight:bold;">${stats.totalMinutes}</div>
              <div style="color:#64748b;font-size:11px;">Minutos</div>
            </div>
            <div style="background:rgba(52,152,219,0.15);border-radius:10px;padding:10px;text-align:center;">
              <div style="color:#3498db;font-size:20px;font-weight:bold;">${stats.totalSessions}</div>
              <div style="color:#64748b;font-size:11px;">Sesiones</div>
            </div>
            <div style="background:rgba(243,156,18,0.15);border-radius:10px;padding:10px;text-align:center;">
              <div style="color:#f39c12;font-size:20px;font-weight:bold;">${stats.quizzes}</div>
              <div style="color:#64748b;font-size:11px;">Quizzes</div>
            </div>
            <div style="background:rgba(155,89,182,0.15);border-radius:10px;padding:10px;text-align:center;">
              <div style="color:#9b59b6;font-size:20px;font-weight:bold;">${stats.questionsAnswered}</div>
              <div style="color:#64748b;font-size:11px;">Respuestas</div>
            </div>
          </div>
          <p style="color:#f39c12;font-size:12px;font-weight:bold;margin-bottom:8px;">Actividad Reciente:</p>
          ${recentLog.map(act => {
            const icon = activityIcons[act.type] || '📌';
            const time = new Date(act.timestamp);
            const timeStr = time.toLocaleDateString('es-MX', {day:'numeric',month:'short'}) + ' ' + time.toLocaleTimeString('es-MX', {hour:'2-digit',minute:'2-digit'});
            const labels = { login:'Inicio de sesión', quiz_start:'Inició quiz', answer:'Respondió pregunta', study:'Modo estudio', video:'Vio video' };
            return `<div style="display:flex;gap:8px;align-items:center;padding:6px 0;border-bottom:1px solid rgba(255,255,255,0.05);">
              <span style="font-size:16px;">${icon}</span>
              <div style="flex:1;">
                <div style="color:#1e293b;font-size:12px;">${labels[act.type] || act.type}</div>
                <div style="color:#7f8c8d;font-size:10px;">${act.detail || ''}</div>
              </div>
              <span style="color:#7f8c8d;font-size:10px;">${timeStr}</span>
            </div>`;
          }).join('')}
        </div>
      `;
    }

    // Group activities by period
    function groupActivitiesByPeriod(activities, view) {
      const now = new Date();
      const grouped = {};

      activities.forEach(act => {
        const actDate = new Date(act.timestamp);
        const diffMs = now - actDate;
        const diffMins = diffMs / (1000 * 60);
        const diffHours = diffMs / (1000 * 60 * 60);
        const diffDays = diffMs / (1000 * 60 * 60 * 24);

        let include = false;
        let key = '';

        switch(view) {
          case 'minutes':
            if (diffMins <= 60) {
              include = true;
              key = `${Math.floor(diffMins)} minutos`;
            }
            break;
          case 'hours':
            if (diffHours <= 24) {
              include = true;
              key = `${Math.floor(diffHours)} horas`;
            }
            break;
          case 'days':
            if (diffDays <= 30) {
              include = true;
              key = `${Math.floor(diffDays)} días`;
            }
            break;
          case 'months':
            include = true;
            key = actDate.toLocaleDateString('es-ES', { year: 'numeric', month: 'long' });
            break;
        }

        if (include) {
          if (!grouped[key]) grouped[key] = [];
          grouped[key].push(act);
        }
      });

      return grouped;
    }

    // Format activity date
    function formatActivityDate(timestamp, view) {
      const date = new Date(timestamp);
      switch(view) {
        case 'minutes':
          return date.toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' });
        case 'hours':
          return date.toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' });
        case 'days':
          return date.toLocaleDateString('es-ES', { weekday: 'short', day: 'numeric', month: 'short' });
        case 'months':
          return date.toLocaleDateString('es-ES', { day: 'numeric', month: 'short', year: 'numeric' });
        default:
          return date.toLocaleDateString('es-ES');
      }
    }

    // Get activity title
    function getActivityTitle(activity) {
      const levelName = levels.find(l => l.id === activity.level)?.name || activity.level;

      switch(activity.action) {
        case 'quiz_started': return `🎯 Inició Quiz ${levelName}`;
        case 'quiz_completed': return `✅ Completó Quiz ${levelName}`;
        case 'certificate_earned': return `🏅 Obtuvo Certificado ${levelName}`;
        case 'profile_created': return '👤 Creó su Perfil';
        case 'login': return '🔑 Inició Sesión';
        default: return '📌 Actividad';
      }
    }

    // Get activity detail
    function getActivityDetail(activity) {
      switch(activity.action) {
        case 'quiz_completed':
        case 'certificate_earned':
          return `Puntuación: ${activity.score}%`;
        case 'quiz_started':
          return 'En progreso...';
        case 'profile_created':
          return 'Nuevo técnico registrado';
        default:
          return '';
      }
    }

    // Render technician certificates
    function renderTechnicianCertificates() {
      const container = document.getElementById('adminTechnicianCertificates');
      const certs = currentViewingTechnician.certificates || [];

      if (certs.length === 0) {
        container.innerHTML = `
          <div class="no-data-message">
            <div class="no-data-icon">🎓</div>
            <p>Este técnico no ha obtenido certificados aún.</p>
          </div>
        `;
        return;
      }

      container.innerHTML = certs.map(cert => `
        <div class="certificate-card" style="margin-bottom: 15px;">
          <span class="certificate-earned-badge">APROBADO</span>
          <div class="certificate-badge">${cert.levelIcon}</div>
          <div class="certificate-level">Nivel ${cert.levelName}</div>
          <div class="certificate-details">
            <div class="certificate-detail">
              <div class="certificate-detail-label">Puntuación</div>
              <div class="certificate-detail-value" style="color: ${cert.score >= 90 ? '#ffd700' : '#27ae60'}">${cert.score}%</div>
            </div>
            <div class="certificate-detail">
              <div class="certificate-detail-label">Fecha</div>
              <div class="certificate-detail-value" style="font-size: 13px;">${cert.date}</div>
            </div>
          </div>
          <div class="certificate-id">ID: ${cert.certificateId}</div>
        </div>
      `).join('');
    }

    // Render admin lock management controls
    // ========== APP ACCESS MANAGEMENT ==========
    function updateAppAccessUI() {
      if (!currentViewingTechnician) return;
      const email = currentViewingTechnician.email;
      const users = JSON.parse(localStorage.getItem('maestroac_users') || '{}');
      const user = users[email];
      const appAccessList = JSON.parse(localStorage.getItem('maestroac_app_access_list') || '[]');
      const hasAccess = appAccessList.includes(email);
      
      // Verification status
      const verifyBtn = document.getElementById('adminVerifyBtn');
      const verifyStatus = document.getElementById('adminVerifyStatus');
      if (user && user.verified) {
        verifyBtn.textContent = '❌ Revocar Verificación';
        verifyBtn.style.background = 'linear-gradient(135deg,#e74c3c,#c0392b)';
        verifyStatus.textContent = '✅ Cuenta VERIFICADA' + (user.verifyCode ? ' (Código: ' + user.verifyCode + ')' : '');
        verifyStatus.style.color = '#2ecc71';
      } else {
        verifyBtn.textContent = '✅ Verificar Cuenta';
        verifyBtn.style.background = 'linear-gradient(135deg,#f39c12,#e67e22)';
        verifyStatus.textContent = '⏳ Cuenta PENDIENTE de verificación' + (user && user.verifyCode ? ' (Código: ' + user.verifyCode + ')' : '');
        verifyStatus.style.color = '#f39c12';
      }

      // App access status
      const btn = document.getElementById('adminActivateAppBtn');
      const status = document.getElementById('adminAppAccessStatus');
      if (hasAccess) {
        btn.textContent = '🔒 Revocar Acceso';
        btn.style.background = 'linear-gradient(135deg,#e74c3c,#c0392b)';
        status.textContent = '✅ Acceso completo a la app ACTIVADO';
        status.style.color = '#2ecc71';
      } else {
        btn.textContent = '🔓 Activar App Completa';
        btn.style.background = 'linear-gradient(135deg,#2ecc71,#27ae60)';
        status.textContent = '🔒 Solo acceso al nivel Principiante (gratis)';
        status.style.color = '#e74c3c';
      }
    }

    function toggleVerification() {
      if (!currentViewingTechnician || !currentViewingTechnician.email) {
        alert('Error: Este técnico no tiene email registrado.');
        return;
      }
      const email = currentViewingTechnician.email;
      const users = JSON.parse(localStorage.getItem('maestroac_users') || '{}');
      
      if (!users[email]) {
        alert('Este técnico no se ha registrado en la app aún.');
        return;
      }

      if (users[email].verified) {
        if (!confirm('¿Revocar verificación de ' + (users[email].nombre || email) + '? No podrá iniciar sesión.')) return;
        users[email].verified = false;
      } else {
        if (!confirm('¿Verificar la cuenta de ' + (users[email].nombre || email) + '? Podrá iniciar sesión y acceder al Nivel 1 gratis.')) return;
        users[email].verified = true;
      }
      localStorage.setItem('maestroac_users', JSON.stringify(users));
      updateAppAccessUI();
      alert(users[email].verified ? '✅ Cuenta verificada exitosamente' : '❌ Verificación revocada');
    }

    function toggleAppAccess() {
      if (!currentViewingTechnician || !currentViewingTechnician.email) {
        alert('Error: Este técnico no tiene email registrado.');
        return;
      }
      const email = currentViewingTechnician.email;
      let appAccessList = JSON.parse(localStorage.getItem('maestroac_app_access_list') || '[]');
      const hasAccess = appAccessList.includes(email);
      
      if (hasAccess) {
        if (!confirm('¿Revocar acceso completo a ' + (currentViewingTechnician.nombre || email) + '?')) return;
        appAccessList = appAccessList.filter(e => e !== email);
      } else {
        if (!confirm('¿Activar acceso completo a la app para ' + (currentViewingTechnician.nombre || email) + '?')) return;
        appAccessList.push(email);
      }
      localStorage.setItem('maestroac_app_access_list', JSON.stringify(appAccessList));
      updateAppAccessUI();
      alert(hasAccess ? '🔒 Acceso revocado' : '✅ Acceso completo activado para ' + (currentViewingTechnician.nombre || email));
    }

    // ========== ACCESS CODE SYSTEM (Supabase) ==========
    
    async function getAccessCodes() {
      // Try Supabase first
      if (supabaseClient && isOnline) {
        try {
          const { data, error } = await supabaseClient.from('access_codes').select('*');
          if (!error && data) {
            const codes = {};
            data.forEach(row => { codes[row.code] = row; });
            localStorage.setItem('maestroac_access_codes', JSON.stringify(codes));
            return codes;
          }
        } catch(e) { console.log('Supabase access_codes error:', e); }
      }
      return JSON.parse(localStorage.getItem('maestroac_access_codes') || '{}');
    }

    async function saveAccessCode(code, data) {
      // Save to localStorage
      const codes = JSON.parse(localStorage.getItem('maestroac_access_codes') || '{}');
      codes[code] = data;
      localStorage.setItem('maestroac_access_codes', JSON.stringify(codes));
      
      // Save to Supabase
      if (supabaseClient && isOnline) {
        try {
          await supabaseClient.from('access_codes').upsert({
            code: code,
            email: data.email,
            nombre: data.nombre,
            type: data.type || 'app_access',
            used: data.used || false,
            revoked: data.revoked || false,
            created_at: data.createdAt || new Date().toISOString()
          }, { onConflict: 'code' });
        } catch(e) { console.log('Supabase save code error:', e); }
      }
    }

    async function generateAccessCode() {
      if (!currentViewingTechnician || !currentViewingTechnician.email) {
        alert('Error: Este técnico no tiene email registrado.');
        return;
      }
      const email = currentViewingTechnician.email;
      const nombre = currentViewingTechnician.nombre || email;
      const codes = await getAccessCodes();

      const existingCode = Object.keys(codes).find(c => codes[c].email === email && !codes[c].revoked && codes[c].type !== 'membership');
      if (existingCode) {
        document.getElementById('adminCodeValue').textContent = existingCode;
        document.getElementById('adminCodeFor').textContent = nombre;
        document.getElementById('adminCodeDisplay').style.display = 'block';
        return;
      }

      const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
      let code;
      do {
        code = '';
        for (let i = 0; i < 6; i++) code += chars[Math.floor(Math.random() * chars.length)];
      } while (codes[code]);

      const codeData = {
        email: email,
        nombre: nombre,
        type: 'app_access',
        createdAt: new Date().toISOString(),
        used: false,
        revoked: false
      };
      await saveAccessCode(code, codeData);

      document.getElementById('adminCodeValue').textContent = code;
      document.getElementById('adminCodeFor').textContent = nombre;
      document.getElementById('adminCodeDisplay').style.display = 'block';

      alert('✅ Código generado: ' + code + '\nPara: ' + nombre);
    }

    function copyAccessCode() {
      const code = document.getElementById('adminCodeValue').textContent;
      const text = '🔑 Tu código de acceso a Maestro ACVOLT:\n\n' + code + '\n\n1. Abre maestromario.com\n2. Inicia sesión con tu cuenta\n3. Toca un nivel bloqueado 🔒\n4. Ingresa tu código: ' + code + '\n5. ¡Listo! Acceso completo desbloqueado\n\n- Maestro Mario | ACVOLT Tech School';
      
      if (navigator.clipboard) {
        navigator.clipboard.writeText(text).then(() => alert('📋 Código copiado al portapapeles.'));
      } else {
        prompt('Copia este código:', text);
      }
    }

    async function revokeAccessCode() {
      if (!currentViewingTechnician) return;
      const email = currentViewingTechnician.email;
      const codes = await getAccessCodes();
      
      const codeKey = Object.keys(codes).find(c => codes[c].email === email && !codes[c].revoked && codes[c].type !== 'membership');
      if (codeKey) {
        if (!confirm('¿Revocar el código ' + codeKey + '?')) return;
        codes[codeKey].revoked = true;
        await saveAccessCode(codeKey, codes[codeKey]);
        
        let appAccessList = JSON.parse(localStorage.getItem('maestroac_app_access_list') || '[]');
        appAccessList = appAccessList.filter(e => e !== email);
        localStorage.setItem('maestroac_app_access_list', JSON.stringify(appAccessList));
        localStorage.removeItem('maestroac_app_purchased_' + email);
        
        document.getElementById('adminCodeDisplay').style.display = 'none';
        updateAppAccessUI();
        alert('❌ Código revocado.');
      }
    }

    async function redeemAccessCode() {
      const input = document.getElementById('accessCodeInput');
      const msg = document.getElementById('codeRedeemMsg');
      if (!input || !msg) return;
      
      const code = input.value.trim().toUpperCase();
      if (!code || code.length < 4) {
        msg.style.display = 'block';
        msg.style.color = '#e74c3c';
        msg.textContent = '❌ Ingresa un código válido';
        return;
      }

      // Check Supabase first for the code
      let codeData = null;
      if (supabaseClient && isOnline) {
        try {
          const { data, error } = await supabaseClient.from('access_codes').select('*').eq('code', code).single();
          if (!error && data) codeData = data;
        } catch(e) {}
      }
      
      // Fallback to localStorage
      if (!codeData) {
        const codes = JSON.parse(localStorage.getItem('maestroac_access_codes') || '{}');
        codeData = codes[code];
      }

      if (!codeData) {
        msg.style.display = 'block';
        msg.style.color = '#e74c3c';
        msg.textContent = '❌ Código no encontrado.';
        return;
      }

      if (codeData.revoked) {
        msg.style.display = 'block';
        msg.style.color = '#e74c3c';
        msg.textContent = '❌ Este código ha sido revocado.';
        return;
      }

      if (!currentUser || !currentUser.email) {
        msg.style.display = 'block';
        msg.style.color = '#e74c3c';
        msg.textContent = '❌ Debes iniciar sesión primero.';
        return;
      }

      if (codeData.email !== currentUser.email) {
        msg.style.display = 'block';
        msg.style.color = '#e74c3c';
        msg.textContent = '❌ Este código no es para tu cuenta.';
        return;
      }

      // Activate!
      codeData.used = true;
      codeData.used_at = new Date().toISOString();
      await saveAccessCode(code, codeData);

      localStorage.setItem('maestroac_app_purchased_' + currentUser.email, 'true');
      let appAccessList = JSON.parse(localStorage.getItem('maestroac_app_access_list') || '[]');
      if (!appAccessList.includes(currentUser.email)) {
        appAccessList.push(currentUser.email);
        localStorage.setItem('maestroac_app_access_list', JSON.stringify(appAccessList));
      }

      logActivity('code_redeemed', code);
      addNotification('payment', '💳 ¡App Maestro ACVOLT desbloqueada! Ahora tienes acceso a todos los niveles.', '🔓');
      const modal = input.closest('div[style*="position:fixed"]');
      if (modal) modal.remove();
      alert('🎉 ¡Código activado! Acceso completo desbloqueado.');
      showScreen('welcomeScreen');
    }

    async function updateAdminCodeDisplay() {
      if (!currentViewingTechnician || !currentViewingTechnician.email) return;
      const codes = await getAccessCodes();
      const email = currentViewingTechnician.email;
      const existingCode = Object.keys(codes).find(c => codes[c].email === email && !codes[c].revoked && codes[c].type !== 'membership');
      
      const display = document.getElementById('adminCodeDisplay');
      if (existingCode) {
        document.getElementById('adminCodeValue').textContent = existingCode;
        document.getElementById('adminCodeFor').textContent = currentViewingTechnician.nombre || email;
        display.style.display = 'block';
        document.getElementById('adminCodeValue').style.color = codes[existingCode].used ? '#2ecc71' : '#f39c12';
      } else {
        display.style.display = 'none';
      }
    }

    function renderAdminLockManagement() {
      const notice = document.getElementById('lockSystemNotice');
      const controls = document.getElementById('adminLockControls');

      if (!LOCK_SYSTEM_ENABLED) {
        notice.style.display = 'block';
        controls.style.display = 'none';
        return;
      }

      notice.style.display = 'none';
      controls.style.display = 'block';

      const userEmail = currentViewingTechnician.email;
      const userUnlocks = unlockedLevels[userEmail] || [];
      const matrixIds = unlockedLevels[userEmail + '_matrixIds'] || {};

      let html = '<div class="admin-lock-title">🔐 Estado de Acceso por Nivel</div>';

      levels.forEach(level => {
        const isUnlocked = userUnlocks.includes(level.id);
        const matrixId = matrixIds[level.id] || 'N/A';

        html += `
          <div class="admin-lock-status">
            <div>
              <span style="font-size: 18px;">${level.icon}</span>
              <strong style="margin-left: 8px;">${level.name}</strong>
              ${isUnlocked ? `<span class="matrix-id-display" style="margin-left: 10px;">Matrix: ${matrixId}</span>` : ''}
            </div>
            <button class="admin-lock-toggle ${isUnlocked ? 'unlocked' : 'locked'}"
                    onclick="toggleTechnicianLock('${level.id}', '${userEmail}')">
              ${isUnlocked ? '🔓 Desbloqueado' : '🔒 Bloqueado'}
            </button>
          </div>
        `;
      });

      html += `
        <div class="admin-lock-disabled-notice" style="margin-top: 15px; background: rgba(39,174,96,0.1); border-color: rgba(39,174,96,0.3); color: #27ae60;">
          💡 Los técnicos pueden desbloquear niveles ingresando un código Matrix válido generado desde tu sitio web.
        </div>
      `;

      controls.innerHTML = html;
    }

    // Toggle lock status for a technician (admin function)
    function toggleTechnicianLock(levelId, userEmail) {
      if (!unlockedLevels[userEmail]) {
        unlockedLevels[userEmail] = [];
      }

      const index = unlockedLevels[userEmail].indexOf(levelId);
      if (index > -1) {
        // Lock the level (remove from unlocked)
        unlockedLevels[userEmail].splice(index, 1);
        // Remove the Matrix ID record
        if (unlockedLevels[userEmail + '_matrixIds']) {
          delete unlockedLevels[userEmail + '_matrixIds'][levelId];
        }
      } else {
        // Unlock the level (add to unlocked)
        unlockedLevels[userEmail].push(levelId);
        // Mark as admin-unlocked
        if (!unlockedLevels[userEmail + '_matrixIds']) {
          unlockedLevels[userEmail + '_matrixIds'] = {};
        }
        unlockedLevels[userEmail + '_matrixIds'][levelId] = 'ADMIN-UNLOCK';
      }

      saveUnlockedLevels();
      renderAdminLockManagement();
    }

    // ============================================
    // SISTEMA DE ASISTENCIA
    // ============================================
    
    let attendanceTimerInterval = null;
    let currentCheckInTime = null;
    let currentAttendanceId = null;
    let selectedClassType = 'presencial';
    
    // ===== FORCED CHECK-IN SYSTEM =====
    // Users MUST check-in before accessing quizzes/levels each session
    let sessionCheckedIn = false;

    // ===== AUTO CHECK-OUT ON EXIT =====
    // When technician closes browser/tab, save state for auto-checkout on next load
    window.addEventListener('beforeunload', function() {
      if (currentAttendanceId && currentCheckInTime) {
        localStorage.setItem('attendance_pending_checkout', JSON.stringify({
          id: currentAttendanceId,
          checkIn: currentCheckInTime.toISOString(),
          closedAt: new Date().toISOString(),
          classType: selectedClassType
        }));
      }
    });

    // Also handle visibility change (app backgrounded on mobile)
    document.addEventListener('visibilitychange', function() {
      if (document.visibilityState === 'hidden' && currentAttendanceId && currentCheckInTime) {
        localStorage.setItem('attendance_pending_checkout', JSON.stringify({
          id: currentAttendanceId,
          checkIn: currentCheckInTime.toISOString(),
          closedAt: new Date().toISOString(),
          classType: selectedClassType
        }));
      }
      if (document.visibilityState === 'visible' && currentAttendanceId) {
        updateTimer();
      }
    });

    // Check and auto-close stale sessions on app load
    async function checkStaleAttendance() {
      if (!supabaseClient) return;
      try {
        var userResp = await supabaseClient.auth.getUser();
        var user = userResp.data ? userResp.data.user : null;
        if (!user) return;
        
        // Process pending checkout from last session close
        var pendingCheckout = localStorage.getItem('attendance_pending_checkout');
        if (pendingCheckout) {
          var pc = JSON.parse(pendingCheckout);
          var closedAt = new Date(pc.closedAt);
          var checkInTime = new Date(pc.checkIn);
          var totalMinutes = Math.round((closedAt - checkInTime) / 60000);
          totalMinutes = Math.min(totalMinutes, 480); // Cap at 8 hours
          
          await supabaseClient.from('attendance')
            .update({ check_out: closedAt.toISOString(), total_minutes: totalMinutes })
            .eq('id', pc.id)
            .is('check_out', null); // Only update if still open
          
          console.log('[Attendance] Auto-checkout from previous session:', pc.id, totalMinutes + 'min');
          localStorage.removeItem('attendance_pending_checkout');
        }

        // Find any open sessions older than 8 hours (forgotten checkout)
        var activeRes = await supabaseClient.from('attendance')
          .select('*')
          .eq('student_id', user.id)
          .is('check_out', null)
          .order('check_in', { ascending: false });
        
        var activeSessions = activeRes.data || [];
        for (var i = 0; i < activeSessions.length; i++) {
          var session = activeSessions[i];
          var sessionCheckIn = new Date(session.check_in);
          var hoursSince = (new Date() - sessionCheckIn) / (1000 * 60 * 60);
          
          if (hoursSince > 8) {
            // Auto-close - cap at 8 hours
            var autoCloseTime = new Date(sessionCheckIn.getTime() + 8 * 60 * 60 * 1000);
            await supabaseClient.from('attendance')
              .update({ check_out: autoCloseTime.toISOString(), total_minutes: 480 })
              .eq('id', session.id);
            console.log('[Attendance] Auto-closed stale session:', session.id);
          }
        }
      } catch(e) { console.log('[Attendance] Stale check error:', e); }
    }
    
    function requireCheckIn(destination) {
      if (sessionCheckedIn) return true;
      // Show check-in required message and redirect to attendance
      const modal = document.createElement('div');
      modal.style.cssText = 'position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.9);display:flex;align-items:center;justify-content:center;z-index:9999;padding:20px;';
      modal.innerHTML = `
        <div style="background:linear-gradient(135deg,#1a5276,#154360);border-radius:20px;padding:30px;max-width:400px;width:100%;text-align:center;border:2px solid #27ae60;">
          <div style="font-size:60px;margin-bottom:15px;">📋</div>
          <h3 style="color:#27ae60;margin-bottom:10px;font-size:20px;">¡Check-In Requerido!</h3>
          <p style="color:#94a3b8;font-size:14px;margin-bottom:20px;">Debes registrar tu asistencia antes de comenzar. Esto es obligatorio para cada sesión de clase.</p>
          <button onclick="this.closest('div[style*=position]').remove(); showScreen('attendanceScreen'); loadAttendanceData();" style="width:100%;padding:15px;border:none;border-radius:12px;font-size:16px;font-weight:bold;cursor:pointer;background:linear-gradient(135deg,#27ae60,#2ecc71);color:white;margin-bottom:10px;">📋 Hacer Check-In Ahora</button>
          <button onclick="this.closest('div[style*=position]').remove();" style="width:100%;padding:12px;border:none;border-radius:12px;font-size:14px;cursor:pointer;background:rgba(255,255,255,0.15);color:#64748b;">Cancelar</button>
        </div>
      `;
      document.body.appendChild(modal);
      return false;
    }

    function getClassTypeLabel(type) {
      var labels = { presencial: '🏫 Presencial', zoom: '📹 Zoom', computadora: '🖥️ Computadora', movil: '📱 Móvil' };
      return labels[type] || type;
    }

    function showForgotPassword() {
      var box = document.getElementById('forgotPasswordBox');
      box.style.display = box.style.display === 'none' ? 'block' : 'none';
      var loginEmail = document.getElementById('loginEmail').value.trim();
      if (loginEmail) document.getElementById('forgotEmail').value = loginEmail;
    }

    async function sendPasswordReset() {
      var email = document.getElementById('forgotEmail').value.trim().toLowerCase();
      var msgDiv = document.getElementById('forgotPasswordMsg');
      if (!email) {
        msgDiv.style.display = 'block';
        msgDiv.style.color = '#e74c3c';
        msgDiv.textContent = 'Ingresa tu correo electrónico';
        return;
      }
      if (!supabaseClient) {
        msgDiv.style.display = 'block';
        msgDiv.style.color = '#e74c3c';
        msgDiv.textContent = 'Error de conexión. Intenta de nuevo.';
        return;
      }
      try {
        var { error } = await supabaseClient.auth.resetPasswordForEmail(email, {
          redirectTo: 'https://maestromario.com'
        });
        msgDiv.style.display = 'block';
        if (error) {
          msgDiv.style.color = '#e74c3c';
          msgDiv.textContent = 'Error: ' + error.message;
        } else {
          msgDiv.style.color = '#2ecc71';
          msgDiv.innerHTML = '✅ ¡Link enviado! Revisa tu correo <strong>' + email + '</strong> y sigue las instrucciones para cambiar tu contraseña.';
        }
      } catch(e) {
        msgDiv.style.display = 'block';
        msgDiv.style.color = '#e74c3c';
        msgDiv.textContent = 'Error de conexión. Intenta de nuevo.';
      }
    }
    function getClassTypeIcon(type) {
      var icons = { presencial: '🏫', zoom: '📹', computadora: '🖥️', movil: '📱' };
      return icons[type] || '📋';
    }

    function selectClassType(type) {
      selectedClassType = type;
      document.getElementById('typePresencial').classList.toggle('selected', type === 'presencial');
      document.getElementById('typeZoom').classList.toggle('selected', type === 'zoom');
      document.getElementById('typeComputadora').classList.toggle('selected', type === 'computadora');
      document.getElementById('typeMovil').classList.toggle('selected', type === 'movil');
    }

    function updateTimer() {
      if (!currentCheckInTime) return;
      var now = new Date();
      var diff = Math.floor((now - currentCheckInTime) / 1000);
      var hrs = Math.floor(diff / 3600);
      var mins = Math.floor((diff % 3600) / 60);
      var secs = diff % 60;
      document.getElementById('attendanceTimer').textContent = 
        String(hrs).padStart(2,'0') + ':' + String(mins).padStart(2,'0') + ':' + String(secs).padStart(2,'0');
    }

    async function doCheckIn() {
      try {
        if (!supabaseClient) { alert('Error: Supabase no conectado'); return; }
        var userResp = await supabaseClient.auth.getUser();
        var user = userResp.data.user;
        if (!user) { alert('Debes iniciar sesion primero'); return; }
        var res = await supabaseClient
          .from('attendance')
          .insert({ student_id: user.id, class_type: selectedClassType, check_in: new Date().toISOString(), status: 'presente' })
          .select().single();
        if (res.error) throw res.error;
        var data = res.data;
        currentAttendanceId = data.id;
        currentCheckInTime = new Date(data.check_in);
        sessionCheckedIn = true; // Unlock quizzes/levels for this session
        addNotification('checkin', '✅ Check-in registrado — ' + getClassTypeLabel(selectedClassType), '📋');
        document.getElementById('btnCheckIn').style.display = 'none';
        document.getElementById('btnCheckOut').style.display = 'block';
        document.getElementById('attendanceStatusBadge').className = 'attendance-status status-active';
        document.getElementById('attendanceStatusBadge').textContent = '🟢 En Clase - ' + getClassTypeLabel(selectedClassType);
        document.querySelectorAll('.type-option').forEach(function(el) { el.style.pointerEvents = 'none'; });
        attendanceTimerInterval = setInterval(updateTimer, 1000);
        updateTimer();
      } catch (err) {
        console.error('Error en check-in:', err);
        alert('Error al hacer check-in: ' + err.message);
      }
    }

    async function doCheckOut() {
      try {
        if (!currentAttendanceId) return;
        var checkOutTime = new Date();
        var totalMinutes = Math.round((checkOutTime - currentCheckInTime) / 60000);
        var res = await supabaseClient
          .from('attendance')
          .update({ check_out: checkOutTime.toISOString(), total_minutes: totalMinutes })
          .eq('id', currentAttendanceId);
        if (res.error) throw res.error;
        clearInterval(attendanceTimerInterval);
        attendanceTimerInterval = null;
        document.getElementById('btnCheckIn').style.display = 'block';
        document.getElementById('btnCheckOut').style.display = 'none';
        document.getElementById('attendanceStatusBadge').className = 'attendance-status status-inactive';
        document.getElementById('attendanceStatusBadge').textContent = '⭕ Sin Check-in';
        document.getElementById('attendanceTimer').textContent = '00:00:00';
        document.querySelectorAll('.type-option').forEach(function(el) { el.style.pointerEvents = 'auto'; });
        currentAttendanceId = null;
        currentCheckInTime = null;
        sessionCheckedIn = false;
        localStorage.removeItem('attendance_active_session');
        localStorage.removeItem('attendance_last_checkout');
        loadAttendanceData();
        var hrs = Math.floor(totalMinutes / 60);
        var mins = totalMinutes % 60;
        addNotification('checkout', '🚪 Check-out completado — Tiempo: ' + hrs + 'h ' + mins + 'm', '🚪');
        alert('Check-out exitoso! Tiempo: ' + hrs + 'h ' + mins + 'm');
      } catch (err) {
        console.error('Error en check-out:', err);
        alert('Error al hacer check-out: ' + err.message);
      }
    }

    async function loadAttendanceData() {
      try {
        if (!supabaseClient) return;
        var userResp = await supabaseClient.auth.getUser();
        var user = userResp.data.user;
        if (!user) return;
        var activeRes = await supabaseClient.from('attendance').select('*').eq('student_id', user.id).is('check_out', null).order('check_in', { ascending: false }).limit(1);
        var activeSession = activeRes.data;
        if (activeSession && activeSession.length > 0) {
          var session = activeSession[0];
          currentAttendanceId = session.id;
          currentCheckInTime = new Date(session.check_in);
          selectedClassType = session.class_type;
          sessionCheckedIn = true; // Restore session state
          selectClassType(session.class_type);
          document.getElementById('btnCheckIn').style.display = 'none';
          document.getElementById('btnCheckOut').style.display = 'block';
          document.getElementById('attendanceStatusBadge').className = 'attendance-status status-active';
          document.getElementById('attendanceStatusBadge').textContent = '🟢 En Clase - ' + getClassTypeLabel(session.class_type);
          document.querySelectorAll('.type-option').forEach(function(el) { el.style.pointerEvents = 'none'; });
          if (!attendanceTimerInterval) { attendanceTimerInterval = setInterval(updateTimer, 1000); updateTimer(); }
        }
        var today = new Date(); today.setHours(0,0,0,0);
        var weekStart = new Date(today); weekStart.setDate(weekStart.getDate() - weekStart.getDay());
        var allRes = await supabaseClient.from('attendance').select('*').eq('student_id', user.id).not('total_minutes', 'is', null).order('check_in', { ascending: false });
        var allRecords = allRes.data || [];
        var hoursToday = 0, hoursWeek = 0, hoursTotal = 0;
        allRecords.forEach(function(r) {
          var checkDate = new Date(r.check_in);
          hoursTotal += r.total_minutes;
          if (checkDate >= today) hoursToday += r.total_minutes;
          if (checkDate >= weekStart) hoursWeek += r.total_minutes;
        });
        document.getElementById('attHoursToday').textContent = (hoursToday / 60).toFixed(1) + 'h';
        document.getElementById('attHoursWeek').textContent = (hoursWeek / 60).toFixed(1) + 'h';
        document.getElementById('attHoursTotal').textContent = (hoursTotal / 60).toFixed(1) + 'h';
        var historyDiv = document.getElementById('attendanceHistory');
        if (allRecords.length === 0) {
          historyDiv.innerHTML = '<p style="color:#94a3b8; text-align:center;">No hay registros aun</p>';
        } else {
          historyDiv.innerHTML = allRecords.slice(0, 10).map(function(r) {
            var date = new Date(r.check_in).toLocaleDateString('es-MX', {day:'numeric', month:'short'});
            var timeIn = new Date(r.check_in).toLocaleTimeString('es-MX', {hour:'2-digit', minute:'2-digit'});
            var h = (r.total_minutes / 60).toFixed(1);
            return '<div class="history-item"><span class="history-date">' + date + ' - ' + timeIn + '</span><span class="history-type">' + getClassTypeIcon(r.class_type) + ' ' + r.class_type + '</span><span class="history-hours">' + h + 'h</span></div>';
          }).join('');
        }
      } catch (err) { console.error('Error cargando asistencia:', err); }
    }

    async function loadAdminAttendance() {
      try {
        if (!supabaseClient) return;
        var filter = document.getElementById('adminAttFilter').value;
        var typeFilter = document.getElementById('adminAttTypeFilter').value;
        var query = supabaseClient.from('attendance').select('*').order('check_in', { ascending: false });
        var now = new Date();
        if (filter === 'today') { var d = new Date(now); d.setHours(0,0,0,0); query = query.gte('check_in', d.toISOString()); }
        else if (filter === 'week') { var w = new Date(now); w.setDate(w.getDate() - w.getDay()); w.setHours(0,0,0,0); query = query.gte('check_in', w.toISOString()); }
        else if (filter === 'month') { var m = new Date(now.getFullYear(), now.getMonth(), 1); query = query.gte('check_in', m.toISOString()); }
        if (typeFilter !== 'all') { query = query.eq('class_type', typeFilter); }
        var res = await query;
        var data = res.data || [];
        var liveCount = data.filter(function(r) { return !r.check_out; }).length;
        var todayStart = new Date(); todayStart.setHours(0,0,0,0);
        var todayRecords = data.filter(function(r) { return new Date(r.check_in) >= todayStart; });
        var weekHours = data.reduce(function(sum, r) { return sum + (r.total_minutes || 0); }, 0);
        document.getElementById('adminLiveCount').textContent = liveCount;
        document.getElementById('adminTodayCount').textContent = todayRecords.length;
        document.getElementById('adminWeekHours').textContent = (weekHours / 60).toFixed(1);
        var studentIds = [];
        data.forEach(function(r) { if (studentIds.indexOf(r.student_id) === -1) studentIds.push(r.student_id); });
        var userMap = {};
        for (var i = 0; i < studentIds.length; i++) {
          try {
            var profRes = await supabaseClient.from('profiles').select('full_name, email').eq('id', studentIds[i]).single();
            if (profRes.data) { userMap[studentIds[i]] = profRes.data.full_name || profRes.data.email || studentIds[i].substring(0,8); }
            else { userMap[studentIds[i]] = studentIds[i].substring(0,8) + '...'; }
          } catch(e) { userMap[studentIds[i]] = studentIds[i].substring(0,8) + '...'; }
        }
        var tbody = document.getElementById('adminAttendanceBody');
        if (data.length === 0) {
          tbody.innerHTML = '<tr><td colspan="6" style="text-align:center; color:#888;">Sin registros</td></tr>';
        } else {
          tbody.innerHTML = data.slice(0, 50).map(function(r) {
            var name = userMap[r.student_id] || r.student_id.substring(0,8);
            var timeIn = new Date(r.check_in).toLocaleString('es-MX', {month:'short', day:'numeric', hour:'2-digit', minute:'2-digit'});
            var timeOut = r.check_out ? new Date(r.check_out).toLocaleTimeString('es-MX', {hour:'2-digit', minute:'2-digit'}) : '<span class="live-indicator"></span> En clase';
            var hours = r.total_minutes ? (r.total_minutes / 60).toFixed(1) + 'h' : '—';
            return '<tr><td>' + name + '</td><td><span class="history-type ' + (r.class_type === 'presencial' ? 'type-presencial' : 'type-zoom') + '">' + (r.class_type === 'presencial' ? '🏫' : '💻') + ' ' + r.class_type + '</span></td><td>' + timeIn + '</td><td>' + timeOut + '</td><td>' + hours + '</td><td>' + (r.status || 'presente') + '</td></tr>';
          }).join('');
        }
      } catch (err) { console.error('Error asistencia admin:', err); }
    }

    setInterval(function() {
      if (document.getElementById('adminDashboardScreen').classList.contains('active')) { loadAdminAttendance(); }
    }, 30000);

    // ==================== END ADMIN SECTION ====================

    // Initialize on load
    document.addEventListener('DOMContentLoaded', init);
  

    // =============== ACCESS CODE SYSTEM ===============
    
    function generateAccessCode() {
      const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
      let code = '';
      for (let i = 0; i < 8; i++) code += chars.charAt(Math.floor(Math.random() * chars.length));
      return code;
    }

    function validateStudentProfile(user) {
      const missing = [];
      if (!user.nombre || user.nombre.trim().length < 3) missing.push('Nombre completo');
      if (!user.email || !user.email.includes('@')) missing.push('Correo electr\u00F3nico');
      if (!user.telefono || user.telefono.trim().length < 7) missing.push('Tel\u00E9fono');
      if (!user.ciudad || user.ciudad.trim().length < 2) missing.push('Ciudad');
      if (!user.estado || user.estado.trim().length < 2) missing.push('Estado');
      return missing;
    }

    async function requestAccessCode() {
      const msgDiv = document.getElementById('accessCodeMessage');
      msgDiv.style.display = 'block';
      
      const user = JSON.parse(localStorage.getItem('tecnico_user') || '{}');
      const missing = validateStudentProfile(user);
      
      if (missing.length > 0) {
        msgDiv.style.color = '#e74c3c';
        msgDiv.innerHTML = '\u26A0\uFE0F Completa tu perfil primero:<br><strong>' + missing.join(', ') + '</strong><br><small>Ve a "Mi Perfil" para actualizar tus datos</small>';
        return;
      }
      
      const request = {
        id: 'req_' + Date.now(),
        student_name: user.nombre,
        student_email: user.email,
        student_phone: user.telefono,
        student_city: user.ciudad,
        student_state: user.estado,
        tech_number: user.technicianNumber || localStorage.getItem('tecnico_number') || '',
        student_id: user.studentId || localStorage.getItem('tecnico_studentId') || '',
        status: 'pending',
        code: null,
        requested_at: new Date().toISOString()
      };
      
      try {
        const { data, error } = await supabase.from('access_code_requests').insert([request]);
        if (error) throw error;
      } catch(e) {
        console.warn('Supabase save failed, using localStorage', e);
      }
      
      let requests = JSON.parse(localStorage.getItem('maestroac_code_requests') || '[]');
      requests.push(request);
      localStorage.setItem('maestroac_code_requests', JSON.stringify(requests));
      
      addNotification('\uD83D\uDCE9 Solicitud de c\u00F3digo de acceso enviada');
      msgDiv.style.color = '#27ae60';
      msgDiv.innerHTML = '\u2705 Solicitud enviada. El administrador revisar\u00E1 tu solicitud y te enviar\u00E1 un c\u00F3digo.';
    }

    async function redeemAccessCode() {
      const input = document.getElementById('accessCodeInput');
      const msgDiv = document.getElementById('accessCodeMessage');
      const code = input.value.trim().toUpperCase();
      msgDiv.style.display = 'block';
      
      if (!code || code.length < 6) {
        msgDiv.style.color = '#e74c3c';
        msgDiv.textContent = '\u26A0\uFE0F Ingresa un c\u00F3digo v\u00E1lido';
        return;
      }
      
      let valid = false;
      
      try {
        const { data, error } = await supabase
          .from('access_code_requests')
          .select('*')
          .eq('code', code)
          .eq('status', 'approved')
          .single();
        
        if (data && !error) {
          valid = true;
          await supabase.from('access_code_requests').update({ status: 'redeemed', redeemed_at: new Date().toISOString() }).eq('id', data.id);
        }
      } catch(e) {
        console.warn('Supabase check failed, checking localStorage', e);
      }
      
      if (!valid) {
        const requests = JSON.parse(localStorage.getItem('maestroac_code_requests') || '[]');
        const found = requests.find(r => r.code === code && r.status === 'approved');
        if (found) {
          valid = true;
          found.status = 'redeemed';
          found.redeemed_at = new Date().toISOString();
          localStorage.setItem('maestroac_code_requests', JSON.stringify(requests));
        }
      }
      
      if (valid) {
        localStorage.setItem('maestroac_full_access', 'true');
        localStorage.setItem('maestroac_access_code', code);
        addNotification('\uD83D\uDD13 Niveles desbloqueados con c\u00F3digo: ' + code);
        msgDiv.style.color = '#27ae60';
        msgDiv.innerHTML = '\u2705 \u00A1C\u00F3digo activado! Todos los niveles est\u00E1n desbloqueados.';
        input.value = '';
        setTimeout(() => renderLevels(), 500);
      } else {
        msgDiv.style.color = '#e74c3c';
        msgDiv.textContent = '\u274C C\u00F3digo inv\u00E1lido o no aprobado. Contacta al administrador.';
      }
    }

    async function renderAccessCodes() {
      const container = document.getElementById('accessCodesList');
      if (!container) return;
      
      let requests = [];
      
      try {
        const { data, error } = await supabase.from('access_code_requests').select('*').order('requested_at', { ascending: false });
        if (data && !error) requests = data;
      } catch(e) {
        console.warn('Loading from localStorage');
      }
      
      if (requests.length === 0) {
        requests = JSON.parse(localStorage.getItem('maestroac_code_requests') || '[]');
      }
      
      if (requests.length === 0) {
        container.innerHTML = '<p style="color:#999;text-align:center;padding:20px;">No hay solicitudes de c\u00F3digos</p>';
        return;
      }
      
      let html = '<table style="width:100%;border-collapse:collapse;font-size:13px;">';
      html += '<tr style="background:#2c3e50;color:white;"><th style="padding:8px;">Estudiante</th><th>Contacto</th><th>Ciudad/Estado</th><th>T\u00E9cnico #</th><th>C\u00F3digo</th><th>Estado</th><th>Acci\u00F3n</th></tr>';
      
      requests.forEach((req, i) => {
        const statusColors = { pending: '#f39c12', approved: '#27ae60', redeemed: '#3498db', rejected: '#e74c3c' };
        const statusLabels = { pending: '\u23F3 Pendiente', approved: '\u2705 Aprobado', redeemed: '\uD83D\uDD13 Canjeado', rejected: '\u274C Rechazado' };
        const bgColor = i % 2 === 0 ? '#f8f9fa' : 'white';
        
        html += '<tr style="background:' + bgColor + ';">';
        html += '<td style="padding:8px;font-weight:bold;">' + (req.student_name || '-') + '</td>';
        html += '<td style="padding:8px;font-size:11px;">' + (req.student_email || '') + '<br>' + (req.student_phone || '') + '</td>';
        html += '<td style="padding:8px;">' + (req.student_city || '') + ', ' + (req.student_state || '') + '</td>';
        html += '<td style="padding:8px;text-align:center;">' + (req.tech_number || '-') + '</td>';
        html += '<td style="padding:8px;text-align:center;font-family:monospace;font-weight:bold;font-size:14px;color:#2c3e50;">' + (req.code || '---') + '</td>';
        html += '<td style="padding:8px;"><span style="background:' + (statusColors[req.status] || '#999') + ';color:white;padding:3px 8px;border-radius:12px;font-size:11px;">' + (statusLabels[req.status] || req.status) + '</span></td>';
        html += '<td style="padding:8px;">';
        
        if (req.status === 'pending') {
          html += '<button onclick="approveAccessCode(' + i + ')" style="background:#27ae60;color:white;border:none;padding:5px 10px;border-radius:5px;cursor:pointer;font-size:11px;margin:2px;">\u2705 Generar</button>';
          html += '<button onclick="rejectAccessCode(' + i + ')" style="background:#e74c3c;color:white;border:none;padding:5px 10px;border-radius:5px;cursor:pointer;font-size:11px;margin:2px;">\u274C Rechazar</button>';
        } else if (req.status === 'approved') {
          html += '<button onclick="copyCodeToClipboard(\'' + req.code + '\')" style="background:#3498db;color:white;border:none;padding:5px 10px;border-radius:5px;cursor:pointer;font-size:11px;">\uD83D\uDCCB Copiar</button>';
        }
        
        html += '</td></tr>';
      });
      
      html += '</table>';
      container.innerHTML = html;
    }

    // === CENTRO DE MANDO FUNCTIONS ===
    
    async function generateManualAccessCode() {
      const name = document.getElementById('manualCodeName').value.trim();
      const email = document.getElementById('manualCodeEmail').value.trim();
      const level = document.getElementById('manualCodeLevel').value;
      const duration = document.getElementById('manualCodeDuration').value;
      
      if (!name) { alert('Ingresa el nombre del t' + String.fromCharCode(233) + 'cnico'); return; }
      
      // Generate unique code
      const prefix = level === 'full_app' ? 'FULL' : level.substring(0, 4).toUpperCase();
      const code = prefix + '-' + Math.random().toString(36).substring(2, 8).toUpperCase() + '-' + Date.now().toString(36).toUpperCase().slice(-4);
      
      // Calculate expiration
      let expiresAt = null;
      if (duration !== 'lifetime') {
        const d = new Date();
        d.setDate(d.getDate() + parseInt(duration));
        expiresAt = d.toISOString();
      }
      
      try {
        const { data, error } = await supabase.from('access_code_requests').insert([{
          student_name: name,
          student_email: email || null,
          student_phone: '',
          student_city: '',
          tech_number: '',
          student_id: '',
          access_level: level,
          duration_days: duration === 'lifetime' ? 'lifetime' : duration,
          code: code,
          status: 'approved',
          requested_at: new Date().toISOString(),
          approved_at: new Date().toISOString()
        }]);
        
        if (error) throw error;
        
        // Show the generated code
        document.getElementById('generatedCodeDisplay').style.display = 'block';
        document.getElementById('generatedCodeValue').textContent = code;
        
        // Clear inputs
        document.getElementById('manualCodeName').value = '';
        document.getElementById('manualCodeEmail').value = '';
        
        // Refresh active codes list
        loadActiveCodes();
        
        // Add notification
        if (typeof addNotification === 'function') {
          addNotification('admin', 'C' + String.fromCharCode(243) + 'digo generado para ' + name + ': ' + code);
        }
      } catch(e) {
        console.error('Error generating code:', e);
        // Fallback to localStorage
        const codes = JSON.parse(localStorage.getItem('maestroac_access_codes') || '[]');
        codes.push({ name, email, level, duration, code, status: 'approved', created: new Date().toISOString() });
        localStorage.setItem('maestroac_access_codes', JSON.stringify(codes));
        
        document.getElementById('generatedCodeDisplay').style.display = 'block';
        document.getElementById('generatedCodeValue').textContent = code;
        document.getElementById('manualCodeName').value = '';
        document.getElementById('manualCodeEmail').value = '';
        loadActiveCodes();
      }
    }

    function copyGeneratedCode() {
      const code = document.getElementById('generatedCodeValue').textContent;
      navigator.clipboard.writeText(code).then(() => {
        alert('C' + String.fromCharCode(243) + 'digo copiado: ' + code);
      }).catch(() => {
        // Fallback
        const ta = document.createElement('textarea');
        ta.value = code;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand('copy');
        document.body.removeChild(ta);
        alert('C' + String.fromCharCode(243) + 'digo copiado: ' + code);
      });
    }

    async function loadActiveCodes() {
      const container = document.getElementById('activeCodesList');
      if (!container) return;
      
      try {
        const { data, error } = await supabase
          .from('access_code_requests')
          .select('*')
          .eq('status', 'approved')
          .order('approved_at', { ascending: false });
        
        if (error) throw error;
        
        if (!data || data.length === 0) {
          container.innerHTML = '<p style="color: #888; text-align: center;">No hay c' + String.fromCharCode(243) + 'digos activos</p>';
          return;
        }
        
        let html = '<div style="overflow-x: auto;"><table style="width: 100%; border-collapse: collapse; font-size: 0.85em;">';
        html += '<tr style="background: rgba(46,204,113,0.2); color: #2ecc71;">';
        html += '<th style="padding: 8px; text-align: left;">T' + String.fromCharCode(233) + 'cnico</th>';
        html += '<th style="padding: 8px; text-align: left;">C' + String.fromCharCode(243) + 'digo</th>';
        html += '<th style="padding: 8px; text-align: left;">Nivel</th>';
        html += '<th style="padding: 8px; text-align: left;">Estado</th>';
        html += '<th style="padding: 8px; text-align: left;">Fecha</th>';
        html += '<th style="padding: 8px; text-align: center;">Acci' + String.fromCharCode(243) + 'n</th>';
        html += '</tr>';
        
        data.forEach(item => {
          const levelLabel = item.access_level || 'App Completa';
          const redeemed = item.redeemed_at ? '\u2705 Canjeado' : '\u23F3 Pendiente';
          const date = new Date(item.approved_at || item.requested_at).toLocaleDateString();
          html += '<tr style="border-bottom: 1px solid #333;">';
          html += '<td style="padding: 8px; color: #fff;">' + (item.student_name || 'N/A') + '</td>';
          html += '<td style="padding: 8px; color: #2ecc71; font-family: monospace; font-weight: bold;">' + (item.code || 'N/A') + '</td>';
          html += '<td style="padding: 8px; color: #3498db;">' + levelLabel + '</td>';
          html += '<td style="padding: 8px;">' + redeemed + '</td>';
          html += '<td style="padding: 8px; color: #888;">' + date + '</td>';
          html += '<td style="padding: 8px; text-align: center;"><button onclick="revokeAccessCode(\'' + item.id + '\')" style="padding: 4px 10px; background: #e74c3c; color: #fff; border: none; border-radius: 4px; cursor: pointer; font-size: 0.8em;">Revocar</button></td>';
          html += '</tr>';
        });
        
        html += '</table></div>';
        container.innerHTML = html;
      } catch(e) {
        console.error('Error loading active codes:', e);
        // Fallback to localStorage
        const codes = JSON.parse(localStorage.getItem('maestroac_access_codes') || '[]');
        if (codes.length === 0) {
          container.innerHTML = '<p style="color: #888; text-align: center;">No hay c' + String.fromCharCode(243) + 'digos activos</p>';
        } else {
          let html = '';
          codes.forEach(c => {
            html += '<div style="display: flex; justify-content: space-between; padding: 8px; border-bottom: 1px solid #333;">';
            html += '<span style="color: #fff;">' + c.name + '</span>';
            html += '<span style="color: #2ecc71; font-family: monospace;">' + c.code + '</span>';
            html += '<span style="color: #3498db;">' + (c.level || 'full_app') + '</span>';
            html += '</div>';
          });
          container.innerHTML = html;
        }
      }
    }
    // === END CENTRO DE MANDO FUNCTIONS ===


    async function approveAccessCode(index) {
      let requests = [];
      try {
        const { data } = await supabase.from('access_code_requests').select('*').order('requested_at', { ascending: false });
        if (data) requests = data;
      } catch(e) {}
      
      if (requests.length === 0) {
        requests = JSON.parse(localStorage.getItem('maestroac_code_requests') || '[]');
      }
      
      if (requests[index]) {
        const code = generateAccessCode();
        requests[index].status = 'approved';
        requests[index].code = code;
        requests[index].approved_at = new Date().toISOString();
        
        try {
          await supabase.from('access_code_requests').update({ 
            status: 'approved', code: code, approved_at: new Date().toISOString() 
          }).eq('id', requests[index].id);
        } catch(e) {}
        
        localStorage.setItem('maestroac_code_requests', JSON.stringify(requests));
        renderAccessCodes();
        alert('C\u00F3digo generado: ' + code + '\n\nEnv\u00EDa este c\u00F3digo al estudiante: ' + requests[index].student_name);
      }
    }

    async function rejectAccessCode(index) {
      let requests = [];
      try {
        const { data } = await supabase.from('access_code_requests').select('*').order('requested_at', { ascending: false });
        if (data) requests = data;
      } catch(e) {}
      
      if (requests.length === 0) {
        requests = JSON.parse(localStorage.getItem('maestroac_code_requests') || '[]');
      }
      
      if (requests[index]) {
        requests[index].status = 'rejected';
        
        try {
          await supabase.from('access_code_requests').update({ status: 'rejected' }).eq('id', requests[index].id);
        } catch(e) {}
        
        localStorage.setItem('maestroac_code_requests', JSON.stringify(requests));
        renderAccessCodes();
      }
    }

    function copyCodeToClipboard(code) {
      navigator.clipboard.writeText(code).then(() => {
        alert('C\u00F3digo copiado: ' + code);
      }).catch(() => {
        prompt('Copia este c\u00F3digo:', code);
      });
    }

    // =============== END ACCESS CODE SYSTEM ===============
</script>
    <!-- Printable Certificate -->
    <div id="printableCertificate" class="printable-certificate">
      <div class="cert-header">
        <img src="logo.png" alt="ACVOLT Technical School" class="cert-logo">
        <div class="cert-school-name">ACVOLT TECHNICAL SCHOOL</div>
        <div class="cert-subtitle">HVAC TRAINING ACADEMY • SAN BERNARDINO, CA</div>
      </div>
      
      <div class="cert-body">
        <div class="cert-title">CERTIFICADO</div>
        <div class="cert-level-badge" id="certLevelBadge">NIVEL PRINCIPIANTE</div>
        <div class="cert-recipient">Se otorga el presente certificado a:</div>
        <div class="cert-recipient-name" id="certRecipientName">Nombre del Técnico</div>
        <div class="cert-description">
          Por haber completado satisfactoriamente el programa de evaluación técnica 
          de nivel <span id="certLevelText">Principiante</span> en sistemas de 
          Calefacción, Ventilación, Aire Acondicionado y Refrigeración (HVACR), 
          demostrando competencia en los conocimientos y habilidades requeridos.
        </div>
      </div>
      
      <div class="cert-details">
        <div class="cert-detail-item">
          <div class="cert-detail-label">Puntuación Obtenida</div>
          <div class="cert-detail-value" id="certScore">85%</div>
        </div>
        <div class="cert-detail-item">
          <div class="cert-detail-label">Fecha de Emisión</div>
          <div class="cert-detail-value" id="certDate">01 de Enero de 2026</div>
        </div>
        <div class="cert-detail-item">
          <div class="cert-detail-label">Válido Hasta</div>
          <div class="cert-detail-value" id="certExpiry">01 de Enero de 2028</div>
        </div>
      </div>
      
      <div class="cert-footer">
        <div class="cert-signature">
          <div class="cert-signature-line"></div>
          <div class="cert-signature-name">Mario Flores Corona</div>
          <div class="cert-signature-title">Master Instructor / Director</div>
        </div>
        <div class="cert-qr">
          <div class="cert-id-text">ID: <span id="certIdText">CERT-XXX-000000</span></div>
          <div class="cert-id-text">Verificar en: maestromario.com</div>
        </div>
      </div>
      
      <div class="cert-seal">
        <div class="cert-seal-text">ACVOLT<br>CERTIFIED<br>TECH</div>
      </div>
    </div>


    <script>
    // ===== NOTIFICATION SYSTEM =====
    const NOTIF_STORAGE_KEY = 'maestroac_notifications';
    const NOTIF_MAX = 50;
    
    function getNotifications() {
      try {
        return JSON.parse(localStorage.getItem(NOTIF_STORAGE_KEY) || '[]');
      } catch(e) { return []; }
    }
    
    function saveNotifications(notifs) {
      // Keep only last NOTIF_MAX
      if (notifs.length > NOTIF_MAX) notifs = notifs.slice(-NOTIF_MAX);
      localStorage.setItem(NOTIF_STORAGE_KEY, JSON.stringify(notifs));
    }
    
    function addNotification(type, message, icon) {
      const icons = { checkin: '📋', checkout: '🚪', quiz: '🏆', payment: '💳', register: '👤', level: '⭐', cert: '🏅' };
      const notif = {
        id: Date.now(),
        type: type,
        message: message,
        icon: icon || icons[type] || '🔔',
        time: new Date().toISOString(),
        read: false
      };
      const notifs = getNotifications();
      notifs.push(notif);
      saveNotifications(notifs);
      updateNotifBadge();
      renderNotifications();
    }
    
    function updateNotifBadge() {
      const notifs = getNotifications();
      const unread = notifs.filter(n => !n.read).length;
      const badge = document.getElementById('notifBadge');
      if (!badge) return;
      if (unread > 0) {
        badge.textContent = unread > 9 ? '9+' : unread;
        badge.classList.remove('hidden');
      } else {
        badge.classList.add('hidden');
      }
    }
    
    function toggleNotifPanel(e) {
      if (e) e.stopPropagation();
      const panel = document.getElementById('notifPanel');
      const isOpen = panel.classList.contains('open');
      if (isOpen) {
        panel.classList.remove('open');
      } else {
        panel.classList.add('open');
        // Mark all as read
        const notifs = getNotifications();
        notifs.forEach(n => n.read = true);
        saveNotifications(notifs);
        updateNotifBadge();
        renderNotifications();
      }
    }
    
    // Close panel when clicking outside
    document.addEventListener('click', function(e) {
      const panel = document.getElementById('notifPanel');
      const bellContainer = document.getElementById('notifBellContainer');
      if (panel && panel.classList.contains('open') && !panel.contains(e.target) && bellContainer && !bellContainer.contains(e.target)) {
        panel.classList.remove('open');
      }
    });
    
    function renderNotifications() {
      const list = document.getElementById('notifList');
      if (!list) return;
      const notifs = getNotifications();
      
      if (notifs.length === 0) {
        list.innerHTML = '<div class="notif-empty"><div class="notif-empty-icon">🔕</div><p>No hay notificaciones</p></div>';
        return;
      }
      
      // Show newest first
      const sorted = [...notifs].reverse();
      list.innerHTML = sorted.map(n => {
        const typeClass = n.type === 'checkin' || n.type === 'checkout' ? 'checkin' : 
                          n.type === 'quiz' || n.type === 'level' || n.type === 'cert' ? 'quiz' : 
                          n.type === 'payment' ? 'payment' : 'register';
        const timeAgo = getTimeAgo(n.time);
        return `
          <div class="notif-item ${n.read ? '' : 'unread'}">
            <div class="notif-icon ${typeClass}">${n.icon}</div>
            <div class="notif-content">
              <div class="notif-text">${n.message}</div>
              <div class="notif-time">${timeAgo}</div>
            </div>
          </div>
        `;
      }).join('');
    }
    
    function getTimeAgo(isoTime) {
      const now = new Date();
      const then = new Date(isoTime);
      const diff = Math.floor((now - then) / 1000);
      if (diff < 60) return 'Ahora mismo';
      if (diff < 3600) return Math.floor(diff / 60) + ' min';
      if (diff < 86400) return Math.floor(diff / 3600) + 'h';
      if (diff < 604800) return Math.floor(diff / 86400) + 'd';
      return then.toLocaleDateString('es-MX', { day: 'numeric', month: 'short' });
    }
    
    function clearNotifications() {
      localStorage.removeItem(NOTIF_STORAGE_KEY);
      updateNotifBadge();
      renderNotifications();
    }
    
    // Show bell after user is logged in
    function showNotifBell() {
      const bell = document.getElementById('notifBellContainer');
      if (bell) bell.style.display = 'block';
      updateNotifBadge();
    }
    
    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
      updateNotifBadge();
      renderNotifications();
      
      // Check if user was in the app before (show "back to app" button on welcome/login screens)
      const lastScreen = localStorage.getItem('maestroac_last_screen');
      const savedUser = localStorage.getItem('tecnico_user') || localStorage.getItem('tecnico_user_backup');
      if (lastScreen && savedUser && lastScreen !== 'loginScreen' && lastScreen !== 'registerScreen' && lastScreen !== 'welcomeScreen') {
        const backBtn = document.getElementById('backToAppBtn');
        if (backBtn) backBtn.style.display = 'block';
      }
    });
    
    function returnToApp() {
      const lastScreen = localStorage.getItem('maestroac_last_screen');
      const backBtn = document.getElementById('backToAppBtn');
      if (backBtn) backBtn.style.display = 'none';
      
      // Load user data first
      let savedUser = localStorage.getItem('tecnico_user') || localStorage.getItem('tecnico_user_backup');
      if (savedUser) {
        try {
          currentUser = JSON.parse(savedUser);
          document.getElementById('userGreeting').textContent = 'Hola, ' + currentUser.nombre.split(' ')[0];
          showNotifBell();
        } catch(e) {}
      }
      
      // Navigate to last screen or levels
      const safeScreens = ['levelsScreen', 'studySectionsScreen', 'videoLessonsScreen', 'certificatesScreen', 'attendanceScreen', 'welcomeScreen'];
      const target = safeScreens.includes(lastScreen) ? lastScreen : 'welcomeScreen';
      
      // If going to protected screen, need check-in first
      showScreen(target);
    }

    // Register Service Worker with auto-update
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js')
          .then(reg => {
            console.log('[MaestroAC] SW registered:', reg.scope);
            // Check for updates every 60 seconds
            setInterval(() => { reg.update(); }, 60000);
            // Listen for new SW waiting
            reg.addEventListener('updatefound', () => {
              const newSW = reg.installing;
              newSW.addEventListener('statechange', () => {
                if (newSW.state === 'activated') {
                  console.log('[MaestroAC] New version activated, reloading...');
                  window.location.reload();
                }
              });
            });
          })
          .catch(err => console.error('[MaestroAC] SW failed:', err));
      });
      
      // Listen for SW update message
      navigator.serviceWorker.addEventListener('message', event => {
        if (event.data && event.data.type === 'SW_UPDATED') {
          console.log('[MaestroAC] SW updated to:', event.data.version);
          window.location.reload();
        }
      });
    }
    
    // Prompt to install PWA
    let deferredPrompt;
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      console.log('[MaestroAC] Install prompt available');
    });
    </script>
    <!-- Notification Bell -->
    <div class="notif-bell-container" id="notifBellContainer" style="display:none;">
      <button class="notif-bell-btn" onclick="toggleNotifPanel(event)">
        🔔
        <span class="notif-badge hidden" id="notifBadge">0</span>
      </button>
    </div>

    <!-- Back to App Button (shows when user has an active session) -->
    <div id="backToAppBtn" style="display:none; position:fixed; bottom:20px; left:50%; transform:translateX(-50%); z-index:500;">
      <button onclick="returnToApp()" style="background:linear-gradient(135deg,#6366f1,#8b5cf6); color:white; border:none; padding:14px 30px; border-radius:50px; font-size:15px; font-weight:bold; cursor:pointer; box-shadow:0 6px 20px rgba(99,102,241,0.5); display:flex; align-items:center; gap:8px;">
        ← Volver al App
      </button>
    </div>

    <!-- Notification Panel -->
    <div class="notif-panel" id="notifPanel">
      <div class="notif-panel-header">
        <span class="notif-panel-title">🔔 Notificaciones</span>
        <button class="notif-clear-btn" onclick="clearNotifications()">Limpiar todo</button>
      </div>
      <div class="notif-list" id="notifList">
        <div class="notif-empty">
          <div class="notif-empty-icon">🔕</div>
          <p>No hay notificaciones</p>
        </div>
      </div>
    </div>

</body>
</html>
